(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var jM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _j(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ep={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Sj(){if(ny)return Hu;ny=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var ay;function Cj(){return ay||(ay=1,ep.exports=Sj()),ep.exports}var s=Cj(),tp={exports:{}},ls={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function kj(){if(ry)return ls;ry=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function k(Y,ue,O){this.props=Y,this.context=ue,this.refs=S,this.updater=O||b}k.prototype.isReactComponent={},k.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function _(){}_.prototype=k.prototype;function E(Y,ue,O){this.props=Y,this.context=ue,this.refs=S,this.updater=O||b}var D=E.prototype=new _;D.constructor=E,N(D,k.prototype),D.isPureReactComponent=!0;var R=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function K(Y,ue,O,P,z,q){return O=q.ref,{$$typeof:t,type:Y,key:ue,ref:O!==void 0?O:null,props:q}}function B(Y,ue){return K(Y.type,ue,void 0,void 0,void 0,Y.props)}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function ee(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(O){return ue[O]})}var T=/\/+/g;function F(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?ee(""+Y.key):ue.toString(36)}function $(){}function G(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then($,$):(Y.status="pending",Y.then(function(ue){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ue)},function(ue){Y.status==="pending"&&(Y.status="rejected",Y.reason=ue)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ie(Y,ue,O,P,z){var q=typeof Y;(q==="undefined"||q==="boolean")&&(Y=null);var se=!1;if(Y===null)se=!0;else switch(q){case"bigint":case"string":case"number":se=!0;break;case"object":switch(Y.$$typeof){case t:case e:se=!0;break;case p:return se=Y._init,ie(se(Y._payload),ue,O,P,z)}}if(se)return z=z(Y),se=P===""?"."+F(Y,0):P,R(z)?(O="",se!=null&&(O=se.replace(T,"$&/")+"/"),ie(z,ue,O,"",function(Se){return Se})):z!=null&&(H(z)&&(z=B(z,O+(z.key==null||Y&&Y.key===z.key?"":(""+z.key).replace(T,"$&/")+"/")+se)),ue.push(z)),1;se=0;var fe=P===""?".":P+":";if(R(Y))for(var ye=0;ye<Y.length;ye++)P=Y[ye],q=fe+F(P,ye),se+=ie(P,ue,O,q,z);else if(ye=w(Y),typeof ye=="function")for(Y=ye.call(Y),ye=0;!(P=Y.next()).done;)P=P.value,q=fe+F(P,ye++),se+=ie(P,ue,O,q,z);else if(q==="object"){if(typeof Y.then=="function")return ie(G(Y),ue,O,P,z);throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return se}function Z(Y,ue,O){if(Y==null)return Y;var P=[],z=0;return ie(Y,P,"","",function(q){return ue.call(O,q,z++)}),P}function re(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(O){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=O)},function(O){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=O)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var le=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function de(){}return ls.Children={map:Z,forEach:function(Y,ue,O){Z(Y,function(){ue.apply(this,arguments)},O)},count:function(Y){var ue=0;return Z(Y,function(){ue++}),ue},toArray:function(Y){return Z(Y,function(ue){return ue})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},ls.Component=k,ls.Fragment=n,ls.Profiler=i,ls.PureComponent=E,ls.StrictMode=a,ls.Suspense=h,ls.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ls.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},ls.cache=function(Y){return function(){return Y.apply(null,arguments)}},ls.cloneElement=function(Y,ue,O){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var P=N({},Y.props),z=Y.key,q=void 0;if(ue!=null)for(se in ue.ref!==void 0&&(q=void 0),ue.key!==void 0&&(z=""+ue.key),ue)!ne.call(ue,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ue.ref===void 0||(P[se]=ue[se]);var se=arguments.length-2;if(se===1)P.children=O;else if(1<se){for(var fe=Array(se),ye=0;ye<se;ye++)fe[ye]=arguments[ye+2];P.children=fe}return K(Y.type,z,void 0,void 0,q,P)},ls.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},ls.createElement=function(Y,ue,O){var P,z={},q=null;if(ue!=null)for(P in ue.key!==void 0&&(q=""+ue.key),ue)ne.call(ue,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(z[P]=ue[P]);var se=arguments.length-2;if(se===1)z.children=O;else if(1<se){for(var fe=Array(se),ye=0;ye<se;ye++)fe[ye]=arguments[ye+2];z.children=fe}if(Y&&Y.defaultProps)for(P in se=Y.defaultProps,se)z[P]===void 0&&(z[P]=se[P]);return K(Y,q,void 0,void 0,null,z)},ls.createRef=function(){return{current:null}},ls.forwardRef=function(Y){return{$$typeof:d,render:Y}},ls.isValidElement=H,ls.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:re}},ls.memo=function(Y,ue){return{$$typeof:f,type:Y,compare:ue===void 0?null:ue}},ls.startTransition=function(Y){var ue=I.T,O={};I.T=O;try{var P=Y(),z=I.S;z!==null&&z(O,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(de,le)}catch(q){le(q)}finally{I.T=ue}},ls.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ls.use=function(Y){return I.H.use(Y)},ls.useActionState=function(Y,ue,O){return I.H.useActionState(Y,ue,O)},ls.useCallback=function(Y,ue){return I.H.useCallback(Y,ue)},ls.useContext=function(Y){return I.H.useContext(Y)},ls.useDebugValue=function(){},ls.useDeferredValue=function(Y,ue){return I.H.useDeferredValue(Y,ue)},ls.useEffect=function(Y,ue,O){var P=I.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(Y,ue)},ls.useId=function(){return I.H.useId()},ls.useImperativeHandle=function(Y,ue,O){return I.H.useImperativeHandle(Y,ue,O)},ls.useInsertionEffect=function(Y,ue){return I.H.useInsertionEffect(Y,ue)},ls.useLayoutEffect=function(Y,ue){return I.H.useLayoutEffect(Y,ue)},ls.useMemo=function(Y,ue){return I.H.useMemo(Y,ue)},ls.useOptimistic=function(Y,ue){return I.H.useOptimistic(Y,ue)},ls.useReducer=function(Y,ue,O){return I.H.useReducer(Y,ue,O)},ls.useRef=function(Y){return I.H.useRef(Y)},ls.useState=function(Y){return I.H.useState(Y)},ls.useSyncExternalStore=function(Y,ue,O){return I.H.useSyncExternalStore(Y,ue,O)},ls.useTransition=function(){return I.H.useTransition()},ls.version="19.1.0",ls}var iy;function Cx(){return iy||(iy=1,tp.exports=kj()),tp.exports}var L=Cx();const _r=_j(L);var sp={exports:{}},$u={},np={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Aj(){return ly||(ly=1,function(t){function e(Z,re){var le=Z.length;Z.push(re);e:for(;0<le;){var de=le-1>>>1,Y=Z[de];if(0<i(Y,re))Z[de]=re,Z[le]=Y,le=de;else break e}}function n(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var re=Z[0],le=Z.pop();if(le!==re){Z[0]=le;e:for(var de=0,Y=Z.length,ue=Y>>>1;de<ue;){var O=2*(de+1)-1,P=Z[O],z=O+1,q=Z[z];if(0>i(P,le))z<Y&&0>i(q,P)?(Z[de]=q,Z[z]=le,de=z):(Z[de]=P,Z[O]=le,de=O);else if(z<Y&&0>i(q,le))Z[de]=q,Z[z]=le,de=z;else break e}}return re}function i(Z,re){var le=Z.sortIndex-re.sortIndex;return le!==0?le:Z.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,x=null,w=3,b=!1,N=!1,S=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function R(Z){for(var re=n(f);re!==null;){if(re.callback===null)a(f);else if(re.startTime<=Z)a(f),re.sortIndex=re.expirationTime,e(h,re);else break;re=n(f)}}function I(Z){if(S=!1,R(Z),!N)if(n(h)!==null)N=!0,ne||(ne=!0,F());else{var re=n(f);re!==null&&ie(I,re.startTime-Z)}}var ne=!1,K=-1,B=5,H=-1;function ee(){return k?!0:!(t.unstable_now()-H<B)}function T(){if(k=!1,ne){var Z=t.unstable_now();H=Z;var re=!0;try{e:{N=!1,S&&(S=!1,E(K),K=-1),b=!0;var le=w;try{t:{for(R(Z),x=n(h);x!==null&&!(x.expirationTime>Z&&ee());){var de=x.callback;if(typeof de=="function"){x.callback=null,w=x.priorityLevel;var Y=de(x.expirationTime<=Z);if(Z=t.unstable_now(),typeof Y=="function"){x.callback=Y,R(Z),re=!0;break t}x===n(h)&&a(h),R(Z)}else a(h);x=n(h)}if(x!==null)re=!0;else{var ue=n(f);ue!==null&&ie(I,ue.startTime-Z),re=!1}}break e}finally{x=null,w=le,b=!1}re=void 0}}finally{re?F():ne=!1}}}var F;if(typeof D=="function")F=function(){D(T)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=T,F=function(){G.postMessage(null)}}else F=function(){_(T,0)};function ie(Z,re){K=_(function(){Z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var le=w;w=re;try{return Z()}finally{w=le}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=w;w=Z;try{return re()}finally{w=le}},t.unstable_scheduleCallback=function(Z,re,le){var de=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?de+le:de):le=de,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,Z={id:p++,callback:re,priorityLevel:Z,startTime:le,expirationTime:Y,sortIndex:-1},le>de?(Z.sortIndex=le,e(f,Z),n(h)===null&&Z===n(f)&&(S?(E(K),K=-1):S=!0,ie(I,le-de))):(Z.sortIndex=Y,e(h,Z),N||b||(N=!0,ne||(ne=!0,F()))),Z},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(Z){var re=w;return function(){var le=w;w=re;try{return Z.apply(this,arguments)}finally{w=le}}}}(ap)),ap}var oy;function Ej(){return oy||(oy=1,np.exports=Aj()),np.exports}var rp={exports:{}},Na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function Lj(){if(cy)return Na;cy=1;var t=Cx();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Na.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},Na.flushSync=function(h){var f=c.T,p=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=p,a.d.f()}},Na.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Na.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Na.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:b}):p==="script"&&a.d.X(h,{crossOrigin:x,integrity:w,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Na.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Na.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);a.d.L(h,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Na.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Na.requestFormReset=function(h){a.d.r(h)},Na.unstable_batchedUpdates=function(h,f){return h(f)},Na.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Na.useFormStatus=function(){return c.H.useHostTransitionStatus()},Na.version="19.1.0",Na}var dy;function Dj(){if(dy)return rp.exports;dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=Lj(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function Mj(){if(uy)return $u;uy=1;var t=Ej(),e=Cx(),n=Dj();function a(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(a(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(a(188));return o!==r?null:r}for(var u=r,m=o;;){var y=u.return;if(y===null)break;var j=y.alternate;if(j===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===u)return d(y),r;if(j===m)return d(y),o;j=j.sibling}throw Error(a(188))}if(u.return!==m.return)u=y,m=j;else{for(var U=!1,te=y.child;te;){if(te===u){U=!0,u=y,m=j;break}if(te===m){U=!0,m=y,u=j;break}te=te.sibling}if(!U){for(te=j.child;te;){if(te===u){U=!0,u=j,m=y;break}if(te===m){U=!0,m=j,u=y;break}te=te.sibling}if(!U)throw Error(a(189))}}if(u.alternate!==m)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),D=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=T&&r[T]||r["@@iterator"],typeof r=="function"?r:null)}var $=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===$?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case ne:return"SuspenseList";case H:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case D:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case R:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return o=r.displayName||null,o!==null?o:G(r.type)||"Memo";case B:o=r._payload,r=r._init;try{return G(r(o))}catch{}}return null}var ie=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},de=[],Y=-1;function ue(r){return{current:r}}function O(r){0>Y||(r.current=de[Y],de[Y]=null,Y--)}function P(r,o){Y++,de[Y]=r.current,r.current=o}var z=ue(null),q=ue(null),se=ue(null),fe=ue(null);function ye(r,o){switch(P(se,o),P(q,r),P(z,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Db(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Db(o),r=Mb(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}O(z),P(z,r)}function Se(){O(z),O(q),O(se)}function Oe(r){r.memoizedState!==null&&P(fe,r);var o=z.current,u=Mb(o,r.type);o!==u&&(P(q,r),P(z,u))}function He(r){q.current===r&&(O(z),O(q)),fe.current===r&&(O(fe),Ru._currentValue=le)}var Ie=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,he=t.unstable_cancelCallback,oe=t.unstable_shouldYield,Nt=t.unstable_requestPaint,at=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,ft=t.unstable_UserBlockingPriority,ot=t.unstable_NormalPriority,yt=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,ht=t.log,Be=t.unstable_setDisableYieldValue,Qe=null,je=null;function lt(r){if(typeof ht=="function"&&Be(r),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Qe,r)}catch{}}var Ee=Math.clz32?Math.clz32:St,be=Math.log,Ue=Math.LN2;function St(r){return r>>>=0,r===0?32:31-(be(r)/Ue|0)|0}var Bt=256,ut=4194304;function Tt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function os(r,o,u){var m=r.pendingLanes;if(m===0)return 0;var y=0,j=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var te=m&134217727;return te!==0?(m=te&~j,m!==0?y=Tt(m):(U&=te,U!==0?y=Tt(U):u||(u=te&~r,u!==0&&(y=Tt(u))))):(te=m&~j,te!==0?y=Tt(te):U!==0?y=Tt(U):u||(u=m&~r,u!==0&&(y=Tt(u)))),y===0?0:o!==0&&o!==y&&(o&j)===0&&(j=y&-y,u=o&-o,j>=u||j===32&&(u&4194048)!==0)?o:y}function gt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Kt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pt(){var r=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),r}function ks(){var r=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),r}function tt(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function mt(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ze(r,o,u,m,y,j){var U=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var te=r.entanglements,ge=r.expirationTimes,Fe=r.hiddenUpdates;for(u=U&~u;0<u;){var Xe=31-Ee(u),nt=1<<Xe;te[Xe]=0,ge[Xe]=-1;var Te=Fe[Xe];if(Te!==null)for(Fe[Xe]=null,Xe=0;Xe<Te.length;Xe++){var Re=Te[Xe];Re!==null&&(Re.lane&=-536870913)}u&=~nt}m!==0&&rs(r,m,0),j!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=j&~(U&~o))}function rs(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-Ee(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function Xn(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var m=31-Ee(u),y=1<<m;y&o|r[m]&o&&(r[m]|=o),u&=~y}}function Zs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Aa(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:Xb(r.type))}function Rt(r,o){var u=re.p;try{return re.p=r,o()}finally{re.p=u}}var Sn=Math.random().toString(36).slice(2),xs="__reactFiber$"+Sn,vt="__reactProps$"+Sn,Ms="__reactContainer$"+Sn,Fs="__reactEvents$"+Sn,mn="__reactListeners$"+Sn,an="__reactHandles$"+Sn,$n="__reactResources$"+Sn,X="__reactMarker$"+Sn;function $e(r){delete r[xs],delete r[vt],delete r[Fs],delete r[mn],delete r[an]}function wt(r){var o=r[xs];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ms]||u[xs]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Pb(r);r!==null;){if(u=r[xs])return u;r=Pb(r)}return o}r=u,u=r.parentNode}return null}function ns(r){if(r=r[xs]||r[Ms]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function qt(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(a(33))}function Hs(r){var o=r[$n];return o||(o=r[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Us(r){r[X]=!0}var va=new Set,ir={};function Cn(r,o){Ea(r,o),Ea(r+"Capture",o)}function Ea(r,o){for(ir[r]=o,r=0;r<o.length;r++)va.add(o[r])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Vl={};function Hc(r){return Ie.call(Vl,r)?!0:Ie.call(zc,r)?!1:$l.test(r)?Vl[r]=!0:(zc[r]=!0,!1)}function ol(r,o,u){if(Hc(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function oa(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function La(r,o,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+m)}}var Wl,Gl;function ai(r){if(Wl===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Wl=o&&o[1]||"",Gl=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+r+Gl}var Yl=!1;function Kl(r,o){if(!r||Yl)return"";Yl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Re){var Te=Re}Reflect.construct(r,[],nt)}else{try{nt.call()}catch(Re){Te=Re}r.call(nt.prototype)}}else{try{throw Error()}catch(Re){Te=Re}(nt=r())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Re){if(Re&&Te&&typeof Re.stack=="string")return[Re.stack,Te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=m.DetermineComponentFrameRoot(),U=j[0],te=j[1];if(U&&te){var ge=U.split(`
`),Fe=te.split(`
`);for(y=m=0;m<ge.length&&!ge[m].includes("DetermineComponentFrameRoot");)m++;for(;y<Fe.length&&!Fe[y].includes("DetermineComponentFrameRoot");)y++;if(m===ge.length||y===Fe.length)for(m=ge.length-1,y=Fe.length-1;1<=m&&0<=y&&ge[m]!==Fe[y];)y--;for(;1<=m&&0<=y;m--,y--)if(ge[m]!==Fe[y]){if(m!==1||y!==1)do if(m--,y--,0>y||ge[m]!==Fe[y]){var Xe=`
`+ge[m].replace(" at new "," at ");return r.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",r.displayName)),Xe}while(1<=m&&0<=y);break}}}finally{Yl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ai(u):""}function Ql(r){switch(r.tag){case 26:case 27:case 5:return ai(r.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Kl(r.type,!1);case 11:return Kl(r.type.render,!1);case 1:return Kl(r.type,!0);case 31:return ai("Activity");default:return""}}function $c(r){try{var o="";do o+=Ql(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ws(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Vo(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vc(r){var o=Vo(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,j=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(U){m=""+U,j.call(this,U)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ia(r){r._valueTracker||(r._valueTracker=Vc(r))}function Ti(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return r&&(m=Vo(r)?r.checked?"true":"false":r.value),r=m,r!==u?(o.setValue(r),!0):!1}function wa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cl=/[\n"\\]/g;function bs(r){return r.replace(cl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function dl(r,o,u,m,y,j,U,te){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),o!=null?U==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ws(o)):r.value!==""+ws(o)&&(r.value=""+ws(o)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),o!=null?Wo(r,U,ws(o)):u!=null?Wo(r,U,ws(u)):m!=null&&r.removeAttribute("value"),y==null&&j!=null&&(r.defaultChecked=!!j),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?r.name=""+ws(te):r.removeAttribute("name")}function Wc(r,o,u,m,y,j,U,te){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.type=j),o!=null||u!=null){if(!(j!=="submit"&&j!=="reset"||o!=null))return;u=u!=null?""+ws(u):"",o=o!=null?""+ws(o):u,te||o===r.value||(r.value=o),r.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=te?r.checked:!!m,r.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U)}function Wo(r,o,u){o==="number"&&wa(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Pi(r,o,u,m){if(r=r.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=o.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&m&&(r[u].defaultSelected=!0)}else{for(u=""+ws(u),o=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,m&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function lr(r,o,u){if(o!=null&&(o=""+ws(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ws(u):""}function Go(r,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(a(92));if(ie(m)){if(1<m.length)throw Error(a(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=ws(o),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function ri(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(r,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,u):typeof u!="number"||u===0||Bi.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Gc(r,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&Xl(r,y,m)}else for(var j in o)o.hasOwnProperty(j)&&Xl(r,j,o[j])}function Yo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(r){return Ko.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Cr=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qa=null,kr=null;function Wt(r){var o=ns(r);if(o&&(r=o.stateNode)){var u=r[vt]||null;e:switch(r=o.stateNode,o.type){case"input":if(dl(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+bs(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==r&&m.form===r.form){var y=m[vt]||null;if(!y)throw Error(a(90));dl(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===r.form&&Ti(m)}break e;case"textarea":lr(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Pi(r,!!u.multiple,o,!1)}}}var Xo=!1;function Yc(r,o,u){if(Xo)return r(o,u);Xo=!0;try{var m=r(o);return m}finally{if(Xo=!1,(qa!==null||kr!==null)&&(cf(),qa&&(o=qa,r=kr,kr=qa=null,Wt(o),r)))for(o=0;o<r.length;o++)Wt(r[o])}}function ul(r,o){var u=r.stateNode;if(u===null)return null;var m=u[vt]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(or)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{cr=!1}var Ar=null,Zo=null,ii=null;function Zl(){if(ii)return ii;var r,o=Zo,u=o.length,m,y="value"in Ar?Ar.value:Ar.textContent,j=y.length;for(r=0;r<u&&o[r]===y[r];r++);var U=u-r;for(m=1;m<=U&&o[u-m]===y[j-m];m++);return ii=y.slice(r,1<m?1-m:void 0)}function Er(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function li(){return!0}function hl(){return!1}function Jn(r){function o(u,m,y,j,U){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=j,this.target=U,this.currentTarget=null;for(var te in r)r.hasOwnProperty(te)&&(u=r[te],this[te]=u?u(j):j[te]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?li:hl,this.isPropagationStopped=hl,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Jn(dr),ur=p({},dr,{view:0,detail:0}),fl=Jn(ur),ml,Ui,oi,Lr=p({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oi&&(oi&&r.type==="mousemove"?(ml=r.screenX-oi.screenX,Ui=r.screenY-oi.screenY):Ui=ml=0,oi=r),ml)},movementY:function(r){return"movementY"in r?r.movementY:Ui}}),Jl=Jn(Lr),Jo=p({},Lr,{dataTransfer:0}),Ma=Jn(Jo),Dr=p({},ur,{relatedTarget:0}),C=Jn(Dr),W=p({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),xe=Jn(W),ve=p({},dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ke=Jn(ve),Ge=p({},dr,{data:0}),rt=Jn(Ge),kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ts(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Vt[r])?!!o[r]:!1}function gs(){return ts}var Js=p({},ur,{key:function(r){if(r.key){var o=kt[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Er(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Mt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(r){return r.type==="keypress"?Er(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Er(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yn=Jn(Js),Ls=p({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=Jn(Ls),wn=p({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Vn=Jn(wn),ci=p({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ii=Jn(ci),Zd=p({},Lr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=Jn(Zd),pl=p({},dr,{newState:0,oldState:0}),hr=Jn(pl),ec=[9,13,27,32],qi=or&&"CompositionEvent"in window,za=null;or&&"documentMode"in document&&(za=document.documentMode);var In=or&&"TextEvent"in window&&!za,Mr=or&&(!qi||za&&8<za&&11>=za),Fr=" ",xl=!1;function eo(r,o){switch(r){case"keyup":return ec.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var di=!1;function to(r,o){switch(r){case"compositionend":return ea(o);case"keypress":return o.which!==32?null:(xl=!0,Fr);case"textInput":return r=o.data,r===Fr&&xl?null:r;default:return null}}function Qc(r,o){if(di)return r==="compositionend"||!qi&&eo(r,o)?(r=Zl(),ii=Zo=Ar=null,di=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mr&&o.locale!=="ko"?null:o.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!kn[r.type]:o==="textarea"}function so(r,o,u,m){qa?kr?kr.push(m):kr=[m]:qa=m,o=pf(o,"onChange"),0<o.length&&(u=new Ri("onChange","change",null,u,m),r.push({event:u,listeners:o}))}var ui=null,Ha=null;function no(r){Cb(r,0)}function Wn(r){var o=qt(r);if(Ti(o))return r}function ca(r,o){if(r==="change")return o}var zi=!1;if(or){var $a;if(or){var Or="oninput"in document;if(!Or){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),Or=typeof ao.oninput=="function"}$a=Or}else $a=!1;zi=$a&&(!document.documentMode||9<document.documentMode)}function hi(){ui&&(ui.detachEvent("onpropertychange",rn),Ha=ui=null)}function rn(r){if(r.propertyName==="value"&&Wn(Ha)){var o=[];so(o,Ha,r,Qo(r)),Yc(no,o)}}function Jd(r,o,u){r==="focusin"?(hi(),ui=o,Ha=u,ui.attachEvent("onpropertychange",rn)):r==="focusout"&&hi()}function Tr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wn(Ha)}function Pr(r,o){if(r==="click")return Wn(o)}function ro(r,o){if(r==="input"||r==="change")return Wn(o)}function tc(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var qn=typeof Object.is=="function"?Object.is:tc;function Br(r,o){if(qn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!Ie.call(o,y)||!qn(r[y],o[y]))return!1}return!0}function Hi(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $i(r,o){var u=Hi(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=o&&m>=o)return{node:u,offset:o-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hi(u)}}function Rr(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Rr(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function io(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=wa(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=wa(r.document)}return o}function da(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Ur=or&&"documentMode"in document&&11>=document.documentMode,Ns=null,Ds=null,$s=null,en=!1;function Ir(r,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;en||Ns==null||Ns!==wa(m)||(m=Ns,"selectionStart"in m&&da(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$s&&Br($s,m)||($s=m,m=pf(Ds,"onSelect"),0<m.length&&(o=new Ri("onSelect","select",null,o,u),r.push({event:o,listeners:m}),o.target=Ns)))}function Va(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var ua={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},gl={},eu={};or&&(eu=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Vi(r){if(gl[r])return gl[r];if(!ua[r])return r;var o=ua[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in eu)return gl[r]=o[u];return r}var tu=Vi("animationend"),su=Vi("animationiteration"),nu=Vi("animationstart"),Eh=Vi("transitionrun"),Lh=Vi("transitionstart"),Dh=Vi("transitioncancel"),au=Vi("transitionend"),ru=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Wa(r,o){ru.set(r,o),Cn(o,[r])}var lo=new WeakMap;function Oa(r,o){if(typeof r=="object"&&r!==null){var u=lo.get(r);return u!==void 0?u:(o={value:r,source:o,stack:$c(o)},lo.set(r,o),o)}return{value:r,source:o,stack:$c(o)}}var Ta=[],bl=0,Zc=0;function sc(){for(var r=bl,o=Zc=bl=0;o<r;){var u=Ta[o];Ta[o++]=null;var m=Ta[o];Ta[o++]=null;var y=Ta[o];Ta[o++]=null;var j=Ta[o];if(Ta[o++]=null,m!==null&&y!==null){var U=m.pending;U===null?y.next=y:(y.next=U.next,U.next=y),m.pending=y}j!==0&&ed(u,y,j)}}function nc(r,o,u,m){Ta[bl++]=r,Ta[bl++]=o,Ta[bl++]=u,Ta[bl++]=m,Zc|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Jc(r,o,u,m){return nc(r,o,u,m),vl(r)}function yl(r,o){return nc(r,null,null,o),vl(r)}function ed(r,o,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var y=!1,j=r.return;j!==null;)j.childLanes|=u,m=j.alternate,m!==null&&(m.childLanes|=u),j.tag===22&&(r=j.stateNode,r===null||r._visibility&1||(y=!0)),r=j,j=j.return;return r.tag===3?(j=r.stateNode,y&&o!==null&&(y=31-Ee(u),r=j.hiddenUpdates,m=r[y],m===null?r[y]=[o]:m.push(o),o.lane=u|536870912),j):null}function vl(r){if(50<Lu)throw Lu=0,_0=null,Error(a(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var zn={};function Ga(r,o,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(r,o,u,m){return new Ga(r,o,u,m)}function oo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qr(r,o){var u=r.alternate;return u===null?(u=ta(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function ac(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function wl(r,o,u,m,y,j){var U=0;if(m=r,typeof r=="function")oo(r)&&(U=1);else if(typeof r=="string")U=uj(r,u,z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case H:return r=ta(31,u,o,y),r.elementType=H,r.lanes=j,r;case N:return fi(u.children,y,j,o);case S:U=8,y|=24;break;case k:return r=ta(12,u,o,y|2),r.elementType=k,r.lanes=j,r;case I:return r=ta(13,u,o,y),r.elementType=I,r.lanes=j,r;case ne:return r=ta(19,u,o,y),r.elementType=ne,r.lanes=j,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case D:U=10;break e;case E:U=9;break e;case R:U=11;break e;case K:U=14;break e;case B:U=16,m=null;break e}U=29,u=Error(a(130,r===null?"null":typeof r,"")),m=null}return o=ta(U,u,o,y),o.elementType=r,o.type=m,o.lanes=j,o}function fi(r,o,u,m){return r=ta(7,r,m,o),r.lanes=u,r}function td(r,o,u){return r=ta(6,r,null,o),r.lanes=u,r}function rc(r,o,u){return o=ta(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Wi=[],mi=0,co=null,sd=0,Ya=[],Pa=0,Nl=null,pi=1,xi="";function jl(r,o){Wi[mi++]=sd,Wi[mi++]=co,co=r,sd=o}function Mh(r,o,u){Ya[Pa++]=pi,Ya[Pa++]=xi,Ya[Pa++]=Nl,Nl=r;var m=pi;r=xi;var y=32-Ee(m)-1;m&=~(1<<y),u+=1;var j=32-Ee(o)+y;if(30<j){var U=y-y%5;j=(m&(1<<U)-1).toString(32),m>>=U,y-=U,pi=1<<32-Ee(o)+y|u<<y|m,xi=j+r}else pi=1<<j|u<<y|m,xi=r}function ic(r){r.return!==null&&(jl(r,1),Mh(r,1,0))}function lc(r){for(;r===co;)co=Wi[--mi],Wi[mi]=null,sd=Wi[--mi],Wi[mi]=null;for(;r===Nl;)Nl=Ya[--Pa],Ya[Pa]=null,xi=Ya[--Pa],Ya[Pa]=null,pi=Ya[--Pa],Ya[Pa]=null}var An=null,ln=null,js=!1,Gi=null,zr=!1,iu=Error(a(519));function _l(r){var o=Error(a(418,""));throw uo(Oa(o,r)),iu}function Fh(r){var o=r.stateNode,u=r.type,m=r.memoizedProps;switch(o[xs]=r,o[vt]=m,u){case"dialog":fs("cancel",o),fs("close",o);break;case"iframe":case"object":case"embed":fs("load",o);break;case"video":case"audio":for(u=0;u<Mu.length;u++)fs(Mu[u],o);break;case"source":fs("error",o);break;case"img":case"image":case"link":fs("error",o),fs("load",o);break;case"details":fs("toggle",o);break;case"input":fs("invalid",o),Wc(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ia(o);break;case"select":fs("invalid",o);break;case"textarea":fs("invalid",o),Go(o,m.value,m.defaultValue,m.children),Ia(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||Lb(o.textContent,u)?(m.popover!=null&&(fs("beforetoggle",o),fs("toggle",o)),m.onScroll!=null&&fs("scroll",o),m.onScrollEnd!=null&&fs("scrollend",o),m.onClick!=null&&(o.onclick=xf),o=!0):o=!1,o||_l(r)}function gi(r){for(An=r.return;An;)switch(An.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:An=An.return}}function ha(r){if(r!==An)return!1;if(!js)return gi(r),js=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||I0(r.type,r.memoizedProps)),u=!u),u&&ln&&_l(r),gi(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){ln=Si(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}ln=null}}else o===27?(o=ln,ko(r.type)?(r=$0,$0=null,ln=r):ln=o):ln=An?Si(r.stateNode.nextSibling):null;return!0}function Ba(){ln=An=null,js=!1}function Oh(){var r=Gi;return r!==null&&(Qa===null?Qa=r:Qa.push.apply(Qa,r),Gi=null),r}function uo(r){Gi===null?Gi=[r]:Gi.push(r)}var Hr=ue(null),Hn=null,bi=null;function Yi(r,o,u){P(Hr,o._currentValue),o._currentValue=u}function $r(r){r._currentValue=Hr.current,O(Hr)}function nd(r,o,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===u)break;r=r.return}}function ad(r,o,u,m){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var j=y.dependencies;if(j!==null){var U=y.child;j=j.firstContext;e:for(;j!==null;){var te=j;j=y;for(var ge=0;ge<o.length;ge++)if(te.context===o[ge]){j.lanes|=u,te=j.alternate,te!==null&&(te.lanes|=u),nd(j.return,u,r),m||(U=null);break e}j=te.next}}else if(y.tag===18){if(U=y.return,U===null)throw Error(a(341));U.lanes|=u,j=U.alternate,j!==null&&(j.lanes|=u),nd(U,u,r),U=null}else U=y.child;if(U!==null)U.return=y;else for(U=y;U!==null;){if(U===r){U=null;break}if(y=U.sibling,y!==null){y.return=U.return,U=y;break}U=U.return}y=U}}function ho(r,o,u,m){r=null;for(var y=o,j=!1;y!==null;){if(!j){if((y.flags&524288)!==0)j=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var U=y.alternate;if(U===null)throw Error(a(387));if(U=U.memoizedProps,U!==null){var te=y.type;qn(y.pendingProps.value,U.value)||(r!==null?r.push(te):r=[te])}}else if(y===fe.current){if(U=y.alternate,U===null)throw Error(a(387));U.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Ru):r=[Ru])}y=y.return}r!==null&&ad(o,r,u,m),o.flags|=262144}function rd(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vr(r){Hn=r,bi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return id(Hn,r)}function Ki(r,o){return Hn===null&&Vr(r),id(r,o)}function id(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},bi===null){if(r===null)throw Error(a(308));bi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else bi=bi.next=o;return u}var Km=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},Th=t.unstable_scheduleCallback,Qm=t.unstable_NormalPriority,Ln={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new Km,data:new Map,refCount:0}}function oc(r){r.refCount--,r.refCount===0&&Th(Qm,function(){r.controller.abort()})}var cc=null,ou=0,Sl=0,yi=null;function Xm(r,o){if(cc===null){var u=cc=[];ou=0,Sl=D0(),yi={status:"pending",value:void 0,then:function(m){u.push(m)}}}return ou++,o.then(Ph,Ph),o}function Ph(){if(--ou===0&&cc!==null){yi!==null&&(yi.status="fulfilled");var r=cc;cc=null,Sl=0,yi=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Bh(r,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var g=Z.S;Z.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Xm(r,o),g!==null&&g(r,o)};var v=ue(null);function A(){var r=v.current;return r!==null?r:Ks.pooledCache}function M(r,o){o===null?P(v,v.current):P(v,o.pool)}function V(){var r=A();return r===null?null:{parent:Ln._currentValue,pool:r}}var Q=Error(a(460)),J=Error(a(474)),ae=Error(a(542)),ce={then:function(){}};function pe(r){return r=r.status,r==="fulfilled"||r==="rejected"}function we(){}function Me(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(we,we),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ae(r),r;default:if(typeof o.status=="string")o.then(we,we);else{if(r=Ks,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ae(r),r}throw me=o,Q}}var me=null;function _e(){if(me===null)throw Error(a(459));var r=me;return me=null,r}function Ae(r){if(r===Q||r===ae)throw Error(a(483))}var ze=!1;function De(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function We(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ve(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function it(r,o,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Ts&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=vl(r),ed(r,null,u),o}return nc(r,m,o,u),vl(r)}function st(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,Xn(r,u)}}function Dt(r,o){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var U={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};j===null?y=j=U:j=j.next=U,u=u.next}while(u!==null);j===null?y=j=o:j=j.next=o}else y=j=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var jt=!1;function Qt(){if(jt){var r=yi;if(r!==null)throw r}}function _t(r,o,u,m){jt=!1;var y=r.updateQueue;ze=!1;var j=y.firstBaseUpdate,U=y.lastBaseUpdate,te=y.shared.pending;if(te!==null){y.shared.pending=null;var ge=te,Fe=ge.next;ge.next=null,U===null?j=Fe:U.next=Fe,U=ge;var Xe=r.alternate;Xe!==null&&(Xe=Xe.updateQueue,te=Xe.lastBaseUpdate,te!==U&&(te===null?Xe.firstBaseUpdate=Fe:te.next=Fe,Xe.lastBaseUpdate=ge))}if(j!==null){var nt=y.baseState;U=0,Xe=Fe=ge=null,te=j;do{var Te=te.lane&-536870913,Re=Te!==te.lane;if(Re?(vs&Te)===Te:(m&Te)===Te){Te!==0&&Te===Sl&&(jt=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Yt=r,Ht=te;Te=o;var zs=u;switch(Ht.tag){case 1:if(Yt=Ht.payload,typeof Yt=="function"){nt=Yt.call(zs,nt,Te);break e}nt=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Ht.payload,Te=typeof Yt=="function"?Yt.call(zs,nt,Te):Yt,Te==null)break e;nt=p({},nt,Te);break e;case 2:ze=!0}}Te=te.callback,Te!==null&&(r.flags|=64,Re&&(r.flags|=8192),Re=y.callbacks,Re===null?y.callbacks=[Te]:Re.push(Te))}else Re={lane:Te,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Xe===null?(Fe=Xe=Re,ge=nt):Xe=Xe.next=Re,U|=Te;if(te=te.next,te===null){if(te=y.shared.pending,te===null)break;Re=te,te=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);Xe===null&&(ge=nt),y.baseState=ge,y.firstBaseUpdate=Fe,y.lastBaseUpdate=Xe,j===null&&(y.shared.lanes=0),jo|=U,r.lanes=U,r.memoizedState=nt}}function ds(r,o){if(typeof r!="function")throw Error(a(191,r));r.call(o)}function Nn(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)ds(u[r],o)}var Gt=ue(null),Ct=ue(0);function pt(r,o){r=Fl,P(Ct,r),P(Gt,o),Fl=r|o.baseLanes}function tn(){P(Ct,Fl),P(Gt,Gt.current)}function Xt(){Fl=Ct.current,O(Gt),O(Ct)}var as=0,At=null,Jt=null,ms=null,Vs=!1,pn=!1,xn=!1,on=0,cs=0,ps=null,cn=0;function zt(){throw Error(a(321))}function Dn(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!qn(r[u],o[u]))return!1;return!0}function Ra(r,o,u,m,y,j){return as=j,At=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=r===null||r.memoizedState===null?dg:ug,xn=!1,j=u(m,y),xn=!1,pn&&(j=fa(o,u,m,y)),dn(r),j}function dn(r){Z.H=Kh;var o=Jt!==null&&Jt.next!==null;if(as=0,ms=Jt=At=null,Vs=!1,cs=0,ps=null,o)throw Error(a(300));r===null||na||(r=r.dependencies,r!==null&&rd(r)&&(na=!0))}function fa(r,o,u,m){At=r;var y=0;do{if(pn&&(ps=null),cs=0,pn=!1,25<=y)throw Error(a(301));if(y+=1,ms=Jt=null,r.updateQueue!=null){var j=r.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Z.H=NN,j=o(u,m)}while(pn);return j}function Os(){var r=Z.H,o=r.useState()[0];return o=typeof o.then=="function"?Yn(o):o,r=r.useState()[0],(Jt!==null?Jt.memoizedState:null)!==r&&(At.flags|=1024),o}function gn(){var r=on!==0;return on=0,r}function ma(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Gn(r){if(Vs){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Vs=!1}as=0,ms=Jt=At=null,pn=!1,cs=on=0,ps=null}function Is(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?At.memoizedState=ms=r:ms=ms.next=r,ms}function ys(){if(Jt===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var o=ms===null?At.memoizedState:ms.next;if(o!==null)ms=o,Jt=r;else{if(r===null)throw At.alternate===null?Error(a(467)):Error(a(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ms===null?At.memoizedState=ms=r:ms=ms.next=r}return ms}function sa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yn(r){var o=cs;return cs+=1,ps===null&&(ps=[]),r=Me(ps,r,o),o=At,(ms===null?o.memoizedState:ms.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?dg:ug),r}function As(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yn(r);if(r.$$typeof===D)return En(r)}throw Error(a(438,String(r)))}function pa(r){var o=null,u=At.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=sa(),At.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),m=0;m<r;m++)u[m]=ee;return o.index++,u}function Mn(r,o){return typeof o=="function"?o(r):o}function Wr(r){var o=ys();return fr(o,Jt,r)}function fr(r,o,u){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=u;var y=r.baseQueue,j=m.pending;if(j!==null){if(y!==null){var U=y.next;y.next=j.next,j.next=U}o.baseQueue=y=j,m.pending=null}if(j=r.baseState,y===null)r.memoizedState=j;else{o=y.next;var te=U=null,ge=null,Fe=o,Xe=!1;do{var nt=Fe.lane&-536870913;if(nt!==Fe.lane?(vs&nt)===nt:(as&nt)===nt){var Te=Fe.revertLane;if(Te===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),nt===Sl&&(Xe=!0);else if((as&Te)===Te){Fe=Fe.next,Te===Sl&&(Xe=!0);continue}else nt={lane:0,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},ge===null?(te=ge=nt,U=j):ge=ge.next=nt,At.lanes|=Te,jo|=Te;nt=Fe.action,xn&&u(j,nt),j=Fe.hasEagerState?Fe.eagerState:u(j,nt)}else Te={lane:nt,revertLane:Fe.revertLane,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},ge===null?(te=ge=Te,U=j):ge=ge.next=Te,At.lanes|=nt,jo|=nt;Fe=Fe.next}while(Fe!==null&&Fe!==o);if(ge===null?U=j:ge.next=te,!qn(j,r.memoizedState)&&(na=!0,Xe&&(u=yi,u!==null)))throw u;r.memoizedState=j,r.baseState=U,r.baseQueue=ge,m.lastRenderedState=j}return y===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Fn(r){var o=ys(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var m=u.dispatch,y=u.pending,j=o.memoizedState;if(y!==null){u.pending=null;var U=y=y.next;do j=r(j,U.action),U=U.next;while(U!==y);qn(j,o.memoizedState)||(na=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),u.lastRenderedState=j}return[j,m]}function dc(r,o,u){var m=At,y=ys(),j=js;if(j){if(u===void 0)throw Error(a(407));u=u()}else u=o();var U=!qn((Jt||y).memoizedState,u);U&&(y.memoizedState=u,na=!0),y=y.queue;var te=fo.bind(null,m,y,r);if(xo(2048,8,te,[r]),y.getSnapshot!==o||U||ms!==null&&ms.memoizedState.tag&1){if(m.flags|=2048,wi(9,mc(),uc.bind(null,m,y,u,o),null),Ks===null)throw Error(a(349));j||(as&124)!==0||ld(m,o,u)}return u}function ld(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=At.updateQueue,o===null?(o=sa(),At.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function uc(r,o,u,m){o.value=u,o.getSnapshot=m,Rh(o)&&Uh(r)}function fo(r,o,u){return u(function(){Rh(o)&&Uh(r)})}function Rh(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!qn(r,u)}catch{return!0}}function Uh(r){var o=yl(r,2);o!==null&&yr(o,r,2)}function hc(r){var o=Is();if(typeof r=="function"){var u=r;if(r=u(),xn){lt(!0);try{u()}finally{lt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:r},o}function vi(r,o,u,m){return r.baseState=u,fr(r,Jt,typeof m=="function"?m:Mn)}function Zm(r,o,u,m,y){if(Yh(r))throw Error(a(485));if(r=o.action,r!==null){var j={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){j.listeners.push(U)}};Z.T!==null?u(!0):j.isTransition=!1,m(j),u=o.pending,u===null?(j.next=o.pending=j,Ih(o,j)):(j.next=u.next,o.pending=u.next=j)}}function Ih(r,o){var u=o.action,m=o.payload,y=r.state;if(o.isTransition){var j=Z.T,U={};Z.T=U;try{var te=u(y,m),ge=Z.S;ge!==null&&ge(U,te),qh(r,o,te)}catch(Fe){mo(r,o,Fe)}finally{Z.T=j}}else try{j=u(y,m),qh(r,o,j)}catch(Fe){mo(r,o,Fe)}}function qh(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){cu(r,o,m)},function(m){return mo(r,o,m)}):cu(r,o,u)}function cu(r,o,u){o.status="fulfilled",o.value=u,du(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Ih(r,u)))}function mo(r,o,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,du(o),o=o.next;while(o!==m)}r.action=null}function du(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function uu(r,o){return o}function fc(r,o){if(js){var u=Ks.formState;if(u!==null){e:{var m=At;if(js){if(ln){t:{for(var y=ln,j=zr;y.nodeType!==8;){if(!j){y=null;break t}if(y=Si(y.nextSibling),y===null){y=null;break t}}j=y.data,y=j==="F!"||j==="F"?y:null}if(y){ln=Si(y.nextSibling),m=y.data==="F!";break e}}_l(m)}m=!1}m&&(o=u[0])}}return u=Is(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:o},u.queue=m,u=lg.bind(null,At,m),m.dispatch=u,m=hc(!1),j=Jm.bind(null,At,!1,m.queue),m=Is(),y={state:o,dispatch:null,action:r,pending:null},m.queue=y,u=Zm.bind(null,At,y,j,u),y.dispatch=u,m.memoizedState=r,[o,u,!1]}function od(r){var o=ys();return po(o,Jt,r)}function po(r,o,u){if(o=fr(r,o,uu)[0],r=Wr(Mn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Yn(o)}catch(U){throw U===Q?ae:U}else m=o;o=ys();var y=o.queue,j=y.dispatch;return u!==o.memoizedState&&(At.flags|=2048,wi(9,mc(),zh.bind(null,y,u),null)),[m,j,r]}function zh(r,o){r.action=o}function Hh(r){var o=ys(),u=Jt;if(u!==null)return po(o,u,r);ys(),o=o.memoizedState,u=ys();var m=u.queue.dispatch;return u.memoizedState=r,[o,m,!1]}function wi(r,o,u,m){return r={tag:r,create:u,deps:m,inst:o,next:null},o=At.updateQueue,o===null&&(o=sa(),At.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,o.lastEffect=r),r}function mc(){return{destroy:void 0,resource:void 0}}function cd(){return ys().memoizedState}function mr(r,o,u,m){var y=Is();m=m===void 0?null:m,At.flags|=r,y.memoizedState=wi(1|o,mc(),u,m)}function xo(r,o,u,m){var y=ys();m=m===void 0?null:m;var j=y.memoizedState.inst;Jt!==null&&m!==null&&Dn(m,Jt.memoizedState.deps)?y.memoizedState=wi(o,j,u,m):(At.flags|=r,y.memoizedState=wi(1|o,j,u,m))}function hu(r,o){mr(8390656,8,r,o)}function $h(r,o){xo(2048,8,r,o)}function fu(r,o){return xo(4,2,r,o)}function Cl(r,o){return xo(4,4,r,o)}function Vh(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function mu(r,o,u){u=u!=null?u.concat([r]):null,xo(4,4,Vh.bind(null,o,r),u)}function pu(){}function xu(r,o){var u=ys();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Dn(o,m[1])?m[0]:(u.memoizedState=[r,o],r)}function Wh(r,o){var u=ys();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Dn(o,m[1]))return m[0];if(m=r(),xn){lt(!0);try{r()}finally{lt(!1)}}return u.memoizedState=[m,o],m}function kl(r,o,u){return u===void 0||(as&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=nb(),At.lanes|=r,jo|=r,u)}function dd(r,o,u,m){return qn(u,o)?u:Gt.current!==null?(r=kl(r,u,m),qn(r,o)||(na=!0),r):(as&42)===0?(na=!0,r.memoizedState=u):(r=nb(),At.lanes|=r,jo|=r,o)}function pc(r,o,u,m,y){var j=re.p;re.p=j!==0&&8>j?j:8;var U=Z.T,te={};Z.T=te,Jm(r,!1,o,u);try{var ge=y(),Fe=Z.S;if(Fe!==null&&Fe(te,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Xe=Bh(ge,m);vu(r,o,Xe,br(r))}else vu(r,o,m,br(r))}catch(nt){vu(r,o,{then:function(){},status:"rejected",reason:nt},br())}finally{re.p=j,Z.T=U}}function Ni(){}function Gr(r,o,u,m){if(r.tag!==5)throw Error(a(476));var y=ji(r).queue;pc(r,y,o,le,u===null?Ni:function(){return xc(r),u(m)})}function ji(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:le},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function xc(r){var o=ji(r).next.queue;vu(r,o,{},br())}function gc(){return En(Ru)}function gu(){return ys().memoizedState}function Gh(){return ys().memoizedState}function bu(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=br();r=Ve(u);var m=it(o,r,u);m!==null&&(yr(m,o,u),st(m,o,u)),o={cache:lu()},r.payload=o;return}o=o.return}}function yu(r,o,u){var m=br();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Yh(r)?og(o,u):(u=Jc(r,o,u,m),u!==null&&(yr(u,r,m),cg(u,o,m)))}function lg(r,o,u){var m=br();vu(r,o,u,m)}function vu(r,o,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yh(r))og(o,y);else{var j=r.alternate;if(r.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var U=o.lastRenderedState,te=j(U,u);if(y.hasEagerState=!0,y.eagerState=te,qn(te,U))return nc(r,o,y,0),Ks===null&&sc(),!1}catch{}finally{}if(u=Jc(r,o,y,m),u!==null)return yr(u,r,m),cg(u,o,m),!0}return!1}function Jm(r,o,u,m){if(m={lane:2,revertLane:D0(),action:m,hasEagerState:!1,eagerState:null,next:null},Yh(r)){if(o)throw Error(a(479))}else o=Jc(r,u,m,2),o!==null&&yr(o,r,2)}function Yh(r){var o=r.alternate;return r===At||o!==null&&o===At}function og(r,o){pn=Vs=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function cg(r,o,u){if((u&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,Xn(r,u)}}var Kh={readContext:En,use:As,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},dg={readContext:En,use:As,useCallback:function(r,o){return Is().memoizedState=[r,o===void 0?null:o],r},useContext:En,useEffect:hu,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,mr(4194308,4,Vh.bind(null,o,r),u)},useLayoutEffect:function(r,o){return mr(4194308,4,r,o)},useInsertionEffect:function(r,o){mr(4,2,r,o)},useMemo:function(r,o){var u=Is();o=o===void 0?null:o;var m=r();if(xn){lt(!0);try{r()}finally{lt(!1)}}return u.memoizedState=[m,o],m},useReducer:function(r,o,u){var m=Is();if(u!==void 0){var y=u(o);if(xn){lt(!0);try{u(o)}finally{lt(!1)}}}else y=o;return m.memoizedState=m.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},m.queue=r,r=r.dispatch=yu.bind(null,At,r),[m.memoizedState,r]},useRef:function(r){var o=Is();return r={current:r},o.memoizedState=r},useState:function(r){r=hc(r);var o=r.queue,u=lg.bind(null,At,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:pu,useDeferredValue:function(r,o){var u=Is();return kl(u,r,o)},useTransition:function(){var r=hc(!1);return r=pc.bind(null,At,r.queue,!0,!1),Is().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var m=At,y=Is();if(js){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Ks===null)throw Error(a(349));(vs&124)!==0||ld(m,o,u)}y.memoizedState=u;var j={value:u,getSnapshot:o};return y.queue=j,hu(fo.bind(null,m,j,r),[r]),m.flags|=2048,wi(9,mc(),uc.bind(null,m,j,u,o),null),u},useId:function(){var r=Is(),o=Ks.identifierPrefix;if(js){var u=xi,m=pi;u=(m&~(1<<32-Ee(m)-1)).toString(32)+u,o=""+o+"R"+u,u=on++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=cn++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:gc,useFormState:fc,useActionState:fc,useOptimistic:function(r){var o=Is();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Jm.bind(null,At,!0,u),u.dispatch=o,[r,o]},useMemoCache:pa,useCacheRefresh:function(){return Is().memoizedState=bu.bind(null,At)}},ug={readContext:En,use:As,useCallback:xu,useContext:En,useEffect:$h,useImperativeHandle:mu,useInsertionEffect:fu,useLayoutEffect:Cl,useMemo:Wh,useReducer:Wr,useRef:cd,useState:function(){return Wr(Mn)},useDebugValue:pu,useDeferredValue:function(r,o){var u=ys();return dd(u,Jt.memoizedState,r,o)},useTransition:function(){var r=Wr(Mn)[0],o=ys().memoizedState;return[typeof r=="boolean"?r:Yn(r),o]},useSyncExternalStore:dc,useId:gu,useHostTransitionStatus:gc,useFormState:od,useActionState:od,useOptimistic:function(r,o){var u=ys();return vi(u,Jt,r,o)},useMemoCache:pa,useCacheRefresh:Gh},NN={readContext:En,use:As,useCallback:xu,useContext:En,useEffect:$h,useImperativeHandle:mu,useInsertionEffect:fu,useLayoutEffect:Cl,useMemo:Wh,useReducer:Fn,useRef:cd,useState:function(){return Fn(Mn)},useDebugValue:pu,useDeferredValue:function(r,o){var u=ys();return Jt===null?kl(u,r,o):dd(u,Jt.memoizedState,r,o)},useTransition:function(){var r=Fn(Mn)[0],o=ys().memoizedState;return[typeof r=="boolean"?r:Yn(r),o]},useSyncExternalStore:dc,useId:gu,useHostTransitionStatus:gc,useFormState:Hh,useActionState:Hh,useOptimistic:function(r,o){var u=ys();return Jt!==null?vi(u,Jt,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:pa,useCacheRefresh:Gh},ud=null,wu=0;function Qh(r){var o=wu;return wu+=1,ud===null&&(ud=[]),Me(ud,r,o)}function Nu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Xh(r,o){throw o.$$typeof===x?Error(a(525)):(r=Object.prototype.toString.call(o),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function hg(r){var o=r._init;return o(r._payload)}function fg(r){function o(Ce,Ne){if(r){var Le=Ce.deletions;Le===null?(Ce.deletions=[Ne],Ce.flags|=16):Le.push(Ne)}}function u(Ce,Ne){if(!r)return null;for(;Ne!==null;)o(Ce,Ne),Ne=Ne.sibling;return null}function m(Ce){for(var Ne=new Map;Ce!==null;)Ce.key!==null?Ne.set(Ce.key,Ce):Ne.set(Ce.index,Ce),Ce=Ce.sibling;return Ne}function y(Ce,Ne){return Ce=qr(Ce,Ne),Ce.index=0,Ce.sibling=null,Ce}function j(Ce,Ne,Le){return Ce.index=Le,r?(Le=Ce.alternate,Le!==null?(Le=Le.index,Le<Ne?(Ce.flags|=67108866,Ne):Le):(Ce.flags|=67108866,Ne)):(Ce.flags|=1048576,Ne)}function U(Ce){return r&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function te(Ce,Ne,Le,Je){return Ne===null||Ne.tag!==6?(Ne=td(Le,Ce.mode,Je),Ne.return=Ce,Ne):(Ne=y(Ne,Le),Ne.return=Ce,Ne)}function ge(Ce,Ne,Le,Je){var Et=Le.type;return Et===N?Xe(Ce,Ne,Le.props.children,Je,Le.key):Ne!==null&&(Ne.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===B&&hg(Et)===Ne.type)?(Ne=y(Ne,Le.props),Nu(Ne,Le),Ne.return=Ce,Ne):(Ne=wl(Le.type,Le.key,Le.props,null,Ce.mode,Je),Nu(Ne,Le),Ne.return=Ce,Ne)}function Fe(Ce,Ne,Le,Je){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Le.containerInfo||Ne.stateNode.implementation!==Le.implementation?(Ne=rc(Le,Ce.mode,Je),Ne.return=Ce,Ne):(Ne=y(Ne,Le.children||[]),Ne.return=Ce,Ne)}function Xe(Ce,Ne,Le,Je,Et){return Ne===null||Ne.tag!==7?(Ne=fi(Le,Ce.mode,Je,Et),Ne.return=Ce,Ne):(Ne=y(Ne,Le),Ne.return=Ce,Ne)}function nt(Ce,Ne,Le){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=td(""+Ne,Ce.mode,Le),Ne.return=Ce,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case w:return Le=wl(Ne.type,Ne.key,Ne.props,null,Ce.mode,Le),Nu(Le,Ne),Le.return=Ce,Le;case b:return Ne=rc(Ne,Ce.mode,Le),Ne.return=Ce,Ne;case B:var Je=Ne._init;return Ne=Je(Ne._payload),nt(Ce,Ne,Le)}if(ie(Ne)||F(Ne))return Ne=fi(Ne,Ce.mode,Le,null),Ne.return=Ce,Ne;if(typeof Ne.then=="function")return nt(Ce,Qh(Ne),Le);if(Ne.$$typeof===D)return nt(Ce,Ki(Ce,Ne),Le);Xh(Ce,Ne)}return null}function Te(Ce,Ne,Le,Je){var Et=Ne!==null?Ne.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Et!==null?null:te(Ce,Ne,""+Le,Je);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case w:return Le.key===Et?ge(Ce,Ne,Le,Je):null;case b:return Le.key===Et?Fe(Ce,Ne,Le,Je):null;case B:return Et=Le._init,Le=Et(Le._payload),Te(Ce,Ne,Le,Je)}if(ie(Le)||F(Le))return Et!==null?null:Xe(Ce,Ne,Le,Je,null);if(typeof Le.then=="function")return Te(Ce,Ne,Qh(Le),Je);if(Le.$$typeof===D)return Te(Ce,Ne,Ki(Ce,Le),Je);Xh(Ce,Le)}return null}function Re(Ce,Ne,Le,Je,Et){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ce=Ce.get(Le)||null,te(Ne,Ce,""+Je,Et);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case w:return Ce=Ce.get(Je.key===null?Le:Je.key)||null,ge(Ne,Ce,Je,Et);case b:return Ce=Ce.get(Je.key===null?Le:Je.key)||null,Fe(Ne,Ce,Je,Et);case B:var us=Je._init;return Je=us(Je._payload),Re(Ce,Ne,Le,Je,Et)}if(ie(Je)||F(Je))return Ce=Ce.get(Le)||null,Xe(Ne,Ce,Je,Et,null);if(typeof Je.then=="function")return Re(Ce,Ne,Le,Qh(Je),Et);if(Je.$$typeof===D)return Re(Ce,Ne,Le,Ki(Ne,Je),Et);Xh(Ne,Je)}return null}function Yt(Ce,Ne,Le,Je){for(var Et=null,us=null,Ot=Ne,$t=Ne=0,ra=null;Ot!==null&&$t<Le.length;$t++){Ot.index>$t?(ra=Ot,Ot=null):ra=Ot.sibling;var _s=Te(Ce,Ot,Le[$t],Je);if(_s===null){Ot===null&&(Ot=ra);break}r&&Ot&&_s.alternate===null&&o(Ce,Ot),Ne=j(_s,Ne,$t),us===null?Et=_s:us.sibling=_s,us=_s,Ot=ra}if($t===Le.length)return u(Ce,Ot),js&&jl(Ce,$t),Et;if(Ot===null){for(;$t<Le.length;$t++)Ot=nt(Ce,Le[$t],Je),Ot!==null&&(Ne=j(Ot,Ne,$t),us===null?Et=Ot:us.sibling=Ot,us=Ot);return js&&jl(Ce,$t),Et}for(Ot=m(Ot);$t<Le.length;$t++)ra=Re(Ot,Ce,$t,Le[$t],Je),ra!==null&&(r&&ra.alternate!==null&&Ot.delete(ra.key===null?$t:ra.key),Ne=j(ra,Ne,$t),us===null?Et=ra:us.sibling=ra,us=ra);return r&&Ot.forEach(function(Mo){return o(Ce,Mo)}),js&&jl(Ce,$t),Et}function Ht(Ce,Ne,Le,Je){if(Le==null)throw Error(a(151));for(var Et=null,us=null,Ot=Ne,$t=Ne=0,ra=null,_s=Le.next();Ot!==null&&!_s.done;$t++,_s=Le.next()){Ot.index>$t?(ra=Ot,Ot=null):ra=Ot.sibling;var Mo=Te(Ce,Ot,_s.value,Je);if(Mo===null){Ot===null&&(Ot=ra);break}r&&Ot&&Mo.alternate===null&&o(Ce,Ot),Ne=j(Mo,Ne,$t),us===null?Et=Mo:us.sibling=Mo,us=Mo,Ot=ra}if(_s.done)return u(Ce,Ot),js&&jl(Ce,$t),Et;if(Ot===null){for(;!_s.done;$t++,_s=Le.next())_s=nt(Ce,_s.value,Je),_s!==null&&(Ne=j(_s,Ne,$t),us===null?Et=_s:us.sibling=_s,us=_s);return js&&jl(Ce,$t),Et}for(Ot=m(Ot);!_s.done;$t++,_s=Le.next())_s=Re(Ot,Ce,$t,_s.value,Je),_s!==null&&(r&&_s.alternate!==null&&Ot.delete(_s.key===null?$t:_s.key),Ne=j(_s,Ne,$t),us===null?Et=_s:us.sibling=_s,us=_s);return r&&Ot.forEach(function(jj){return o(Ce,jj)}),js&&jl(Ce,$t),Et}function zs(Ce,Ne,Le,Je){if(typeof Le=="object"&&Le!==null&&Le.type===N&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case w:e:{for(var Et=Le.key;Ne!==null;){if(Ne.key===Et){if(Et=Le.type,Et===N){if(Ne.tag===7){u(Ce,Ne.sibling),Je=y(Ne,Le.props.children),Je.return=Ce,Ce=Je;break e}}else if(Ne.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===B&&hg(Et)===Ne.type){u(Ce,Ne.sibling),Je=y(Ne,Le.props),Nu(Je,Le),Je.return=Ce,Ce=Je;break e}u(Ce,Ne);break}else o(Ce,Ne);Ne=Ne.sibling}Le.type===N?(Je=fi(Le.props.children,Ce.mode,Je,Le.key),Je.return=Ce,Ce=Je):(Je=wl(Le.type,Le.key,Le.props,null,Ce.mode,Je),Nu(Je,Le),Je.return=Ce,Ce=Je)}return U(Ce);case b:e:{for(Et=Le.key;Ne!==null;){if(Ne.key===Et)if(Ne.tag===4&&Ne.stateNode.containerInfo===Le.containerInfo&&Ne.stateNode.implementation===Le.implementation){u(Ce,Ne.sibling),Je=y(Ne,Le.children||[]),Je.return=Ce,Ce=Je;break e}else{u(Ce,Ne);break}else o(Ce,Ne);Ne=Ne.sibling}Je=rc(Le,Ce.mode,Je),Je.return=Ce,Ce=Je}return U(Ce);case B:return Et=Le._init,Le=Et(Le._payload),zs(Ce,Ne,Le,Je)}if(ie(Le))return Yt(Ce,Ne,Le,Je);if(F(Le)){if(Et=F(Le),typeof Et!="function")throw Error(a(150));return Le=Et.call(Le),Ht(Ce,Ne,Le,Je)}if(typeof Le.then=="function")return zs(Ce,Ne,Qh(Le),Je);if(Le.$$typeof===D)return zs(Ce,Ne,Ki(Ce,Le),Je);Xh(Ce,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Ne!==null&&Ne.tag===6?(u(Ce,Ne.sibling),Je=y(Ne,Le),Je.return=Ce,Ce=Je):(u(Ce,Ne),Je=td(Le,Ce.mode,Je),Je.return=Ce,Ce=Je),U(Ce)):u(Ce,Ne)}return function(Ce,Ne,Le,Je){try{wu=0;var Et=zs(Ce,Ne,Le,Je);return ud=null,Et}catch(Ot){if(Ot===Q||Ot===ae)throw Ot;var us=ta(29,Ot,null,Ce.mode);return us.lanes=Je,us.return=Ce,us}finally{}}}var hd=fg(!0),mg=fg(!1),Yr=ue(null),Qi=null;function go(r){var o=r.alternate;P(Kn,Kn.current&1),P(Yr,r),Qi===null&&(o===null||Gt.current!==null||o.memoizedState!==null)&&(Qi=r)}function pg(r){if(r.tag===22){if(P(Kn,Kn.current),P(Yr,r),Qi===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Qi=r)}}else bo()}function bo(){P(Kn,Kn.current),P(Yr,Yr.current)}function Al(r){O(Yr),Qi===r&&(Qi=null),O(Kn)}var Kn=ue(0);function Zh(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||H0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function e0(r,o,u,m){o=r.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var t0={enqueueSetState:function(r,o,u){r=r._reactInternals;var m=br(),y=Ve(m);y.payload=o,u!=null&&(y.callback=u),o=it(r,y,m),o!==null&&(yr(o,r,m),st(o,r,m))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var m=br(),y=Ve(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=it(r,y,m),o!==null&&(yr(o,r,m),st(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=br(),m=Ve(u);m.tag=2,o!=null&&(m.callback=o),o=it(r,m,u),o!==null&&(yr(o,r,u),st(o,r,u))}};function xg(r,o,u,m,y,j,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,j,U):o.prototype&&o.prototype.isPureReactComponent?!Br(u,m)||!Br(y,j):!0}function gg(r,o,u,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==r&&t0.enqueueReplaceState(o,o.state,null)}function bc(r,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var Jh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bg(r){Jh(r)}function yg(r){console.error(r)}function vg(r){Jh(r)}function ef(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function wg(r,o,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function s0(r,o,u){return u=Ve(u),u.tag=3,u.payload={element:null},u.callback=function(){ef(r,o)},u}function Ng(r){return r=Ve(r),r.tag=3,r}function jg(r,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var j=m.value;r.payload=function(){return y(j)},r.callback=function(){wg(o,u,m)}}var U=u.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){wg(o,u,m),typeof y!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var te=m.stack;this.componentDidCatch(m.value,{componentStack:te!==null?te:""})})}function jN(r,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ho(o,u,y,!0),u=Yr.current,u!==null){switch(u.tag){case 13:return Qi===null?C0():u.alternate===null&&jn===0&&(jn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===ce?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),A0(r,m,y)),!1;case 22:return u.flags|=65536,m===ce?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),A0(r,m,y)),!1}throw Error(a(435,u.tag))}return A0(r,m,y),C0(),!1}if(js)return o=Yr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==iu&&(r=Error(a(422),{cause:m}),uo(Oa(r,u)))):(m!==iu&&(o=Error(a(423),{cause:m}),uo(Oa(o,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,m=Oa(m,u),y=s0(r.stateNode,m,y),Dt(r,y),jn!==4&&(jn=2)),!1;var j=Error(a(520),{cause:m});if(j=Oa(j,u),Eu===null?Eu=[j]:Eu.push(j),jn!==4&&(jn=2),o===null)return!0;m=Oa(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=s0(u.stateNode,m,r),Dt(u,r),!1;case 1:if(o=u.type,j=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_o===null||!_o.has(j))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Ng(y),jg(y,r,u,m),Dt(u,y),!1}u=u.return}while(u!==null);return!1}var _g=Error(a(461)),na=!1;function xa(r,o,u,m){o.child=r===null?mg(o,null,u,m):hd(o,r.child,u,m)}function Sg(r,o,u,m,y){u=u.render;var j=o.ref;if("ref"in m){var U={};for(var te in m)te!=="ref"&&(U[te]=m[te])}else U=m;return Vr(o),m=Ra(r,o,u,U,j,y),te=gn(),r!==null&&!na?(ma(r,o,y),El(r,o,y)):(js&&te&&ic(o),o.flags|=1,xa(r,o,m,y),o.child)}function Cg(r,o,u,m,y){if(r===null){var j=u.type;return typeof j=="function"&&!oo(j)&&j.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=j,kg(r,o,j,m,y)):(r=wl(u.type,null,m,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(j=r.child,!d0(r,y)){var U=j.memoizedProps;if(u=u.compare,u=u!==null?u:Br,u(U,m)&&r.ref===o.ref)return El(r,o,y)}return o.flags|=1,r=qr(j,m),r.ref=o.ref,r.return=o,o.child=r}function kg(r,o,u,m,y){if(r!==null){var j=r.memoizedProps;if(Br(j,m)&&r.ref===o.ref)if(na=!1,o.pendingProps=m=j,d0(r,y))(r.flags&131072)!==0&&(na=!0);else return o.lanes=r.lanes,El(r,o,y)}return n0(r,o,u,m,y)}function Ag(r,o,u){var m=o.pendingProps,y=m.children,j=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=j!==null?j.baseLanes|u:u,r!==null){for(y=o.child=r.child,j=0;y!==null;)j=j|y.lanes|y.childLanes,y=y.sibling;o.childLanes=j&~m}else o.childLanes=0,o.child=null;return Eg(r,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&M(o,j!==null?j.cachePool:null),j!==null?pt(o,j):tn(),pg(o);else return o.lanes=o.childLanes=536870912,Eg(r,o,j!==null?j.baseLanes|u:u,u)}else j!==null?(M(o,j.cachePool),pt(o,j),bo(),o.memoizedState=null):(r!==null&&M(o,null),tn(),bo());return xa(r,o,y,u),o.child}function Eg(r,o,u,m){var y=A();return y=y===null?null:{parent:Ln._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},r!==null&&M(o,null),tn(),pg(o),r!==null&&ho(r,o,m,!0),null}function tf(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function n0(r,o,u,m,y){return Vr(o),u=Ra(r,o,u,m,void 0,y),m=gn(),r!==null&&!na?(ma(r,o,y),El(r,o,y)):(js&&m&&ic(o),o.flags|=1,xa(r,o,u,y),o.child)}function Lg(r,o,u,m,y,j){return Vr(o),o.updateQueue=null,u=fa(o,m,u,y),dn(r),m=gn(),r!==null&&!na?(ma(r,o,j),El(r,o,j)):(js&&m&&ic(o),o.flags|=1,xa(r,o,u,j),o.child)}function Dg(r,o,u,m,y){if(Vr(o),o.stateNode===null){var j=zn,U=u.contextType;typeof U=="object"&&U!==null&&(j=En(U)),j=new u(m,j),o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=t0,o.stateNode=j,j._reactInternals=o,j=o.stateNode,j.props=m,j.state=o.memoizedState,j.refs={},De(o),U=u.contextType,j.context=typeof U=="object"&&U!==null?En(U):zn,j.state=o.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(e0(o,u,U,m),j.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(U=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),U!==j.state&&t0.enqueueReplaceState(j,j.state,null),_t(o,m,j,y),Qt(),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){j=o.stateNode;var te=o.memoizedProps,ge=bc(u,te);j.props=ge;var Fe=j.context,Xe=u.contextType;U=zn,typeof Xe=="object"&&Xe!==null&&(U=En(Xe));var nt=u.getDerivedStateFromProps;Xe=typeof nt=="function"||typeof j.getSnapshotBeforeUpdate=="function",te=o.pendingProps!==te,Xe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(te||Fe!==U)&&gg(o,j,m,U),ze=!1;var Te=o.memoizedState;j.state=Te,_t(o,m,j,y),Qt(),Fe=o.memoizedState,te||Te!==Fe||ze?(typeof nt=="function"&&(e0(o,u,nt,m),Fe=o.memoizedState),(ge=ze||xg(o,u,ge,m,Te,Fe,U))?(Xe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Fe),j.props=m,j.state=Fe,j.context=U,m=ge):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{j=o.stateNode,We(r,o),U=o.memoizedProps,Xe=bc(u,U),j.props=Xe,nt=o.pendingProps,Te=j.context,Fe=u.contextType,ge=zn,typeof Fe=="object"&&Fe!==null&&(ge=En(Fe)),te=u.getDerivedStateFromProps,(Fe=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==nt||Te!==ge)&&gg(o,j,m,ge),ze=!1,Te=o.memoizedState,j.state=Te,_t(o,m,j,y),Qt();var Re=o.memoizedState;U!==nt||Te!==Re||ze||r!==null&&r.dependencies!==null&&rd(r.dependencies)?(typeof te=="function"&&(e0(o,u,te,m),Re=o.memoizedState),(Xe=ze||xg(o,u,Xe,m,Te,Re,ge)||r!==null&&r.dependencies!==null&&rd(r.dependencies))?(Fe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,Re,ge),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,Re,ge)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Re),j.props=m,j.state=Re,j.context=ge,m=Xe):(typeof j.componentDidUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Te===r.memoizedState||(o.flags|=1024),m=!1)}return j=m,tf(r,o),m=(o.flags&128)!==0,j||m?(j=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:j.render(),o.flags|=1,r!==null&&m?(o.child=hd(o,r.child,null,y),o.child=hd(o,null,u,y)):xa(r,o,u,y),o.memoizedState=j.state,r=o.child):r=El(r,o,y),r}function Mg(r,o,u,m){return Ba(),o.flags|=256,xa(r,o,u,m),o.child}var a0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(r){return{baseLanes:r,cachePool:V()}}function i0(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Kr),r}function Fg(r,o,u){var m=o.pendingProps,y=!1,j=(o.flags&128)!==0,U;if((U=j)||(U=r!==null&&r.memoizedState===null?!1:(Kn.current&2)!==0),U&&(y=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,r===null){if(js){if(y?go(o):bo(),js){var te=ln,ge;if(ge=te){e:{for(ge=te,te=zr;ge.nodeType!==8;){if(!te){te=null;break e}if(ge=Si(ge.nextSibling),ge===null){te=null;break e}}te=ge}te!==null?(o.memoizedState={dehydrated:te,treeContext:Nl!==null?{id:pi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},ge=ta(18,null,null,0),ge.stateNode=te,ge.return=o,o.child=ge,An=o,ln=null,ge=!0):ge=!1}ge||_l(o)}if(te=o.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return H0(te)?o.lanes=32:o.lanes=536870912,null;Al(o)}return te=m.children,m=m.fallback,y?(bo(),y=o.mode,te=sf({mode:"hidden",children:te},y),m=fi(m,y,u,null),te.return=o,m.return=o,te.sibling=m,o.child=te,y=o.child,y.memoizedState=r0(u),y.childLanes=i0(r,U,u),o.memoizedState=a0,m):(go(o),l0(o,te))}if(ge=r.memoizedState,ge!==null&&(te=ge.dehydrated,te!==null)){if(j)o.flags&256?(go(o),o.flags&=-257,o=o0(r,o,u)):o.memoizedState!==null?(bo(),o.child=r.child,o.flags|=128,o=null):(bo(),y=m.fallback,te=o.mode,m=sf({mode:"visible",children:m.children},te),y=fi(y,te,u,null),y.flags|=2,m.return=o,y.return=o,m.sibling=y,o.child=m,hd(o,r.child,null,u),m=o.child,m.memoizedState=r0(u),m.childLanes=i0(r,U,u),o.memoizedState=a0,o=y);else if(go(o),H0(te)){if(U=te.nextSibling&&te.nextSibling.dataset,U)var Fe=U.dgst;U=Fe,m=Error(a(419)),m.stack="",m.digest=U,uo({value:m,source:null,stack:null}),o=o0(r,o,u)}else if(na||ho(r,o,u,!1),U=(u&r.childLanes)!==0,na||U){if(U=Ks,U!==null&&(m=u&-u,m=(m&42)!==0?1:Zs(m),m=(m&(U.suspendedLanes|u))!==0?0:m,m!==0&&m!==ge.retryLane))throw ge.retryLane=m,yl(r,m),yr(U,r,m),_g;te.data==="$?"||C0(),o=o0(r,o,u)}else te.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=ge.treeContext,ln=Si(te.nextSibling),An=o,js=!0,Gi=null,zr=!1,r!==null&&(Ya[Pa++]=pi,Ya[Pa++]=xi,Ya[Pa++]=Nl,pi=r.id,xi=r.overflow,Nl=o),o=l0(o,m.children),o.flags|=4096);return o}return y?(bo(),y=m.fallback,te=o.mode,ge=r.child,Fe=ge.sibling,m=qr(ge,{mode:"hidden",children:m.children}),m.subtreeFlags=ge.subtreeFlags&65011712,Fe!==null?y=qr(Fe,y):(y=fi(y,te,u,null),y.flags|=2),y.return=o,m.return=o,m.sibling=y,o.child=m,m=y,y=o.child,te=r.child.memoizedState,te===null?te=r0(u):(ge=te.cachePool,ge!==null?(Fe=Ln._currentValue,ge=ge.parent!==Fe?{parent:Fe,pool:Fe}:ge):ge=V(),te={baseLanes:te.baseLanes|u,cachePool:ge}),y.memoizedState=te,y.childLanes=i0(r,U,u),o.memoizedState=a0,m):(go(o),u=r.child,r=u.sibling,u=qr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,r!==null&&(U=o.deletions,U===null?(o.deletions=[r],o.flags|=16):U.push(r)),o.child=u,o.memoizedState=null,u)}function l0(r,o){return o=sf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function sf(r,o){return r=ta(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function o0(r,o,u){return hd(o,r.child,null,u),r=l0(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Og(r,o,u){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),nd(r.return,o,u)}function c0(r,o,u,m,y){var j=r.memoizedState;j===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=y)}function Tg(r,o,u){var m=o.pendingProps,y=m.revealOrder,j=m.tail;if(xa(r,o,m.children,u),m=Kn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Og(r,u,o);else if(r.tag===19)Og(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(P(Kn,m),y){case"forwards":for(u=o.child,y=null;u!==null;)r=u.alternate,r!==null&&Zh(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),c0(o,!1,y,u,j);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Zh(r)===null){o.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}c0(o,!0,u,null,j);break;case"together":c0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function El(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),jo|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(ho(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(a(153));if(o.child!==null){for(r=o.child,u=qr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=qr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function d0(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&rd(r)))}function _N(r,o,u){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),Yi(o,Ln,r.memoizedState.cache),Ba();break;case 27:case 5:Oe(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:Yi(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(go(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Fg(r,o,u):(go(o),r=El(r,o,u),r!==null?r.sibling:null);go(o);break;case 19:var y=(r.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ho(r,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return Tg(r,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),P(Kn,Kn.current),m)break;return null;case 22:case 23:return o.lanes=0,Ag(r,o,u);case 24:Yi(o,Ln,r.memoizedState.cache)}return El(r,o,u)}function Pg(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)na=!0;else{if(!d0(r,u)&&(o.flags&128)===0)return na=!1,_N(r,o,u);na=(r.flags&131072)!==0}else na=!1,js&&(o.flags&1048576)!==0&&Mh(o,sd,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,y=m._init;if(m=y(m._payload),o.type=m,typeof m=="function")oo(m)?(r=bc(m,r),o.tag=1,o=Dg(null,o,m,r,u)):(o.tag=0,o=n0(null,o,m,r,u));else{if(m!=null){if(y=m.$$typeof,y===R){o.tag=11,o=Sg(null,o,m,r,u);break e}else if(y===K){o.tag=14,o=Cg(null,o,m,r,u);break e}}throw o=G(m)||m,Error(a(306,o,""))}}return o;case 0:return n0(r,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=bc(m,o.pendingProps),Dg(r,o,m,y,u);case 3:e:{if(ye(o,o.stateNode.containerInfo),r===null)throw Error(a(387));m=o.pendingProps;var j=o.memoizedState;y=j.element,We(r,o),_t(o,m,null,u);var U=o.memoizedState;if(m=U.cache,Yi(o,Ln,m),m!==j.cache&&ad(o,[Ln],u,!0),Qt(),m=U.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){o=Mg(r,o,m,u);break e}else if(m!==y){y=Oa(Error(a(424)),o),uo(y),o=Mg(r,o,m,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ln=Si(r.firstChild),An=o,js=!0,Gi=null,zr=!0,u=mg(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ba(),m===y){o=El(r,o,u);break e}xa(r,o,m,u)}o=o.child}return o;case 26:return tf(r,o),r===null?(u=Ib(o.type,null,o.pendingProps,null))?o.memoizedState=u:js||(u=o.type,r=o.pendingProps,m=gf(se.current).createElement(u),m[xs]=o,m[vt]=r,ba(m,u,r),Us(m),o.stateNode=m):o.memoizedState=Ib(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Oe(o),r===null&&js&&(m=o.stateNode=Bb(o.type,o.pendingProps,se.current),An=o,zr=!0,y=ln,ko(o.type)?($0=y,ln=Si(m.firstChild)):ln=y),xa(r,o,o.pendingProps.children,u),tf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&js&&((y=m=ln)&&(m=ZN(m,o.type,o.pendingProps,zr),m!==null?(o.stateNode=m,An=o,ln=Si(m.firstChild),zr=!1,y=!0):y=!1),y||_l(o)),Oe(o),y=o.type,j=o.pendingProps,U=r!==null?r.memoizedProps:null,m=j.children,I0(y,j)?m=null:U!==null&&I0(y,U)&&(o.flags|=32),o.memoizedState!==null&&(y=Ra(r,o,Os,null,null,u),Ru._currentValue=y),tf(r,o),xa(r,o,m,u),o.child;case 6:return r===null&&js&&((r=u=ln)&&(u=JN(u,o.pendingProps,zr),u!==null?(o.stateNode=u,An=o,ln=null,r=!0):r=!1),r||_l(o)),null;case 13:return Fg(r,o,u);case 4:return ye(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=hd(o,null,m,u):xa(r,o,m,u),o.child;case 11:return Sg(r,o,o.type,o.pendingProps,u);case 7:return xa(r,o,o.pendingProps,u),o.child;case 8:return xa(r,o,o.pendingProps.children,u),o.child;case 12:return xa(r,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Yi(o,o.type,m.value),xa(r,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Vr(o),y=En(y),m=m(y),o.flags|=1,xa(r,o,m,u),o.child;case 14:return Cg(r,o,o.type,o.pendingProps,u);case 15:return kg(r,o,o.type,o.pendingProps,u);case 19:return Tg(r,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},r===null?(u=sf(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=qr(r.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Ag(r,o,u);case 24:return Vr(o),m=En(Ln),r===null?(y=A(),y===null&&(y=Ks,j=lu(),y.pooledCache=j,j.refCount++,j!==null&&(y.pooledCacheLanes|=u),y=j),o.memoizedState={parent:m,cache:y},De(o),Yi(o,Ln,y)):((r.lanes&u)!==0&&(We(r,o),_t(o,null,null,u),Qt()),y=r.memoizedState,j=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Yi(o,Ln,m)):(m=j.cache,Yi(o,Ln,m),m!==y.cache&&ad(o,[Ln],u,!0))),xa(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ll(r){r.flags|=4}function Bg(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Vb(o)){if(o=Yr.current,o!==null&&((vs&4194048)===vs?Qi!==null:(vs&62914560)!==vs&&(vs&536870912)===0||o!==Qi))throw me=ce,J;r.flags|=8192}}function nf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ks():536870912,r.lanes|=o,xd|=o)}function ju(r,o){if(!js)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function bn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(o)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=m,r.childLanes=u,o}function SN(r,o,u){var m=o.pendingProps;switch(lc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return bn(o),null;case 3:return u=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),$r(Ln),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ha(o)?Ll(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Oh())),bn(o),null;case 26:return u=o.memoizedState,r===null?(Ll(o),u!==null?(bn(o),Bg(o,u)):(bn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Ll(o),bn(o),Bg(o,u)):(bn(o),o.flags&=-16777217):(r.memoizedProps!==m&&Ll(o),bn(o),o.flags&=-16777217),null;case 27:He(o),u=se.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(!m){if(o.stateNode===null)throw Error(a(166));return bn(o),null}r=z.current,ha(o)?Fh(o):(r=Bb(y,m,u),o.stateNode=r,Ll(o))}return bn(o),null;case 5:if(He(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(!m){if(o.stateNode===null)throw Error(a(166));return bn(o),null}if(r=z.current,ha(o))Fh(o);else{switch(y=gf(se.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}r[xs]=o,r[vt]=m;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(ba(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ll(o)}}return bn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(a(166));if(r=se.current,ha(o)){if(r=o.stateNode,u=o.memoizedProps,m=null,y=An,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}r[xs]=o,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Lb(r.nodeValue,u)),r||_l(o)}else r=gf(r).createTextNode(m),r[xs]=o,o.stateNode=r}return bn(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ha(o),m!==null&&m.dehydrated!==null){if(r===null){if(!y)throw Error(a(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[xs]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),y=!1}else y=Oh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Al(o),o):(Al(o),null)}if(Al(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var j=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(j=m.memoizedState.cachePool.pool),j!==y&&(m.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),nf(o,o.updateQueue),bn(o),null;case 4:return Se(),r===null&&T0(o.stateNode.containerInfo),bn(o),null;case 10:return $r(o.type),bn(o),null;case 19:if(O(Kn),y=o.memoizedState,y===null)return bn(o),null;if(m=(o.flags&128)!==0,j=y.rendering,j===null)if(m)ju(y,!1);else{if(jn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(j=Zh(r),j!==null){for(o.flags|=128,ju(y,!1),r=j.updateQueue,o.updateQueue=r,nf(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)ac(u,r),u=u.sibling;return P(Kn,Kn.current&1|2),o.child}r=r.sibling}y.tail!==null&&at()>lf&&(o.flags|=128,m=!0,ju(y,!1),o.lanes=4194304)}else{if(!m)if(r=Zh(j),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,nf(o,r),ju(y,!0),y.tail===null&&y.tailMode==="hidden"&&!j.alternate&&!js)return bn(o),null}else 2*at()-y.renderingStartTime>lf&&u!==536870912&&(o.flags|=128,m=!0,ju(y,!1),o.lanes=4194304);y.isBackwards?(j.sibling=o.child,o.child=j):(r=y.last,r!==null?r.sibling=j:o.child=j,y.last=j)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=at(),o.sibling=null,r=Kn.current,P(Kn,m?r&1|2:r&1),o):(bn(o),null);case 22:case 23:return Al(o),Xt(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),u=o.updateQueue,u!==null&&nf(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),r!==null&&O(v),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),$r(Ln),bn(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function CN(r,o){switch(lc(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return $r(Ln),Se(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 13:if(Al(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Ba()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return O(Kn),null;case 4:return Se(),null;case 10:return $r(o.type),null;case 22:case 23:return Al(o),Xt(),r!==null&&O(v),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return $r(Ln),null;case 25:return null;default:return null}}function Rg(r,o){switch(lc(o),o.tag){case 3:$r(Ln),Se();break;case 26:case 27:case 5:He(o);break;case 4:Se();break;case 13:Al(o);break;case 19:O(Kn);break;case 10:$r(o.type);break;case 22:case 23:Al(o),Xt(),r!==null&&O(v);break;case 24:$r(Ln)}}function _u(r,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){m=void 0;var j=u.create,U=u.inst;m=j(),U.destroy=m}u=u.next}while(u!==y)}}catch(te){Ws(o,o.return,te)}}function yo(r,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var j=y.next;m=j;do{if((m.tag&r)===r){var U=m.inst,te=U.destroy;if(te!==void 0){U.destroy=void 0,y=o;var ge=u,Fe=te;try{Fe()}catch(Xe){Ws(y,ge,Xe)}}}m=m.next}while(m!==j)}}catch(Xe){Ws(o,o.return,Xe)}}function Ug(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Nn(o,u)}catch(m){Ws(r,r.return,m)}}}function Ig(r,o,u){u.props=bc(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){Ws(r,o,m)}}function Su(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(y){Ws(r,o,y)}}function Xi(r,o){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){Ws(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ws(r,o,y)}else u.current=null}function qg(r){var o=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){Ws(r,r.return,y)}}function u0(r,o,u){try{var m=r.stateNode;GN(m,r.type,u,o),m[vt]=o}catch(y){Ws(r,r.return,y)}}function zg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ko(r.type)||r.tag===4}function h0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ko(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function f0(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=xf));else if(m!==4&&(m===27&&ko(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(f0(r,o,u),r=r.sibling;r!==null;)f0(r,o,u),r=r.sibling}function af(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(m!==4&&(m===27&&ko(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(af(r,o,u),r=r.sibling;r!==null;)af(r,o,u),r=r.sibling}function Hg(r){var o=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ba(o,m,u),o[xs]=r,o[vt]=u}catch(j){Ws(r,r.return,j)}}var Dl=!1,On=!1,m0=!1,$g=typeof WeakSet=="function"?WeakSet:Set,aa=null;function kN(r,o){if(r=r.containerInfo,R0=jf,r=io(r),da(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var U=0,te=-1,ge=-1,Fe=0,Xe=0,nt=r,Te=null;t:for(;;){for(var Re;nt!==u||y!==0&&nt.nodeType!==3||(te=U+y),nt!==j||m!==0&&nt.nodeType!==3||(ge=U+m),nt.nodeType===3&&(U+=nt.nodeValue.length),(Re=nt.firstChild)!==null;)Te=nt,nt=Re;for(;;){if(nt===r)break t;if(Te===u&&++Fe===y&&(te=U),Te===j&&++Xe===m&&(ge=U),(Re=nt.nextSibling)!==null)break;nt=Te,Te=nt.parentNode}nt=Re}u=te===-1||ge===-1?null:{start:te,end:ge}}else u=null}u=u||{start:0,end:0}}else u=null;for(U0={focusedElem:r,selectionRange:u},jf=!1,aa=o;aa!==null;)if(o=aa,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,aa=r;else for(;aa!==null;){switch(o=aa,j=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&j!==null){r=void 0,u=o,y=j.memoizedProps,j=j.memoizedState,m=u.stateNode;try{var Yt=bc(u.type,y,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(Yt,j),m.__reactInternalSnapshotBeforeUpdate=r}catch(Ht){Ws(u,u.return,Ht)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)z0(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":z0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=o.sibling,r!==null){r.return=o.return,aa=r;break}aa=o.return}}function Vg(r,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vo(r,u),m&4&&_u(5,u);break;case 1:if(vo(r,u),m&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(U){Ws(u,u.return,U)}else{var y=bc(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Ws(u,u.return,U)}}m&64&&Ug(u),m&512&&Su(u,u.return);break;case 3:if(vo(r,u),m&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Nn(r,o)}catch(U){Ws(u,u.return,U)}}break;case 27:o===null&&m&4&&Hg(u);case 26:case 5:vo(r,u),o===null&&m&4&&qg(u),m&512&&Su(u,u.return);break;case 12:vo(r,u);break;case 13:vo(r,u),m&4&&Yg(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=PN.bind(null,u),ej(r,u))));break;case 22:if(m=u.memoizedState!==null||Dl,!m){o=o!==null&&o.memoizedState!==null||On,y=Dl;var j=On;Dl=m,(On=o)&&!j?wo(r,u,(u.subtreeFlags&8772)!==0):vo(r,u),Dl=y,On=j}break;case 30:break;default:vo(r,u)}}function Wg(r){var o=r.alternate;o!==null&&(r.alternate=null,Wg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&$e(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var un=null,Ka=!1;function Ml(r,o,u){for(u=u.child;u!==null;)Gg(r,o,u),u=u.sibling}function Gg(r,o,u){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Qe,u)}catch{}switch(u.tag){case 26:On||Xi(u,o),Ml(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||Xi(u,o);var m=un,y=Ka;ko(u.type)&&(un=u.stateNode,Ka=!1),Ml(r,o,u),Ou(u.stateNode),un=m,Ka=y;break;case 5:On||Xi(u,o);case 6:if(m=un,y=Ka,un=null,Ml(r,o,u),un=m,Ka=y,un!==null)if(Ka)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(u.stateNode)}catch(j){Ws(u,o,j)}else try{un.removeChild(u.stateNode)}catch(j){Ws(u,o,j)}break;case 18:un!==null&&(Ka?(r=un,Tb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),zu(r)):Tb(un,u.stateNode));break;case 4:m=un,y=Ka,un=u.stateNode.containerInfo,Ka=!0,Ml(r,o,u),un=m,Ka=y;break;case 0:case 11:case 14:case 15:On||yo(2,u,o),On||yo(4,u,o),Ml(r,o,u);break;case 1:On||(Xi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Ig(u,o,m)),Ml(r,o,u);break;case 21:Ml(r,o,u);break;case 22:On=(m=On)||u.memoizedState!==null,Ml(r,o,u),On=m;break;default:Ml(r,o,u)}}function Yg(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zu(r)}catch(u){Ws(o,o.return,u)}}function AN(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new $g),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new $g),o;default:throw Error(a(435,r.tag))}}function p0(r,o){var u=AN(r);o.forEach(function(m){var y=BN.bind(null,r,m);u.has(m)||(u.add(m),m.then(y,y))})}function pr(r,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],j=r,U=o,te=U;e:for(;te!==null;){switch(te.tag){case 27:if(ko(te.type)){un=te.stateNode,Ka=!1;break e}break;case 5:un=te.stateNode,Ka=!1;break e;case 3:case 4:un=te.stateNode.containerInfo,Ka=!0;break e}te=te.return}if(un===null)throw Error(a(160));Gg(j,U,y),un=null,Ka=!1,j=y.alternate,j!==null&&(j.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Kg(o,r),o=o.sibling}var _i=null;function Kg(r,o){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:pr(o,r),xr(r),m&4&&(yo(3,r,r.return),_u(3,r),yo(5,r,r.return));break;case 1:pr(o,r),xr(r),m&512&&(On||u===null||Xi(u,u.return)),m&64&&Dl&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=_i;if(pr(o,r),xr(r),m&512&&(On||u===null||Xi(u,u.return)),m&4){var j=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":j=y.getElementsByTagName("title")[0],(!j||j[X]||j[xs]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=y.createElement(m),y.head.insertBefore(j,y.querySelector("head > title"))),ba(j,m,u),j[xs]=r,Us(j),m=j;break e;case"link":var U=Hb("link","href",y).get(m+(u.href||""));if(U){for(var te=0;te<U.length;te++)if(j=U[te],j.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&j.getAttribute("rel")===(u.rel==null?null:u.rel)&&j.getAttribute("title")===(u.title==null?null:u.title)&&j.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){U.splice(te,1);break t}}j=y.createElement(m),ba(j,m,u),y.head.appendChild(j);break;case"meta":if(U=Hb("meta","content",y).get(m+(u.content||""))){for(te=0;te<U.length;te++)if(j=U[te],j.getAttribute("content")===(u.content==null?null:""+u.content)&&j.getAttribute("name")===(u.name==null?null:u.name)&&j.getAttribute("property")===(u.property==null?null:u.property)&&j.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&j.getAttribute("charset")===(u.charSet==null?null:u.charSet)){U.splice(te,1);break t}}j=y.createElement(m),ba(j,m,u),y.head.appendChild(j);break;default:throw Error(a(468,m))}j[xs]=r,Us(j),m=j}r.stateNode=m}else $b(y,r.type,r.stateNode);else r.stateNode=zb(y,m,r.memoizedProps);else j!==m?(j===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):j.count--,m===null?$b(y,r.type,r.stateNode):zb(y,m,r.memoizedProps)):m===null&&r.stateNode!==null&&u0(r,r.memoizedProps,u.memoizedProps)}break;case 27:pr(o,r),xr(r),m&512&&(On||u===null||Xi(u,u.return)),u!==null&&m&4&&u0(r,r.memoizedProps,u.memoizedProps);break;case 5:if(pr(o,r),xr(r),m&512&&(On||u===null||Xi(u,u.return)),r.flags&32){y=r.stateNode;try{ri(y,"")}catch(Re){Ws(r,r.return,Re)}}m&4&&r.stateNode!=null&&(y=r.memoizedProps,u0(r,y,u!==null?u.memoizedProps:y)),m&1024&&(m0=!0);break;case 6:if(pr(o,r),xr(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(Re){Ws(r,r.return,Re)}}break;case 3:if(vf=null,y=_i,_i=bf(o.containerInfo),pr(o,r),_i=y,xr(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{zu(o.containerInfo)}catch(Re){Ws(r,r.return,Re)}m0&&(m0=!1,Qg(r));break;case 4:m=_i,_i=bf(r.stateNode.containerInfo),pr(o,r),xr(r),_i=m;break;case 12:pr(o,r),xr(r);break;case 13:pr(o,r),xr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(w0=at()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,p0(r,m)));break;case 22:y=r.memoizedState!==null;var ge=u!==null&&u.memoizedState!==null,Fe=Dl,Xe=On;if(Dl=Fe||y,On=Xe||ge,pr(o,r),On=Xe,Dl=Fe,xr(r),m&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||ge||Dl||On||yc(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){ge=u=o;try{if(j=ge.stateNode,y)U=j.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{te=ge.stateNode;var nt=ge.memoizedProps.style,Te=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;te.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Re){Ws(ge,ge.return,Re)}}}else if(o.tag===6){if(u===null){ge=o;try{ge.stateNode.nodeValue=y?"":ge.memoizedProps}catch(Re){Ws(ge,ge.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,p0(r,u))));break;case 19:pr(o,r),xr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,p0(r,m)));break;case 30:break;case 21:break;default:pr(o,r),xr(r)}}function xr(r){var o=r.flags;if(o&2){try{for(var u,m=r.return;m!==null;){if(zg(m)){u=m;break}m=m.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var y=u.stateNode,j=h0(r);af(r,j,y);break;case 5:var U=u.stateNode;u.flags&32&&(ri(U,""),u.flags&=-33);var te=h0(r);af(r,te,U);break;case 3:case 4:var ge=u.stateNode.containerInfo,Fe=h0(r);f0(r,Fe,ge);break;default:throw Error(a(161))}}catch(Xe){Ws(r,r.return,Xe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Qg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Qg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function vo(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Vg(r,o.alternate,o),o=o.sibling}function yc(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),yc(o);break;case 1:Xi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Ig(o,o.return,u),yc(o);break;case 27:Ou(o.stateNode);case 26:case 5:Xi(o,o.return),yc(o);break;case 22:o.memoizedState===null&&yc(o);break;case 30:yc(o);break;default:yc(o)}r=r.sibling}}function wo(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=r,j=o,U=j.flags;switch(j.tag){case 0:case 11:case 15:wo(y,j,u),_u(4,j);break;case 1:if(wo(y,j,u),m=j,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Fe){Ws(m,m.return,Fe)}if(m=j,y=m.updateQueue,y!==null){var te=m.stateNode;try{var ge=y.shared.hiddenCallbacks;if(ge!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ge.length;y++)ds(ge[y],te)}catch(Fe){Ws(m,m.return,Fe)}}u&&U&64&&Ug(j),Su(j,j.return);break;case 27:Hg(j);case 26:case 5:wo(y,j,u),u&&m===null&&U&4&&qg(j),Su(j,j.return);break;case 12:wo(y,j,u);break;case 13:wo(y,j,u),u&&U&4&&Yg(y,j);break;case 22:j.memoizedState===null&&wo(y,j,u),Su(j,j.return);break;case 30:break;default:wo(y,j,u)}o=o.sibling}}function x0(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&oc(u))}function g0(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&oc(r))}function Zi(r,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Xg(r,o,u,m),o=o.sibling}function Xg(r,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Zi(r,o,u,m),y&2048&&_u(9,o);break;case 1:Zi(r,o,u,m);break;case 3:Zi(r,o,u,m),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&oc(r)));break;case 12:if(y&2048){Zi(r,o,u,m),r=o.stateNode;try{var j=o.memoizedProps,U=j.id,te=j.onPostCommit;typeof te=="function"&&te(U,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ge){Ws(o,o.return,ge)}}else Zi(r,o,u,m);break;case 13:Zi(r,o,u,m);break;case 23:break;case 22:j=o.stateNode,U=o.alternate,o.memoizedState!==null?j._visibility&2?Zi(r,o,u,m):Cu(r,o):j._visibility&2?Zi(r,o,u,m):(j._visibility|=2,fd(r,o,u,m,(o.subtreeFlags&10256)!==0)),y&2048&&x0(U,o);break;case 24:Zi(r,o,u,m),y&2048&&g0(o.alternate,o);break;default:Zi(r,o,u,m)}}function fd(r,o,u,m,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var j=r,U=o,te=u,ge=m,Fe=U.flags;switch(U.tag){case 0:case 11:case 15:fd(j,U,te,ge,y),_u(8,U);break;case 23:break;case 22:var Xe=U.stateNode;U.memoizedState!==null?Xe._visibility&2?fd(j,U,te,ge,y):Cu(j,U):(Xe._visibility|=2,fd(j,U,te,ge,y)),y&&Fe&2048&&x0(U.alternate,U);break;case 24:fd(j,U,te,ge,y),y&&Fe&2048&&g0(U.alternate,U);break;default:fd(j,U,te,ge,y)}o=o.sibling}}function Cu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,m=o,y=m.flags;switch(m.tag){case 22:Cu(u,m),y&2048&&x0(m.alternate,m);break;case 24:Cu(u,m),y&2048&&g0(m.alternate,m);break;default:Cu(u,m)}o=o.sibling}}var ku=8192;function md(r){if(r.subtreeFlags&ku)for(r=r.child;r!==null;)Zg(r),r=r.sibling}function Zg(r){switch(r.tag){case 26:md(r),r.flags&ku&&r.memoizedState!==null&&fj(_i,r.memoizedState,r.memoizedProps);break;case 5:md(r);break;case 3:case 4:var o=_i;_i=bf(r.stateNode.containerInfo),md(r),_i=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ku,ku=16777216,md(r),ku=o):md(r));break;default:md(r)}}function Jg(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Au(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];aa=m,tb(m,r)}Jg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eb(r),r=r.sibling}function eb(r){switch(r.tag){case 0:case 11:case 15:Au(r),r.flags&2048&&yo(9,r,r.return);break;case 3:Au(r);break;case 12:Au(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,rf(r)):Au(r);break;default:Au(r)}}function rf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];aa=m,tb(m,r)}Jg(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:yo(8,o,o.return),rf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,rf(o));break;default:rf(o)}r=r.sibling}}function tb(r,o){for(;aa!==null;){var u=aa;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:oc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,aa=m;else e:for(u=r;aa!==null;){m=aa;var y=m.sibling,j=m.return;if(Wg(m),m===u){aa=null;break e}if(y!==null){y.return=j,aa=y;break e}aa=j}}}var EN={getCacheForType:function(r){var o=En(Ln),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},LN=typeof WeakMap=="function"?WeakMap:Map,Ts=0,Ks=null,hs=null,vs=0,Ps=0,gr=null,No=!1,pd=!1,b0=!1,Fl=0,jn=0,jo=0,vc=0,y0=0,Kr=0,xd=0,Eu=null,Qa=null,v0=!1,w0=0,lf=1/0,of=null,_o=null,ga=0,So=null,gd=null,bd=0,N0=0,j0=null,sb=null,Lu=0,_0=null;function br(){if((Ts&2)!==0&&vs!==0)return vs&-vs;if(Z.T!==null){var r=Sl;return r!==0?r:D0()}return Aa()}function nb(){Kr===0&&(Kr=(vs&536870912)===0||js?Pt():536870912);var r=Yr.current;return r!==null&&(r.flags|=32),Kr}function yr(r,o,u){(r===Ks&&(Ps===2||Ps===9)||r.cancelPendingCommit!==null)&&(yd(r,0),Co(r,vs,Kr,!1)),mt(r,u),((Ts&2)===0||r!==Ks)&&(r===Ks&&((Ts&2)===0&&(vc|=u),jn===4&&Co(r,vs,Kr,!1)),Ji(r))}function ab(r,o,u){if((Ts&6)!==0)throw Error(a(327));var m=!u&&(o&124)===0&&(o&r.expiredLanes)===0||gt(r,o),y=m?FN(r,o):k0(r,o,!0),j=m;do{if(y===0){pd&&!m&&Co(r,o,0,!1);break}else{if(u=r.current.alternate,j&&!DN(u)){y=k0(r,o,!1),j=!1;continue}if(y===2){if(j=o,r.errorRecoveryDisabledLanes&j)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var te=r;y=Eu;var ge=te.current.memoizedState.isDehydrated;if(ge&&(yd(te,U).flags|=256),U=k0(te,U,!1),U!==2){if(b0&&!ge){te.errorRecoveryDisabledLanes|=j,vc|=j,y=4;break e}j=Qa,Qa=y,j!==null&&(Qa===null?Qa=j:Qa.push.apply(Qa,j))}y=U}if(j=!1,y!==2)continue}}if(y===1){yd(r,0),Co(r,o,0,!0);break}e:{switch(m=r,j=y,j){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Co(m,o,Kr,!No);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(y=w0+300-at(),10<y)){if(Co(m,o,Kr,!No),os(m,0,!0)!==0)break e;m.timeoutHandle=Fb(rb.bind(null,m,u,Qa,of,v0,o,Kr,vc,xd,No,j,2,-0,0),y);break e}rb(m,u,Qa,of,v0,o,Kr,vc,xd,No,j,0,-0,0)}}break}while(!0);Ji(r)}function rb(r,o,u,m,y,j,U,te,ge,Fe,Xe,nt,Te,Re){if(r.timeoutHandle=-1,nt=o.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:hj},Zg(o),nt=mj(),nt!==null)){r.cancelPendingCommit=nt(hb.bind(null,r,o,j,u,m,y,U,te,ge,Xe,1,Te,Re)),Co(r,j,U,!Fe);return}hb(r,o,j,u,m,y,U,te,ge)}function DN(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],j=y.getSnapshot;y=y.value;try{if(!qn(j(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Co(r,o,u,m){o&=~y0,o&=~vc,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var y=o;0<y;){var j=31-Ee(y),U=1<<j;m[j]=-1,y&=~U}u!==0&&rs(r,u,o)}function cf(){return(Ts&6)===0?(Du(0),!1):!0}function S0(){if(hs!==null){if(Ps===0)var r=hs.return;else r=hs,bi=Hn=null,Gn(r),ud=null,wu=0,r=hs;for(;r!==null;)Rg(r.alternate,r),r=r.return;hs=null}}function yd(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,KN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),S0(),Ks=r,hs=u=qr(r.current,null),vs=o,Ps=0,gr=null,No=!1,pd=gt(r,o),b0=!1,xd=Kr=y0=vc=jo=jn=0,Qa=Eu=null,v0=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var y=31-Ee(m),j=1<<y;o|=r[y],m&=~j}return Fl=o,sc(),u}function ib(r,o){At=null,Z.H=Kh,o===Q||o===ae?(o=_e(),Ps=3):o===J?(o=_e(),Ps=4):Ps=o===_g?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gr=o,hs===null&&(jn=1,ef(r,Oa(o,r.current)))}function lb(){var r=Z.H;return Z.H=Kh,r===null?Kh:r}function ob(){var r=Z.A;return Z.A=EN,r}function C0(){jn=4,No||(vs&4194048)!==vs&&Yr.current!==null||(pd=!0),(jo&134217727)===0&&(vc&134217727)===0||Ks===null||Co(Ks,vs,Kr,!1)}function k0(r,o,u){var m=Ts;Ts|=2;var y=lb(),j=ob();(Ks!==r||vs!==o)&&(of=null,yd(r,o)),o=!1;var U=jn;e:do try{if(Ps!==0&&hs!==null){var te=hs,ge=gr;switch(Ps){case 8:S0(),U=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(o=!0);var Fe=Ps;if(Ps=0,gr=null,vd(r,te,ge,Fe),u&&pd){U=0;break e}break;default:Fe=Ps,Ps=0,gr=null,vd(r,te,ge,Fe)}}MN(),U=jn;break}catch(Xe){ib(r,Xe)}while(!0);return o&&r.shellSuspendCounter++,bi=Hn=null,Ts=m,Z.H=y,Z.A=j,hs===null&&(Ks=null,vs=0,sc()),U}function MN(){for(;hs!==null;)cb(hs)}function FN(r,o){var u=Ts;Ts|=2;var m=lb(),y=ob();Ks!==r||vs!==o?(of=null,lf=at()+500,yd(r,o)):pd=gt(r,o);e:do try{if(Ps!==0&&hs!==null){o=hs;var j=gr;t:switch(Ps){case 1:Ps=0,gr=null,vd(r,o,j,1);break;case 2:case 9:if(pe(j)){Ps=0,gr=null,db(o);break}o=function(){Ps!==2&&Ps!==9||Ks!==r||(Ps=7),Ji(r)},j.then(o,o);break e;case 3:Ps=7;break e;case 4:Ps=5;break e;case 7:pe(j)?(Ps=0,gr=null,db(o)):(Ps=0,gr=null,vd(r,o,j,7));break;case 5:var U=null;switch(hs.tag){case 26:U=hs.memoizedState;case 5:case 27:var te=hs;if(!U||Vb(U)){Ps=0,gr=null;var ge=te.sibling;if(ge!==null)hs=ge;else{var Fe=te.return;Fe!==null?(hs=Fe,df(Fe)):hs=null}break t}}Ps=0,gr=null,vd(r,o,j,5);break;case 6:Ps=0,gr=null,vd(r,o,j,6);break;case 8:S0(),jn=6;break e;default:throw Error(a(462))}}ON();break}catch(Xe){ib(r,Xe)}while(!0);return bi=Hn=null,Z.H=m,Z.A=y,Ts=u,hs!==null?0:(Ks=null,vs=0,sc(),jn)}function ON(){for(;hs!==null&&!oe();)cb(hs)}function cb(r){var o=Pg(r.alternate,r,Fl);r.memoizedProps=r.pendingProps,o===null?df(r):hs=o}function db(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Lg(u,o,o.pendingProps,o.type,void 0,vs);break;case 11:o=Lg(u,o,o.pendingProps,o.type.render,o.ref,vs);break;case 5:Gn(o);default:Rg(u,o),o=hs=ac(o,Fl),o=Pg(u,o,Fl)}r.memoizedProps=r.pendingProps,o===null?df(r):hs=o}function vd(r,o,u,m){bi=Hn=null,Gn(o),ud=null,wu=0;var y=o.return;try{if(jN(r,y,o,u,vs)){jn=1,ef(r,Oa(u,r.current)),hs=null;return}}catch(j){if(y!==null)throw hs=y,j;jn=1,ef(r,Oa(u,r.current)),hs=null;return}o.flags&32768?(js||m===1?r=!0:pd||(vs&536870912)!==0?r=!1:(No=r=!0,(m===2||m===9||m===3||m===6)&&(m=Yr.current,m!==null&&m.tag===13&&(m.flags|=16384))),ub(o,r)):df(o)}function df(r){var o=r;do{if((o.flags&32768)!==0){ub(o,No);return}r=o.return;var u=SN(o.alternate,o,Fl);if(u!==null){hs=u;return}if(o=o.sibling,o!==null){hs=o;return}hs=o=r}while(o!==null);jn===0&&(jn=5)}function ub(r,o){do{var u=CN(r.alternate,r);if(u!==null){u.flags&=32767,hs=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){hs=r;return}hs=r=u}while(r!==null);jn=6,hs=null}function hb(r,o,u,m,y,j,U,te,ge){r.cancelPendingCommit=null;do uf();while(ga!==0);if((Ts&6)!==0)throw Error(a(327));if(o!==null){if(o===r.current)throw Error(a(177));if(j=o.lanes|o.childLanes,j|=Zc,Ze(r,u,j,U,te,ge),r===Ks&&(hs=Ks=null,vs=0),gd=o,So=r,bd=u,N0=j,j0=y,sb=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,RN(ot,function(){return gb(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Z.T,Z.T=null,y=re.p,re.p=2,U=Ts,Ts|=4;try{kN(r,o,u)}finally{Ts=U,re.p=y,Z.T=m}}ga=1,fb(),mb(),pb()}}function fb(){if(ga===1){ga=0;var r=So,o=gd,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var m=re.p;re.p=2;var y=Ts;Ts|=4;try{Kg(o,r);var j=U0,U=io(r.containerInfo),te=j.focusedElem,ge=j.selectionRange;if(U!==te&&te&&te.ownerDocument&&Rr(te.ownerDocument.documentElement,te)){if(ge!==null&&da(te)){var Fe=ge.start,Xe=ge.end;if(Xe===void 0&&(Xe=Fe),"selectionStart"in te)te.selectionStart=Fe,te.selectionEnd=Math.min(Xe,te.value.length);else{var nt=te.ownerDocument||document,Te=nt&&nt.defaultView||window;if(Te.getSelection){var Re=Te.getSelection(),Yt=te.textContent.length,Ht=Math.min(ge.start,Yt),zs=ge.end===void 0?Ht:Math.min(ge.end,Yt);!Re.extend&&Ht>zs&&(U=zs,zs=Ht,Ht=U);var Ce=$i(te,Ht),Ne=$i(te,zs);if(Ce&&Ne&&(Re.rangeCount!==1||Re.anchorNode!==Ce.node||Re.anchorOffset!==Ce.offset||Re.focusNode!==Ne.node||Re.focusOffset!==Ne.offset)){var Le=nt.createRange();Le.setStart(Ce.node,Ce.offset),Re.removeAllRanges(),Ht>zs?(Re.addRange(Le),Re.extend(Ne.node,Ne.offset)):(Le.setEnd(Ne.node,Ne.offset),Re.addRange(Le))}}}}for(nt=[],Re=te;Re=Re.parentNode;)Re.nodeType===1&&nt.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<nt.length;te++){var Je=nt[te];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}jf=!!R0,U0=R0=null}finally{Ts=y,re.p=m,Z.T=u}}r.current=o,ga=2}}function mb(){if(ga===2){ga=0;var r=So,o=gd,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var m=re.p;re.p=2;var y=Ts;Ts|=4;try{Vg(r,o.alternate,o)}finally{Ts=y,re.p=m,Z.T=u}}ga=3}}function pb(){if(ga===4||ga===3){ga=0,Nt();var r=So,o=gd,u=bd,m=sb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ga=5:(ga=0,gd=So=null,xb(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(_o=null),Zn(u),o=o.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Qe,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Z.T,y=re.p,re.p=2,Z.T=null;try{for(var j=r.onRecoverableError,U=0;U<m.length;U++){var te=m[U];j(te.value,{componentStack:te.stack})}}finally{Z.T=o,re.p=y}}(bd&3)!==0&&uf(),Ji(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===_0?Lu++:(Lu=0,_0=r):Lu=0,Du(0)}}function xb(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,oc(o)))}function uf(r){return fb(),mb(),pb(),gb()}function gb(){if(ga!==5)return!1;var r=So,o=N0;N0=0;var u=Zn(bd),m=Z.T,y=re.p;try{re.p=32>u?32:u,Z.T=null,u=j0,j0=null;var j=So,U=bd;if(ga=0,gd=So=null,bd=0,(Ts&6)!==0)throw Error(a(331));var te=Ts;if(Ts|=4,eb(j.current),Xg(j,j.current,U,u),Ts=te,Du(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Qe,j)}catch{}return!0}finally{re.p=y,Z.T=m,xb(r,o)}}function bb(r,o,u){o=Oa(u,o),o=s0(r.stateNode,o,2),r=it(r,o,2),r!==null&&(mt(r,2),Ji(r))}function Ws(r,o,u){if(r.tag===3)bb(r,r,u);else for(;o!==null;){if(o.tag===3){bb(o,r,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_o===null||!_o.has(m))){r=Oa(u,r),u=Ng(2),m=it(o,u,2),m!==null&&(jg(u,m,o,r),mt(m,2),Ji(m));break}}o=o.return}}function A0(r,o,u){var m=r.pingCache;if(m===null){m=r.pingCache=new LN;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(b0=!0,y.add(u),r=TN.bind(null,r,o,u),o.then(r,r))}function TN(r,o,u){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ks===r&&(vs&u)===u&&(jn===4||jn===3&&(vs&62914560)===vs&&300>at()-w0?(Ts&2)===0&&yd(r,0):y0|=u,xd===vs&&(xd=0)),Ji(r)}function yb(r,o){o===0&&(o=ks()),r=yl(r,o),r!==null&&(mt(r,o),Ji(r))}function PN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),yb(r,u)}function BN(r,o){var u=0;switch(r.tag){case 13:var m=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(o),yb(r,u)}function RN(r,o){return Ke(r,o)}var hf=null,wd=null,E0=!1,ff=!1,L0=!1,wc=0;function Ji(r){r!==wd&&r.next===null&&(wd===null?hf=wd=r:wd=wd.next=r),ff=!0,E0||(E0=!0,IN())}function Du(r,o){if(!L0&&ff){L0=!0;do for(var u=!1,m=hf;m!==null;){if(r!==0){var y=m.pendingLanes;if(y===0)var j=0;else{var U=m.suspendedLanes,te=m.pingedLanes;j=(1<<31-Ee(42|r)+1)-1,j&=y&~(U&~te),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(u=!0,jb(m,j))}else j=vs,j=os(m,m===Ks?j:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(j&3)===0||gt(m,j)||(u=!0,jb(m,j));m=m.next}while(u);L0=!1}}function UN(){vb()}function vb(){ff=E0=!1;var r=0;wc!==0&&(YN()&&(r=wc),wc=0);for(var o=at(),u=null,m=hf;m!==null;){var y=m.next,j=wb(m,o);j===0?(m.next=null,u===null?hf=y:u.next=y,y===null&&(wd=u)):(u=m,(r!==0||(j&3)!==0)&&(ff=!0)),m=y}Du(r)}function wb(r,o){for(var u=r.suspendedLanes,m=r.pingedLanes,y=r.expirationTimes,j=r.pendingLanes&-62914561;0<j;){var U=31-Ee(j),te=1<<U,ge=y[U];ge===-1?((te&u)===0||(te&m)!==0)&&(y[U]=Kt(te,o)):ge<=o&&(r.expiredLanes|=te),j&=~te}if(o=Ks,u=vs,u=os(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===o&&(Ps===2||Ps===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&he(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||gt(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(m!==null&&he(m),Zn(u)){case 2:case 8:u=ft;break;case 32:u=ot;break;case 268435456:u=Pe;break;default:u=ot}return m=Nb.bind(null,r),u=Ke(u,m),r.callbackPriority=o,r.callbackNode=u,o}return m!==null&&m!==null&&he(m),r.callbackPriority=2,r.callbackNode=null,2}function Nb(r,o){if(ga!==0&&ga!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(uf()&&r.callbackNode!==u)return null;var m=vs;return m=os(r,r===Ks?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(ab(r,m,o),wb(r,at()),r.callbackNode!=null&&r.callbackNode===u?Nb.bind(null,r):null)}function jb(r,o){if(uf())return null;ab(r,o,!0)}function IN(){QN(function(){(Ts&6)!==0?Ke(et,UN):vb()})}function D0(){return wc===0&&(wc=Pt()),wc}function _b(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Sr(""+r)}function Sb(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function qN(r,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var j=_b((y[vt]||null).action),U=m.submitter;U&&(o=(o=U[vt]||null)?_b(o.formAction):U.getAttribute("formAction"),o!==null&&(j=o,U=null));var te=new Ri("action","action",null,m,y);r.push({event:te,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wc!==0){var ge=U?Sb(y,U):new FormData(y);Gr(u,{pending:!0,data:ge,method:y.method,action:j},null,ge)}}else typeof j=="function"&&(te.preventDefault(),ge=U?Sb(y,U):new FormData(y),Gr(u,{pending:!0,data:ge,method:y.method,action:j},j,ge))},currentTarget:y}]})}}for(var M0=0;M0<Xc.length;M0++){var F0=Xc[M0],zN=F0.toLowerCase(),HN=F0[0].toUpperCase()+F0.slice(1);Wa(zN,"on"+HN)}Wa(tu,"onAnimationEnd"),Wa(su,"onAnimationIteration"),Wa(nu,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(Eh,"onTransitionRun"),Wa(Lh,"onTransitionStart"),Wa(Dh,"onTransitionCancel"),Wa(au,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Cb(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],y=m.event;m=m.listeners;e:{var j=void 0;if(o)for(var U=m.length-1;0<=U;U--){var te=m[U],ge=te.instance,Fe=te.currentTarget;if(te=te.listener,ge!==j&&y.isPropagationStopped())break e;j=te,y.currentTarget=Fe;try{j(y)}catch(Xe){Jh(Xe)}y.currentTarget=null,j=ge}else for(U=0;U<m.length;U++){if(te=m[U],ge=te.instance,Fe=te.currentTarget,te=te.listener,ge!==j&&y.isPropagationStopped())break e;j=te,y.currentTarget=Fe;try{j(y)}catch(Xe){Jh(Xe)}y.currentTarget=null,j=ge}}}}function fs(r,o){var u=o[Fs];u===void 0&&(u=o[Fs]=new Set);var m=r+"__bubble";u.has(m)||(kb(o,r,2,!1),u.add(m))}function O0(r,o,u){var m=0;o&&(m|=4),kb(u,r,m,o)}var mf="_reactListening"+Math.random().toString(36).slice(2);function T0(r){if(!r[mf]){r[mf]=!0,va.forEach(function(u){u!=="selectionchange"&&($N.has(u)||O0(u,!1,r),O0(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[mf]||(o[mf]=!0,O0("selectionchange",!1,o))}}function kb(r,o,u,m){switch(Xb(o)){case 2:var y=gj;break;case 8:y=bj;break;default:y=K0}u=y.bind(null,o,u,r),y=void 0,!cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?r.addEventListener(o,u,{capture:!0,passive:y}):r.addEventListener(o,u,!0):y!==void 0?r.addEventListener(o,u,{passive:y}):r.addEventListener(o,u,!1)}function P0(r,o,u,m,y){var j=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var te=m.stateNode.containerInfo;if(te===y)break;if(U===4)for(U=m.return;U!==null;){var ge=U.tag;if((ge===3||ge===4)&&U.stateNode.containerInfo===y)return;U=U.return}for(;te!==null;){if(U=wt(te),U===null)return;if(ge=U.tag,ge===5||ge===6||ge===26||ge===27){m=j=U;continue e}te=te.parentNode}}m=m.return}Yc(function(){var Fe=j,Xe=Qo(u),nt=[];e:{var Te=ru.get(r);if(Te!==void 0){var Re=Ri,Yt=r;switch(r){case"keypress":if(Er(u)===0)break e;case"keydown":case"keyup":Re=yn;break;case"focusin":Yt="focus",Re=C;break;case"focusout":Yt="blur",Re=C;break;case"beforeblur":case"afterblur":Re=C;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Vn;break;case tu:case su:case nu:Re=xe;break;case au:Re=Ii;break;case"scroll":case"scrollend":Re=fl;break;case"wheel":Re=Kc;break;case"copy":case"cut":case"paste":Re=ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=vn;break;case"toggle":case"beforetoggle":Re=hr}var Ht=(o&4)!==0,zs=!Ht&&(r==="scroll"||r==="scrollend"),Ce=Ht?Te!==null?Te+"Capture":null:Te;Ht=[];for(var Ne=Fe,Le;Ne!==null;){var Je=Ne;if(Le=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||Le===null||Ce===null||(Je=ul(Ne,Ce),Je!=null&&Ht.push(Fu(Ne,Je,Le))),zs)break;Ne=Ne.return}0<Ht.length&&(Te=new Re(Te,Yt,null,u,Xe),nt.push({event:Te,listeners:Ht}))}}if((o&7)===0){e:{if(Te=r==="mouseover"||r==="pointerover",Re=r==="mouseout"||r==="pointerout",Te&&u!==Cr&&(Yt=u.relatedTarget||u.fromElement)&&(wt(Yt)||Yt[Ms]))break e;if((Re||Te)&&(Te=Xe.window===Xe?Xe:(Te=Xe.ownerDocument)?Te.defaultView||Te.parentWindow:window,Re?(Yt=u.relatedTarget||u.toElement,Re=Fe,Yt=Yt?wt(Yt):null,Yt!==null&&(zs=l(Yt),Ht=Yt.tag,Yt!==zs||Ht!==5&&Ht!==27&&Ht!==6)&&(Yt=null)):(Re=null,Yt=Fe),Re!==Yt)){if(Ht=Jl,Je="onMouseLeave",Ce="onMouseEnter",Ne="mouse",(r==="pointerout"||r==="pointerover")&&(Ht=vn,Je="onPointerLeave",Ce="onPointerEnter",Ne="pointer"),zs=Re==null?Te:qt(Re),Le=Yt==null?Te:qt(Yt),Te=new Ht(Je,Ne+"leave",Re,u,Xe),Te.target=zs,Te.relatedTarget=Le,Je=null,wt(Xe)===Fe&&(Ht=new Ht(Ce,Ne+"enter",Yt,u,Xe),Ht.target=Le,Ht.relatedTarget=zs,Je=Ht),zs=Je,Re&&Yt)t:{for(Ht=Re,Ce=Yt,Ne=0,Le=Ht;Le;Le=Nd(Le))Ne++;for(Le=0,Je=Ce;Je;Je=Nd(Je))Le++;for(;0<Ne-Le;)Ht=Nd(Ht),Ne--;for(;0<Le-Ne;)Ce=Nd(Ce),Le--;for(;Ne--;){if(Ht===Ce||Ce!==null&&Ht===Ce.alternate)break t;Ht=Nd(Ht),Ce=Nd(Ce)}Ht=null}else Ht=null;Re!==null&&Ab(nt,Te,Re,Ht,!1),Yt!==null&&zs!==null&&Ab(nt,zs,Yt,Ht,!0)}}e:{if(Te=Fe?qt(Fe):window,Re=Te.nodeName&&Te.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Te.type==="file")var Et=ca;else if(Fa(Te))if(zi)Et=ro;else{Et=Tr;var us=Jd}else Re=Te.nodeName,!Re||Re.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Fe&&Yo(Fe.elementType)&&(Et=ca):Et=Pr;if(Et&&(Et=Et(r,Fe))){so(nt,Et,u,Xe);break e}us&&us(r,Te,Fe),r==="focusout"&&Fe&&Te.type==="number"&&Fe.memoizedProps.value!=null&&Wo(Te,"number",Te.value)}switch(us=Fe?qt(Fe):window,r){case"focusin":(Fa(us)||us.contentEditable==="true")&&(Ns=us,Ds=Fe,$s=null);break;case"focusout":$s=Ds=Ns=null;break;case"mousedown":en=!0;break;case"contextmenu":case"mouseup":case"dragend":en=!1,Ir(nt,u,Xe);break;case"selectionchange":if(Ur)break;case"keydown":case"keyup":Ir(nt,u,Xe)}var Ot;if(qi)e:{switch(r){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else di?eo(r,u)&&($t="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&($t="onCompositionStart");$t&&(Mr&&u.locale!=="ko"&&(di||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&di&&(Ot=Zl()):(Ar=Xe,Zo="value"in Ar?Ar.value:Ar.textContent,di=!0)),us=pf(Fe,$t),0<us.length&&($t=new rt($t,r,null,u,Xe),nt.push({event:$t,listeners:us}),Ot?$t.data=Ot:(Ot=ea(u),Ot!==null&&($t.data=Ot)))),(Ot=In?to(r,u):Qc(r,u))&&($t=pf(Fe,"onBeforeInput"),0<$t.length&&(us=new rt("onBeforeInput","beforeinput",null,u,Xe),nt.push({event:us,listeners:$t}),us.data=Ot)),qN(nt,r,Fe,u,Xe)}Cb(nt,o)})}function Fu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function pf(r,o){for(var u=o+"Capture",m=[];r!==null;){var y=r,j=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||j===null||(y=ul(r,u),y!=null&&m.unshift(Fu(r,y,j)),y=ul(r,o),y!=null&&m.push(Fu(r,y,j))),r.tag===3)return m;r=r.return}return[]}function Nd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Ab(r,o,u,m,y){for(var j=o._reactName,U=[];u!==null&&u!==m;){var te=u,ge=te.alternate,Fe=te.stateNode;if(te=te.tag,ge!==null&&ge===m)break;te!==5&&te!==26&&te!==27||Fe===null||(ge=Fe,y?(Fe=ul(u,j),Fe!=null&&U.unshift(Fu(u,Fe,ge))):y||(Fe=ul(u,j),Fe!=null&&U.push(Fu(u,Fe,ge)))),u=u.return}U.length!==0&&r.push({event:o,listeners:U})}var VN=/\r\n?/g,WN=/\u0000|\uFFFD/g;function Eb(r){return(typeof r=="string"?r:""+r).replace(VN,`
`).replace(WN,"")}function Lb(r,o){return o=Eb(o),Eb(r)===o}function xf(){}function qs(r,o,u,m,y,j){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ri(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ri(r,""+m);break;case"className":oa(r,"class",m);break;case"tabIndex":oa(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(r,u,m);break;case"style":Gc(r,m,j);break;case"data":if(o!=="object"){oa(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Sr(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(u==="formAction"?(o!=="input"&&qs(r,o,"name",y.name,y,null),qs(r,o,"formEncType",y.formEncType,y,null),qs(r,o,"formMethod",y.formMethod,y,null),qs(r,o,"formTarget",y.formTarget,y,null)):(qs(r,o,"encType",y.encType,y,null),qs(r,o,"method",y.method,y,null),qs(r,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Sr(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=xf);break;case"onScroll":m!=null&&fs("scroll",r);break;case"onScrollEnd":m!=null&&fs("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Sr(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":fs("beforetoggle",r),fs("toggle",r),ol(r,"popover",m);break;case"xlinkActuate":La(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":La(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":La(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":La(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":La(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":La(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":La(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":La(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":La(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ol(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xd.get(u)||u,ol(r,u,m))}}function B0(r,o,u,m,y,j){switch(u){case"style":Gc(r,m,j);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"children":typeof m=="string"?ri(r,m):(typeof m=="number"||typeof m=="bigint")&&ri(r,""+m);break;case"onScroll":m!=null&&fs("scroll",r);break;case"onScrollEnd":m!=null&&fs("scrollend",r);break;case"onClick":m!=null&&(r.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),j=r[vt]||null,j=j!=null?j[u]:null,typeof j=="function"&&r.removeEventListener(o,j,y),typeof m=="function")){typeof j!="function"&&j!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,m,y);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):ol(r,u,m)}}}function ba(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fs("error",r),fs("load",r);var m=!1,y=!1,j;for(j in u)if(u.hasOwnProperty(j)){var U=u[j];if(U!=null)switch(j){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:qs(r,o,j,U,u,null)}}y&&qs(r,o,"srcSet",u.srcSet,u,null),m&&qs(r,o,"src",u.src,u,null);return;case"input":fs("invalid",r);var te=j=U=y=null,ge=null,Fe=null;for(m in u)if(u.hasOwnProperty(m)){var Xe=u[m];if(Xe!=null)switch(m){case"name":y=Xe;break;case"type":U=Xe;break;case"checked":ge=Xe;break;case"defaultChecked":Fe=Xe;break;case"value":j=Xe;break;case"defaultValue":te=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(a(137,o));break;default:qs(r,o,m,Xe,u,null)}}Wc(r,j,te,ge,Fe,U,y,!1),Ia(r);return;case"select":fs("invalid",r),m=U=j=null;for(y in u)if(u.hasOwnProperty(y)&&(te=u[y],te!=null))switch(y){case"value":j=te;break;case"defaultValue":U=te;break;case"multiple":m=te;default:qs(r,o,y,te,u,null)}o=j,u=U,r.multiple=!!m,o!=null?Pi(r,!!m,o,!1):u!=null&&Pi(r,!!m,u,!0);return;case"textarea":fs("invalid",r),j=y=m=null;for(U in u)if(u.hasOwnProperty(U)&&(te=u[U],te!=null))switch(U){case"value":m=te;break;case"defaultValue":y=te;break;case"children":j=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(91));break;default:qs(r,o,U,te,u,null)}Go(r,m,y,j),Ia(r);return;case"option":for(ge in u)if(u.hasOwnProperty(ge)&&(m=u[ge],m!=null))switch(ge){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:qs(r,o,ge,m,u,null)}return;case"dialog":fs("beforetoggle",r),fs("toggle",r),fs("cancel",r),fs("close",r);break;case"iframe":case"object":fs("load",r);break;case"video":case"audio":for(m=0;m<Mu.length;m++)fs(Mu[m],r);break;case"image":fs("error",r),fs("load",r);break;case"details":fs("toggle",r);break;case"embed":case"source":case"link":fs("error",r),fs("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in u)if(u.hasOwnProperty(Fe)&&(m=u[Fe],m!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:qs(r,o,Fe,m,u,null)}return;default:if(Yo(o)){for(Xe in u)u.hasOwnProperty(Xe)&&(m=u[Xe],m!==void 0&&B0(r,o,Xe,m,u,void 0));return}}for(te in u)u.hasOwnProperty(te)&&(m=u[te],m!=null&&qs(r,o,te,m,u,null))}function GN(r,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,j=null,U=null,te=null,ge=null,Fe=null,Xe=null;for(Re in u){var nt=u[Re];if(u.hasOwnProperty(Re)&&nt!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":ge=nt;default:m.hasOwnProperty(Re)||qs(r,o,Re,null,m,nt)}}for(var Te in m){var Re=m[Te];if(nt=u[Te],m.hasOwnProperty(Te)&&(Re!=null||nt!=null))switch(Te){case"type":j=Re;break;case"name":y=Re;break;case"checked":Fe=Re;break;case"defaultChecked":Xe=Re;break;case"value":U=Re;break;case"defaultValue":te=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(a(137,o));break;default:Re!==nt&&qs(r,o,Te,Re,m,nt)}}dl(r,U,te,ge,Fe,Xe,j,y);return;case"select":Re=U=te=Te=null;for(j in u)if(ge=u[j],u.hasOwnProperty(j)&&ge!=null)switch(j){case"value":break;case"multiple":Re=ge;default:m.hasOwnProperty(j)||qs(r,o,j,null,m,ge)}for(y in m)if(j=m[y],ge=u[y],m.hasOwnProperty(y)&&(j!=null||ge!=null))switch(y){case"value":Te=j;break;case"defaultValue":te=j;break;case"multiple":U=j;default:j!==ge&&qs(r,o,y,j,m,ge)}o=te,u=U,m=Re,Te!=null?Pi(r,!!u,Te,!1):!!m!=!!u&&(o!=null?Pi(r,!!u,o,!0):Pi(r,!!u,u?[]:"",!1));return;case"textarea":Re=Te=null;for(te in u)if(y=u[te],u.hasOwnProperty(te)&&y!=null&&!m.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:qs(r,o,te,null,m,y)}for(U in m)if(y=m[U],j=u[U],m.hasOwnProperty(U)&&(y!=null||j!=null))switch(U){case"value":Te=y;break;case"defaultValue":Re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==j&&qs(r,o,U,y,m,j)}lr(r,Te,Re);return;case"option":for(var Yt in u)if(Te=u[Yt],u.hasOwnProperty(Yt)&&Te!=null&&!m.hasOwnProperty(Yt))switch(Yt){case"selected":r.selected=!1;break;default:qs(r,o,Yt,null,m,Te)}for(ge in m)if(Te=m[ge],Re=u[ge],m.hasOwnProperty(ge)&&Te!==Re&&(Te!=null||Re!=null))switch(ge){case"selected":r.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:qs(r,o,ge,Te,m,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in u)Te=u[Ht],u.hasOwnProperty(Ht)&&Te!=null&&!m.hasOwnProperty(Ht)&&qs(r,o,Ht,null,m,Te);for(Fe in m)if(Te=m[Fe],Re=u[Fe],m.hasOwnProperty(Fe)&&Te!==Re&&(Te!=null||Re!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,o));break;default:qs(r,o,Fe,Te,m,Re)}return;default:if(Yo(o)){for(var zs in u)Te=u[zs],u.hasOwnProperty(zs)&&Te!==void 0&&!m.hasOwnProperty(zs)&&B0(r,o,zs,void 0,m,Te);for(Xe in m)Te=m[Xe],Re=u[Xe],!m.hasOwnProperty(Xe)||Te===Re||Te===void 0&&Re===void 0||B0(r,o,Xe,Te,m,Re);return}}for(var Ce in u)Te=u[Ce],u.hasOwnProperty(Ce)&&Te!=null&&!m.hasOwnProperty(Ce)&&qs(r,o,Ce,null,m,Te);for(nt in m)Te=m[nt],Re=u[nt],!m.hasOwnProperty(nt)||Te===Re||Te==null&&Re==null||qs(r,o,nt,Te,m,Re)}var R0=null,U0=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function Db(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function I0(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var q0=null;function YN(){var r=window.event;return r&&r.type==="popstate"?r===q0?!1:(q0=r,!0):(q0=null,!1)}var Fb=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(r){return Ob.resolve(null).then(r).catch(XN)}:Fb;function XN(r){setTimeout(function(){throw r})}function ko(r){return r==="head"}function Tb(r,o){var u=o,m=0,y=0;do{var j=u.nextSibling;if(r.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"){if(0<m&&8>m){u=m;var U=r.ownerDocument;if(u&1&&Ou(U.documentElement),u&2&&Ou(U.body),u&4)for(u=U.head,Ou(u),U=u.firstChild;U;){var te=U.nextSibling,ge=U.nodeName;U[X]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&U.rel.toLowerCase()==="stylesheet"||u.removeChild(U),U=te}}if(y===0){r.removeChild(j),zu(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=j}while(u);zu(o)}function z0(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":z0(u),$e(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function ZN(r,o,u,m){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[X])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(j=r.getAttribute("rel"),j==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(j!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(j=r.getAttribute("src"),(j!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&j&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var j=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===j)return r}else return r;if(r=Si(r.nextSibling),r===null)break}return null}function JN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Si(r.nextSibling),r===null))return null;return r}function H0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ej(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Si(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var $0=null;function Pb(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function Bb(r,o,u){switch(o=gf(u),r){case"html":if(r=o.documentElement,!r)throw Error(a(452));return r;case"head":if(r=o.head,!r)throw Error(a(453));return r;case"body":if(r=o.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Ou(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);$e(r)}var Qr=new Map,Rb=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ol=re.d;re.d={f:tj,r:sj,D:nj,C:aj,L:rj,m:ij,X:oj,S:lj,M:cj};function tj(){var r=Ol.f(),o=cf();return r||o}function sj(r){var o=ns(r);o!==null&&o.tag===5&&o.type==="form"?xc(o):Ol.r(r)}var jd=typeof document>"u"?null:document;function Ub(r,o,u){var m=jd;if(m&&typeof o=="string"&&o){var y=bs(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Rb.has(y)||(Rb.add(y),r={rel:r,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),ba(o,"link",r),Us(o),m.head.appendChild(o)))}}function nj(r){Ol.D(r),Ub("dns-prefetch",r,null)}function aj(r,o){Ol.C(r,o),Ub("preconnect",r,o)}function rj(r,o,u){Ol.L(r,o,u);var m=jd;if(m&&r&&o){var y='link[rel="preload"][as="'+bs(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+bs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+bs(u.imageSizes)+'"]')):y+='[href="'+bs(r)+'"]';var j=y;switch(o){case"style":j=_d(r);break;case"script":j=Sd(r)}Qr.has(j)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),Qr.set(j,r),m.querySelector(y)!==null||o==="style"&&m.querySelector(Tu(j))||o==="script"&&m.querySelector(Pu(j))||(o=m.createElement("link"),ba(o,"link",r),Us(o),m.head.appendChild(o)))}}function ij(r,o){Ol.m(r,o);var u=jd;if(u&&r){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+bs(m)+'"][href="'+bs(r)+'"]',j=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Sd(r)}if(!Qr.has(j)&&(r=p({rel:"modulepreload",href:r},o),Qr.set(j,r),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Pu(j)))return}m=u.createElement("link"),ba(m,"link",r),Us(m),u.head.appendChild(m)}}}function lj(r,o,u){Ol.S(r,o,u);var m=jd;if(m&&r){var y=Hs(m).hoistableStyles,j=_d(r);o=o||"default";var U=y.get(j);if(!U){var te={loading:0,preload:null};if(U=m.querySelector(Tu(j)))te.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=Qr.get(j))&&V0(r,u);var ge=U=m.createElement("link");Us(ge),ba(ge,"link",r),ge._p=new Promise(function(Fe,Xe){ge.onload=Fe,ge.onerror=Xe}),ge.addEventListener("load",function(){te.loading|=1}),ge.addEventListener("error",function(){te.loading|=2}),te.loading|=4,yf(U,o,m)}U={type:"stylesheet",instance:U,count:1,state:te},y.set(j,U)}}}function oj(r,o){Ol.X(r,o);var u=jd;if(u&&r){var m=Hs(u).hoistableScripts,y=Sd(r),j=m.get(y);j||(j=u.querySelector(Pu(y)),j||(r=p({src:r,async:!0},o),(o=Qr.get(y))&&W0(r,o),j=u.createElement("script"),Us(j),ba(j,"link",r),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(y,j))}}function cj(r,o){Ol.M(r,o);var u=jd;if(u&&r){var m=Hs(u).hoistableScripts,y=Sd(r),j=m.get(y);j||(j=u.querySelector(Pu(y)),j||(r=p({src:r,async:!0,type:"module"},o),(o=Qr.get(y))&&W0(r,o),j=u.createElement("script"),Us(j),ba(j,"link",r),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(y,j))}}function Ib(r,o,u,m){var y=(y=se.current)?bf(y):null;if(!y)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_d(u.href),u=Hs(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=_d(u.href);var j=Hs(y).hoistableStyles,U=j.get(r);if(U||(y=y.ownerDocument||y,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(r,U),(j=y.querySelector(Tu(r)))&&!j._p&&(U.instance=j,U.state.loading=5),Qr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Qr.set(r,u),j||dj(y,r,u,U.state))),o&&m===null)throw Error(a(528,""));return U}if(o&&m!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sd(u),u=Hs(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function _d(r){return'href="'+bs(r)+'"'}function Tu(r){return'link[rel="stylesheet"]['+r+"]"}function qb(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function dj(r,o,u,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ba(o,"link",u),Us(o),r.head.appendChild(o))}function Sd(r){return'[src="'+bs(r)+'"]'}function Pu(r){return"script[async]"+r}function zb(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+bs(u.href)+'"]');if(m)return o.instance=m,Us(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Us(m),ba(m,"style",y),yf(m,u.precedence,r),o.instance=m;case"stylesheet":y=_d(u.href);var j=r.querySelector(Tu(y));if(j)return o.state.loading|=4,o.instance=j,Us(j),j;m=qb(u),(y=Qr.get(y))&&V0(m,y),j=(r.ownerDocument||r).createElement("link"),Us(j);var U=j;return U._p=new Promise(function(te,ge){U.onload=te,U.onerror=ge}),ba(j,"link",m),o.state.loading|=4,yf(j,u.precedence,r),o.instance=j;case"script":return j=Sd(u.src),(y=r.querySelector(Pu(j)))?(o.instance=y,Us(y),y):(m=u,(y=Qr.get(j))&&(m=p({},u),W0(m,y)),r=r.ownerDocument||r,y=r.createElement("script"),Us(y),ba(y,"link",m),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,yf(m,u.precedence,r));return o.instance}function yf(r,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,j=y,U=0;U<m.length;U++){var te=m[U];if(te.dataset.precedence===o)j=te;else if(j!==y)break}j?j.parentNode.insertBefore(r,j.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function V0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function W0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var vf=null;function Hb(r,o,u){if(vf===null){var m=new Map,y=vf=new Map;y.set(u,m)}else y=vf,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var j=u[y];if(!(j[X]||j[xs]||r==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var U=j.getAttribute(o)||"";U=r+U;var te=m.get(U);te?te.push(j):m.set(U,[j])}}return m}function $b(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function uj(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Vb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Bu=null;function hj(){}function fj(r,o,u){if(Bu===null)throw Error(a(475));var m=Bu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=_d(u.href),j=r.querySelector(Tu(y));if(j){r=j._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=wf.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=j,Us(j);return}j=r.ownerDocument||r,u=qb(u),(y=Qr.get(y))&&V0(u,y),j=j.createElement("link"),Us(j);var U=j;U._p=new Promise(function(te,ge){U.onload=te,U.onerror=ge}),ba(j,"link",u),o.instance=j}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=wf.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function mj(){if(Bu===null)throw Error(a(475));var r=Bu;return r.stylesheets&&r.count===0&&G0(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&G0(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function wf(){if(this.count--,this.count===0){if(this.stylesheets)G0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nf=null;function G0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nf=new Map,o.forEach(pj,r),Nf=null,wf.call(r))}function pj(r,o){if(!(o.state.loading&4)){var u=Nf.get(r);if(u)var m=u.get(null);else{u=new Map,Nf.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<y.length;j++){var U=y[j];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(u.set(U.dataset.precedence,U),m=U)}m&&u.set(null,m)}y=o.instance,U=y.getAttribute("data-precedence"),j=u.get(U)||m,j===m&&u.set(null,y),u.set(U,y),this.count++,m=wf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),j?j.parentNode.insertBefore(y,j.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var Ru={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xj(r,o,u,m,y,j,U,te){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=j,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function Wb(r,o,u,m,y,j,U,te,ge,Fe,Xe,nt){return r=new xj(r,o,u,U,te,ge,Fe,nt),o=1,j===!0&&(o|=24),j=ta(3,null,null,o),r.current=j,j.stateNode=r,o=lu(),o.refCount++,r.pooledCache=o,o.refCount++,j.memoizedState={element:m,isDehydrated:u,cache:o},De(j),r}function Gb(r){return r?(r=zn,r):zn}function Yb(r,o,u,m,y,j){y=Gb(y),m.context===null?m.context=y:m.pendingContext=y,m=Ve(o),m.payload={element:u},j=j===void 0?null:j,j!==null&&(m.callback=j),u=it(r,m,o),u!==null&&(yr(u,r,o),st(u,r,o))}function Kb(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Y0(r,o){Kb(r,o),(r=r.alternate)&&Kb(r,o)}function Qb(r){if(r.tag===13){var o=yl(r,67108864);o!==null&&yr(o,r,67108864),Y0(r,67108864)}}var jf=!0;function gj(r,o,u,m){var y=Z.T;Z.T=null;var j=re.p;try{re.p=2,K0(r,o,u,m)}finally{re.p=j,Z.T=y}}function bj(r,o,u,m){var y=Z.T;Z.T=null;var j=re.p;try{re.p=8,K0(r,o,u,m)}finally{re.p=j,Z.T=y}}function K0(r,o,u,m){if(jf){var y=Q0(m);if(y===null)P0(r,o,m,_f,u),Zb(r,m);else if(vj(y,r,o,u,m))m.stopPropagation();else if(Zb(r,m),o&4&&-1<yj.indexOf(r)){for(;y!==null;){var j=ns(y);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var U=Tt(j.pendingLanes);if(U!==0){var te=j;for(te.pendingLanes|=2,te.entangledLanes|=2;U;){var ge=1<<31-Ee(U);te.entanglements[1]|=ge,U&=~ge}Ji(j),(Ts&6)===0&&(lf=at()+500,Du(0))}}break;case 13:te=yl(j,2),te!==null&&yr(te,j,2),cf(),Y0(j,2)}if(j=Q0(m),j===null&&P0(r,o,m,_f,u),j===y)break;y=j}y!==null&&m.stopPropagation()}else P0(r,o,m,null,u)}}function Q0(r){return r=Qo(r),X0(r)}var _f=null;function X0(r){if(_f=null,r=wt(r),r!==null){var o=l(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return _f=r,null}function Xb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case et:return 2;case ft:return 8;case ot:case yt:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Z0=!1,Ao=null,Eo=null,Lo=null,Uu=new Map,Iu=new Map,Do=[],yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(r,o){switch(r){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Uu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(o.pointerId)}}function qu(r,o,u,m,y,j){return r===null||r.nativeEvent!==j?(r={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[y]},o!==null&&(o=ns(o),o!==null&&Qb(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function vj(r,o,u,m,y){switch(o){case"focusin":return Ao=qu(Ao,r,o,u,m,y),!0;case"dragenter":return Eo=qu(Eo,r,o,u,m,y),!0;case"mouseover":return Lo=qu(Lo,r,o,u,m,y),!0;case"pointerover":var j=y.pointerId;return Uu.set(j,qu(Uu.get(j)||null,r,o,u,m,y)),!0;case"gotpointercapture":return j=y.pointerId,Iu.set(j,qu(Iu.get(j)||null,r,o,u,m,y)),!0}return!1}function Jb(r){var o=wt(r.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){r.blockedOn=o,Rt(r.priority,function(){if(u.tag===13){var m=br();m=Zs(m);var y=yl(u,m);y!==null&&yr(y,u,m),Y0(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Q0(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);Cr=m,u.target.dispatchEvent(m),Cr=null}else return o=ns(u),o!==null&&Qb(o),r.blockedOn=u,!1;o.shift()}return!0}function ey(r,o,u){Sf(r)&&u.delete(o)}function wj(){Z0=!1,Ao!==null&&Sf(Ao)&&(Ao=null),Eo!==null&&Sf(Eo)&&(Eo=null),Lo!==null&&Sf(Lo)&&(Lo=null),Uu.forEach(ey),Iu.forEach(ey)}function Cf(r,o){r.blockedOn===o&&(r.blockedOn=null,Z0||(Z0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wj)))}var kf=null;function ty(r){kf!==r&&(kf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kf===r&&(kf=null);for(var o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],y=r[o+2];if(typeof m!="function"){if(X0(m||u)===null)continue;break}var j=ns(u);j!==null&&(r.splice(o,3),o-=3,Gr(j,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function zu(r){function o(ge){return Cf(ge,r)}Ao!==null&&Cf(Ao,r),Eo!==null&&Cf(Eo,r),Lo!==null&&Cf(Lo,r),Uu.forEach(o),Iu.forEach(o);for(var u=0;u<Do.length;u++){var m=Do[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Do.length&&(u=Do[0],u.blockedOn===null);)Jb(u),u.blockedOn===null&&Do.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],j=u[m+1],U=y[vt]||null;if(typeof j=="function")U||ty(u);else if(U){var te=null;if(j&&j.hasAttribute("formAction")){if(y=j,U=j[vt]||null)te=U.formAction;else if(X0(y)!==null)continue}else te=U.action;typeof te=="function"?u[m+1]=te:(u.splice(m,3),m-=3),ty(u)}}}function J0(r){this._internalRoot=r}Af.prototype.render=J0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,m=br();Yb(u,m,r,o,null,null)},Af.prototype.unmount=J0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Yb(r.current,2,null,r,null,null),cf(),o[Ms]=null}};function Af(r){this._internalRoot=r}Af.prototype.unstable_scheduleHydration=function(r){if(r){var o=Aa();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Do.length&&o!==0&&o<Do[u].priority;u++);Do.splice(u,0,r),u===0&&Jb(r)}};var sy=e.version;if(sy!=="19.1.0")throw Error(a(527,sy,"19.1.0"));re.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var Nj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Qe=Ef.inject(Nj),je=Ef}catch{}}return $u.createRoot=function(r,o){if(!i(r))throw Error(a(299));var u=!1,m="",y=bg,j=yg,U=vg,te=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(te=o.unstable_transitionCallbacks)),o=Wb(r,1,!1,null,null,u,m,y,j,U,te,null),r[Ms]=o.current,T0(r),new J0(o)},$u.hydrateRoot=function(r,o,u){if(!i(r))throw Error(a(299));var m=!1,y="",j=bg,U=yg,te=vg,ge=null,Fe=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(j=u.onUncaughtError),u.onCaughtError!==void 0&&(U=u.onCaughtError),u.onRecoverableError!==void 0&&(te=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ge=u.unstable_transitionCallbacks),u.formState!==void 0&&(Fe=u.formState)),o=Wb(r,1,!0,o,u??null,m,y,j,U,te,ge,Fe),o.context=Gb(null),u=o.current,m=br(),m=Zs(m),y=Ve(m),y.callback=null,it(u,y,m),u=m,o.current.lanes=u,mt(o,u),Ji(o),r[Ms]=o.current,T0(r),new Af(o)},$u.version="19.1.0",$u}var hy;function Fj(){if(hy)return sp.exports;hy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sp.exports=Mj(),sp.exports}var Oj=Fj(),Vu={},fy;function Tj(){if(fy)return Vu;fy=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=c,Vu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,b){const N=new l,S=w.length;if(S<2)return N;const k=b?.decode||p;let _=0;do{const E=w.indexOf("=",_);if(E===-1)break;const D=w.indexOf(";",_),R=D===-1?S:D;if(E>R){_=w.lastIndexOf(";",E-1)+1;continue}const I=d(w,_,E),ne=h(w,E,I),K=w.slice(I,ne);if(N[K]===void 0){let B=d(w,E+1,R),H=h(w,R,B);const ee=k(w.slice(B,H));N[K]=ee}_=R+1}while(_<S);return N}function d(w,b,N){do{const S=w.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<N);return N}function h(w,b,N){for(;b>N;){const S=w.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return N}function f(w,b,N){const S=N?.encode||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=S(b);if(!e.test(k))throw new TypeError(`argument val is invalid: ${b}`);let _=w+"="+k;if(!N)return _;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);_+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);_+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);_+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);_+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(_+="; HttpOnly"),N.secure&&(_+="; Secure"),N.partitioned&&(_+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return _}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return i.call(w)==="[object Date]"}return Vu}Tj();var my="popstate";function Pj(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return Yp("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:ch(i)}return Rj(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bj(){return Math.random().toString(36).substring(2,10)}function py(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zd(e):e,state:n,key:e&&e.key||a||Bj()}}function ch({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function Rj(t,e,n,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let k=p(),_=k==null?null:k-f;f=k,h&&h({action:d,location:S.location,delta:_})}function w(k,_){d="PUSH";let E=Yp(S.location,k,_);f=p()+1;let D=py(E,f),R=S.createHref(E);try{c.pushState(D,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(R)}l&&h&&h({action:d,location:S.location,delta:1})}function b(k,_){d="REPLACE";let E=Yp(S.location,k,_);f=p();let D=py(E,f),R=S.createHref(E);c.replaceState(D,"",R),l&&h&&h({action:d,location:S.location,delta:0})}function N(k){return Uj(k)}let S={get action(){return d},get location(){return t(i,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(my,x),h=k,()=>{i.removeEventListener(my,x),h=null}},createHref(k){return e(i,k)},createURL:N,encodeLocation(k){let _=N(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:b,go(k){return c.go(k)}};return S}function Uj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fn(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:ch(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Cv(t,e,n="/"){return Ij(t,e,n,!1)}function Ij(t,e,n,a){let i=typeof e=="string"?zd(e):e,l=Hl(i.pathname||"/",n);if(l==null)return null;let c=kv(t);qj(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=Zj(l);d=Qj(c[h],f,a)}return d}function kv(t,e=[],n=[],a=""){let i=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(fn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let f=zl([a,h.relativePath]),p=n.concat(h);l.children&&l.children.length>0&&(fn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kv(l.children,e,p,f)),!(l.path==null&&!l.index)&&e.push({path:f,score:Yj(f,l.index),routesMeta:p})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))i(l,c);else for(let d of Av(l.path))i(l,c,d)}),e}function Av(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=Av(a.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function qj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kj(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var zj=/^:[\w-]+$/,Hj=3,$j=2,Vj=1,Wj=10,Gj=-2,xy=t=>t==="*";function Yj(t,e){let n=t.split("/"),a=n.length;return n.some(xy)&&(a+=Gj),e&&(a+=$j),n.filter(i=>!xy(i)).reduce((i,l)=>i+(zj.test(l)?Hj:l===""?Vj:Wj),a)}function Kj(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function Qj(t,e,n=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],f=d===a.length-1,p=l==="/"?e:e.slice(l.length)||"/",x=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),w=h.route;if(!x&&f&&n&&!a[a.length-1].route.index&&(x=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:zl([l,x.pathname]),pathnameBase:s4(zl([l,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(l=zl([l,x.pathnameBase]))}return c}function pm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=Xj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:x},w)=>{if(p==="*"){let N=d[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const b=d[w];return x&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function Xj(t,e=!1,n=!0){Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function Zj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Jj(t,e="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?zd(t):t;return{pathname:n?n.startsWith("/")?n:e4(n,e):e,search:n4(a),hash:a4(i)}}function e4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kx(t){let e=t4(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ax(t,e,n,a=!1){let i;typeof t=="string"?i=zd(t):(i={...t},fn(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),x-=1;i.pathname=w.join("/")}d=x>=0?e[x]:"/"}let h=Jj(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var zl=t=>t.join("/").replace(/\/\/+/g,"/"),s4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ev=["POST","PUT","PATCH","DELETE"];new Set(Ev);var i4=["GET",...Ev];new Set(i4);var Hd=L.createContext(null);Hd.displayName="DataRouter";var Fm=L.createContext(null);Fm.displayName="DataRouterState";var Lv=L.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var l4=L.createContext(new Map);l4.displayName="Fetchers";var o4=L.createContext(null);o4.displayName="Await";var Di=L.createContext(null);Di.displayName="Navigation";var bh=L.createContext(null);bh.displayName="Location";var si=L.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Ex=L.createContext(null);Ex.displayName="RouteError";function c4(t,{relative:e}={}){fn($d(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=L.useContext(Di),{hash:i,pathname:l,search:c}=vh(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:zl([n,l])),a.createHref({pathname:d,search:c,hash:i})}function $d(){return L.useContext(bh)!=null}function ar(){return fn($d(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(bh).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mv(t){L.useContext(Di).static||L.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=L.useContext(si);return t?_4():d4()}function d4(){fn($d(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Hd),{basename:e,navigator:n}=L.useContext(Di),{matches:a}=L.useContext(si),{pathname:i}=ar(),l=JSON.stringify(kx(a)),c=L.useRef(!1);return Mv(()=>{c.current=!0}),L.useCallback((h,f={})=>{if(Jr(c.current,Dv),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=Ax(h,JSON.parse(l),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zl([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,l,i,t])}var u4=L.createContext(null);function h4(t){let e=L.useContext(si).outlet;return e&&L.createElement(u4.Provider,{value:t},e)}function yh(){let{matches:t}=L.useContext(si),e=t[t.length-1];return e?e.params:{}}function vh(t,{relative:e}={}){let{matches:n}=L.useContext(si),{pathname:a}=ar(),i=JSON.stringify(kx(n));return L.useMemo(()=>Ax(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function f4(t,e){return Fv(t,e)}function Fv(t,e,n,a){fn($d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(Di),{matches:l}=L.useContext(si),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let _=p&&p.path||"";Ov(h,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=ar(),w;if(e){let _=typeof e=="string"?zd(e):e;fn(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),w=_}else w=x;let b=w.pathname||"/",N=b;if(f!=="/"){let _=f.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=Cv(t,{pathname:N});Jr(p||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=b4(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:zl([f,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:zl([f,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,a);return e&&k?L.createElement(bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function m4(){let t=j4(),e=r4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,c)}var p4=L.createElement(m4,null),x4=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(si.Provider,{value:this.props.routeContext},L.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g4({routeContext:t,match:e,children:n}){let a=L.useContext(Hd);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(si.Provider,{value:t},n)}function b4(t,e=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n?.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);fn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=n,w=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let x,w=!1,b=null,N=null;n&&(x=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||p4,c&&(d<0&&p===0?(Ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):d===p&&(w=!0,N=f.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),k=()=>{let _;return x?_=b:w?_=N:f.route.Component?_=L.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,L.createElement(g4,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?L.createElement(x4,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function Lx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y4(t){let e=L.useContext(Hd);return fn(e,Lx(t)),e}function v4(t){let e=L.useContext(Fm);return fn(e,Lx(t)),e}function w4(t){let e=L.useContext(si);return fn(e,Lx(t)),e}function Dx(t){let e=w4(t),n=e.matches[e.matches.length-1];return fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N4(){return Dx("useRouteId")}function j4(){let t=L.useContext(Ex),e=v4("useRouteError"),n=Dx("useRouteError");return t!==void 0?t:e.errors?.[n]}function _4(){let{router:t}=y4("useNavigate"),e=Dx("useNavigate"),n=L.useRef(!1);return Mv(()=>{n.current=!0}),L.useCallback(async(i,l={})=>{Jr(n.current,Dv),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var gy={};function Ov(t,e,n){!e&&!gy[t]&&(gy[t]=!0,Jr(!1,n))}L.memo(S4);function S4({routes:t,future:e,state:n}){return Fv(t,void 0,n,e)}function C4({to:t,replace:e,state:n,relative:a}){fn($d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=L.useContext(Di);Jr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(si),{pathname:c}=ar(),d=ya(),h=Ax(t,kx(l),c,a==="path"),f=JSON.stringify(h);return L.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:a})},[d,f,a,e,n]),null}function k4(t){return h4(t.context)}function Qs(t){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A4({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:i,static:l=!1}){fn(!$d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof n=="string"&&(n=zd(n));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:w="default"}=n,b=L.useMemo(()=>{let N=Hl(h,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:x,key:w},navigationType:a}},[c,h,f,p,x,w,a]);return Jr(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(Di.Provider,{value:d},L.createElement(bh.Provider,{children:e,value:b}))}function E4({children:t,location:e}){return f4(Kp(t),e)}function Kp(t,e=[]){let n=[];return L.Children.forEach(t,(a,i)=>{if(!L.isValidElement(a))return;let l=[...e,i];if(a.type===L.Fragment){n.push.apply(n,Kp(a.props.children,l));return}fn(a.type===Qs,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Kp(a.props.children,l)),n.push(c)}),n}var tm="get",sm="application/x-www-form-urlencoded";function Om(t){return t!=null&&typeof t.tagName=="string"}function L4(t){return Om(t)&&t.tagName.toLowerCase()==="button"}function D4(t){return Om(t)&&t.tagName.toLowerCase()==="form"}function M4(t){return Om(t)&&t.tagName.toLowerCase()==="input"}function F4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O4(t,e){return t.button===0&&(!e||e==="_self")&&!F4(t)}function Qp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let a=t[n];return e.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function T4(t,e){let n=Qp(t);return e&&e.forEach((a,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var Lf=null;function P4(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var B4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(t){return t!=null&&!B4.has(t)?(Jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):t}function R4(t,e){let n,a,i,l,c;if(D4(t)){let d=t.getAttribute("action");a=d?Hl(d,e):null,n=t.getAttribute("method")||tm,i=lp(t.getAttribute("enctype"))||sm,l=new FormData(t)}else if(L4(t)||M4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(a=h?Hl(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||tm,i=lp(t.getAttribute("formenctype"))||lp(d.getAttribute("enctype"))||sm,l=new FormData(d,t),!P4()){let{name:f,type:p,value:x}=t;if(p==="image"){let w=f?`${f}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else f&&l.append(f,x)}}else{if(Om(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tm,a=null,i=sm,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:l,body:c}}function Mx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function U4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function q4(t,e,n){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await U4(l,n);return c.links?c.links():[]}return[]}));return V4(a.flat(1).filter(I4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function by(t,e,n,a,i,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{let p=a.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function z4(t,e,{includeHydrateFallback:n}={}){return H4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function H4(t){return[...new Set(t)]}function $4(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function V4(t,e){let n=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify($4(i));return n.has(l)||(n.add(l),a.push({key:l,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W4=new Set([100,101,204,205]);function G4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Tv(){let t=L.useContext(Hd);return Mx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Y4(){let t=L.useContext(Fm);return Mx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fx=L.createContext(void 0);Fx.displayName="FrameworkContext";function Pv(){let t=L.useContext(Fx);return Mx(t,"You must render this element inside a <HydratedRouter> element"),t}function K4(t,e){let n=L.useContext(Fx),[a,i]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=_=>{_.forEach(E=>{c(E.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),L.useEffect(()=>{if(a){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[a]);let b=()=>{i(!0)},N=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Wu(d,b),onBlur:Wu(h,N),onMouseEnter:Wu(f,b),onMouseLeave:Wu(p,N),onTouchStart:Wu(x,b)}]:[!1,w,{}]}function Wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q4({page:t,...e}){let{router:n}=Tv(),a=L.useMemo(()=>Cv(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?L.createElement(Z4,{page:t,matches:a,...e}):null}function X4(t){let{manifest:e,routeModules:n}=Pv(),[a,i]=L.useState([]);return L.useEffect(()=>{let l=!1;return q4(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),a}function Z4({page:t,matches:e,...n}){let a=ar(),{manifest:i,routeModules:l}=Pv(),{basename:c}=Tv(),{loaderData:d,matches:h}=Y4(),f=L.useMemo(()=>by(t,e,h,i,a,"data"),[t,e,h,i,a]),p=L.useMemo(()=>by(t,e,h,i,a,"assets"),[t,e,h,i,a]),x=L.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let N=new Set,S=!1;if(e.forEach(_=>{let E=i.routes[_.route.id];!E||!E.hasLoader||(!f.some(D=>D.route.id===_.route.id)&&_.route.id in d&&l[_.route.id]?.shouldRevalidate||E.hasClientLoader?S=!0:N.add(_.route.id))}),N.size===0)return[];let k=G4(t,c);return S&&N.size>0&&k.searchParams.set("_routes",e.filter(_=>N.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[c,d,a,i,f,e,t,l]),w=L.useMemo(()=>z4(p,i),[p,i]),b=X4(p);return L.createElement(L.Fragment,null,x.map(N=>L.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>L.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),b.map(({key:N,link:S})=>L.createElement("link",{key:N,...S})))}function J4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.6.3")}catch{}function e3({basename:t,children:e,window:n}){let a=L.useRef();a.current==null&&(a.current=Pj({window:n,v5Compat:!0}));let i=a.current,[l,c]=L.useState({action:i.action,location:i.location}),d=L.useCallback(h=>{L.startTransition(()=>c(h))},[c]);return L.useLayoutEffect(()=>i.listen(d),[i,d]),L.createElement(A4,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tm=L.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:x,...w},b){let{basename:N}=L.useContext(Di),S=typeof f=="string"&&Rv.test(f),k,_=!1;if(typeof f=="string"&&S&&(k=f,Bv))try{let H=new URL(window.location.href),ee=f.startsWith("//")?new URL(H.protocol+f):new URL(f),T=Hl(ee.pathname,N);ee.origin===H.origin&&T!=null?f=T+ee.search+ee.hash:_=!0}catch{Jr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=c4(f,{relative:i}),[D,R,I]=K4(a,w),ne=a3(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:x});function K(H){e&&e(H),H.defaultPrevented||ne(H)}let B=L.createElement("a",{...w,...I,href:k||E,onClick:_||l?e:K,ref:J4(b,R),target:h,"data-discover":!S&&n==="render"?"true":void 0});return D&&!S?L.createElement(L.Fragment,null,B,L.createElement(Q4,{page:E})):B});Tm.displayName="Link";var t3=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let x=vh(c,{relative:f.relative}),w=ar(),b=L.useContext(Fm),{navigator:N,basename:S}=L.useContext(Di),k=b!=null&&c3(x)&&d===!0,_=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,E=w.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(E=E.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&S&&(D=Hl(D,S)||D);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=E===_||!i&&E.startsWith(_)&&E.charAt(R)==="/",ne=D!=null&&(D===_||!i&&D.startsWith(_)&&D.charAt(_.length)==="/"),K={isActive:I,isPending:ne,isTransitioning:k},B=I?e:void 0,H;typeof a=="function"?H=a(K):H=[a,I?"active":null,ne?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ee=typeof l=="function"?l(K):l;return L.createElement(Tm,{...f,"aria-current":B,className:H,ref:p,style:ee,to:c,viewTransition:d},typeof h=="function"?h(K):h)});t3.displayName="NavLink";var s3=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:i,state:l,method:c=tm,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:x,...w},b)=>{let N=l3(),S=o3(d,{relative:f}),k=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Rv.test(d),E=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let R=D.nativeEvent.submitter,I=R?.getAttribute("formmethod")||c;N(R||D.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:l,relative:f,preventScrollReset:p,viewTransition:x})};return L.createElement("form",{ref:b,method:k,action:S,onSubmit:a?h:E,...w,"data-discover":!_&&t==="render"?"true":void 0})});s3.displayName="Form";function n3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(t){let e=L.useContext(Hd);return fn(e,n3(t)),e}function a3(t,{target:e,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=ya(),h=ar(),f=vh(t,{relative:l});return L.useCallback(p=>{if(O4(p,e)){p.preventDefault();let x=n!==void 0?n:ch(h)===ch(f);d(t,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:c})}},[h,d,f,n,a,e,t,i,l,c])}function Iv(t){Jr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Qp(t)),n=L.useRef(!1),a=ar(),i=L.useMemo(()=>T4(a.search,n.current?null:e.current),[a.search]),l=ya(),c=L.useCallback((d,h)=>{const f=Qp(typeof d=="function"?d(i):d);n.current=!0,l("?"+f,h)},[l,i]);return[i,c]}var r3=0,i3=()=>`__${String(++r3)}__`;function l3(){let{router:t}=Uv("useSubmit"),{basename:e}=L.useContext(Di),n=N4();return L.useCallback(async(a,i={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=R4(a,e);if(i.navigate===!1){let p=i.fetcherKey||i3();await t.fetch(p,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function o3(t,{relative:e}={}){let{basename:n}=L.useContext(Di),a=L.useContext(si);fn(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...vh(t||".",{relative:e})},c=ar();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zl([n,l.pathname])),ch(l)}function c3(t,e={}){let n=L.useContext(Lv);fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Uv("useViewTransitionState"),i=vh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Hl(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Hl(n.nextLocation.pathname,a)||n.nextLocation.pathname;return pm(i.pathname,c)!=null||pm(i.pathname,l)!=null}[...W4];const d3=({name:t,link:e,sub:n=[],isActiveCheck:a,icon:i,onClick:l,menuStatus:c})=>{const d=ar(),[h,f]=L.useState(a);return d.pathname.split("/")[1]==e.split("/")[1]&&console.log("true"),L.useEffect(()=>{f(d.pathname.split("/")[1]==e.split("/")[1]||n.some(p=>d.pathname===p.link||d.pathname.split("/")[1]===e.split("/")[1]))},[d.pathname,e,n]),s.jsx("div",{className:"relative",children:s.jsxs(Tm,{to:e,onClick:l,className:`group  flex items-center py-3 rounded-md transition-all duration-200 mx-4 relative group:
          ${h?"bg-white text-[#273E8E]":"text-gray-400 hover:bg-white hover:text-[#273E8E]"}`,children:[s.jsx("img",{src:i,alt:`${t} icon`,className:`w-10 h-10 ${h?"invert":"group-hover:invert"} `}),!c&&s.jsx("span",{className:"font-medium",children:t}),s.jsx("div",{className:`absolute right-1 top-1/2 h-[40%] bg-[#273E8E] w-1 rounded hidden transform -translate-y-1/2 ${h?"block":"group-hover:block"}`})]})})},xt={logo:"/assets/sidebar/logo.svg",dashboard:"/assets/sidebar/dashboard.svg",usermgt:"/assets/sidebar/userMgt.svg",creditMgt:"/assets/sidebar/credit.svg",Loanmgt:"/assets/sidebar/loan.svg",loansDisbursement:"/assets/sidebar/loanBank.svg",Transactions:"/assets/sidebar/transaction.svg",balance:"/assets/sidebar/balance.svg",ShopMgt:"/assets/sidebar/shopMgt.svg",referral:"/assets/sidebar/referral.svg",tickets:"/assets/sidebar/tickets.svg",analytics:"/assets/sidebar/Analytics.svg",settings:"/assets/sidebar/setting.svg",logout:"/assets/sidebar/SignOut.svg",bell:"/assets/images/bell.svg",dots:"/assets/images/3dots.svg",cross:"/assets/images/cross.svg",arrow:"/assets/images/arrow.svg",users:"/assets/images/Users.png",tick:"/assets/images/tick.svg",minibundle:"/assets/images/minibundle.png",maxibundle:"/assets/images/maxibundle.png",plus:"/assets/images/plus.svg",minus:"/assets/images/minus.svg",Lightning:"/assets/images/Lightning.svg",loginImage:"/assets/images/loginImage.jpg",insta:"/assets/images/insta.png",whatsApp:"/assets/images/whatsApp.png",twitter:"/assets/images/twitter.png",yt:"/assets/images/yt.png",logo1:"/assets/images/logo.png",loginImageForSm:"/assets/images/loginImageForSm.jpg",smLogo:"/assets/images/smLogo.png"},u3=[{name:"Dashboard",link:"/dashboard",icon:xt.dashboard,sublinks:[]},{name:"User Mgt",link:"/user-mgt",icon:xt.usermgt,sublinks:[]},{name:"Credit Score",link:"/credit-score",icon:xt.creditMgt,sublinks:[]},{name:"Initial Loan Applications",link:"/loans-approval",icon:xt.Loanmgt,sublinks:[]},{name:"Loans Mgt",link:"/loans-mgt",icon:xt.Loanmgt,sublinks:[]},{name:"Loans Disbursement",link:"/loans-disbursement",icon:xt.loansDisbursement,sublinks:[]},{name:"Transactions",link:"/transactions",icon:xt.Transactions,sublinks:[]},{name:"Balances",link:"/balances",icon:xt.balance,sublinks:[]},{name:"Shop Mgt",link:"/shop-mgt",icon:xt.ShopMgt,sublinks:[]},{name:"BNPL & Buy Now",link:"/bnpl-buynow",icon:xt.ShopMgt,sublinks:[]},{name:"Material Mgt",link:"/material-mgt",icon:xt.ShopMgt,sublinks:[]},{name:"Bundle Mgt",link:"/bundle-mgt",icon:xt.ShopMgt,sublinks:[]},{name:"Referral Mgt",link:"/referral-mgt",icon:xt.referral,sublinks:[]},{name:"Tickets",link:"/tickets",icon:xt.tickets,sublinks:[]},{name:"Analytics",link:"/analytics",icon:xt.analytics,sublinks:[]},{name:"Settings",link:"/settings",icon:xt.settings,sublinks:[]}];var Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function Ua(){}function h3(t,e){return typeof t=="function"?t(e):t}function Xp(t){return typeof t=="number"&&t>=0&&t!==1/0}function qv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uo(t,e){return typeof t=="function"?t(e):t}function Zr(t,e){return typeof t=="function"?t(e):t}function yy(t,e){const{type:n="all",exact:a,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(a){if(e.queryHash!==Ox(c,e.options))return!1}else if(!dh(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function vy(t,e){const{exact:n,status:a,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Tc(e.options.mutationKey)!==Tc(l))return!1}else if(!dh(e.options.mutationKey,l))return!1}return!(a&&e.state.status!==a||i&&!i(e))}function Ox(t,e){return(e?.queryKeyHashFn||Tc)(t)}function Tc(t){return JSON.stringify(t,(e,n)=>Zp(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>dh(t[n],e[n])):!1}var f3=Object.prototype.hasOwnProperty;function zv(t,e){if(t===e)return t;const n=wy(t)&&wy(e);if(!n&&!(Zp(t)&&Zp(e)))return e;const i=(n?t:Object.keys(t)).length,l=n?e:Object.keys(e),c=l.length,d=n?new Array(c):{};let h=0;for(let f=0;f<c;f++){const p=n?f:l[f],x=t[p],w=e[p];if(x===w){d[p]=x,(n?f<i:f3.call(t,p))&&h++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){d[p]=w;continue}const b=zv(x,w);d[p]=b,b===x&&h++}return i===c&&h===i?t:d}function xm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!Ny(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ny(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ny(t){return Object.prototype.toString.call(t)==="[object Object]"}function m3(t){return new Promise(e=>{setTimeout(e,t)})}function Jp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zv(t,e):e}function p3(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function x3(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var Tx=Symbol();function Hv(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Tx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $v(t,e){return typeof t=="function"?t(...e):!!t}var g3=class extends Vd{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Px=new g3,b3=class extends Vd{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},gm=new b3;function ex(){let t,e;const n=new Promise((i,l)=>{t=i,e=l});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},n.reject=i=>{a({status:"rejected",reason:i}),e(i)},n}function y3(t){return Math.min(1e3*2**t,3e4)}function Vv(t){return(t??"online")==="online"?gm.isOnline():!0}var tx=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Wv(t){let e=!1,n=0,a;const i=ex(),l=()=>i.status!=="pending",c=S=>{if(!l()){const k=new tx(S);w(k),t.onCancel?.(k)}},d=()=>{e=!0},h=()=>{e=!1},f=()=>Px.isFocused()&&(t.networkMode==="always"||gm.isOnline())&&t.canRun(),p=()=>Vv(t.networkMode)&&t.canRun(),x=S=>{l()||(a?.(),i.resolve(S))},w=S=>{l()||(a?.(),i.reject(S))},b=()=>new Promise(S=>{a=k=>{(l()||f())&&S(k)},t.onPause?.()}).then(()=>{a=void 0,l()||t.onContinue?.()}),N=()=>{if(l())return;let S;const k=n===0?t.initialPromise:void 0;try{S=k??t.fn()}catch(_){S=Promise.reject(_)}Promise.resolve(S).then(x).catch(_=>{if(l())return;const E=t.retry??(Oc?0:3),D=t.retryDelay??y3,R=typeof D=="function"?D(n,_):D,I=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!I){w(_);return}n++,t.onFail?.(n,_),m3(R).then(()=>f()?void 0:b()).then(()=>{e?w(_):N()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(a?.(),i),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?N():b().then(N),i)}}var v3=t=>setTimeout(t,0);function w3(){let t=[],e=0,n=d=>{d()},a=d=>{d()},i=v3;const l=d=>{e?t.push(d):i(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{a(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{i=d}}}var Qn=w3(),Gv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xp(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},N3=class extends Gv{#t;#e;#s;#n;#a;#i;#l;constructor(t){super(),this.#l=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=j3(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const n=Jp(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Ua).catch(Ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Uo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qv(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const d=Hv(this.options,e),f=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(p),p})();return this.#l=!1,this.options.persister?this.options.persister(d,f,this):d(f)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#r({type:"fetch",meta:c.fetchOptions?.meta}),this.#a=Wv({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof tx&&d.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(d,h)=>{this.#r({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#a.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#s.config.onSuccess?.(d,this),this.#s.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof tx){if(d.silent)return this.#a.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#r({type:"error",error:d}),this.#s.config.onError?.(d,this),this.#s.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Yv(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?a:void 0,a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Qn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Yv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vv(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function j3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _3=class extends Vd{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const a=e.queryKey,i=e.queryHash??Ox(a,e);let l=this.get(i);return l||(l=new N3({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>yy(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>yy(t,n)):e}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},S3=class extends Gv{#t;#e;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Kv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#s=Wv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",a=!this.#s.canStart();try{if(n)e();else{this.#n({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const l=await this.options.onMutate?.(t);l!==this.state.context&&this.#n({type:"pending",context:l,variables:t,isPaused:a})}const i=await this.#s.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Qn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Kv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C3=class extends Vd{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,e,n){const a=new S3({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:n});return this.add(a),a}add(t){this.#t.add(t);const e=Df(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Df(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Df(t);if(typeof e=="string"){const a=this.#e.get(e)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=Df(t);return typeof e=="string"?this.#e.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Qn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>vy(e,n))}findAll(t={}){return this.getAll().filter(e=>vy(t,e))}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Qn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ua))))}};function Df(t){return t.options.scope?.id}function jy(t){return{onFetch:(e,n)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const f=async()=>{let p=!1;const x=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},w=Hv(e.options,e.fetchOptions),b=async(N,S,k)=>{if(p)return Promise.reject();if(S==null&&N.pages.length)return Promise.resolve(N);const E=(()=>{const ne={client:e.client,queryKey:e.queryKey,pageParam:S,direction:k?"backward":"forward",meta:e.options.meta};return x(ne),ne})(),D=await w(E),{maxPages:R}=e.options,I=k?x3:p3;return{pages:I(N.pages,D,R),pageParams:I(N.pageParams,S,R)}};if(i&&l.length){const N=i==="backward",S=N?k3:_y,k={pages:l,pageParams:c},_=S(a,k);d=await b(k,_,N)}else{const N=t??l.length;do{const S=h===0?c[0]??a.initialPageParam:_y(a,d);if(h>0&&S==null)break;d=await b(d,S),h++}while(h<N)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function _y(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function k3(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var A3=class{#t;#e;#s;#n;#a;#i;#l;#r;constructor(t={}){this.#t=t.queryCache||new _3,this.#e=t.mutationCache||new C3,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Px.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=gm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Uo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),l=this.#t.get(a.queryHash)?.state.data,c=h3(e,l);if(c!==void 0)return this.#t.build(this,a).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Qn.batch(()=>this.#t.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Qn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Qn.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=Qn.batch(()=>this.#t.findAll(t).map(i=>i.cancel(n)));return Promise.all(a).then(Ua).catch(Ua)}invalidateQueries(t,e={}){return Qn.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=Qn.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Ua)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(Ua)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(Uo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ua).catch(Ua)}fetchInfiniteQuery(t){return t.behavior=jy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ua).catch(Ua)}ensureInfiniteQueryData(t){return t.behavior=jy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gm.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#n.set(Tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],n={};return e.forEach(a=>{dh(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){this.#a.set(Tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],n={};return e.forEach(a=>{dh(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ox(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tx&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},E3=class extends Vd{constructor(t,e){super(),this.options=e,this.#t=t,this.#r=null,this.#l=ex(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#s=void 0;#n=void 0;#a;#i;#l;#r;#p;#h;#f;#c;#d;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Sy(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sx(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sx(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),e._defaulted&&!xm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&Cy(this.#e,n,this.options,e)&&this.#u(),this.updateResult(),a&&(this.#e!==n||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||Uo(this.options.staleTime,this.#e)!==Uo(e.staleTime,this.#e))&&this.#x();const i=this.#g();a&&(this.#e!==n||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||i!==this.#o)&&this.#b(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return D3(this,n)&&(this.#n=n,this.#i=this.options,this.#a=this.#e.state),n}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),e?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#N();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ua)),e}#x(){this.#v();const t=Uo(this.options.staleTime,this.#e);if(Oc||this.#n.isStale||!Xp(t))return;const n=qv(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#o=t,!(Oc||Zr(this.options.enabled,this.#e)===!1||!Xp(this.#o)||this.#o===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||Px.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#b(this.#g())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,e){const n=this.#e,a=this.options,i=this.#n,l=this.#a,c=this.#i,h=t!==n?t.state:this.#s,{state:f}=t;let p={...f},x=!1,w;if(e._optimisticResults){const B=this.hasListeners(),H=!B&&Sy(t,e),ee=B&&Cy(t,n,e,a);(H||ee)&&(p={...p,...Yv(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:N,status:S}=p;w=p.data;let k=!1;if(e.placeholderData!==void 0&&w===void 0&&S==="pending"){let B;i?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(B=i.data,k=!0):B=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,B!==void 0&&(S="success",w=Jp(i?.data,B,e),x=!0)}if(e.select&&w!==void 0&&!k)if(i&&w===l?.data&&e.select===this.#p)w=this.#h;else try{this.#p=e.select,w=e.select(w),w=Jp(i?.data,w,e),this.#h=w,this.#r=null}catch(B){this.#r=B}this.#r&&(b=this.#r,w=this.#h,N=Date.now(),S="error");const _=p.fetchStatus==="fetching",E=S==="pending",D=S==="error",R=E&&_,I=w!==void 0,K={status:S,fetchStatus:p.fetchStatus,isPending:E,isSuccess:S==="success",isError:D,isInitialLoading:R,isLoading:R,data:w,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:D&&!I,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:D&&I,isStale:Bx(t,e),refetch:this.refetch,promise:this.#l,isEnabled:Zr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=T=>{K.status==="error"?T.reject(K.error):K.data!==void 0&&T.resolve(K.data)},H=()=>{const T=this.#l=K.promise=ex();B(T)},ee=this.#l;switch(ee.status){case"pending":t.queryHash===n.queryHash&&B(ee);break;case"fulfilled":(K.status==="error"||K.data!==ee.value)&&H();break;case"rejected":(K.status!=="error"||K.error!==ee.reason)&&H();break}}return K}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#i=this.options,this.#a.data!==void 0&&(this.#f=this.#e),xm(e,t))return;this.#n=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(c=>{const d=c;return this.#n[d]!==t[d]&&l.has(d)})};this.#j({listeners:n()})}#N(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(t){Qn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function L3(t,e){return Zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Sy(t,e){return L3(t,e)||t.state.data!==void 0&&sx(t,e,e.refetchOnMount)}function sx(t,e,n){if(Zr(e.enabled,t)!==!1&&Uo(e.staleTime,t)!=="static"){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&Bx(t,e)}return!1}function Cy(t,e,n,a){return(t!==e||Zr(a.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Bx(t,n)}function Bx(t,e){return Zr(e.enabled,t)!==!1&&t.isStaleByTime(Uo(e.staleTime,t))}function D3(t,e){return!xm(t.getCurrentResult(),e)}var M3=class extends Vd{#t;#e=void 0;#s;#n;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),xm(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&Tc(n.mutationKey)!==Tc(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,n){return this.#n=n,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){const e=this.#s?.state??Kv();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Qn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#e.variables,a=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,a),this.#n.onSettled?.(e.data,null,n,a)):e?.type==="error"&&(this.#n.onError?.(e.error,n,a),this.#n.onSettled?.(void 0,e.error,n,a))}this.listeners.forEach(n=>{n(this.#e)})})}},Qv=L.createContext(void 0),ni=t=>{const e=L.useContext(Qv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},F3=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Qv.Provider,{value:t,children:e})),Xv=L.createContext(!1),O3=()=>L.useContext(Xv);Xv.Provider;function T3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var P3=L.createContext(T3()),B3=()=>L.useContext(P3),R3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},U3=t=>{L.useEffect(()=>{t.clearReset()},[t])},I3=({result:t,errorResetBoundary:e,throwOnError:n,query:a,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(i&&t.data===void 0||$v(n,[t.error,a])),q3=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...i)=>n(a(...i)):n(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},z3=(t,e)=>t.isLoading&&t.isFetching&&!e,H3=(t,e)=>t?.suspense&&e.isPending,ky=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $3(t,e,n){const a=O3(),i=B3(),l=ni(),c=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",q3(c),R3(c,i),U3(i);const d=!l.getQueryCache().get(c.queryHash),[h]=L.useState(()=>new e(l,c)),f=h.getOptimisticResult(c),p=!a&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(x=>{const w=p?h.subscribe(Qn.batchCalls(x)):Ua;return h.updateResult(),w},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),L.useEffect(()=>{h.setOptions(c)},[c,h]),H3(c,f))throw ky(c,h,i);if(I3({result:f,errorResetBoundary:i,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,f),c.experimental_prefetchInRender&&!Oc&&z3(f,a)&&(d?ky(c,h,i):l.getQueryCache().get(c.queryHash)?.promise)?.catch(Ua).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?f:h.trackResult(f)}function Ut(t,e){return $3(t,E3)}function It(t,e){const n=ni(),[a]=L.useState(()=>new M3(n,t));L.useEffect(()=>{a.setOptions(t)},[a,t]);const i=L.useSyncExternalStore(L.useCallback(c=>a.subscribe(Qn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=L.useCallback((c,d)=>{a.mutate(c,d).catch(Ua)},[a]);if(i.error&&$v(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}/*! js-cookie v3.0.5 | MIT */function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}var V3={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function nx(t,e){function n(i,l,c){if(!(typeof document>"u")){c=Mf({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var h in c)c[h]&&(d+="; "+h,c[h]!==!0&&(d+="="+c[h].split(";")[0]));return document.cookie=i+"="+t.write(l,i)+d}}function a(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},d=0;d<l.length;d++){var h=l[d].split("="),f=h.slice(1).join("=");try{var p=decodeURIComponent(h[0]);if(c[p]=t.read(f,p),i===p)break}catch{}}return i?c[i]:c}}return Object.create({set:n,get:a,remove:function(i,l){n(i,"",Mf({},l,{expires:-1}))},withAttributes:function(i){return nx(this.converter,Mf({},this.attributes,i))},withConverter:function(i){return nx(Mf({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var es=nx(V3,{path:"/"});function Zv(t,e){return function(){return t.apply(e,arguments)}}const{toString:W3}=Object.prototype,{getPrototypeOf:Rx}=Object,{iterator:Pm,toStringTag:Jv}=Symbol,Bm=(t=>e=>{const n=W3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=t=>(t=t.toLowerCase(),e=>Bm(e)===t),Rm=t=>e=>typeof e===t,{isArray:Wd}=Array,uh=Rm("undefined");function wh(t){return t!==null&&!uh(t)&&t.constructor!==null&&!uh(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const e5=Mi("ArrayBuffer");function G3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&e5(t.buffer),e}const Y3=Rm("string"),tr=Rm("function"),t5=Rm("number"),Nh=t=>t!==null&&typeof t=="object",K3=t=>t===!0||t===!1,nm=t=>{if(Bm(t)!=="object")return!1;const e=Rx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Jv in t)&&!(Pm in t)},Q3=t=>{if(!Nh(t)||wh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},X3=Mi("Date"),Z3=Mi("File"),J3=Mi("Blob"),e_=Mi("FileList"),t_=t=>Nh(t)&&tr(t.pipe),s_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=Bm(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},n_=Mi("URLSearchParams"),[a_,r_,i_,l_]=["ReadableStream","Request","Response","Headers"].map(Mi),o_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Wd(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{if(wh(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(a=0;a<c;a++)d=l[a],e.call(null,t[d],d,t)}}function s5(t,e){if(wh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let a=n.length,i;for(;a-- >0;)if(i=n[a],e===i.toLowerCase())return i;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n5=t=>!uh(t)&&t!==Ec;function ax(){const{caseless:t}=n5(this)&&this||{},e={},n=(a,i)=>{const l=t&&s5(e,i)||i;nm(e[l])&&nm(a)?e[l]=ax(e[l],a):nm(a)?e[l]=ax({},a):Wd(a)?e[l]=a.slice():e[l]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&jh(arguments[a],n);return e}const c_=(t,e,n,{allOwnKeys:a}={})=>(jh(e,(i,l)=>{n&&tr(i)?t[l]=Zv(i,n):t[l]=i},{allOwnKeys:a}),t),d_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),u_=(t,e,n,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},h_=(t,e,n,a)=>{let i,l,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!a||a(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&Rx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},f_=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const a=t.indexOf(e,n);return a!==-1&&a===n},m_=t=>{if(!t)return null;if(Wd(t))return t;let e=t.length;if(!t5(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},p_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rx(Uint8Array)),x_=(t,e)=>{const a=(t&&t[Pm]).call(t);let i;for(;(i=a.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},g_=(t,e)=>{let n;const a=[];for(;(n=t.exec(e))!==null;)a.push(n);return a},b_=Mi("HTMLFormElement"),y_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),Ay=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),v_=Mi("RegExp"),a5=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),a={};jh(n,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(a[l]=c||i)}),Object.defineProperties(t,a)},w_=t=>{a5(t,(e,n)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(tr(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N_=(t,e)=>{const n={},a=i=>{i.forEach(l=>{n[l]=!0})};return Wd(t)?a(t):a(String(t).split(e)),n},j_=()=>{},__=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function S_(t){return!!(t&&tr(t.append)&&t[Jv]==="FormData"&&t[Pm])}const C_=t=>{const e=new Array(10),n=(a,i)=>{if(Nh(a)){if(e.indexOf(a)>=0)return;if(wh(a))return a;if(!("toJSON"in a)){e[i]=a;const l=Wd(a)?[]:{};return jh(a,(c,d)=>{const h=n(c,i+1);!uh(h)&&(l[d]=h)}),e[i]=void 0,l}}return a};return n(t,0)},k_=Mi("AsyncFunction"),A_=t=>t&&(Nh(t)||tr(t))&&tr(t.then)&&tr(t.catch),r5=((t,e)=>t?setImmediate:e?((n,a)=>(Ec.addEventListener("message",({source:i,data:l})=>{i===Ec&&l===n&&a.length&&a.shift()()},!1),i=>{a.push(i),Ec.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tr(Ec.postMessage)),E_=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||r5,L_=t=>t!=null&&tr(t[Pm]),qe={isArray:Wd,isArrayBuffer:e5,isBuffer:wh,isFormData:s_,isArrayBufferView:G3,isString:Y3,isNumber:t5,isBoolean:K3,isObject:Nh,isPlainObject:nm,isEmptyObject:Q3,isReadableStream:a_,isRequest:r_,isResponse:i_,isHeaders:l_,isUndefined:uh,isDate:X3,isFile:Z3,isBlob:J3,isRegExp:v_,isFunction:tr,isStream:t_,isURLSearchParams:n_,isTypedArray:p_,isFileList:e_,forEach:jh,merge:ax,extend:c_,trim:o_,stripBOM:d_,inherits:u_,toFlatObject:h_,kindOf:Bm,kindOfTest:Mi,endsWith:f_,toArray:m_,forEachEntry:x_,matchAll:g_,isHTMLForm:b_,hasOwnProperty:Ay,hasOwnProp:Ay,reduceDescriptors:a5,freezeMethods:w_,toObjectSet:N_,toCamelCase:y_,noop:j_,toFiniteNumber:__,findKey:s5,global:Ec,isContextDefined:n5,isSpecCompliantForm:S_,toJSONObject:C_,isAsyncFn:k_,isThenable:A_,setImmediate:r5,asap:E_,isIterable:L_};function is(t,e,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}qe.inherits(is,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const i5=is.prototype,l5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{l5[t]={value:t}});Object.defineProperties(is,l5);Object.defineProperty(i5,"isAxiosError",{value:!0});is.from=(t,e,n,a,i,l)=>{const c=Object.create(i5);return qe.toFlatObject(t,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),is.call(c,t.message,e,n,a,i),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const D_=null;function rx(t){return qe.isPlainObject(t)||qe.isArray(t)}function o5(t){return qe.endsWith(t,"[]")?t.slice(0,-2):t}function Ey(t,e,n){return t?t.concat(e).map(function(i,l){return i=o5(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function M_(t){return qe.isArray(t)&&!t.some(rx)}const F_=qe.toFlatObject(qe,{},null,function(e){return/^is[A-Z]/.test(e)});function Um(t,e,n){if(!qe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=qe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!qe.isUndefined(k[S])});const a=n.metaTokens,i=n.visitor||p,l=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(e);if(!qe.isFunction(i))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(qe.isDate(N))return N.toISOString();if(qe.isBoolean(N))return N.toString();if(!h&&qe.isBlob(N))throw new is("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(N)||qe.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,S,k){let _=N;if(N&&!k&&typeof N=="object"){if(qe.endsWith(S,"{}"))S=a?S:S.slice(0,-2),N=JSON.stringify(N);else if(qe.isArray(N)&&M_(N)||(qe.isFileList(N)||qe.endsWith(S,"[]"))&&(_=qe.toArray(N)))return S=o5(S),_.forEach(function(D,R){!(qe.isUndefined(D)||D===null)&&e.append(c===!0?Ey([S],R,l):c===null?S:S+"[]",f(D))}),!1}return rx(N)?!0:(e.append(Ey(k,S,l),f(N)),!1)}const x=[],w=Object.assign(F_,{defaultVisitor:p,convertValue:f,isVisitable:rx});function b(N,S){if(!qe.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+S.join("."));x.push(N),qe.forEach(N,function(_,E){(!(qe.isUndefined(_)||_===null)&&i.call(e,_,qe.isString(E)?E.trim():E,S,w))===!0&&b(_,S?S.concat(E):[E])}),x.pop()}}if(!qe.isObject(t))throw new TypeError("data must be an object");return b(t),e}function Ly(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Ux(t,e){this._pairs=[],t&&Um(t,this,e)}const c5=Ux.prototype;c5.append=function(e,n){this._pairs.push([e,n])};c5.toString=function(e){const n=e?function(a){return e.call(this,a,Ly)}:Ly;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function O_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function d5(t,e,n){if(!e)return t;const a=n&&n.encode||O_;qe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(e,n):l=qe.isURLSearchParams(e)?e.toString():new Ux(e,n).toString(a),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Dy{constructor(){this.handlers=[]}use(e,n,a){return this.handlers.push({fulfilled:e,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qe.forEach(this.handlers,function(a){a!==null&&e(a)})}}const u5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T_=typeof URLSearchParams<"u"?URLSearchParams:Ux,P_=typeof FormData<"u"?FormData:null,B_=typeof Blob<"u"?Blob:null,R_={isBrowser:!0,classes:{URLSearchParams:T_,FormData:P_,Blob:B_},protocols:["http","https","file","blob","url","data"]},Ix=typeof window<"u"&&typeof document<"u",ix=typeof navigator=="object"&&navigator||void 0,U_=Ix&&(!ix||["ReactNative","NativeScript","NS"].indexOf(ix.product)<0),I_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",q_=Ix&&window.location.href||"http://localhost",z_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ix,hasStandardBrowserEnv:U_,hasStandardBrowserWebWorkerEnv:I_,navigator:ix,origin:q_},Symbol.toStringTag,{value:"Module"})),ka={...z_,...R_};function H_(t,e){return Um(t,new ka.classes.URLSearchParams,{visitor:function(n,a,i,l){return ka.isNode&&qe.isBuffer(n)?(this.append(a,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function $_(t){return qe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function V_(t){const e={},n=Object.keys(t);let a;const i=n.length;let l;for(a=0;a<i;a++)l=n[a],e[l]=t[l];return e}function h5(t){function e(n,a,i,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=l>=n.length;return c=!c&&qe.isArray(i)?i.length:c,h?(qe.hasOwnProp(i,c)?i[c]=[i[c],a]:i[c]=a,!d):((!i[c]||!qe.isObject(i[c]))&&(i[c]=[]),e(n,a,i[c],l)&&qe.isArray(i[c])&&(i[c]=V_(i[c])),!d)}if(qe.isFormData(t)&&qe.isFunction(t.entries)){const n={};return qe.forEachEntry(t,(a,i)=>{e($_(a),i,n,0)}),n}return null}function W_(t,e,n){if(qe.isString(t))try{return(e||JSON.parse)(t),qe.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const _h={transitional:u5,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,l=qe.isObject(e);if(l&&qe.isHTMLForm(e)&&(e=new FormData(e)),qe.isFormData(e))return i?JSON.stringify(h5(e)):e;if(qe.isArrayBuffer(e)||qe.isBuffer(e)||qe.isStream(e)||qe.isFile(e)||qe.isBlob(e)||qe.isReadableStream(e))return e;if(qe.isArrayBufferView(e))return e.buffer;if(qe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return H_(e,this.formSerializer).toString();if((d=qe.isFileList(e))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Um(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),W_(e)):e}],transformResponse:[function(e){const n=this.transitional||_h.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(qe.isResponse(e)||qe.isReadableStream(e))return e;if(e&&qe.isString(e)&&(a&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?is.from(d,is.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ka.classes.FormData,Blob:ka.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],t=>{_h.headers[t]={}});const G_=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Y_=t=>{const e={};let n,a,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),a=c.substring(i+1).trim(),!(!n||e[n]&&G_[n])&&(n==="set-cookie"?e[n]?e[n].push(a):e[n]=[a]:e[n]=e[n]?e[n]+", "+a:a)}),e},My=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function am(t){return t===!1||t==null?t:qe.isArray(t)?t.map(am):String(t)}function K_(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)e[a[1]]=a[2];return e}const Q_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function op(t,e,n,a,i){if(qe.isFunction(a))return a.call(this,e,n);if(i&&(e=n),!!qe.isString(e)){if(qe.isString(a))return e.indexOf(a)!==-1;if(qe.isRegExp(a))return a.test(e)}}function X_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,a)=>n.toUpperCase()+a)}function Z_(t,e){const n=qe.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(i,l,c){return this[a].call(this,e,i,l,c)},configurable:!0})})}let sr=class{constructor(e){e&&this.set(e)}set(e,n,a){const i=this;function l(d,h,f){const p=Gu(h);if(!p)throw new Error("header name must be a non-empty string");const x=qe.findKey(i,p);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||h]=am(d))}const c=(d,h)=>qe.forEach(d,(f,p)=>l(f,p,h));if(qe.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(qe.isString(e)&&(e=e.trim())&&!Q_(e))c(Y_(e),n);else if(qe.isObject(e)&&qe.isIterable(e)){let d={},h,f;for(const p of e){if(!qe.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(h=d[f])?qe.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,n)}else e!=null&&l(n,e,a);return this}get(e,n){if(e=Gu(e),e){const a=qe.findKey(this,e);if(a){const i=this[a];if(!n)return i;if(n===!0)return K_(i);if(qe.isFunction(n))return n.call(this,i,a);if(qe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gu(e),e){const a=qe.findKey(this,e);return!!(a&&this[a]!==void 0&&(!n||op(this,this[a],a,n)))}return!1}delete(e,n){const a=this;let i=!1;function l(c){if(c=Gu(c),c){const d=qe.findKey(a,c);d&&(!n||op(a,a[d],d,n))&&(delete a[d],i=!0)}}return qe.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const l=n[a];(!e||op(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,a={};return qe.forEach(this,(i,l)=>{const c=qe.findKey(a,l);if(c){n[c]=am(i),delete n[l];return}const d=e?X_(l):String(l).trim();d!==l&&delete n[l],n[d]=am(i),a[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return qe.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=e&&qe.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const a=new this(e);return n.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[My]=this[My]={accessors:{}}).accessors,i=this.prototype;function l(c){const d=Gu(c);a[d]||(Z_(i,c),a[d]=!0)}return qe.isArray(e)?e.forEach(l):l(e),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(sr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[n]=a}}});qe.freezeMethods(sr);function cp(t,e){const n=this||_h,a=e||n,i=sr.from(a.headers);let l=a.data;return qe.forEach(t,function(d){l=d.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function f5(t){return!!(t&&t.__CANCEL__)}function Gd(t,e,n){is.call(this,t??"canceled",is.ERR_CANCELED,e,n),this.name="CanceledError"}qe.inherits(Gd,is,{__CANCEL__:!0});function m5(t,e,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):e(new is("Request failed with status code "+n.status,[is.ERR_BAD_REQUEST,is.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e6(t,e){t=t||10;const n=new Array(t),a=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=a[l];c||(c=f),n[i]=h,a[i]=f;let x=l,w=0;for(;x!==i;)w+=n[x++],x=x%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),f-c<e)return;const b=p&&f-p;return b?Math.round(w*1e3/b):void 0}}function t6(t,e){let n=0,a=1e3/e,i,l;const c=(f,p=Date.now())=>{n=p,i=null,l&&(clearTimeout(l),l=null),t(...f)};return[(...f)=>{const p=Date.now(),x=p-n;x>=a?c(f,p):(i=f,l||(l=setTimeout(()=>{l=null,c(i)},a-x)))},()=>i&&c(i)]}const bm=(t,e,n=3)=>{let a=0;const i=e6(50,250);return t6(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,h=c-a,f=i(h),p=c<=d;a=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},n)},Fy=(t,e)=>{const n=t!=null;return[a=>e[0]({lengthComputable:n,total:t,loaded:a}),e[1]]},Oy=t=>(...e)=>qe.asap(()=>t(...e)),s6=ka.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ka.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ka.origin),ka.navigator&&/(msie|trident)/i.test(ka.navigator.userAgent)):()=>!0,n6=ka.hasStandardBrowserEnv?{write(t,e,n,a,i,l){const c=[t+"="+encodeURIComponent(e)];qe.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),qe.isString(a)&&c.push("path="+a),qe.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function p5(t,e,n){let a=!a6(e);return t&&(a||n==!1)?r6(t,e):e}const Ty=t=>t instanceof sr?{...t}:t;function Pc(t,e){e=e||{};const n={};function a(f,p,x,w){return qe.isPlainObject(f)&&qe.isPlainObject(p)?qe.merge.call({caseless:w},f,p):qe.isPlainObject(p)?qe.merge({},p):qe.isArray(p)?p.slice():p}function i(f,p,x,w){if(qe.isUndefined(p)){if(!qe.isUndefined(f))return a(void 0,f,x,w)}else return a(f,p,x,w)}function l(f,p){if(!qe.isUndefined(p))return a(void 0,p)}function c(f,p){if(qe.isUndefined(p)){if(!qe.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,x){if(x in e)return a(f,p);if(x in t)return a(void 0,f)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,x)=>i(Ty(f),Ty(p),x,!0)};return qe.forEach(Object.keys({...t,...e}),function(p){const x=h[p]||i,w=x(t[p],e[p],p);qe.isUndefined(w)&&x!==d||(n[p]=w)}),n}const x5=t=>{const e=Pc({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=sr.from(c),e.url=d5(p5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(qe.isFormData(n)){if(ka.hasStandardBrowserEnv||ka.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[f,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([f||"multipart/form-data",...p].join("; "))}}if(ka.hasStandardBrowserEnv&&(a&&qe.isFunction(a)&&(a=a(e)),a||a!==!1&&s6(e.url))){const f=i&&l&&n6.read(l);f&&c.set(i,f)}return e},i6=typeof XMLHttpRequest<"u",l6=i6&&function(t){return new Promise(function(n,a){const i=x5(t);let l=i.data;const c=sr.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=i,p,x,w,b,N;function S(){b&&b(),N&&N(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function _(){if(!k)return;const D=sr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),I={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:D,config:t,request:k};m5(function(K){n(K),S()},function(K){a(K),S()},I),k=null}"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(_)},k.onabort=function(){k&&(a(new is("Request aborted",is.ECONNABORTED,t,k)),k=null)},k.onerror=function(){a(new is("Network Error",is.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||u5;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),a(new is(R,I.clarifyTimeoutError?is.ETIMEDOUT:is.ECONNABORTED,t,k)),k=null},l===void 0&&c.setContentType(null),"setRequestHeader"in k&&qe.forEach(c.toJSON(),function(R,I){k.setRequestHeader(I,R)}),qe.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),d&&d!=="json"&&(k.responseType=i.responseType),f&&([w,N]=bm(f,!0),k.addEventListener("progress",w)),h&&k.upload&&([x,b]=bm(h),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(p=D=>{k&&(a(!D||D.type?new Gd(null,t,k):D),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=J_(i.url);if(E&&ka.protocols.indexOf(E)===-1){a(new is("Unsupported protocol "+E+":",is.ERR_BAD_REQUEST,t));return}k.send(l||null)})},o6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let a=new AbortController,i;const l=function(f){if(!i){i=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof is?p:new Gd(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new is(`timeout ${e} of ms exceeded`,is.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(l):f.removeEventListener("abort",l)}),t=null)};t.forEach(f=>f.addEventListener("abort",l));const{signal:h}=a;return h.unsubscribe=()=>qe.asap(d),h}},c6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let a=0,i;for(;a<n;)i=a+e,yield t.slice(a,i),a=i},d6=async function*(t,e){for await(const n of u6(t))yield*c6(n,e)},u6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:a}=await e.read();if(n)break;yield a}}finally{await e.cancel()}},Py=(t,e,n,a)=>{const i=d6(t,e);let l=0,c,d=h=>{c||(c=!0,a&&a(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await i.next();if(f){d(),h.close();return}let x=p.byteLength;if(n){let w=l+=x;n(w)}h.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},Im=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",g5=Im&&typeof ReadableStream=="function",h6=Im&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),b5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},f6=g5&&b5(()=>{let t=!1;const e=new Request(ka.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),By=64*1024,lx=g5&&b5(()=>qe.isReadableStream(new Response("").body)),ym={stream:lx&&(t=>t.body)};Im&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ym[e]&&(ym[e]=qe.isFunction(t[e])?n=>n[e]():(n,a)=>{throw new is(`Response type '${e}' is not supported`,is.ERR_NOT_SUPPORT,a)})})})(new Response);const m6=async t=>{if(t==null)return 0;if(qe.isBlob(t))return t.size;if(qe.isSpecCompliantForm(t))return(await new Request(ka.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(t)||qe.isArrayBuffer(t))return t.byteLength;if(qe.isURLSearchParams(t)&&(t=t+""),qe.isString(t))return(await h6(t)).byteLength},p6=async(t,e)=>{const n=qe.toFiniteNumber(t.getContentLength());return n??m6(e)},x6=Im&&(async t=>{let{url:e,method:n,data:a,signal:i,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:w}=x5(t);f=f?(f+"").toLowerCase():"text";let b=o6([i,l&&l.toAbortSignal()],c),N;const S=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let k;try{if(h&&f6&&n!=="get"&&n!=="head"&&(k=await p6(p,a))!==0){let I=new Request(e,{method:"POST",body:a,duplex:"half"}),ne;if(qe.isFormData(a)&&(ne=I.headers.get("content-type"))&&p.setContentType(ne),I.body){const[K,B]=Fy(k,bm(Oy(h)));a=Py(I.body,By,K,B)}}qe.isString(x)||(x=x?"include":"omit");const _="credentials"in Request.prototype;N=new Request(e,{...w,signal:b,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:_?x:void 0});let E=await fetch(N,w);const D=lx&&(f==="stream"||f==="response");if(lx&&(d||D&&S)){const I={};["status","statusText","headers"].forEach(H=>{I[H]=E[H]});const ne=qe.toFiniteNumber(E.headers.get("content-length")),[K,B]=d&&Fy(ne,bm(Oy(d),!0))||[];E=new Response(Py(E.body,By,K,()=>{B&&B(),S&&S()}),I)}f=f||"text";let R=await ym[qe.findKey(ym,f)||"text"](E,t);return!D&&S&&S(),await new Promise((I,ne)=>{m5(I,ne,{data:R,headers:sr.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:N})})}catch(_){throw S&&S(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new is("Network Error",is.ERR_NETWORK,t,N),{cause:_.cause||_}):is.from(_,_&&_.code,t,N)}}),ox={http:D_,xhr:l6,fetch:x6};qe.forEach(ox,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ry=t=>`- ${t}`,g6=t=>qe.isFunction(t)||t===null||t===!1,y5={getAdapter:t=>{t=qe.isArray(t)?t:[t];const{length:e}=t;let n,a;const i={};for(let l=0;l<e;l++){n=t[l];let c;if(a=n,!g6(n)&&(a=ox[(c=String(n)).toLowerCase()],a===void 0))throw new is(`Unknown adapter '${c}'`);if(a)break;i[c||"#"+l]=a}if(!a){const l=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(Ry).join(`
`):" "+Ry(l[0]):"as no adapter specified";throw new is("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:ox};function dp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gd(null,t)}function Uy(t){return dp(t),t.headers=sr.from(t.headers),t.data=cp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),y5.getAdapter(t.adapter||_h.adapter)(t).then(function(a){return dp(t),a.data=cp.call(t,t.transformResponse,a),a.headers=sr.from(a.headers),a},function(a){return f5(a)||(dp(t),a&&a.response&&(a.response.data=cp.call(t,t.transformResponse,a.response),a.response.headers=sr.from(a.response.headers))),Promise.reject(a)})}const v5="1.11.0",qm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qm[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const Iy={};qm.transitional=function(e,n,a){function i(l,c){return"[Axios v"+v5+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,d)=>{if(e===!1)throw new is(i(c," has been removed"+(n?" in "+n:"")),is.ERR_DEPRECATED);return n&&!Iy[c]&&(Iy[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};qm.spelling=function(e){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function b6(t,e,n){if(typeof t!="object")throw new is("options must be an object",is.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const l=a[i],c=e[l];if(c){const d=t[l],h=d===void 0||c(d,l,t);if(h!==!0)throw new is("option "+l+" must be "+h,is.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new is("Unknown option "+l,is.ERR_BAD_OPTION)}}const rm={assertOptions:b6,validators:qm},el=rm.validators;let Dc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Dy,response:new Dy}}async request(e,n){try{return await this._request(e,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pc(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:l}=n;a!==void 0&&rm.assertOptions(a,{silentJSONParsing:el.transitional(el.boolean),forcedJSONParsing:el.transitional(el.boolean),clarifyTimeoutError:el.transitional(el.boolean)},!1),i!=null&&(qe.isFunction(i)?n.paramsSerializer={serialize:i}:rm.assertOptions(i,{encode:el.function,serialize:el.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rm.assertOptions(n,{baseUrl:el.spelling("baseURL"),withXsrfToken:el.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&qe.merge(l.common,l[n.method]);l&&qe.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),n.headers=sr.concat(c,l);const d=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(h=h&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,x=0,w;if(!h){const N=[Uy.bind(this),void 0];for(N.unshift(...d),N.push(...f),w=N.length,p=Promise.resolve(n);x<w;)p=p.then(N[x++],N[x++]);return p}w=d.length;let b=n;for(x=0;x<w;){const N=d[x++],S=d[x++];try{b=N(b)}catch(k){S.call(this,k);break}}try{p=Uy.call(this,b)}catch(N){return Promise.reject(N)}for(x=0,w=f.length;x<w;)p=p.then(f[x++],f[x++]);return p}getUri(e){e=Pc(this.defaults,e);const n=p5(e.baseURL,e.url,e.allowAbsoluteUrls);return d5(n,e.params,e.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(e){Dc.prototype[e]=function(n,a){return this.request(Pc(a||{},{method:e,url:n,data:(a||{}).data}))}});qe.forEach(["post","put","patch"],function(e){function n(a){return function(l,c,d){return this.request(Pc(d||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Dc.prototype[e]=n(),Dc.prototype[e+"Form"]=n(!0)});let y6=class w5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const a=this;this.promise.then(i=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](i);a._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(d=>{a.subscribe(d),l=d}).then(i);return c.cancel=function(){a.unsubscribe(l)},c},e(function(l,c,d){a.reason||(a.reason=new Gd(l,c,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=a=>{e.abort(a)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new w5(function(i){e=i}),cancel:e}}};function v6(t){return function(n){return t.apply(null,n)}}function w6(t){return qe.isObject(t)&&t.isAxiosError===!0}const cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cx).forEach(([t,e])=>{cx[e]=t});function N5(t){const e=new Dc(t),n=Zv(Dc.prototype.request,e);return qe.extend(n,Dc.prototype,e,{allOwnKeys:!0}),qe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return N5(Pc(t,i))},n}const Xs=N5(_h);Xs.Axios=Dc;Xs.CanceledError=Gd;Xs.CancelToken=y6;Xs.isCancel=f5;Xs.VERSION=v5;Xs.toFormData=Um;Xs.AxiosError=is;Xs.Cancel=Xs.CanceledError;Xs.all=function(e){return Promise.all(e)};Xs.spread=v6;Xs.isAxiosError=w6;Xs.mergeConfig=Pc;Xs.AxiosHeaders=sr;Xs.formToJSON=t=>h5(qe.isHTMLForm(t)?new FormData(t):t);Xs.getAdapter=y5.getAdapter;Xs.HttpStatusCode=cx;Xs.default=Xs;const{Axios:kM,AxiosError:AM,CanceledError:EM,isCancel:LM,CancelToken:DM,VERSION:MM,all:FM,Cancel:OM,isAxiosError:TM,spread:PM,toFormData:BM,AxiosHeaders:RM,HttpStatusCode:UM,formToJSON:IM,getAdapter:qM,mergeConfig:zM}=Xs;class qy extends Error{data;statusText="";statusCode;constructor(e,n,a,i){super(),this.data=e,this.message=a,this.statusText=n,this.statusCode=i}}const ct=async(t,e,n,a)=>{let i;i={Authorization:a?`Bearer ${a}`:"","Content-Type":"application/json"},n&&n instanceof FormData&&(i["Content-Type"]="multipart/form-data");try{let l;switch(e){case"GET":l=await Xs.get(t,{headers:i});break;case"POST":l=await Xs.post(t,n,{headers:i});break;case"PUT":l=await Xs.put(t,n,{headers:i});break;case"DELETE":l=await Xs.delete(t,{headers:i});break;default:throw new Error("Unsupported HTTP method")}return l?.data}catch(l){throw console.log(l),Xs.isAxiosError(l)&&l.response?(l.response.status===401&&(es.remove("token"),window.location.pathname!=="/login"&&(window.location.href="/login")),new qy(l.response.data,l.response.data?.status||l.response.statusText,l.response.data?.message||"Something Went wrong",l.response.status)):new qy(void 0,"Network or server error occurred","Something went wrong")}},Ye="https://troosolar.hmstech.org/api",dt={ADMIN:{Login:Ye+"/admin-login",Logout:Ye+"/logout",Dashboard:Ye+"/admin/dashboard",UsersList:Ye+"/all-users",UserUpdate:t=>`${Ye}/update-user/${t}`,UserShow:t=>`${Ye}/single-user/${t}`,UpdateUser:Ye+"/update-user",AllLoanStatus:Ye+"/all-loan-status",FullLoanDetail:t=>`${Ye}/full-loan-detail/${t}`,SingleLoanDetail:t=>`${Ye}/single-loan-detail/${t}`,AllLoanDistributed:Ye+"/all-loan-distributed",LoanDistribute:t=>`${Ye}/loan-distributed/${t}`,SingleDocument:t=>`${Ye}/single-document/${t}`,SingleBeneficiary:t=>`${Ye}/single-beneficiary/${t}`,SendToPartner:t=>`${Ye}/send-to-partner/${t}`,LinkAccounts:t=>`${Ye}/link-accounts/${t}`,OrdersList:Ye+"/orders",OrderShow:t=>`${Ye}/orders/${t}`,OrderShowUser:t=>`${Ye}/orders/user/${t}`,ProductsList:Ye+"/products",ProductCreate:Ye+"/products",ProductShow:t=>`${Ye}/products/${t}`,ProductUpdate:t=>`${Ye}/products/${t}/update`,ProductDelete:t=>`${Ye}/products/${t}`,BundleCreate:Ye+"/bundles",BundleList:Ye+"/bundles",BundleShow:t=>`${Ye}/bundles/${t}`,BundleUpdate:t=>`${Ye}/bundles/${t}/update`,DeleteBundle:t=>`${Ye}/bundles/${t}`,BundleMaterialsList:t=>`${Ye}/bundles/${t}/materials`,BundleMaterialAdd:t=>`${Ye}/bundles/${t}/materials`,BundleMaterialUpdate:(t,e)=>`${Ye}/bundles/${t}/materials/${e}`,BundleMaterialDelete:(t,e)=>`${Ye}/bundles/${t}/materials/${e}`,BundleMaterialsBulkAdd:t=>`${Ye}/bundles/${t}/materials/bulk`,TransactionsList:Ye+"/transactions",TransactionShow:t=>`${Ye}/transactions/user/${t}`,AllTransaction:Ye+"/admin/users",AllBalances:Ye+"/all-balances",AllTickets:Ye+"/admin/tickets",TicketShow:t=>`${Ye}/admin/tickets/${t}`,ReplyTicket:t=>`${Ye}/admin/tickets/${t}/reply`,AdminNotificationsCreate:Ye+"/admin/notifications",NotificationsList:Ye+"/admin/notifications",AddNotification:Ye+"/admin/notifications",DeleteNotification:t=>`${Ye}/admin/notifications/${t}`,UpdateNotification:t=>`${Ye}/admin/notifications/${t}`,BannersList:Ye+"/admin/banners",AddBanner:Ye+"/admin/banners",DeleteBanner:t=>`${Ye}/admin/banners/${t}`,UpdateBanner:t=>`${Ye}/admin/banners/${t}`,FinancingPartnersList:Ye+"/admin/all-partners",AddFinancingPartner:Ye+"/admin/add-partner",DeleteFinancingPartner:t=>`${Ye}/admin/delete_partner/${t}`,UpdateFinancingPartner:t=>`${Ye}/admin/update-partner/${t}`,CategoriesList:Ye+"/categories",AddCategory:Ye+"/categories",DeleteCategory:t=>`${Ye}/categories/${t}`,UpdateCategory:t=>`${Ye}/categories/${t}/update`,BrandsList:Ye+"/brands",AddBrand:Ye+"/brands",DeleteBrand:t=>`${Ye}/brands/${t}`,UpdateBrand:t=>`${Ye}/brands/${t}`,BrandById:t=>`${Ye}/brands/${t}`,BrandByCategory:t=>`${Ye}/categories/${t}/brands`,GetSingleBrandByCategory:(t,e)=>`${Ye}/categories/${t}/brands/${e}`,AddUser:Ye+"/add-user",Get_User_Kyc_Detail:t=>`${Ye}/loan-kyc-details/${t}`,TicketStatusUpdate:t=>`${Ye}/admin/tickets/${t}/status`,EditUser:t=>`${Ye}/admin/user/edit-user/${t}`,SendToPartnerDetail:t=>`${Ye}/admin/send-to-partner/${t}`,MonoLoanCalculation:Ye+"/mono-loan-calculations",MonoLoanCalculationApproval:t=>`${Ye}/mono-loan/${t}`,LoanGrant:t=>`${Ye}/loan-application-grant/${t}`,RepaymentHistory:t=>`${Ye}/admin/installments/with-history/${t}`,UpdateOrderStatus:t=>`${Ye}/admin/order-update-status/${t}`,BNPLApplicationsList:Ye+"/admin/bnpl/applications",BNPLApplicationShow:t=>`${Ye}/admin/bnpl/applications/${t}`,BNPLApplicationUpdateStatus:t=>`${Ye}/admin/bnpl/applications/${t}/status`,BNPLGuarantorsList:Ye+"/admin/bnpl/guarantors",BNPLGuarantorUpdateStatus:t=>`${Ye}/admin/bnpl/guarantors/${t}/status`,BuyNowOrdersList:Ye+"/admin/orders/buy-now",BuyNowOrderShow:t=>`${Ye}/admin/orders/buy-now/${t}`,BuyNowOrderUpdateStatus:t=>`${Ye}/admin/orders/buy-now/${t}/status`,BNPLOrdersList:Ye+"/admin/orders/bnpl",BNPLOrderShow:t=>`${Ye}/admin/orders/bnpl/${t}`,OrderSummary:t=>`${Ye}/orders/${t}/summary`,OrderInvoiceDetails:t=>`${Ye}/orders/${t}/invoice-details`,LoanConfiguration:Ye+"/config/loan-configuration",AddOns:Ye+"/config/add-ons",DeliveryLocations:t=>t?`${Ye}/config/delivery-locations?state_id=${t}`:`${Ye}/config/delivery-locations`,AuditRequestsList:Ye+"/admin/audit/requests",AuditRequestShow:t=>`${Ye}/admin/audit/requests/${t}`,AuditRequestUpdateStatus:t=>`${Ye}/admin/audit/requests/${t}/status`,AuditUsersWithRequests:Ye+"/admin/audit/users-with-requests",CreateCustomOrder:Ye+"/admin/cart/create-custom-order",GetCartProducts:Ye+"/admin/cart/products",GetUserCart:t=>`${Ye}/admin/cart/user/${t}`,RemoveCartItem:(t,e)=>`${Ye}/admin/cart/user/${t}/item/${e}`,ClearUserCart:t=>`${Ye}/admin/cart/user/${t}/clear`,ResendCartEmail:t=>`${Ye}/admin/cart/resend-email/${t}`,Analytics:Ye+"/admin/analytics",ReferralSettings:Ye+"/admin/referral/settings",ReferralList:Ye+"/admin/referral/list",ReferralUserDetails:t=>`${Ye}/admin/referral/user/${t}`,SeedAll:Ye+"/seed/all",SeedRun:Ye+"/seed/run",MaterialCategoriesList:Ye+"/material-categories",MaterialCategoryShow:t=>`${Ye}/material-categories/${t}`,MaterialCategoryCreate:Ye+"/material-categories",MaterialCategoryUpdate:t=>`${Ye}/material-categories/${t}`,MaterialCategoryDelete:t=>`${Ye}/material-categories/${t}`,MaterialsList:Ye+"/materials",MaterialsByCategory:t=>`${Ye}/materials/category/${t}`,MaterialShow:t=>`${Ye}/materials/${t}`,MaterialCreate:Ye+"/materials",MaterialUpdate:t=>`${Ye}/materials/${t}`,MaterialDelete:t=>`${Ye}/materials/${t}`}},N6=async t=>await ct(dt.ADMIN.Login,"POST",t),j6=async()=>{const t=es.get("token");return await ct(dt.ADMIN.Logout,"POST",{},t)},_6=({setMobileOpen:t})=>{const e=ar(),n=ya(),[a,i]=L.useState("/dashboard"),[l,c]=L.useState(!1);L.useEffect(()=>{i(e.pathname)},[e.pathname]);const{mutate:d,isPending:h}=It({mutationFn:j6,onSuccess:()=>{es.remove("token"),n("/login")},onError:p=>{console.error("Logout failed:",p),es.remove("token"),n("/login")}}),f=()=>{d()};return s.jsxs("div",{className:`h-screen pb-10 overflow-auto transition-all duration-300 ${l?"w-[80px]":"w-[300px]"} bg-[#273E8E] text-white`,style:{scrollbarWidth:"thin",scrollbarColor:"white #273E8E"},children:[s.jsx("div",{className:"flex justify-end lg:hidden p-4",children:s.jsx("button",{className:"text-xl cursor-pointer",onClick:()=>t(!1),children:""})}),s.jsxs("div",{className:"flex items-center justify-between px-4",children:[s.jsx(Tm,{to:"/dashboard",children:s.jsx("img",{src:xt.logo,alt:"logo",className:"w-50 h-auto"})}),l&&s.jsx("div",{onClick:()=>c(!1),className:"absolute top-4 left-4 bg-gray-800 p-2 rounded-md",children:s.jsx("i",{className:"bi bi-arrow-left-short text-2xl"})})]}),s.jsx("nav",{className:"",children:s.jsx("ul",{className:"space-y-2",children:u3.map((p,x)=>s.jsx("li",{children:s.jsx(d3,{name:p.name,link:p.link,icon:p.icon,sub:p.sublinks,isActiveCheck:a===p.link,onClick:()=>i(p.link),menuStatus:l})},x))})}),s.jsx("div",{className:" pt-4 border-t-2 border-[#ffffff79] mx-4 mt-4 flex items-center justify-center",children:s.jsxs("button",{onClick:f,disabled:h,className:`flex items-center p-2 py-4 cursor-pointer gap-2 text-white font-bold rounded-lg w-full hover:border hover:border-white ${h?"opacity-60 cursor-not-allowed":""}`,children:[s.jsx("img",{src:xt.logout,alt:"logout",className:"w-6 h-6"}),!l&&s.jsx("span",{children:h?"Logging out...":"Logout"})]})})]})},S6=()=>{const[t,e]=L.useState(!1);return s.jsxs("div",{className:"flex bg-theme-light",children:[s.jsx("div",{className:`fixed lg:static top-0 left-0 z-20 transition-transform transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:w-fit`,children:s.jsx(_6,{setMobileOpen:e})}),s.jsx("div",{className:"w-full h-screen overflow-auto transition-all duration-300 bg-gray-100",children:s.jsx(k4,{})})]})},C6={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Approved loans",data:[1500,1500,1500,1500,1500,1500,1500,1500,1500],backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:[300,300,300,300,300,300,300,300,300],backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:[500,500,500,500,500,500,500,500,500],backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:[200,200,200,200,200,200,200,200,200],backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]},k6=[{title:"Total Users",value:"500",color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:"25",color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:"5",color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:"2,000,000",color:"text-green-600",icon:"/assets/images/loans.png"}],A6=["bg-[#e0e7ff]","bg-[#fee2e2]","bg-[#ede9fe]","bg-[#dcfce7]"],zy=["text-blue-700","text-red-600","text-purple-700","text-green-700"],E6=({stats:t})=>s.jsx("div",{className:"flex w-full gap-6",children:t.map((e,n)=>s.jsxs("div",{className:"flex-1 bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(0,0,0,0.08)] px-6 py-4 flex items-center min-w-[220px]",style:{boxShadow:"0px 4px 16px 0px #E0E7FF"},children:[s.jsx("div",{className:`w-16 h-16 flex items-center justify-center rounded-full ${A6[n]} mr-4`,children:s.jsx("img",{src:e.icon,alt:e.title,className:"w-8 h-8"})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("span",{className:`text-base font-medium ${zy[n]}`,children:e.title}),s.jsx("span",{className:`text-2xl font-bold ${zy[n]}`,children:e.value})]})]},n))}),L6=({orders:t})=>{const e=ya(),n=()=>{e("/shop-mgt")},a=()=>{e("/shop-mgt")};return s.jsxs("div",{className:"bg-white rounded-lg ",style:{height:420,overflow:"hidden"},children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#EBEBEB]",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Orders"}),s.jsx("button",{onClick:a,className:"text-blue-600 text-sm hover:underline cursor-pointer",children:"View All"})]}),s.jsx("div",{className:"space-y-3 p-4",style:{height:"350px",overflow:"hidden"},children:!t||t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("p",{className:"text-gray-500 text-lg font-medium mb-2",children:"No Orders Yet"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"There are no recent orders to display."})]}):t.slice(0,3).map((i,l)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx("img",{src:i.image||"/vite.svg",alt:i.name,className:"w-10 h-10 object-contain",onError:c=>{c.currentTarget.src="/vite.svg"}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:i.name}),s.jsx("p",{className:"text-blue-900 font-semibold text-base",children:i.price}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Placed by"," ",s.jsx("span",{className:"text-blue-600 underline",children:i.user})]})]})]}),s.jsx("button",{onClick:n,className:"text-white text-sm px-6 cursor-pointer py-2 rounded-full hover:opacity-90 transition font-medium shadow-sm",style:{backgroundColor:"#273E8E"},children:"View More"})]},l))})]})},D6=({users:t})=>{const e=ya(),[n,a]=L.useState(1),[i]=L.useState(10),l=Math.ceil(t.length/i),c=(n-1)*i,d=c+i,h=t.slice(c,d);return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl mt-[-35px] font-bold text-black mb-10",children:"Latest Users"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200",children:!t||t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),s.jsx("p",{className:"text-gray-500 text-lg font-medium mb-2",children:"No Users Yet"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"There are no users to display."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#EBEBEB] border border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-black font-medium flex justify-center items-center",children:s.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Phone"}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"BVN"}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Date Registered"}),s.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:h.map((f,p)=>s.jsxs("tr",{className:`${p!==h.length-1?"border-b border-gray-100":""} ${p%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap flex justify-center items-center",children:s.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 font-medium text-center",children:f.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.bvn}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center justify-end gap-4",children:[s.jsx("button",{className:"text-white px-4 py-2 rounded-full cursor-pointer text-sm font-medium transition hover:opacity-90",style:{backgroundColor:"#273E8E"},onClick:()=>{const x={id:f.id||"N/A",name:f.name||"Unknown User",email:f.email||"unknown@email.com",phone:f.phone||"0000000000",bvn:f.bvn||"00000000000",date:f.date||"01/01/1970"};e(`/user-activity/${f.id}`,{state:x})},children:"View Details"}),s.jsx("button",{className:" w-8 h-8 rounded flex items-center justify-center  cursor-pointer",children:s.jsx("img",{src:xt.dots,alt:""})})]})})]},f.id))})]}),l>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",c+1," to ",Math.min(d,t.length)," of ",t.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>a(f=>Math.max(f-1,1)),disabled:n===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${n===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,l)},(f,p)=>{let x;return l<=5||n<=3?x=p+1:n>=l-2?x=l-4+p:x=n-2+p,s.jsx("button",{onClick:()=>a(x),className:`px-3 py-2 text-sm font-medium rounded-md border ${n===x?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x},x)})}),s.jsx("button",{onClick:()=>a(f=>Math.min(f+1,l)),disabled:n===l,className:`px-3 py-2 text-sm font-medium rounded-md border ${n===l?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]})},Un=({adminName:t="Hi, Admin",adminImage:e="/assets/layout/admin.png",onNotificationClick:n})=>{const a=ya(),i=()=>{n&&n(),a("/settings?tab=notification")};return s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"cursor-pointer",onClick:i,children:s.jsx("img",{className:"w-11 h-11",src:xt.bell,alt:""})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:e,alt:"Admin",className:"w-8 h-8 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-700",children:t})]})]})})})},M6=async t=>await ct(dt.ADMIN.Dashboard,"GET",void 0,t);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sh(t){return t+.5|0}const To=(t,e,n)=>Math.max(Math.min(t,n),e);function th(t){return To(Sh(t*2.55),0,255)}function Io(t){return To(Sh(t*255),0,255)}function Il(t){return To(Sh(t/2.55)/100,0,1)}function Hy(t){return To(Sh(t*100),0,100)}const Xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dx=[..."0123456789ABCDEF"],F6=t=>dx[t&15],O6=t=>dx[(t&240)>>4]+dx[t&15],Ff=t=>(t&240)>>4===(t&15),T6=t=>Ff(t.r)&&Ff(t.g)&&Ff(t.b)&&Ff(t.a);function P6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Xr[t[1]]*17,g:255&Xr[t[2]]*17,b:255&Xr[t[3]]*17,a:e===5?Xr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Xr[t[1]]<<4|Xr[t[2]],g:Xr[t[3]]<<4|Xr[t[4]],b:Xr[t[5]]<<4|Xr[t[6]],a:e===9?Xr[t[7]]<<4|Xr[t[8]]:255})),n}const B6=(t,e)=>t<255?e(t):"";function R6(t){var e=T6(t)?F6:O6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B6(t.a,e):void 0}const U6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function j5(t,e,n){const a=e*Math.min(n,1-n),i=(l,c=(l+t/30)%12)=>n-a*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function I6(t,e,n){const a=(i,l=(i+t/60)%6)=>n-n*e*Math.max(Math.min(l,4-l,1),0);return[a(5),a(3),a(1)]}function q6(t,e,n){const a=j5(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)a[i]*=1-e-n,a[i]+=e;return a}function z6(t,e,n,a,i){return t===i?(e-n)/a+(e<n?6:0):e===i?(n-t)/a+2:(t-e)/a+4}function qx(t){const n=t.r/255,a=t.g/255,i=t.b/255,l=Math.max(n,a,i),c=Math.min(n,a,i),d=(l+c)/2;let h,f,p;return l!==c&&(p=l-c,f=d>.5?p/(2-l-c):p/(l+c),h=z6(n,a,i,p,l),h=h*60+.5),[h|0,f||0,d]}function zx(t,e,n,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,a)).map(Io)}function Hx(t,e,n){return zx(j5,t,e,n)}function H6(t,e,n){return zx(q6,t,e,n)}function $6(t,e,n){return zx(I6,t,e,n)}function _5(t){return(t%360+360)%360}function V6(t){const e=U6.exec(t);let n=255,a;if(!e)return;e[5]!==a&&(n=e[6]?th(+e[5]):Io(+e[5]));const i=_5(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=H6(i,l,c):e[1]==="hsv"?a=$6(i,l,c):a=Hx(i,l,c),{r:a[0],g:a[1],b:a[2],a:n}}function W6(t,e){var n=qx(t);n[0]=_5(n[0]+e),n=Hx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function G6(t){if(!t)return;const e=qx(t),n=e[0],a=Hy(e[1]),i=Hy(e[2]);return t.a<255?`hsla(${n}, ${a}%, ${i}%, ${Il(t.a)})`:`hsl(${n}, ${a}%, ${i}%)`}const $y={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Y6(){const t={},e=Object.keys(Vy),n=Object.keys($y);let a,i,l,c,d;for(a=0;a<e.length;a++){for(c=d=e[a],i=0;i<n.length;i++)l=n[i],d=d.replace(l,$y[l]);l=parseInt(Vy[c],16),t[d]=[l>>16&255,l>>8&255,l&255]}return t}let Of;function K6(t){Of||(Of=Y6(),Of.transparent=[0,0,0,0]);const e=Of[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Q6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function X6(t){const e=Q6.exec(t);let n=255,a,i,l;if(e){if(e[7]!==a){const c=+e[7];n=e[8]?th(c):To(c*255,0,255)}return a=+e[1],i=+e[3],l=+e[5],a=255&(e[2]?th(a):To(a,0,255)),i=255&(e[4]?th(i):To(i,0,255)),l=255&(e[6]?th(l):To(l,0,255)),{r:a,g:i,b:l,a:n}}}function Z6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Il(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const up=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Cd=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function J6(t,e,n){const a=Cd(Il(t.r)),i=Cd(Il(t.g)),l=Cd(Il(t.b));return{r:Io(up(a+n*(Cd(Il(e.r))-a))),g:Io(up(i+n*(Cd(Il(e.g))-i))),b:Io(up(l+n*(Cd(Il(e.b))-l))),a:t.a+n*(e.a-t.a)}}function Tf(t,e,n){if(t){let a=qx(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*n,e===0?360:1)),a=Hx(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function S5(t,e){return t&&Object.assign(e||{},t)}function Wy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Io(t[3]))):(e=S5(t,{r:0,g:0,b:0,a:1}),e.a=Io(e.a)),e}function eS(t){return t.charAt(0)==="r"?X6(t):V6(t)}class hh{constructor(e){if(e instanceof hh)return e;const n=typeof e;let a;n==="object"?a=Wy(e):n==="string"&&(a=P6(e)||K6(e)||eS(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=S5(this._rgb);return e&&(e.a=Il(e.a)),e}set rgb(e){this._rgb=Wy(e)}rgbString(){return this._valid?Z6(this._rgb):void 0}hexString(){return this._valid?R6(this._rgb):void 0}hslString(){return this._valid?G6(this._rgb):void 0}mix(e,n){if(e){const a=this.rgb,i=e.rgb;let l;const c=n===l?.5:n,d=2*c-1,h=a.a-i.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;l=1-f,a.r=255&f*a.r+l*i.r+.5,a.g=255&f*a.g+l*i.g+.5,a.b=255&f*a.b+l*i.b+.5,a.a=c*a.a+(1-c)*i.a,this.rgb=a}return this}interpolate(e,n){return e&&(this._rgb=J6(this._rgb,e._rgb,n)),this}clone(){return new hh(this.rgb)}alpha(e){return this._rgb.a=Io(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Sh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tf(this._rgb,2,e),this}darken(e){return Tf(this._rgb,2,-e),this}saturate(e){return Tf(this._rgb,1,e),this}desaturate(e){return Tf(this._rgb,1,-e),this}rotate(e){return W6(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Tl(){}const tS=(()=>{let t=0;return()=>t++})();function Ys(t){return t==null}function la(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Cs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ei(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function tl(t,e){return ei(t)?t:e}function Es(t,e){return typeof t>"u"?e:t}const sS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function sn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Bs(t,e,n,a){let i,l,c;if(la(t))for(l=t.length,i=0;i<l;i++)e.call(n,t[i],i);else if(Cs(t))for(c=Object.keys(t),l=c.length,i=0;i<l;i++)e.call(n,t[c[i]],c[i])}function vm(t,e){let n,a,i,l;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(i=t[n],l=e[n],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function wm(t){if(la(t))return t.map(wm);if(Cs(t)){const e=Object.create(null),n=Object.keys(t),a=n.length;let i=0;for(;i<a;++i)e[n[i]]=wm(t[n[i]]);return e}return t}function C5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nS(t,e,n,a){if(!C5(t))return;const i=e[t],l=n[t];Cs(i)&&Cs(l)?fh(i,l,a):e[t]=wm(l)}function fh(t,e,n){const a=la(e)?e:[e],i=a.length;if(!Cs(t))return t;n=n||{};const l=n.merger||nS;let c;for(let d=0;d<i;++d){if(c=a[d],!Cs(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)l(h[f],t,c,n)}return t}function ah(t,e){return fh(t,e,{merger:aS})}function aS(t,e,n){if(!C5(t))return;const a=e[t],i=n[t];Cs(a)&&Cs(i)?ah(a,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wm(i))}const Gy={"":t=>t,x:t=>t.x,y:t=>t.y};function rS(t){const e=t.split("."),n=[];let a="";for(const i of e)a+=i,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function iS(t){const e=rS(t);return n=>{for(const a of e){if(a==="")break;n=n&&n[a]}return n}}function Id(t,e){return(Gy[e]||(Gy[e]=iS(e)))(t)}function $x(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mh=t=>typeof t<"u",Ho=t=>typeof t=="function",Yy=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function lS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nr=Math.PI,qo=2*nr,Nm=Number.POSITIVE_INFINITY,oS=nr/180,ki=nr/2,Nc=nr/4,Ky=nr*2/3,k5=Math.log10,zo=Math.sign;function im(t,e,n){return Math.abs(t-e)<n}function Qy(t){const e=Math.round(t);t=im(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(k5(t))),a=t/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function cS(t){const e=[],n=Math.sqrt(t);let a;for(a=1;a<n;a++)t%a===0&&(e.push(a),e.push(t/a));return n===(n|0)&&e.push(n),e.sort((i,l)=>i-l).pop(),e}function dS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jm(t){return!dS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function uS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function hS(t,e,n){let a,i,l;for(a=0,i=t.length;a<i;a++)l=t[a][n],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function Lc(t){return t*(nr/180)}function fS(t){return t*(180/nr)}function Xy(t){if(!ei(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function mS(t,e){const n=e.x-t.x,a=e.y-t.y,i=Math.sqrt(n*n+a*a);let l=Math.atan2(a,n);return l<-.5*nr&&(l+=qo),{angle:l,distance:i}}function pS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jc(t){return(t%qo+qo)%qo}function xS(t,e,n,a){const i=jc(t),l=jc(e),c=jc(n),d=jc(l-i),h=jc(c-i),f=jc(i-l),p=jc(i-c);return i===l||i===c||a||d>h&&f<p}function Ai(t,e,n){return Math.max(e,Math.min(n,t))}function gS(t){return Ai(t,-32768,32767)}function Md(t,e,n,a=1e-6){return t>=Math.min(e,n)-a&&t<=Math.max(e,n)+a}function Vx(t,e,n){n=n||(c=>t[c]<e);let a=t.length-1,i=0,l;for(;a-i>1;)l=i+a>>1,n(l)?i=l:a=l;return{lo:i,hi:a}}const ux=(t,e,n,a)=>Vx(t,n,a?i=>{const l=t[i][e];return l<n||l===n&&t[i+1][e]===n}:i=>t[i][e]<n),bS=(t,e,n)=>Vx(t,n,a=>t[a][e]>=n);function yS(t,e,n){let a=0,i=t.length;for(;a<i&&t[a]<e;)a++;for(;i>a&&t[i-1]>n;)i--;return a>0||i<t.length?t.slice(a,i):t}const A5=["push","pop","shift","splice","unshift"];function vS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),A5.forEach(n=>{const a="_onData"+$x(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...l){const c=i.apply(this,l);return t._chartjs.listeners.forEach(d=>{typeof d[a]=="function"&&d[a](...l)}),c}})})}function Zy(t,e){const n=t._chartjs;if(!n)return;const a=n.listeners,i=a.indexOf(e);i!==-1&&a.splice(i,1),!(a.length>0)&&(A5.forEach(l=>{delete t[l]}),delete t._chartjs)}function E5(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const L5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function D5(t,e){let n=[],a=!1;return function(...i){n=i,a||(a=!0,L5.call(window,()=>{a=!1,t.apply(e,n)}))}}function wS(t,e){let n;return function(...a){return e?(clearTimeout(n),n=setTimeout(t,e,a)):t.apply(this,a),e}}const M5=t=>t==="start"?"left":t==="end"?"right":"center",Nr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,NS=(t,e,n,a)=>t===(a?"left":"right")?n:t==="center"?(e+n)/2:e,Pf=t=>t===0||t===1,Jy=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*qo/n)),e2=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*qo/n)+1,rh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ki)+1,easeOutSine:t=>Math.sin(t*ki),easeInOutSine:t=>-.5*(Math.cos(nr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Pf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Pf(t)?t:Jy(t,.075,.3),easeOutElastic:t=>Pf(t)?t:e2(t,.075,.3),easeInOutElastic(t){return Pf(t)?t:t<.5?.5*Jy(t*2,.1125,.45):.5+.5*e2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-rh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?rh.easeInBounce(t*2)*.5:rh.easeOutBounce(t*2-1)*.5+.5};function F5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function t2(t){return F5(t)?t:new hh(t)}function hp(t){return F5(t)?t:new hh(t).saturate(.5).darken(.1).hexString()}const jS=["x","y","borderWidth","radius","tension"],_S=["color","borderColor","backgroundColor"];function SS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_S},numbers:{type:"number",properties:jS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const s2=new Map;function kS(t,e){e=e||{};const n=t+JSON.stringify(e);let a=s2.get(n);return a||(a=new Intl.NumberFormat(t,e),s2.set(n,a)),a}function O5(t,e,n){return kS(e,n).format(t)}const AS={values(t){return la(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const a=this.chart.options.locale;let i,l=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),l=ES(t,n)}const c=k5(Math.abs(l)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),O5(t,a,h)}};function ES(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var T5={formatters:AS};function LS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:T5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bc=Object.create(null),hx=Object.create(null);function ih(t,e){if(!e)return t;const n=e.split(".");for(let a=0,i=n.length;a<i;++a){const l=n[a];t=t[l]||(t[l]=Object.create(null))}return t}function fp(t,e,n){return typeof e=="string"?fh(ih(t,e),n):fh(ih(t,""),e)}class DS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,i)=>hp(i.backgroundColor),this.hoverBorderColor=(a,i)=>hp(i.borderColor),this.hoverColor=(a,i)=>hp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return fp(this,e,n)}get(e){return ih(this,e)}describe(e,n){return fp(hx,e,n)}override(e,n){return fp(Bc,e,n)}route(e,n,a,i){const l=ih(this,e),c=ih(this,a),d="_"+n;Object.defineProperties(l,{[d]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],f=c[i];return Cs(h)?Object.assign({},f,h):Es(h,f)},set(h){this[d]=h}}})}apply(e){e.forEach(n=>n(this))}}var Rn=new DS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SS,CS,LS]);function MS(t){return!t||Ys(t.size)||Ys(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function n2(t,e,n,a,i){let l=e[i];return l||(l=e[i]=t.measureText(i).width,n.push(i)),l>a&&(a=l),a}function _c(t,e,n){const a=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*a)/a+i}function a2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function r2(t,e,n,a){P5(t,e,n,a,null)}function P5(t,e,n,a,i){let l,c,d,h,f,p,x,w;const b=e.pointStyle,N=e.rotation,S=e.radius;let k=(N||0)*oS;if(b&&typeof b=="object"&&(l=b.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(n,a),t.rotate(k),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),b){default:i?t.ellipse(n,a,i/2,S,0,0,qo):t.arc(n,a,S,0,qo),t.closePath();break;case"triangle":p=i?i/2:S,t.moveTo(n+Math.sin(k)*p,a-Math.cos(k)*S),k+=Ky,t.lineTo(n+Math.sin(k)*p,a-Math.cos(k)*S),k+=Ky,t.lineTo(n+Math.sin(k)*p,a-Math.cos(k)*S),t.closePath();break;case"rectRounded":f=S*.516,h=S-f,c=Math.cos(k+Nc)*h,x=Math.cos(k+Nc)*(i?i/2-f:h),d=Math.sin(k+Nc)*h,w=Math.sin(k+Nc)*(i?i/2-f:h),t.arc(n-x,a-d,f,k-nr,k-ki),t.arc(n+w,a-c,f,k-ki,k),t.arc(n+x,a+d,f,k,k+ki),t.arc(n-w,a+c,f,k+ki,k+nr),t.closePath();break;case"rect":if(!N){h=Math.SQRT1_2*S,p=i?i/2:h,t.rect(n-p,a-h,2*p,2*h);break}k+=Nc;case"rectRot":x=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,w=Math.sin(k)*(i?i/2:S),t.moveTo(n-x,a-d),t.lineTo(n+w,a-c),t.lineTo(n+x,a+d),t.lineTo(n-w,a+c),t.closePath();break;case"crossRot":k+=Nc;case"cross":x=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,w=Math.sin(k)*(i?i/2:S),t.moveTo(n-x,a-d),t.lineTo(n+x,a+d),t.moveTo(n+w,a-c),t.lineTo(n-w,a+c);break;case"star":x=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,w=Math.sin(k)*(i?i/2:S),t.moveTo(n-x,a-d),t.lineTo(n+x,a+d),t.moveTo(n+w,a-c),t.lineTo(n-w,a+c),k+=Nc,x=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,w=Math.sin(k)*(i?i/2:S),t.moveTo(n-x,a-d),t.lineTo(n+x,a+d),t.moveTo(n+w,a-c),t.lineTo(n-w,a+c);break;case"line":c=i?i/2:Math.cos(k)*S,d=Math.sin(k)*S,t.moveTo(n-c,a-d),t.lineTo(n+c,a+d);break;case"dash":t.moveTo(n,a),t.lineTo(n+Math.cos(k)*(i?i/2:S),a+Math.sin(k)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function B5(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Gx(t){t.restore()}function FS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ys(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function OS(t,e,n,a,i){if(i.strikethrough||i.underline){const l=t.measureText(a),c=e-l.actualBoundingBoxLeft,d=e+l.actualBoundingBoxRight,h=n-l.actualBoundingBoxAscent,f=n+l.actualBoundingBoxDescent,p=i.strikethrough?(h+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(c,p),t.lineTo(d,p),t.stroke()}}function TS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _m(t,e,n,a,i,l={}){const c=la(e)?e:[e],d=l.strokeWidth>0&&l.strokeColor!=="";let h,f;for(t.save(),t.font=i.string,FS(t,l),h=0;h<c.length;++h)f=c[h],l.backdrop&&TS(t,l.backdrop),d&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),Ys(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(f,n,a,l.maxWidth)),t.fillText(f,n,a,l.maxWidth),OS(t,n,a,f,l),a+=Number(i.lineHeight);t.restore()}function Sm(t,e){const{x:n,y:a,w:i,h:l,radius:c}=e;t.arc(n+c.topLeft,a+c.topLeft,c.topLeft,1.5*nr,nr,!0),t.lineTo(n,a+l-c.bottomLeft),t.arc(n+c.bottomLeft,a+l-c.bottomLeft,c.bottomLeft,nr,ki,!0),t.lineTo(n+i-c.bottomRight,a+l),t.arc(n+i-c.bottomRight,a+l-c.bottomRight,c.bottomRight,ki,0,!0),t.lineTo(n+i,a+c.topRight),t.arc(n+i-c.topRight,a+c.topRight,c.topRight,0,-ki,!0),t.lineTo(n+c.topLeft,a)}const PS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RS(t,e){const n=(""+t).match(PS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const US=t=>+t||0;function R5(t,e){const n={},a=Cs(e),i=a?Object.keys(e):e,l=Cs(t)?a?c=>Es(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of i)n[c]=US(l(c));return n}function U5(t){return R5(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Od(t){return R5(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ei(t){const e=U5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function er(t,e){t=t||{},e=e||Rn.font;let n=Es(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let a=Es(t.style,e.style);a&&!(""+a).match(BS)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const i={family:Es(t.family,e.family),lineHeight:RS(Es(t.lineHeight,e.lineHeight),n),size:n,style:a,weight:Es(t.weight,e.weight),string:""};return i.string=MS(i),i}function Bf(t,e,n,a){let i,l,c;for(i=0,l=t.length;i<l;++i)if(c=t[i],c!==void 0&&c!==void 0)return c}function IS(t,e,n){const{min:a,max:i}=t,l=sS(e,(i-a)/2),c=(d,h)=>n&&d===0?0:d+h;return{min:c(a,-Math.abs(l)),max:c(i,l)}}function Yd(t,e){return Object.assign(Object.create(t),e)}function Yx(t,e=[""],n,a,i=()=>t[0]){const l=n||t;typeof a>"u"&&(a=H5("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:a,_getTarget:i,override:d=>Yx([d,...t],e,l,a)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return q5(d,h,()=>YS(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return l2(d).includes(h)},ownKeys(d){return l2(d)},set(d,h,f){const p=d._storage||(d._storage=i());return d[h]=p[h]=f,delete d._keys,!0}})}function qd(t,e,n,a){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:I5(t,a),setContext:l=>qd(t,l,n,a),override:l=>qd(t.override(l),e,n,a)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete t[c],!0},get(l,c,d){return q5(l,c,()=>zS(l,c,d))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(l,c,d){return t[c]=d,delete l[c],!0}})}function I5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:a=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:a,isScriptable:Ho(n)?n:()=>n,isIndexable:Ho(a)?a:()=>a}}const qS=(t,e)=>t?t+$x(e):e,Kx=(t,e)=>Cs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function q5(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=n();return t[e]=a,a}function zS(t,e,n){const{_proxy:a,_context:i,_subProxy:l,_descriptors:c}=t;let d=a[e];return Ho(d)&&c.isScriptable(e)&&(d=HS(e,d,t,n)),la(d)&&d.length&&(d=$S(e,d,t,c.isIndexable)),Kx(e,d)&&(d=qd(d,i,l&&l[e],c)),d}function HS(t,e,n,a){const{_proxy:i,_context:l,_subProxy:c,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(l,c||a);return d.delete(t),Kx(t,h)&&(h=Qx(i._scopes,i,t,h)),h}function $S(t,e,n,a){const{_proxy:i,_context:l,_subProxy:c,_descriptors:d}=n;if(typeof l.index<"u"&&a(t))return e[l.index%e.length];if(Cs(e[0])){const h=e,f=i._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=Qx(f,i,t,p);e.push(qd(x,l,c&&c[t],d))}}return e}function z5(t,e,n){return Ho(t)?t(e,n):t}const VS=(t,e)=>t===!0?e:typeof t=="string"?Id(e,t):void 0;function WS(t,e,n,a,i){for(const l of e){const c=VS(n,l);if(c){t.add(c);const d=z5(c._fallback,n,i);if(typeof d<"u"&&d!==n&&d!==a)return d}else if(c===!1&&typeof a<"u"&&n!==a)return null}return!1}function Qx(t,e,n,a){const i=e._rootScopes,l=z5(e._fallback,n,a),c=[...t,...i],d=new Set;d.add(a);let h=i2(d,c,n,l||n,a);return h===null||typeof l<"u"&&l!==n&&(h=i2(d,c,l,h,a),h===null)?!1:Yx(Array.from(d),[""],i,l,()=>GS(e,n,a))}function i2(t,e,n,a,i){for(;n;)n=WS(t,e,n,a,i);return n}function GS(t,e,n){const a=t._getTarget();e in a||(a[e]={});const i=a[e];return la(i)&&Cs(n)?n:i||{}}function YS(t,e,n,a){let i;for(const l of e)if(i=H5(qS(l,t),n),typeof i<"u")return Kx(t,i)?Qx(n,a,t,i):i}function H5(t,e){for(const n of e){if(!n)continue;const a=n[t];if(typeof a<"u")return a}}function l2(t){let e=t._keys;return e||(e=t._keys=KS(t._scopes)),e}function KS(t){const e=new Set;for(const n of t)for(const a of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(a);return Array.from(e)}function Xx(){return typeof window<"u"&&typeof document<"u"}function Zx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cm(t,e,n){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[n])):a=t,a}const zm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function QS(t,e){return zm(t).getPropertyValue(e)}const XS=["top","right","bottom","left"];function Mc(t,e,n){const a={};n=n?"-"+n:"";for(let i=0;i<4;i++){const l=XS[i];a[l]=parseFloat(t[e+"-"+l+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const ZS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function JS(t,e){const n=t.touches,a=n&&n.length?n[0]:t,{offsetX:i,offsetY:l}=a;let c=!1,d,h;if(ZS(i,l,t.target))d=i,h=l;else{const f=e.getBoundingClientRect();d=a.clientX-f.left,h=a.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function Cc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:a}=e,i=zm(n),l=i.boxSizing==="border-box",c=Mc(i,"padding"),d=Mc(i,"border","width"),{x:h,y:f,box:p}=JS(t,n),x=c.left+(p&&d.left),w=c.top+(p&&d.top);let{width:b,height:N}=e;return l&&(b-=c.width+d.width,N-=c.height+d.height),{x:Math.round((h-x)/b*n.width/a),y:Math.round((f-w)/N*n.height/a)}}function e8(t,e,n){let a,i;if(e===void 0||n===void 0){const l=t&&Zx(t);if(!l)e=t.clientWidth,n=t.clientHeight;else{const c=l.getBoundingClientRect(),d=zm(l),h=Mc(d,"border","width"),f=Mc(d,"padding");e=c.width-f.width-h.width,n=c.height-f.height-h.height,a=Cm(d.maxWidth,l,"clientWidth"),i=Cm(d.maxHeight,l,"clientHeight")}}return{width:e,height:n,maxWidth:a||Nm,maxHeight:i||Nm}}const Rf=t=>Math.round(t*10)/10;function t8(t,e,n,a){const i=zm(t),l=Mc(i,"margin"),c=Cm(i.maxWidth,t,"clientWidth")||Nm,d=Cm(i.maxHeight,t,"clientHeight")||Nm,h=e8(t,e,n);let{width:f,height:p}=h;if(i.boxSizing==="content-box"){const w=Mc(i,"border","width"),b=Mc(i,"padding");f-=b.width+w.width,p-=b.height+w.height}return f=Math.max(0,f-l.width),p=Math.max(0,a?f/a:p-l.height),f=Rf(Math.min(f,c,h.maxWidth)),p=Rf(Math.min(p,d,h.maxHeight)),f&&!p&&(p=Rf(f/2)),(e!==void 0||n!==void 0)&&a&&h.height&&p>h.height&&(p=h.height,f=Rf(Math.floor(p*a))),{width:f,height:p}}function o2(t,e,n){const a=e||1,i=Math.floor(t.height*a),l=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||c.height!==i||c.width!==l?(t.currentDevicePixelRatio=a,c.height=i,c.width=l,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const s8=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function c2(t,e){const n=QS(t,e),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const n8=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},a8=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Td(t,e,n){return t?n8(e,n):a8()}function $5(t,e){let n,a;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=a)}function V5(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Uf(t,e,n){return t.options.clip?t[n]:e[n]}function r8(t,e){const{xScale:n,yScale:a}=t;return n&&a?{left:Uf(n,e,"left"),right:Uf(n,e,"right"),top:Uf(a,e,"top"),bottom:Uf(a,e,"bottom")}:e}function i8(t,e){const n=e._clip;if(n.disabled)return!1;const a=r8(e,t.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:a.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class l8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,a,i){const l=n.listeners[i],c=n.duration;l.forEach(d=>d({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(a-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=L5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((a,i)=>{if(!a.running||!a.items.length)return;const l=a.items;let c=l.length-1,d=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),d=!0):(l[c]=l[l.length-1],l.pop());d&&(i.draw(),this._notify(i,a,e,"progress")),l.length||(a.running=!1,this._notify(i,a,e,"complete"),a.initial=!1),n+=l.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let a=n.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,a)),a}listen(e,n,a){this._getAnims(e).listeners[n].push(a)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,i)=>Math.max(a,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const a=n.items;let i=a.length-1;for(;i>=0;--i)a[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rl=new l8;const d2="transparent",o8={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const a=t2(t||d2),i=a.valid&&t2(e||d2);return i&&i.valid?i.mix(a,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class c8{constructor(e,n,a,i){const l=n[a];i=Bf([e.to,i,l,e.from]);const c=Bf([e.from,l,i]);this._active=!0,this._fn=e.fn||o8[e.type||typeof c],this._easing=rh[e.easing]||rh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=a,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,a){if(this._active){this._notify(!1);const i=this._target[this._prop],l=a-this._start,c=this._duration-l;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Bf([e.to,n,i,e.from]),this._from=Bf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,a=this._duration,i=this._prop,l=this._from,c=this._loop,d=this._to;let h;if(this._active=l!==d&&(c||n<a),!this._active){this._target[i]=d,this._notify(!0);return}if(n<0){this._target[i]=l;return}h=n/a%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(l,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,a)=>{e.push({res:n,rej:a})})}_notify(e){const n=e?"res":"rej",a=this._promises||[];for(let i=0;i<a.length;i++)a[i][n]()}}class W5{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Cs(e))return;const n=Object.keys(Rn.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const l=e[i];if(!Cs(l))return;const c={};for(const d of n)c[d]=l[d];(la(l.properties)&&l.properties||[i]).forEach(d=>{(d===i||!a.has(d))&&a.set(d,c)})})}_animateOptions(e,n){const a=n.options,i=u8(e,a);if(!i)return[];const l=this._createAnimations(i,a);return a.$shared&&d8(e.options.$animations,a).then(()=>{e.options=a},()=>{}),l}_createAnimations(e,n){const a=this._properties,i=[],l=e.$animations||(e.$animations={}),c=Object.keys(n),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,n));continue}const p=n[f];let x=l[f];const w=a.get(f);if(x)if(w&&x.active()){x.update(w,p,d);continue}else x.cancel();if(!w||!w.duration){e[f]=p;continue}l[f]=x=new c8(w,e,f,p),i.push(x)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const a=this._createAnimations(e,n);if(a.length)return Rl.add(this._chart,a),!0}}function d8(t,e){const n=[],a=Object.keys(e);for(let i=0;i<a.length;i++){const l=t[a[i]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function u8(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function u2(t,e){const n=t&&t.options||{},a=n.reverse,i=n.min===void 0?e:0,l=n.max===void 0?e:0;return{start:a?l:i,end:a?i:l}}function h8(t,e,n){if(n===!1)return!1;const a=u2(t,n),i=u2(e,n);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}function f8(t){let e,n,a,i;return Cs(t)?(e=t.top,n=t.right,a=t.bottom,i=t.left):e=n=a=i=t,{top:e,right:n,bottom:a,left:i,disabled:t===!1}}function G5(t,e){const n=[],a=t._getSortedDatasetMetas(e);let i,l;for(i=0,l=a.length;i<l;++i)n.push(a[i].index);return n}function h2(t,e,n,a={}){const i=t.keys,l=a.mode==="single";let c,d,h,f;if(e===null)return;let p=!1;for(c=0,d=i.length;c<d;++c){if(h=+i[c],h===n){if(p=!0,a.all)continue;break}f=t.values[h],ei(f)&&(l||e===0||zo(e)===zo(f))&&(e+=f)}return!p&&!a.all?0:e}function m8(t,e){const{iScale:n,vScale:a}=e,i=n.axis==="x"?"x":"y",l=a.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[i]:p,[l]:t[p]};return d}function mp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function p8(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function x8(t){const{min:e,max:n,minDefined:a,maxDefined:i}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function g8(t,e,n){const a=t[e]||(t[e]={});return a[n]||(a[n]={})}function f2(t,e,n,a){for(const i of e.getMatchingVisibleMetas(a).reverse()){const l=t[i.index];if(n&&l>0||!n&&l<0)return i.index}return null}function m2(t,e){const{chart:n,_cachedMeta:a}=t,i=n._stacks||(n._stacks={}),{iScale:l,vScale:c,index:d}=a,h=l.axis,f=c.axis,p=p8(l,c,a),x=e.length;let w;for(let b=0;b<x;++b){const N=e[b],{[h]:S,[f]:k}=N,_=N._stacks||(N._stacks={});w=_[f]=g8(i,p,S),w[d]=k,w._top=f2(w,c,!0,a.type),w._bottom=f2(w,c,!1,a.type);const E=w._visualValues||(w._visualValues={});E[d]=k}}function pp(t,e){const n=t.scales;return Object.keys(n).filter(a=>n[a].axis===e).shift()}function b8(t,e){return Yd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function y8(t,e,n){return Yd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yu(t,e){const n=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const i of e){const l=i._stacks;if(!l||l[a]===void 0||l[a][n]===void 0)return;delete l[a][n],l[a]._visualValues!==void 0&&l[a]._visualValues[n]!==void 0&&delete l[a]._visualValues[n]}}}const xp=t=>t==="reset"||t==="none",p2=(t,e)=>e?t:Object.assign({},t),v8=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:G5(n,!0),values:null};class Y5{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,a=this.getDataset(),i=(x,w,b,N)=>x==="x"?w:x==="r"?N:b,l=n.xAxisID=Es(a.xAxisID,pp(e,"x")),c=n.yAxisID=Es(a.yAxisID,pp(e,"y")),d=n.rAxisID=Es(a.rAxisID,pp(e,"r")),h=n.indexAxis,f=n.iAxisID=i(h,l,c,d),p=n.vAxisID=i(h,c,l,d);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Zy(this._data,this),e._stacked&&Yu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),a=this._data;if(Cs(n)){const i=this._cachedMeta;this._data=m8(n,i)}else if(a!==n){if(a){Zy(a,this);const i=this._cachedMeta;Yu(i),i._parsed=[]}n&&Object.isExtensible(n)&&vS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,a=this.getDataset();let i=!1;this._dataCheck();const l=n._stacked;n._stacked=mp(n.vScale,n),n.stack!==a.stack&&(i=!0,Yu(n),n.stack=a.stack),this._resyncElements(e),(i||l!==n._stacked)&&(m2(this,n._parsed),n._stacked=mp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:a,_data:i}=this,{iScale:l,_stacked:c}=a,d=l.axis;let h=e===0&&n===i.length?!0:a._sorted,f=e>0&&a._parsed[e-1],p,x,w;if(this._parsing===!1)a._parsed=i,a._sorted=!0,w=i;else{la(i[e])?w=this.parseArrayData(a,i,e,n):Cs(i[e])?w=this.parseObjectData(a,i,e,n):w=this.parsePrimitiveData(a,i,e,n);const b=()=>x[d]===null||f&&x[d]<f[d];for(p=0;p<n;++p)a._parsed[p+e]=x=w[p],h&&(b()&&(h=!1),f=x);a._sorted=h}c&&m2(this,w)}parsePrimitiveData(e,n,a,i){const{iScale:l,vScale:c}=e,d=l.axis,h=c.axis,f=l.getLabels(),p=l===c,x=new Array(i);let w,b,N;for(w=0,b=i;w<b;++w)N=w+a,x[w]={[d]:p||l.parse(f[N],N),[h]:c.parse(n[N],N)};return x}parseArrayData(e,n,a,i){const{xScale:l,yScale:c}=e,d=new Array(i);let h,f,p,x;for(h=0,f=i;h<f;++h)p=h+a,x=n[p],d[h]={x:l.parse(x[0],p),y:c.parse(x[1],p)};return d}parseObjectData(e,n,a,i){const{xScale:l,yScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let p,x,w,b;for(p=0,x=i;p<x;++p)w=p+a,b=n[w],f[p]={x:l.parse(Id(b,d),w),y:c.parse(Id(b,h),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,a){const i=this.chart,l=this._cachedMeta,c=n[e.axis],d={keys:G5(i,!0),values:n._stacks[e.axis]._visualValues};return h2(d,c,l.index,{mode:a})}updateRangeFromParsed(e,n,a,i){const l=a[n.axis];let c=l===null?NaN:l;const d=i&&a._stacks[n.axis];i&&d&&(i.values=d,c=h2(i,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const a=this._cachedMeta,i=a._parsed,l=a._sorted&&e===a.iScale,c=i.length,d=this._getOtherScale(e),h=v8(n,a,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=x8(d);let w,b;function N(){b=i[w];const S=b[d.axis];return!ei(b[e.axis])||p>S||x<S}for(w=0;w<c&&!(!N()&&(this.updateRangeFromParsed(f,e,b,h),l));++w);if(l){for(w=c-1;w>=0;--w)if(!N()){this.updateRangeFromParsed(f,e,b,h);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,a=[];let i,l,c;for(i=0,l=n.length;i<l;++i)c=n[i][e.axis],ei(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,a=n.iScale,i=n.vScale,l=this.getParsed(e);return{label:a?""+a.getLabelForValue(l[a.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=f8(Es(this.options.clip,h8(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,a=this._cachedMeta,i=a.data||[],l=n.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||i.length-d,f=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(e,l,d,h),p=d;p<d+h;++p){const x=i[p];x.hidden||(x.active&&f?c.push(x):x.draw(e,l))}for(p=0;p<c.length;++p)c[p].draw(e,l)}getStyle(e,n){const a=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,n,a){const i=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=y8(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=i.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=b8(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=a,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",a){const i=n==="active",l=this._cachedDataOpts,c=e+"-"+n,d=l[c],h=this.enableOptionSharing&&mh(a);if(d)return p2(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Rn.elements[e]),N=()=>this.getContext(a,i,n),S=f.resolveNamedOptions(w,b,N,x);return S.$shared&&(S.$shared=h,l[c]=Object.freeze(p2(S,h))),S}_resolveAnimations(e,n,a){const i=this.chart,l=this._cachedDataOpts,c=`animation-${n}`,d=l[c];if(d)return d;let h;if(i.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),w=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(w,this.getContext(e,a,n))}const f=new W5(i,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const a=this.resolveDataElementOptions(e,n),i=this._sharedOptions,l=this.getSharedOptions(a),c=this.includeOptions(n,l)||l!==i;return this.updateSharedOptions(l,n,a),{sharedOptions:l,includeOptions:c}}updateElement(e,n,a,i){xp(i)?Object.assign(e,a):this._resolveAnimations(n,i).update(e,a)}updateSharedOptions(e,n,a){e&&!xp(n)&&this._resolveAnimations(void 0,n).update(e,a)}_setStyle(e,n,a,i){e.active=i;const l=this.getStyle(n,i);this._resolveAnimations(n,a,i).update(e,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(e,n,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,n,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,a=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const i=a.length,l=n.length,c=Math.min(l,i);c&&this.parse(0,c),l>i?this._insertElements(i,l-i,e):l<i&&this._removeElements(l,i-l)}_insertElements(e,n,a=!0){const i=this._cachedMeta,l=i.data,c=e+n;let d;const h=f=>{for(f.length+=n,d=f.length-1;d>=c;d--)f[d]=f[d-n]};for(h(l),d=e;d<c;++d)l[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,n),a&&this.updateElements(l,e,n,"reset")}updateElements(e,n,a,i){}_removeElements(e,n){const a=this._cachedMeta;if(this._parsing){const i=a._parsed.splice(e,n);a._stacked&&Yu(a,i)}a.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,a,i]=e;this[n](a,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function w8(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let a=[];for(let i=0,l=n.length;i<l;i++)a=a.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=E5(a.sort((i,l)=>i-l))}return t._cache.$bar}function N8(t){const e=t.iScale,n=w8(e,t.type);let a=e._length,i,l,c,d;const h=()=>{c===32767||c===-32768||(mh(d)&&(a=Math.min(a,Math.abs(c-d)||a)),d=c)};for(i=0,l=n.length;i<l;++i)c=e.getPixelForValue(n[i]),h();for(d=void 0,i=0,l=e.ticks.length;i<l;++i)c=e.getPixelForTick(i),h();return a}function j8(t,e,n,a){const i=n.barThickness;let l,c;return Ys(i)?(l=e.min*n.categoryPercentage,c=n.barPercentage):(l=i*a,c=1),{chunk:l/a,ratio:c,start:e.pixels[t]-l/2}}function _8(t,e,n,a){const i=e.pixels,l=i[t];let c=t>0?i[t-1]:null,d=t<i.length-1?i[t+1]:null;const h=n.categoryPercentage;c===null&&(c=l-(d===null?e.end-e.start:d-l)),d===null&&(d=l+l-c);const f=l-(l-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/a,ratio:n.barPercentage,start:f}}function S8(t,e,n,a){const i=n.parse(t[0],a),l=n.parse(t[1],a),c=Math.min(i,l),d=Math.max(i,l);let h=c,f=d;Math.abs(c)>Math.abs(d)&&(h=d,f=c),e[n.axis]=f,e._custom={barStart:h,barEnd:f,start:i,end:l,min:c,max:d}}function K5(t,e,n,a){return la(t)?S8(t,e,n,a):e[n.axis]=n.parse(t,a),e}function x2(t,e,n,a){const i=t.iScale,l=t.vScale,c=i.getLabels(),d=i===l,h=[];let f,p,x,w;for(f=n,p=n+a;f<p;++f)w=e[f],x={},x[i.axis]=d||i.parse(c[f],f),h.push(K5(w,x,l,f));return h}function gp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function C8(t,e,n){return t!==0?zo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function k8(t){let e,n,a,i,l;return t.horizontal?(e=t.base>t.x,n="left",a="right"):(e=t.base<t.y,n="bottom",a="top"),e?(i="end",l="start"):(i="start",l="end"),{start:n,end:a,reverse:e,top:i,bottom:l}}function A8(t,e,n,a){let i=e.borderSkipped;const l={};if(!i){t.borderSkipped=l;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:f,bottom:p}=k8(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===a?i=f:(n._bottom||0)===a?i=p:(l[g2(p,c,d,h)]=!0,i=f)),l[g2(i,c,d,h)]=!0,t.borderSkipped=l}function g2(t,e,n,a){return a?(t=E8(t,e,n),t=b2(t,n,e)):t=b2(t,e,n),t}function E8(t,e,n){return t===e?n:t===n?e:t}function b2(t,e,n){return t==="start"?e:t==="end"?n:t}function L8(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class D8 extends Y5{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,a,i){return x2(e,n,a,i)}parseArrayData(e,n,a,i){return x2(e,n,a,i)}parseObjectData(e,n,a,i){const{iScale:l,vScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=l.axis==="x"?d:h,p=c.axis==="x"?d:h,x=[];let w,b,N,S;for(w=a,b=a+i;w<b;++w)S=n[w],N={},N[l.axis]=l.parse(Id(S,f),w),x.push(K5(Id(S,p),N,c,w));return x}updateRangeFromParsed(e,n,a,i){super.updateRangeFromParsed(e,n,a,i);const l=a._custom;l&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:a,vScale:i}=n,l=this.getParsed(e),c=l._custom,d=gp(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(l[i.axis]);return{label:""+a.getLabelForValue(l[a.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,a,i){const l=i==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),f=d.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,i);for(let b=n;b<n+a;b++){const N=this.getParsed(b),S=l||Ys(N[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),k=this._calculateBarIndexPixels(b,p),_=(N._stacks||{})[d.axis],E={horizontal:f,base:S.base,enableBorderRadius:!_||gp(N._custom)||c===_._top||c===_._bottom,x:f?S.head:k.center,y:f?k.center:S.head,height:f?k.size:Math.abs(S.size),width:f?Math.abs(S.size):k.size};w&&(E.options=x||this.resolveDataElementOptions(b,e[b].active?"active":i));const D=E.options||e[b].options;A8(E,D,_,c),L8(E,D,p.ratio),this.updateElement(e[b],b,E,i)}}_getStacks(e,n){const{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),l=a.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(n),h=d&&d[a.axis],f=p=>{const x=p._parsed.find(b=>b[a.axis]===h),w=x&&x[p.vScale.axis];if(Ys(w)||isNaN(w))return!0};for(const p of i)if(!(n!==void 0&&f(p))&&((l===!1||c.indexOf(p.stack)===-1||l===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[Es(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,a){const i=this._getStacks(e,a),l=n!==void 0?i.indexOf(n):-1;return l===-1?i.length-1:l}_getRuler(){const e=this.options,n=this._cachedMeta,a=n.iScale,i=[];let l,c;for(l=0,c=n.data.length;l<c;++l)i.push(a.getPixelForValue(this.getParsed(l)[a.axis],l));const d=e.barThickness;return{min:d||N8(n),pixels:i,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:a,index:i},options:{base:l,minBarLength:c}}=this,d=l||0,h=this.getParsed(e),f=h._custom,p=gp(f);let x=h[n.axis],w=0,b=a?this.applyStack(n,h,a):x,N,S;b!==x&&(w=b-x,b=x),p&&(x=f.barStart,b=f.barEnd-f.barStart,x!==0&&zo(x)!==zo(f.barEnd)&&(w=0),w+=x);const k=!Ys(l)&&!p?l:w;let _=n.getPixelForValue(k);if(this.chart.getDataVisibility(e)?N=n.getPixelForValue(w+b):N=_,S=N-_,Math.abs(S)<c){S=C8(S,n,d)*c,x===d&&(_-=S/2);const E=n.getPixelForDecimal(0),D=n.getPixelForDecimal(1),R=Math.min(E,D),I=Math.max(E,D);_=Math.max(Math.min(_,I),R),N=_+S,a&&!p&&(h._stacks[n.axis]._visualValues[i]=n.getValueForPixel(N)-n.getValueForPixel(_))}if(_===n.getPixelForValue(d)){const E=zo(S)*n.getLineWidthForValue(d)/2;_+=E,S-=E}return{size:S,base:_,head:N,center:N+S/2}}_calculateBarIndexPixels(e,n){const a=n.scale,i=this.options,l=i.skipNull,c=Es(i.maxBarThickness,1/0);let d,h;const f=this._getAxisCount();if(n.grouped){const p=l?this._getStackCount(e):n.stackCount,x=i.barThickness==="flex"?_8(e,n,i,p*f):j8(e,n,i,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Es(w,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+b;d=x.start+x.chunk*N+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else d=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(c,n.min*n.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,a=e.data,i=a.length;let l=0;for(;l<i;++l)this.getParsed(l)[n.axis]!==null&&!a[l].hidden&&a[l].draw(this._ctx)}}function Sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jx{static override(e){Object.assign(Jx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Sc()}parse(){return Sc()}format(){return Sc()}add(){return Sc()}diff(){return Sc()}startOf(){return Sc()}endOf(){return Sc()}}var M8={_date:Jx};function F8(t,e,n,a){const{controller:i,data:l,_sorted:c}=t,d=i._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&l.length){const f=d._reversePixels?bS:ux;if(a){if(i._sharedOptions){const p=l[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const w=f(l,e,n-x),b=f(l,e,n+x);return{lo:w.lo,hi:b.hi}}}}else{const p=f(l,e,n);if(h){const{vScale:x}=i._cachedMeta,{_parsed:w}=t,b=w.slice(0,p.lo+1).reverse().findIndex(S=>!Ys(S[x.axis]));p.lo-=Math.max(0,b);const N=w.slice(p.hi).findIndex(S=>!Ys(S[x.axis]));p.hi+=Math.max(0,N)}return p}}return{lo:0,hi:l.length-1}}function Hm(t,e,n,a,i){const l=t.getSortedVisibleDatasetMetas(),c=n[e];for(let d=0,h=l.length;d<h;++d){const{index:f,data:p}=l[d],{lo:x,hi:w}=F8(l[d],e,c,i);for(let b=x;b<=w;++b){const N=p[b];N.skip||a(N,f,b)}}}function O8(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(a,i){const l=e?Math.abs(a.x-i.x):0,c=n?Math.abs(a.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function bp(t,e,n,a,i){const l=[];return!i&&!t.isPointInArea(e)||Hm(t,n,e,function(d,h,f){!i&&!B5(d,t.chartArea,0)||d.inRange(e.x,e.y,a)&&l.push({element:d,datasetIndex:h,index:f})},!0),l}function T8(t,e,n,a){let i=[];function l(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],a),{angle:x}=mS(c,{x:e.x,y:e.y});xS(x,f,p)&&i.push({element:c,datasetIndex:d,index:h})}return Hm(t,n,e,l),i}function P8(t,e,n,a,i,l){let c=[];const d=O8(n);let h=Number.POSITIVE_INFINITY;function f(p,x,w){const b=p.inRange(e.x,e.y,i);if(a&&!b)return;const N=p.getCenterPoint(i);if(!(!!l||t.isPointInArea(N))&&!b)return;const k=d(e,N);k<h?(c=[{element:p,datasetIndex:x,index:w}],h=k):k===h&&c.push({element:p,datasetIndex:x,index:w})}return Hm(t,n,e,f),c}function yp(t,e,n,a,i,l){return!l&&!t.isPointInArea(e)?[]:n==="r"&&!a?T8(t,e,n,i):P8(t,e,n,a,i,l)}function y2(t,e,n,a,i){const l=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return Hm(t,n,e,(h,f,p)=>{h[c]&&h[c](e[n],i)&&(l.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(e.x,e.y,i))}),a&&!d?[]:l}var B8={modes:{index(t,e,n,a){const i=Cc(e,t),l=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?bp(t,i,l,a,c):yp(t,i,l,!1,a,c),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,x=f.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:p})}),h):[]},dataset(t,e,n,a){const i=Cc(e,t),l=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?bp(t,i,l,a,c):yp(t,i,l,!1,a,c);if(d.length>0){const h=d[0].datasetIndex,f=t.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(t,e,n,a){const i=Cc(e,t),l=n.axis||"xy",c=n.includeInvisible||!1;return bp(t,i,l,a,c)},nearest(t,e,n,a){const i=Cc(e,t),l=n.axis||"xy",c=n.includeInvisible||!1;return yp(t,i,l,n.intersect,a,c)},x(t,e,n,a){const i=Cc(e,t);return y2(t,i,"x",n.intersect,a)},y(t,e,n,a){const i=Cc(e,t);return y2(t,i,"y",n.intersect,a)}}};const Q5=["left","top","right","bottom"];function Ku(t,e){return t.filter(n=>n.pos===e)}function v2(t,e){return t.filter(n=>Q5.indexOf(n.pos)===-1&&n.box.axis===e)}function Qu(t,e){return t.sort((n,a)=>{const i=e?a:n,l=e?n:a;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function R8(t){const e=[];let n,a,i,l,c,d;for(n=0,a=(t||[]).length;n<a;++n)i=t[n],{position:l,options:{stack:c,stackWeight:d=1}}=i,e.push({index:n,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&l+c,stackWeight:d});return e}function U8(t){const e={};for(const n of t){const{stack:a,pos:i,stackWeight:l}=n;if(!a||!Q5.includes(i))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function I8(t,e){const n=U8(t),{vBoxMaxWidth:a,hBoxMaxHeight:i}=e;let l,c,d;for(l=0,c=t.length;l<c;++l){d=t[l];const{fullSize:h}=d.box,f=n[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*a:h&&e.availableWidth,d.height=i):(d.width=a,d.height=p?p*i:h&&e.availableHeight)}return n}function q8(t){const e=R8(t),n=Qu(e.filter(f=>f.box.fullSize),!0),a=Qu(Ku(e,"left"),!0),i=Qu(Ku(e,"right")),l=Qu(Ku(e,"top"),!0),c=Qu(Ku(e,"bottom")),d=v2(e,"x"),h=v2(e,"y");return{fullSize:n,leftAndTop:a.concat(l),rightAndBottom:i.concat(h).concat(c).concat(d),chartArea:Ku(e,"chartArea"),vertical:a.concat(i).concat(h),horizontal:l.concat(c).concat(d)}}function w2(t,e,n,a){return Math.max(t[n],e[n])+Math.max(t[a],e[a])}function X5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function z8(t,e,n,a){const{pos:i,box:l}=n,c=t.maxPadding;if(!Cs(i)){n.size&&(t[i]-=n.size);const x=a[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?l.height:l.width),n.size=x.size/x.count,t[i]+=n.size}l.getPadding&&X5(c,l.getPadding());const d=Math.max(0,e.outerWidth-w2(c,t,"left","right")),h=Math.max(0,e.outerHeight-w2(c,t,"top","bottom")),f=d!==t.w,p=h!==t.h;return t.w=d,t.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function H8(t){const e=t.maxPadding;function n(a){const i=Math.max(e[a]-t[a],0);return t[a]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $8(t,e){const n=e.maxPadding;function a(i){const l={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{l[c]=Math.max(e[c],n[c])}),l}return a(t?["left","right"]:["top","bottom"])}function sh(t,e,n,a){const i=[];let l,c,d,h,f,p;for(l=0,c=t.length,f=0;l<c;++l){d=t[l],h=d.box,h.update(d.width||e.w,d.height||e.h,$8(d.horizontal,e));const{same:x,other:w}=z8(e,n,d,a);f|=x&&i.length,p=p||w,h.fullSize||i.push(d)}return f&&sh(i,e,n,a)||p}function If(t,e,n,a,i){t.top=n,t.left=e,t.right=e+a,t.bottom=n+i,t.width=a,t.height=i}function N2(t,e,n,a){const i=n.padding;let{x:l,y:c}=e;for(const d of t){const h=d.box,f=a[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const x=e.w*p,w=f.size||h.height;mh(f.start)&&(c=f.start),h.fullSize?If(h,i.left,c,n.outerWidth-i.right-i.left,w):If(h,e.left+f.placed,c,x,w),f.start=c,f.placed+=x,c=h.bottom}else{const x=e.h*p,w=f.size||h.width;mh(f.start)&&(l=f.start),h.fullSize?If(h,l,i.top,w,n.outerHeight-i.bottom-i.top):If(h,l,e.top+f.placed,w,x),f.start=l,f.placed+=x,l=h.right}}e.x=l,e.y=c}var Po={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,a){if(!t)return;const i=Ei(t.options.layout.padding),l=Math.max(e-i.width,0),c=Math.max(n-i.height,0),d=q8(t.boxes),h=d.vertical,f=d.horizontal;Bs(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/p,hBoxMaxHeight:c/2}),w=Object.assign({},i);X5(w,Ei(a));const b=Object.assign({maxPadding:w,w:l,h:c,x:i.left,y:i.top},i),N=I8(h.concat(f),x);sh(d.fullSize,b,x,N),sh(h,b,x,N),sh(f,b,x,N)&&sh(h,b,x,N),H8(b),N2(d.leftAndTop,b,x,N),b.x+=b.w,b.y+=b.h,N2(d.rightAndBottom,b,x,N),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Bs(d.chartArea,S=>{const k=S.box;Object.assign(k,t.chartArea),k.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Z5{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,a){}removeEventListener(e,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,a,i){return n=Math.max(0,n||e.width),a=a||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):a)}}isAttached(e){return!0}updateConfig(e){}}class V8 extends Z5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lm="$chartjs",W8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j2=t=>t===null||t==="";function G8(t,e){const n=t.style,a=t.getAttribute("height"),i=t.getAttribute("width");if(t[lm]={initial:{height:a,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",j2(i)){const l=c2(t,"width");l!==void 0&&(t.width=l)}if(j2(a))if(t.style.height==="")t.height=t.width/(e||2);else{const l=c2(t,"height");l!==void 0&&(t.height=l)}return t}const J5=s8?{passive:!0}:!1;function Y8(t,e,n){t&&t.addEventListener(e,n,J5)}function K8(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,J5)}function Q8(t,e){const n=W8[t.type]||t.type,{x:a,y:i}=Cc(t,e);return{type:n,chart:e,native:t,x:a!==void 0?a:null,y:i!==void 0?i:null}}function km(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function X8(t,e,n){const a=t.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||km(d.addedNodes,a),c=c&&!km(d.removedNodes,a);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Z8(t,e,n){const a=t.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||km(d.removedNodes,a),c=c&&!km(d.addedNodes,a);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ph=new Map;let _2=0;function ew(){const t=window.devicePixelRatio;t!==_2&&(_2=t,ph.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function J8(t,e){ph.size||window.addEventListener("resize",ew),ph.set(t,e)}function eC(t){ph.delete(t),ph.size||window.removeEventListener("resize",ew)}function tC(t,e,n){const a=t.canvas,i=a&&Zx(a);if(!i)return;const l=D5((d,h)=>{const f=i.clientWidth;n(d,h),f<i.clientWidth&&n()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||l(f,p)});return c.observe(i),J8(t,l),c}function vp(t,e,n){n&&n.disconnect(),e==="resize"&&eC(t)}function sC(t,e,n){const a=t.canvas,i=D5(l=>{t.ctx!==null&&n(Q8(l,t))},t);return Y8(a,e,i),i}class nC extends Z5{acquireContext(e,n){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(G8(e,n),a):null}releaseContext(e){const n=e.canvas;if(!n[lm])return!1;const a=n[lm].initial;["height","width"].forEach(l=>{const c=a[l];Ys(c)?n.removeAttribute(l):n.setAttribute(l,c)});const i=a.style||{};return Object.keys(i).forEach(l=>{n.style[l]=i[l]}),n.width=n.width,delete n[lm],!0}addEventListener(e,n,a){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),c={attach:X8,detach:Z8,resize:tC}[n]||sC;i[n]=c(e,n,a)}removeEventListener(e,n){const a=e.$proxies||(e.$proxies={}),i=a[n];if(!i)return;({attach:vp,detach:vp,resize:vp}[n]||K8)(e,n,i),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,a,i){return t8(e,n,a,i)}isAttached(e){const n=e&&Zx(e);return!!(n&&n.isConnected)}}function aC(t){return!Xx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?V8:nC}class Ch{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:a}=this.getProps(["x","y"],e);return{x:n,y:a}}hasValue(){return jm(this.x)&&jm(this.y)}getProps(e,n){const a=this.$animations;if(!n||!a)return this;const i={};return e.forEach(l=>{i[l]=a[l]&&a[l].active()?a[l]._to:this[l]}),i}}function rC(t,e){const n=t.options.ticks,a=iC(t),i=Math.min(n.maxTicksLimit||a,a),l=n.major.enabled?oC(e):[],c=l.length,d=l[0],h=l[c-1],f=[];if(c>i)return cC(e,f,l,c/i),f;const p=lC(l,e,i);if(c>0){let x,w;const b=c>1?Math.round((h-d)/(c-1)):null;for(qf(e,f,p,Ys(b)?0:d-b,d),x=0,w=c-1;x<w;x++)qf(e,f,p,l[x],l[x+1]);return qf(e,f,p,h,Ys(b)?e.length:h+b),f}return qf(e,f,p),f}function iC(t){const e=t.options.offset,n=t._tickSize(),a=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(a,i))}function lC(t,e,n){const a=dC(t),i=e.length/n;if(!a)return Math.max(i,1);const l=cS(a);for(let c=0,d=l.length-1;c<d;c++){const h=l[c];if(h>i)return h}return Math.max(i,1)}function oC(t){const e=[];let n,a;for(n=0,a=t.length;n<a;n++)t[n].major&&e.push(n);return e}function cC(t,e,n,a){let i=0,l=n[0],c;for(a=Math.ceil(a),c=0;c<t.length;c++)c===l&&(e.push(t[c]),i++,l=n[i*a])}function qf(t,e,n,a,i){const l=Es(a,0),c=Math.min(Es(i,t.length),t.length);let d=0,h,f,p;for(n=Math.ceil(n),i&&(h=i-a,n=h/Math.floor(h/n)),p=l;p<0;)d++,p=Math.round(l+d*n);for(f=Math.max(l,0);f<c;f++)f===p&&(e.push(t[f]),d++,p=Math.round(l+d*n))}function dC(t){const e=t.length;let n,a;if(e<2)return!1;for(a=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==a)return!1;return a}const uC=t=>t==="left"?"right":t==="right"?"left":t,S2=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,C2=(t,e)=>Math.min(e||t,t);function k2(t,e){const n=[],a=t.length/e,i=t.length;let l=0;for(;l<i;l+=a)n.push(t[Math.floor(l)]);return n}function hC(t,e,n){const a=t.ticks.length,i=Math.min(e,a-1),l=t._startPixel,c=t._endPixel,d=1e-6;let h=t.getPixelForTick(i),f;if(!(n&&(a===1?f=Math.max(h-l,c-h):e===0?f=(t.getPixelForTick(1)-h)/2:f=(h-t.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<l-d||h>c+d)))return h}function fC(t,e){Bs(t,n=>{const a=n.gc,i=a.length/2;let l;if(i>e){for(l=0;l<i;++l)delete n.data[a[l]];a.splice(0,i)}})}function Xu(t){return t.drawTicks?t.tickLength:0}function A2(t,e){if(!t.display)return 0;const n=er(t.font,e),a=Ei(t.padding);return(la(t.text)?t.text.length:1)*n.lineHeight+a.height}function mC(t,e){return Yd(t,{scale:e,type:"scale"})}function pC(t,e,n){return Yd(t,{tick:n,index:e,type:"tick"})}function xC(t,e,n){let a=M5(t);return(n&&e!=="right"||!n&&e==="right")&&(a=uC(a)),a}function gC(t,e,n,a){const{top:i,left:l,bottom:c,right:d,chart:h}=t,{chartArea:f,scales:p}=h;let x=0,w,b,N;const S=c-i,k=d-l;if(t.isHorizontal()){if(b=Nr(a,l,d),Cs(n)){const _=Object.keys(n)[0],E=n[_];N=p[_].getPixelForValue(E)+S-e}else n==="center"?N=(f.bottom+f.top)/2+S-e:N=S2(t,n,e);w=d-l}else{if(Cs(n)){const _=Object.keys(n)[0],E=n[_];b=p[_].getPixelForValue(E)-k+e}else n==="center"?b=(f.left+f.right)/2-k+e:b=S2(t,n,e);N=Nr(a,c,i),x=n==="left"?-ki:ki}return{titleX:b,titleY:N,maxWidth:w,rotation:x}}class Kd extends Ch{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:a,_suggestedMax:i}=this;return e=tl(e,Number.POSITIVE_INFINITY),n=tl(n,Number.NEGATIVE_INFINITY),a=tl(a,Number.POSITIVE_INFINITY),i=tl(i,Number.NEGATIVE_INFINITY),{min:tl(e,a),max:tl(n,i),minDefined:ei(e),maxDefined:ei(n)}}getMinMax(e){let{min:n,max:a,minDefined:i,maxDefined:l}=this.getUserBounds(),c;if(i&&l)return{min:n,max:a};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,e),i||(n=Math.min(n,c.min)),l||(a=Math.max(a,c.max));return n=l&&n>a?a:n,a=i&&n>a?n:a,{min:tl(n,tl(a,n)),max:tl(a,tl(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){sn(this.options.beforeUpdate,[this])}update(e,n,a){const{beginAtZero:i,grace:l,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IS(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?k2(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=rC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,e=!e),this._startPixel=n,this._endPixel=a,this._reversePixels=e,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){sn(this.options.afterUpdate,[this])}beforeSetDimensions(){sn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){sn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),sn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){sn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let a,i,l;for(a=0,i=e.length;a<i;a++)l=e[a],l.label=sn(n.callback,[l.value,a,e],this)}afterTickToLabelConversion(){sn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){sn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,a=C2(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,l=n.maxRotation;let c=i,d,h,f;if(!this._isVisible()||!n.display||i>=l||a<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),x=p.widest.width,w=p.highest.height,b=Ai(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/a:b/(a-1),x+6>d&&(d=b/(a-(e.offset?.5:1)),h=this.maxHeight-Xu(e.grid)-n.padding-A2(e.title,this.chart.options.font),f=Math.sqrt(x*x+w*w),c=fS(Math.min(Math.asin(Ai((p.highest.height+6)/d,-1,1)),Math.asin(Ai(h/f,-1,1))-Math.asin(Ai(w/f,-1,1)))),c=Math.max(i,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){sn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){sn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:a,title:i,grid:l}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=A2(i,n.options.font);if(d?(e.width=this.maxWidth,e.height=Xu(l)+h):(e.height=this.maxHeight,e.width=Xu(l)+h),a.display&&this.ticks.length){const{first:f,last:p,widest:x,highest:w}=this._getLabelSizes(),b=a.padding*2,N=Lc(this.labelRotation),S=Math.cos(N),k=Math.sin(N);if(d){const _=a.mirror?0:k*x.width+S*w.height;e.height=Math.min(this.maxHeight,e.height+_+b)}else{const _=a.mirror?0:S*x.width+k*w.height;e.width=Math.min(this.maxWidth,e.width+_+b)}this._calculatePadding(f,p,k,S)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,a,i){const{ticks:{align:l,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,b=0;h?f?(w=i*e.width,b=a*n.height):(w=a*e.height,b=i*n.width):l==="start"?b=n.width:l==="end"?w=e.width:l!=="inner"&&(w=e.width/2,b=n.width/2),this.paddingLeft=Math.max((w-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-x+c)*this.width/(this.width-x),0)}else{let p=n.height/2,x=e.height/2;l==="start"?(p=0,x=e.height):l==="end"&&(p=n.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){sn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,a;for(n=0,a=e.length;n<a;n++)Ys(e[n].label)&&(e.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=k2(a,n)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,a){const{ctx:i,_longestTextCache:l}=this,c=[],d=[],h=Math.floor(n/C2(n,a));let f=0,p=0,x,w,b,N,S,k,_,E,D,R,I;for(x=0;x<n;x+=h){if(N=e[x].label,S=this._resolveTickFontOptions(x),i.font=k=S.string,_=l[k]=l[k]||{data:{},gc:[]},E=S.lineHeight,D=R=0,!Ys(N)&&!la(N))D=n2(i,_.data,_.gc,D,N),R=E;else if(la(N))for(w=0,b=N.length;w<b;++w)I=N[w],!Ys(I)&&!la(I)&&(D=n2(i,_.data,_.gc,D,I),R+=E);c.push(D),d.push(R),f=Math.max(D,f),p=Math.max(R,p)}fC(l,n);const ne=c.indexOf(f),K=d.indexOf(p),B=H=>({width:c[H]||0,height:d[H]||0});return{first:B(0),last:B(n-1),widest:B(ne),highest:B(K),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return gS(this._alignToPixels?_c(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const a=n[e];return a.$context||(a.$context=pC(this.getContext(),e,a))}return this.$context||(this.$context=mC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Lc(this.labelRotation),a=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,d=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*a>d*i?d/a:h/i:h*i<d*a?h/a:d/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,a=this.chart,i=this.options,{grid:l,position:c,border:d}=i,h=l.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),w=Xu(l),b=[],N=d.setContext(this.getContext()),S=N.display?N.width:0,k=S/2,_=function(Z){return _c(a,Z,S)};let E,D,R,I,ne,K,B,H,ee,T,F,$;if(c==="top")E=_(this.bottom),K=this.bottom-w,H=E-k,T=_(e.top)+k,$=e.bottom;else if(c==="bottom")E=_(this.top),T=e.top,$=_(e.bottom)-k,K=E+k,H=this.top+w;else if(c==="left")E=_(this.right),ne=this.right-w,B=E-k,ee=_(e.left)+k,F=e.right;else if(c==="right")E=_(this.left),ee=e.left,F=_(e.right)-k,ne=E+k,B=this.left+w;else if(n==="x"){if(c==="center")E=_((e.top+e.bottom)/2+.5);else if(Cs(c)){const Z=Object.keys(c)[0],re=c[Z];E=_(this.chart.scales[Z].getPixelForValue(re))}T=e.top,$=e.bottom,K=E+k,H=K+w}else if(n==="y"){if(c==="center")E=_((e.left+e.right)/2);else if(Cs(c)){const Z=Object.keys(c)[0],re=c[Z];E=_(this.chart.scales[Z].getPixelForValue(re))}ne=E-k,B=ne-w,ee=e.left,F=e.right}const G=Es(i.ticks.maxTicksLimit,x),ie=Math.max(1,Math.ceil(x/G));for(D=0;D<x;D+=ie){const Z=this.getContext(D),re=l.setContext(Z),le=d.setContext(Z),de=re.lineWidth,Y=re.color,ue=le.dash||[],O=le.dashOffset,P=re.tickWidth,z=re.tickColor,q=re.tickBorderDash||[],se=re.tickBorderDashOffset;R=hC(this,D,h),R!==void 0&&(I=_c(a,R,de),f?ne=B=ee=F=I:K=H=T=$=I,b.push({tx1:ne,ty1:K,tx2:B,ty2:H,x1:ee,y1:T,x2:F,y2:$,width:de,color:Y,borderDash:ue,borderDashOffset:O,tickWidth:P,tickColor:z,tickBorderDash:q,tickBorderDashOffset:se}))}return this._ticksLength=x,this._borderValue=E,b}_computeLabelItems(e){const n=this.axis,a=this.options,{position:i,ticks:l}=a,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:x}=l,w=Xu(a.grid),b=w+p,N=x?-p:b,S=-Lc(this.labelRotation),k=[];let _,E,D,R,I,ne,K,B,H,ee,T,F,$="middle";if(i==="top")ne=this.bottom-N,K=this._getXAxisLabelAlignment();else if(i==="bottom")ne=this.top+N,K=this._getXAxisLabelAlignment();else if(i==="left"){const ie=this._getYAxisLabelAlignment(w);K=ie.textAlign,I=ie.x}else if(i==="right"){const ie=this._getYAxisLabelAlignment(w);K=ie.textAlign,I=ie.x}else if(n==="x"){if(i==="center")ne=(e.top+e.bottom)/2+b;else if(Cs(i)){const ie=Object.keys(i)[0],Z=i[ie];ne=this.chart.scales[ie].getPixelForValue(Z)+b}K=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")I=(e.left+e.right)/2-b;else if(Cs(i)){const ie=Object.keys(i)[0],Z=i[ie];I=this.chart.scales[ie].getPixelForValue(Z)}K=this._getYAxisLabelAlignment(w).textAlign}n==="y"&&(h==="start"?$="top":h==="end"&&($="bottom"));const G=this._getLabelSizes();for(_=0,E=d.length;_<E;++_){D=d[_],R=D.label;const ie=l.setContext(this.getContext(_));B=this.getPixelForTick(_)+l.labelOffset,H=this._resolveTickFontOptions(_),ee=H.lineHeight,T=la(R)?R.length:1;const Z=T/2,re=ie.color,le=ie.textStrokeColor,de=ie.textStrokeWidth;let Y=K;c?(I=B,K==="inner"&&(_===E-1?Y=this.options.reverse?"left":"right":_===0?Y=this.options.reverse?"right":"left":Y="center"),i==="top"?f==="near"||S!==0?F=-T*ee+ee/2:f==="center"?F=-G.highest.height/2-Z*ee+ee:F=-G.highest.height+ee/2:f==="near"||S!==0?F=ee/2:f==="center"?F=G.highest.height/2-Z*ee:F=G.highest.height-T*ee,x&&(F*=-1),S!==0&&!ie.showLabelBackdrop&&(I+=ee/2*Math.sin(S))):(ne=B,F=(1-T)*ee/2);let ue;if(ie.showLabelBackdrop){const O=Ei(ie.backdropPadding),P=G.heights[_],z=G.widths[_];let q=F-O.top,se=0-O.left;switch($){case"middle":q-=P/2;break;case"bottom":q-=P;break}switch(K){case"center":se-=z/2;break;case"right":se-=z;break;case"inner":_===E-1?se-=z:_>0&&(se-=z/2);break}ue={left:se,top:q,width:z+O.width,height:P+O.height,color:ie.backdropColor}}k.push({label:R,font:H,textOffset:F,options:{rotation:S,color:re,strokeColor:le,strokeWidth:de,textAlign:Y,textBaseline:$,translation:[I,ne],backdrop:ue}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Lc(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:a,mirror:i,padding:l}}=this.options,c=this._getLabelSizes(),d=e+l,h=c.widest.width;let f,p;return n==="left"?i?(p=this.right+l,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?i?(p=this.left+l,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:a,top:i,width:l,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(a,i,l,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(l=>l.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,a=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const d=(h,f,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(f.x,f.y),a.stroke(),a.restore())};if(n.display)for(l=0,c=i.length;l<c;++l){const h=i[l];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:a,grid:i}}=this,l=a.setContext(this.getContext()),c=a.display?l.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,x,w;this.isHorizontal()?(f=_c(e,this.left,c)-c/2,p=_c(e,this.right,d)+d/2,x=w=h):(x=_c(e,this.top,c)-c/2,w=_c(e,this.bottom,d)+d/2,f=p=h),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(f,x),n.lineTo(p,w),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,i=this._computeLabelArea();i&&Wx(a,i);const l=this.getLabelItems(e);for(const c of l){const d=c.options,h=c.font,f=c.label,p=c.textOffset;_m(a,f,0,p,h,d)}i&&Gx(a)}drawTitle(){const{ctx:e,options:{position:n,title:a,reverse:i}}=this;if(!a.display)return;const l=er(a.font),c=Ei(a.padding),d=a.align;let h=l.lineHeight/2;n==="bottom"||n==="center"||Cs(n)?(h+=c.bottom,la(a.text)&&(h+=l.lineHeight*(a.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:x,rotation:w}=gC(this,h,n,d);_m(e,a.text,0,0,l,{color:a.color,maxWidth:x,rotation:w,textAlign:xC(d,n,i),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,a=Es(e.grid&&e.grid.z,-1),i=Es(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kd.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:a,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",i=[];let l,c;for(l=0,c=n.length;l<c;++l){const d=n[l];d[a]===this.id&&(!e||d.type===e)&&i.push(d)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return er(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zf{constructor(e,n,a){this.type=e,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let a;vC(n)&&(a=this.register(n));const i=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in i||(i[l]=e,bC(e,c,a),this.override&&Rn.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,a=e.id,i=this.scope;a in n&&delete n[a],i&&a in Rn[i]&&(delete Rn[i][a],this.override&&delete Bc[a])}}function bC(t,e,n){const a=fh(Object.create(null),[n?Rn.get(n):{},Rn.get(e),t.defaults]);Rn.set(e,a),t.defaultRoutes&&yC(e,t.defaultRoutes),t.descriptors&&Rn.describe(e,t.descriptors)}function yC(t,e){Object.keys(e).forEach(n=>{const a=n.split("."),i=a.pop(),l=[t].concat(a).join("."),c=e[n].split("."),d=c.pop(),h=c.join(".");Rn.route(l,i,h,d)})}function vC(t){return"id"in t&&"defaults"in t}class wC{constructor(){this.controllers=new zf(Y5,"datasets",!0),this.elements=new zf(Ch,"elements"),this.plugins=new zf(Object,"plugins"),this.scales=new zf(Kd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,a){[...n].forEach(i=>{const l=a||this._getRegistryForType(i);a||l.isForType(i)||l===this.plugins&&i.id?this._exec(e,l,i):Bs(i,c=>{const d=a||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,n,a){const i=$x(e);sn(a["before"+i],[],a),n[e](a),sn(a["after"+i],[],a)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(e))return a}return this.plugins}_get(e,n,a){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return i}}var rl=new wC;class NC{constructor(){this._init=[]}notify(e,n,a,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(l,e,n,a);return n==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,a,i){i=i||{};for(const l of e){const c=l.plugin,d=c[a],h=[n,i,l.options];if(sn(d,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Ys(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const a=e&&e.config,i=Es(a.options&&a.options.plugins,{}),l=jC(a);return i===!1&&!n?[]:SC(e,l,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],a=this._cache,i=(l,c)=>l.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(i(n,a),e,"stop"),this._notify(i(a,n),e,"start")}}function jC(t){const e={},n=[],a=Object.keys(rl.plugins.items);for(let l=0;l<a.length;l++)n.push(rl.getPlugin(a[l]));const i=t.plugins||[];for(let l=0;l<i.length;l++){const c=i[l];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function _C(t,e){return!e&&t===!1?null:t===!0?{}:t}function SC(t,{plugins:e,localIds:n},a,i){const l=[],c=t.getContext();for(const d of e){const h=d.id,f=_C(a[h],i);f!==null&&l.push({plugin:d,options:CC(t.config,{plugin:d,local:n[h]},f,c)})}return l}function CC(t,{plugin:e,local:n},a,i){const l=t.pluginScopeKeys(e),c=t.getOptionScopes(a,l);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fx(t,e){const n=Rn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function kC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function AC(t,e){return t===e?"_index_":"_value_"}function E2(t){if(t==="x"||t==="y"||t==="r")return t}function EC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mx(t,...e){if(E2(t))return t;for(const n of e){const a=n.axis||EC(n.position)||t.length>1&&E2(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function L2(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function LC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(n.length)return L2(t,"x",n[0])||L2(t,"y",n[0])}return{}}function DC(t,e){const n=Bc[t.type]||{scales:{}},a=e.scales||{},i=fx(t.type,e),l=Object.create(null);return Object.keys(a).forEach(c=>{const d=a[c];if(!Cs(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=mx(c,d,LC(c,t),Rn.scales[d.type]),f=AC(h,i),p=n.scales||{};l[c]=ah(Object.create(null),[{axis:h},d,p[h],p[f]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,h=c.indexAxis||fx(d,e),p=(Bc[d]||{}).scales||{};Object.keys(p).forEach(x=>{const w=kC(x,h),b=c[w+"AxisID"]||w;l[b]=l[b]||Object.create(null),ah(l[b],[{axis:w},a[b],p[x]])})}),Object.keys(l).forEach(c=>{const d=l[c];ah(d,[Rn.scales[d.type],Rn.scale])}),l}function tw(t){const e=t.options||(t.options={});e.plugins=Es(e.plugins,{}),e.scales=DC(t,e)}function sw(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MC(t){return t=t||{},t.data=sw(t.data),tw(t),t}const D2=new Map,nw=new Set;function Hf(t,e){let n=D2.get(t);return n||(n=e(),D2.set(t,n),nw.add(n)),n}const Zu=(t,e,n)=>{const a=Id(e,n);a!==void 0&&t.add(a)};class FC{constructor(e){this._config=MC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Hf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Hf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,a=this.type;return Hf(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const a=this._scopeCache;let i=a.get(e);return(!i||n)&&(i=new Map,a.set(e,i)),i}getOptionScopes(e,n,a){const{options:i,type:l}=this,c=this._cachedScopes(e,a),d=c.get(n);if(d)return d;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(x=>Zu(h,e,x))),p.forEach(x=>Zu(h,i,x)),p.forEach(x=>Zu(h,Bc[l]||{},x)),p.forEach(x=>Zu(h,Rn,x)),p.forEach(x=>Zu(h,hx,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),nw.has(n)&&c.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bc[n]||{},Rn.datasets[n]||{},{type:n},Rn,hx]}resolveNamedOptions(e,n,a,i=[""]){const l={$shared:!0},{resolver:c,subPrefixes:d}=M2(this._resolverCache,e,i);let h=c;if(TC(c,n)){l.$shared=!1,a=Ho(a)?a():a;const f=this.createResolver(e,a,d);h=qd(c,a,f)}for(const f of n)l[f]=h[f];return l}createResolver(e,n,a=[""],i){const{resolver:l}=M2(this._resolverCache,e,a);return Cs(n)?qd(l,n,void 0,i):l}}function M2(t,e,n){let a=t.get(e);a||(a=new Map,t.set(e,a));const i=n.join();let l=a.get(i);return l||(l={resolver:Yx(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},a.set(i,l)),l}const OC=t=>Cs(t)&&Object.getOwnPropertyNames(t).some(e=>Ho(t[e]));function TC(t,e){const{isScriptable:n,isIndexable:a}=I5(t);for(const i of e){const l=n(i),c=a(i),d=(c||l)&&t[i];if(l&&(Ho(d)||OC(d))||c&&la(d))return!0}return!1}var PC="4.5.0";const BC=["top","bottom","left","right","chartArea"];function F2(t,e){return t==="top"||t==="bottom"||BC.indexOf(t)===-1&&e==="x"}function O2(t,e){return function(n,a){return n[t]===a[t]?n[e]-a[e]:n[t]-a[t]}}function T2(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),sn(n&&n.onComplete,[t],e)}function RC(t){const e=t.chart,n=e.options.animation;sn(n&&n.onProgress,[t],e)}function aw(t){return Xx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const om={},P2=t=>{const e=aw(t);return Object.values(om).filter(n=>n.canvas===e).pop()};function UC(t,e,n){const a=Object.keys(t);for(const i of a){const l=+i;if(l>=e){const c=t[i];delete t[i],(n>0||l>e)&&(t[l+n]=c)}}}function IC(t,e,n,a){return!n||t.type==="mouseout"?null:a?e:t}let $m=class{static defaults=Rn;static instances=om;static overrides=Bc;static registry=rl;static version=PC;static getChart=P2;static register(...e){rl.add(...e),B2()}static unregister(...e){rl.remove(...e),B2()}constructor(e,n){const a=this.config=new FC(n),i=aw(e),l=P2(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||aC(i)),this.platform.updateConfig(a);const d=this.platform.acquireContext(i,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=tS(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wS(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],om[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Rl.listen(this,"complete",T2),Rl.listen(this,"progress",RC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:a,height:i,_aspectRatio:l}=this;return Ys(e)?n&&l?l:i?a/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():o2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a2(this.canvas,this.ctx),this}stop(){return Rl.stop(this),this}resize(e,n){Rl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const a=this.options,i=this.canvas,l=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,e,n,l),d=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,o2(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),sn(a.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Bs(n,(a,i)=>{a.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,a=this.scales,i=Object.keys(a).reduce((c,d)=>(c[d]=!1,c),{});let l=[];n&&(l=l.concat(Object.keys(n).map(c=>{const d=n[c],h=mx(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Bs(l,c=>{const d=c.options,h=d.id,f=mx(h,d),p=Es(d.type,c.dtype);(d.position===void 0||F2(d.position,f)!==F2(c.dposition))&&(d.position=c.dposition),i[h]=!0;let x=null;if(h in a&&a[h].type===p)x=a[h];else{const w=rl.getScale(p);x=new w({id:h,type:p,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(d,e)}),Bs(i,(c,d)=>{c||delete a[d]}),Bs(a,c=>{Po.configure(this,c,c.options),Po.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,a=e.length;if(e.sort((i,l)=>i.index-l.index),a>n){for(let i=n;i<a;++i)this._destroyDatasetMeta(i);e.splice(n,a-n)}this._sortedMetasets=e.slice(0).sort(O2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((a,i)=>{n.filter(l=>l===a._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let a,i;for(this._removeUnreferencedMetasets(),a=0,i=n.length;a<i;a++){const l=n[a];let c=this.getDatasetMeta(a);const d=l.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=d,c.indexAxis=l.indexAxis||fx(d,this.options),c.order=l.order||0,c.index=a,c.label=""+l.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const h=rl.getController(d),{datasetElementType:f,dataElementType:p}=Rn.datasets[d];Object.assign(h,{dataElementType:rl.getElement(p),datasetElementType:f&&rl.getElement(f)}),c.controller=new h(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Bs(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:x}=this.getDatasetMeta(f),w=!i&&l.indexOf(x)===-1;x.buildOrUpdateElements(w),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),i||Bs(l,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(O2("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Bs(this.scales,e=>{Po.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!Yy(n,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:i,count:l}of n){const c=a==="_removeElements"?-l:l;UC(e,i,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=l=>new Set(e.filter(c=>c[0]===l).map((c,d)=>d+","+c.splice(1).join(","))),i=a(0);for(let l=1;l<n;l++)if(!Yy(i,a(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Po.update(this,this.width,this.height,e);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],Bs(this.boxes,i=>{a&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Ho(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const a=this.getDatasetMeta(e),i={meta:a,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(a.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rl.has(this)?this.attached&&!Rl.running(this)&&Rl.start(this):(this.draw(),T2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,a=[];let i,l;for(i=0,l=n.length;i<l;++i){const c=n[i];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,a={meta:e,index:e.index,cancelable:!0},i=i8(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Wx(n,i),e.controller.draw(),i&&Gx(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return B5(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,a,i){const l=B8.modes[n];return typeof l=="function"?l(this,e,a,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],a=this._metasets;let i=a.filter(l=>l&&l._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},a.push(i)),i}getContext(){return this.$context||(this.$context=Yd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(e,n){const a=this.getDatasetMeta(e);a.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,a){const i=a?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,i);mh(n)?(l.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(l,{visible:a}),this.update(d=>d.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),a2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete om[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,a=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c,d)=>{l.offsetX=c,l.offsetY=d,this._eventHandler(l)};Bs(this.options.events,l=>a(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,a=(h,f)=>{n.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(n.removeEventListener(this,h,f),delete e[h])},l=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),a("resize",l),a("detach",c)};c=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),a("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){Bs(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Bs(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,a){const i=a?"set":"remove";let l,c,d,h;for(n==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){c=e[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],a=e.map(({datasetIndex:l,index:c})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[c],index:c}});!vm(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(e,n,a){return this._plugins.notify(this,e,n,a)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,a){const i=this.options.hover,l=(h,f)=>h.filter(p=>!f.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=l(n,e),d=a?e:l(e,n);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(e,n){const a={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,i)===!1)return;const l=this._handleEvent(e,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(l||a.changed)&&this.render(),this}_handleEvent(e,n,a){const{_active:i=[],options:l}=this,c=n,d=this._getActiveElements(e,i,a,c),h=lS(e),f=IC(e,this._lastEvent,a,h);a&&(this._lastEvent=null,sn(l.onHover,[e,d,this],this),h&&sn(l.onClick,[e,d,this],this));const p=!vm(d,i);return(p||n)&&(this._active=d,this._updateHoverStyles(d,i,n)),this._lastEvent=f,p}_getActiveElements(e,n,a,i){if(e.type==="mouseout")return[];if(!a)return n;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,i)}};function B2(){return Bs($m.instances,t=>t._plugins.invalidate())}function rw(t,e){const{x:n,y:a,base:i,width:l,height:c}=t.getProps(["x","y","base","width","height"],e);let d,h,f,p,x;return t.horizontal?(x=c/2,d=Math.min(n,i),h=Math.max(n,i),f=a-x,p=a+x):(x=l/2,d=n-x,h=n+x,f=Math.min(a,i),p=Math.max(a,i)),{left:d,top:f,right:h,bottom:p}}function Bo(t,e,n,a){return t?0:Ai(e,n,a)}function qC(t,e,n){const a=t.options.borderWidth,i=t.borderSkipped,l=U5(a);return{t:Bo(i.top,l.top,0,n),r:Bo(i.right,l.right,0,e),b:Bo(i.bottom,l.bottom,0,n),l:Bo(i.left,l.left,0,e)}}function zC(t,e,n){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,l=Od(i),c=Math.min(e,n),d=t.borderSkipped,h=a||Cs(i);return{topLeft:Bo(!h||d.top||d.left,l.topLeft,0,c),topRight:Bo(!h||d.top||d.right,l.topRight,0,c),bottomLeft:Bo(!h||d.bottom||d.left,l.bottomLeft,0,c),bottomRight:Bo(!h||d.bottom||d.right,l.bottomRight,0,c)}}function HC(t){const e=rw(t),n=e.right-e.left,a=e.bottom-e.top,i=qC(t,n/2,a/2),l=zC(t,n/2,a/2);return{outer:{x:e.left,y:e.top,w:n,h:a,radius:l},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:a-i.t-i.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,l.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(i.b,i.r))}}}}function wp(t,e,n,a){const i=e===null,l=n===null,d=t&&!(i&&l)&&rw(t,a);return d&&(i||Md(e,d.left,d.right))&&(l||Md(n,d.top,d.bottom))}function $C(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VC(t,e){t.rect(e.x,e.y,e.w,e.h)}function Np(t,e,n={}){const a=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,l=(t.x+t.w!==n.x+n.w?e:0)-a,c=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+a,y:t.y+i,w:t.w+l,h:t.h+c,radius:t.radius}}class WC extends Ch{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:a,backgroundColor:i}}=this,{inner:l,outer:c}=HC(this),d=$C(c.radius)?Sm:VC;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),d(e,Np(c,n,l)),e.clip(),d(e,Np(l,-n,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),d(e,Np(l,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,a){return wp(this,e,n,a)}inXRange(e,n){return wp(this,e,null,n)}inYRange(e,n){return wp(this,null,e,n)}getCenterPoint(e){const{x:n,y:a,base:i,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(n+i)/2:n,y:l?a:(a+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const R2=(t,e)=>{let{boxHeight:n=e,boxWidth:a=e}=t;return t.usePointStyle&&(n=Math.min(n,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(e,n)}},GC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class U2 extends Ch{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,a){this.maxWidth=e,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=sn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(a=>e.filter(a,this.chart.data))),e.sort&&(n=n.sort((a,i)=>e.sort(a,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,i=er(a.font),l=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=R2(a,l);let f,p;n.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,l,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,i,d,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,a,i){const{ctx:l,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+d;let x=e;l.textAlign="left",l.textBaseline="middle";let w=-1,b=-p;return this.legendItems.forEach((N,S)=>{const k=a+n/2+l.measureText(N.text).width;(S===0||f[f.length-1]+k+2*d>c)&&(x+=p,f[f.length-(S>0?0:1)]=0,b+=p,w++),h[S]={left:0,top:b,row:w,width:k,height:i},f[f.length-1]+=k+d}),x}_fitCols(e,n,a,i){const{ctx:l,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-e;let x=d,w=0,b=0,N=0,S=0;return this.legendItems.forEach((k,_)=>{const{itemWidth:E,itemHeight:D}=YC(a,n,l,k,i);_>0&&b+D+2*d>p&&(x+=w+d,f.push({width:w,height:b}),N+=w+d,S++,w=b=0),h[_]={left:N,top:b,col:S,width:E,height:D},w=Math.max(w,E),b+=D+d}),x+=w,f.push({width:w,height:b}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:i},rtl:l}}=this,c=Td(l,this.left,this.width);if(this.isHorizontal()){let d=0,h=Nr(a,this.left+i,this.right-this.lineWidths[d]);for(const f of n)d!==f.row&&(d=f.row,h=Nr(a,this.left+i,this.right-this.lineWidths[d])),f.top+=this.top+e+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let d=0,h=Nr(a,this.top+e+i,this.bottom-this.columnSizes[d].height);for(const f of n)f.col!==d&&(d=f.col,h=Nr(a,this.top+e+i,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wx(e,this),this._draw(),Gx(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:a,ctx:i}=this,{align:l,labels:c}=e,d=Rn.color,h=Td(e.rtl,this.left,this.width),f=er(c.font),{padding:p}=c,x=f.size,w=x/2;let b;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:N,boxHeight:S,itemHeight:k}=R2(c,x),_=function(ne,K,B){if(isNaN(N)||N<=0||isNaN(S)||S<0)return;i.save();const H=Es(B.lineWidth,1);if(i.fillStyle=Es(B.fillStyle,d),i.lineCap=Es(B.lineCap,"butt"),i.lineDashOffset=Es(B.lineDashOffset,0),i.lineJoin=Es(B.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=Es(B.strokeStyle,d),i.setLineDash(Es(B.lineDash,[])),c.usePointStyle){const ee={radius:S*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:H},T=h.xPlus(ne,N/2),F=K+w;P5(i,ee,T,F,c.pointStyleWidth&&N)}else{const ee=K+Math.max((x-S)/2,0),T=h.leftForLtr(ne,N),F=Od(B.borderRadius);i.beginPath(),Object.values(F).some($=>$!==0)?Sm(i,{x:T,y:ee,w:N,h:S,radius:F}):i.rect(T,ee,N,S),i.fill(),H!==0&&i.stroke()}i.restore()},E=function(ne,K,B){_m(i,B.text,ne,K+k/2,f,{strikethrough:B.hidden,textAlign:h.textAlign(B.textAlign)})},D=this.isHorizontal(),R=this._computeTitleHeight();D?b={x:Nr(l,this.left+p,this.right-a[0]),y:this.top+p+R,line:0}:b={x:this.left+p,y:Nr(l,this.top+R+p,this.bottom-n[0].height),line:0},$5(this.ctx,e.textDirection);const I=k+p;this.legendItems.forEach((ne,K)=>{i.strokeStyle=ne.fontColor,i.fillStyle=ne.fontColor;const B=i.measureText(ne.text).width,H=h.textAlign(ne.textAlign||(ne.textAlign=c.textAlign)),ee=N+w+B;let T=b.x,F=b.y;h.setWidth(this.width),D?K>0&&T+ee+p>this.right&&(F=b.y+=I,b.line++,T=b.x=Nr(l,this.left+p,this.right-a[b.line])):K>0&&F+I>this.bottom&&(T=b.x=T+n[b.line].width+p,b.line++,F=b.y=Nr(l,this.top+R+p,this.bottom-n[b.line].height));const $=h.x(T);if(_($,F,ne),T=NS(H,T+N+w,D?T+ee:this.right,e.rtl),E(h.x(T),F,ne),D)b.x+=ee+p;else if(typeof ne.text!="string"){const G=f.lineHeight;b.y+=iw(ne,G)+p}else b.y+=I}),V5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,a=er(n.font),i=Ei(n.padding);if(!n.display)return;const l=Td(e.rtl,this.left,this.width),c=this.ctx,d=n.position,h=a.size/2,f=i.top+h;let p,x=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,x=Nr(e.align,x,this.right-w);else{const N=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);p=f+Nr(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const b=Nr(d,x,x+w);c.textAlign=l.textAlign(M5(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=a.string,_m(c,n.text,b,p,a)}_computeTitleHeight(){const e=this.options.title,n=er(e.font),a=Ei(e.padding);return e.display?n.lineHeight+a.height:0}_getLegendItemAt(e,n){let a,i,l;if(Md(e,this.left,this.right)&&Md(n,this.top,this.bottom)){for(l=this.legendHitBoxes,a=0;a<l.length;++a)if(i=l[a],Md(e,i.left,i.left+i.width)&&Md(n,i.top,i.top+i.height))return this.legendItems[a]}return null}handleEvent(e){const n=this.options;if(!XC(e.type,n))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,l=GC(i,a);i&&!l&&sn(n.onLeave,[e,i,this],this),this._hoveredItem=a,a&&!l&&sn(n.onHover,[e,a,this],this)}else a&&sn(n.onClick,[e,a,this],this)}}function YC(t,e,n,a,i){const l=KC(a,t,e,n),c=QC(i,a,e.lineHeight);return{itemWidth:l,itemHeight:c}}function KC(t,e,n,a){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((l,c)=>l.length>c.length?l:c)),e+n.size/2+a.measureText(i).width}function QC(t,e,n){let a=t;return typeof e.text!="string"&&(a=iw(e,n)),a}function iw(t,e){const n=t.text?t.text.length:0;return e*n}function XC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var ZC={id:"legend",_element:U2,start(t,e,n){const a=t.legend=new U2({ctx:t.ctx,options:n,chart:t});Po.configure(t,a,n),Po.addBox(t,a)},stop(t){Po.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const a=t.legend;Po.configure(t,a,n),a.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const a=e.datasetIndex,i=n.chart;i.isDatasetVisible(a)?(i.hide(a),e.hidden=!0):(i.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:i,color:l,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=Ei(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:a||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const nh={average(t){if(!t.length)return!1;let e,n,a=new Set,i=0,l=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();a.add(h.x),i+=h.y,++l}}return l===0||a.size===0?!1:{x:[...a].reduce((d,h)=>d+h)/a.size,y:i/l}},nearest(t,e){if(!t.length)return!1;let n=e.x,a=e.y,i=Number.POSITIVE_INFINITY,l,c,d;for(l=0,c=t.length;l<c;++l){const h=t[l].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=pS(e,f);p<i&&(i=p,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,a=h.y}return{x:n,y:a}}};function nl(t,e){return e&&(la(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ul(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function JC(t,e){const{element:n,datasetIndex:a,index:i}=e,l=t.getDatasetMeta(a).controller,{label:c,value:d}=l.getLabelAndValue(i);return{chart:t,label:c,parsed:l.getParsed(i),raw:t.data.datasets[a].data[i],formattedValue:d,dataset:l.getDataset(),dataIndex:i,datasetIndex:a,element:n}}function I2(t,e){const n=t.chart.ctx,{body:a,footer:i,title:l}=t,{boxWidth:c,boxHeight:d}=e,h=er(e.bodyFont),f=er(e.titleFont),p=er(e.footerFont),x=l.length,w=i.length,b=a.length,N=Ei(e.padding);let S=N.height,k=0,_=a.reduce((R,I)=>R+I.before.length+I.lines.length+I.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;S+=b*R+(_-b)*h.lineHeight+(_-1)*e.bodySpacing}w&&(S+=e.footerMarginTop+w*p.lineHeight+(w-1)*e.footerSpacing);let E=0;const D=function(R){k=Math.max(k,n.measureText(R).width+E)};return n.save(),n.font=f.string,Bs(t.title,D),n.font=h.string,Bs(t.beforeBody.concat(t.afterBody),D),E=e.displayColors?c+2+e.boxPadding:0,Bs(a,R=>{Bs(R.before,D),Bs(R.lines,D),Bs(R.after,D)}),E=0,n.font=p.string,Bs(t.footer,D),n.restore(),k+=N.width,{width:k,height:S}}function ek(t,e){const{y:n,height:a}=e;return n<a/2?"top":n>t.height-a/2?"bottom":"center"}function tk(t,e,n,a){const{x:i,width:l}=a,c=n.caretSize+n.caretPadding;if(t==="left"&&i+l+c>e.width||t==="right"&&i-l-c<0)return!0}function sk(t,e,n,a){const{x:i,width:l}=n,{width:c,chartArea:{left:d,right:h}}=t;let f="center";return a==="center"?f=i<=(d+h)/2?"left":"right":i<=l/2?f="left":i>=c-l/2&&(f="right"),tk(f,t,e,n)&&(f="center"),f}function q2(t,e,n){const a=n.yAlign||e.yAlign||ek(t,n);return{xAlign:n.xAlign||e.xAlign||sk(t,e,n,a),yAlign:a}}function nk(t,e){let{x:n,width:a}=t;return e==="right"?n-=a:e==="center"&&(n-=a/2),n}function ak(t,e,n){let{y:a,height:i}=t;return e==="top"?a+=n:e==="bottom"?a-=i+n:a-=i/2,a}function z2(t,e,n,a){const{caretSize:i,caretPadding:l,cornerRadius:c}=t,{xAlign:d,yAlign:h}=n,f=i+l,{topLeft:p,topRight:x,bottomLeft:w,bottomRight:b}=Od(c);let N=nk(e,d);const S=ak(e,h,f);return h==="center"?d==="left"?N+=f:d==="right"&&(N-=f):d==="left"?N-=Math.max(p,w)+i:d==="right"&&(N+=Math.max(x,b)+i),{x:Ai(N,0,a.width-e.width),y:Ai(S,0,a.height-e.height)}}function $f(t,e,n){const a=Ei(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function H2(t){return nl([],Ul(t))}function rk(t,e,n){return Yd(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function $2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lw={beforeTitle:Tl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return n[e.dataIndex]}return""},afterTitle:Tl,beforeBody:Tl,beforeLabel:Tl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ys(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Tl,afterBody:Tl,beforeFooter:Tl,footer:Tl,afterFooter:Tl};function Xa(t,e,n,a){const i=t[e].call(n,a);return typeof i>"u"?lw[e].call(n,a):i}class V2 extends Ch{static positioners=nh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,a=this.options.setContext(this.getContext()),i=a.enabled&&n.options.animation&&a.animations,l=new W5(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=rk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:a}=n,i=Xa(a,"beforeTitle",this,e),l=Xa(a,"title",this,e),c=Xa(a,"afterTitle",this,e);let d=[];return d=nl(d,Ul(i)),d=nl(d,Ul(l)),d=nl(d,Ul(c)),d}getBeforeBody(e,n){return H2(Xa(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:a}=n,i=[];return Bs(e,l=>{const c={before:[],lines:[],after:[]},d=$2(a,l);nl(c.before,Ul(Xa(d,"beforeLabel",this,l))),nl(c.lines,Xa(d,"label",this,l)),nl(c.after,Ul(Xa(d,"afterLabel",this,l))),i.push(c)}),i}getAfterBody(e,n){return H2(Xa(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:a}=n,i=Xa(a,"beforeFooter",this,e),l=Xa(a,"footer",this,e),c=Xa(a,"afterFooter",this,e);let d=[];return d=nl(d,Ul(i)),d=nl(d,Ul(l)),d=nl(d,Ul(c)),d}_createItems(e){const n=this._active,a=this.chart.data,i=[],l=[],c=[];let d=[],h,f;for(h=0,f=n.length;h<f;++h)d.push(JC(this.chart,n[h]));return e.filter&&(d=d.filter((p,x,w)=>e.filter(p,x,w,a))),e.itemSort&&(d=d.sort((p,x)=>e.itemSort(p,x,a))),Bs(d,p=>{const x=$2(e.callbacks,p);i.push(Xa(x,"labelColor",this,p)),l.push(Xa(x,"labelPointStyle",this,p)),c.push(Xa(x,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=d,d}update(e,n){const a=this.options.setContext(this.getContext()),i=this._active;let l,c=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{const d=nh[a.position].call(this,i,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const h=this._size=I2(this,a),f=Object.assign({},d,h),p=q2(this.chart,a,f),x=z2(a,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,a,i){const l=this.getCaretPosition(e,a,i);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(e,n,a){const{xAlign:i,yAlign:l}=this,{caretSize:c,cornerRadius:d}=a,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=Od(d),{x:w,y:b}=e,{width:N,height:S}=n;let k,_,E,D,R,I;return l==="center"?(R=b+S/2,i==="left"?(k=w,_=k-c,D=R+c,I=R-c):(k=w+N,_=k+c,D=R-c,I=R+c),E=k):(i==="left"?_=w+Math.max(h,p)+c:i==="right"?_=w+N-Math.max(f,x)-c:_=this.caretX,l==="top"?(D=b,R=D-c,k=_-c,E=_+c):(D=b+S,R=D+c,k=_+c,E=_-c),I=D),{x1:k,x2:_,x3:E,y1:D,y2:R,y3:I}}drawTitle(e,n,a){const i=this.title,l=i.length;let c,d,h;if(l){const f=Td(a.rtl,this.x,this.width);for(e.x=$f(this,a.titleAlign,a),n.textAlign=f.textAlign(a.titleAlign),n.textBaseline="middle",c=er(a.titleFont),d=a.titleSpacing,n.fillStyle=a.titleColor,n.font=c.string,h=0;h<l;++h)n.fillText(i[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,h+1===l&&(e.y+=a.titleMarginBottom-d)}}_drawColorBox(e,n,a,i,l){const c=this.labelColors[a],d=this.labelPointStyles[a],{boxHeight:h,boxWidth:f}=l,p=er(l.bodyFont),x=$f(this,"left",l),w=i.x(x),b=h<p.lineHeight?(p.lineHeight-h)/2:0,N=n.y+b;if(l.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},k=i.leftForLtr(w,f)+f/2,_=N+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,r2(e,S,k,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,r2(e,S,k,_)}else{e.lineWidth=Cs(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=i.leftForLtr(w,f),k=i.leftForLtr(i.xPlus(w,1),f-2),_=Od(c.borderRadius);Object.values(_).some(E=>E!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Sm(e,{x:S,y:N,w:f,h,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Sm(e,{x:k,y:N+1,w:f-2,h:h-2,radius:_}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(S,N,f,h),e.strokeRect(S,N,f,h),e.fillStyle=c.backgroundColor,e.fillRect(k,N+1,f-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,n,a){const{body:i}=this,{bodySpacing:l,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=a,x=er(a.bodyFont);let w=x.lineHeight,b=0;const N=Td(a.rtl,this.x,this.width),S=function(B){n.fillText(B,N.x(e.x+b),e.y+w/2),e.y+=w+l},k=N.textAlign(c);let _,E,D,R,I,ne,K;for(n.textAlign=c,n.textBaseline="middle",n.font=x.string,e.x=$f(this,k,a),n.fillStyle=a.bodyColor,Bs(this.beforeBody,S),b=d&&k!=="right"?c==="center"?f/2+p:f+2+p:0,R=0,ne=i.length;R<ne;++R){for(_=i[R],E=this.labelTextColors[R],n.fillStyle=E,Bs(_.before,S),D=_.lines,d&&D.length&&(this._drawColorBox(n,e,R,N,a),w=Math.max(x.lineHeight,h)),I=0,K=D.length;I<K;++I)S(D[I]),w=x.lineHeight;Bs(_.after,S)}b=0,w=x.lineHeight,Bs(this.afterBody,S),e.y-=l}drawFooter(e,n,a){const i=this.footer,l=i.length;let c,d;if(l){const h=Td(a.rtl,this.x,this.width);for(e.x=$f(this,a.footerAlign,a),e.y+=a.footerMarginTop,n.textAlign=h.textAlign(a.footerAlign),n.textBaseline="middle",c=er(a.footerFont),n.fillStyle=a.footerColor,n.font=c.string,d=0;d<l;++d)n.fillText(i[d],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,n,a,i){const{xAlign:l,yAlign:c}=this,{x:d,y:h}=e,{width:f,height:p}=a,{topLeft:x,topRight:w,bottomLeft:b,bottomRight:N}=Od(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(d+x,h),c==="top"&&this.drawCaret(e,n,a,i),n.lineTo(d+f-w,h),n.quadraticCurveTo(d+f,h,d+f,h+w),c==="center"&&l==="right"&&this.drawCaret(e,n,a,i),n.lineTo(d+f,h+p-N),n.quadraticCurveTo(d+f,h+p,d+f-N,h+p),c==="bottom"&&this.drawCaret(e,n,a,i),n.lineTo(d+b,h+p),n.quadraticCurveTo(d,h+p,d,h+p-b),c==="center"&&l==="left"&&this.drawCaret(e,n,a,i),n.lineTo(d,h+x),n.quadraticCurveTo(d,h,d+x,h),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,a=this.$animations,i=a&&a.x,l=a&&a.y;if(i||l){const c=nh[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=I2(this,e),h=Object.assign({},c,this._size),f=q2(n,e,h),p=z2(e,h,f,n);(i._to!==p.x||l._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},l={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=Ei(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=a,this.drawBackground(l,e,i,n),$5(e,n.textDirection),l.y+=c.top,this.drawTitle(l,e,n),this.drawBody(l,e,n),this.drawFooter(l,e,n),V5(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const a=this._active,i=e.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),l=!vm(a,i),c=this._positionChanged(i,n);(l||c)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,l=this._active||[],c=this._getActiveElements(e,l,n,a),d=this._positionChanged(c,e),h=n||!vm(c,l)||d;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,a,i){const l=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,a);return l.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:a,caretY:i,options:l}=this,c=nh[l.position].call(this,e,n);return c!==!1&&(a!==c.x||i!==c.y)}}var ik={id:"tooltip",_element:V2,positioners:nh,afterInit(t,e,n){n&&(t.tooltip=new V2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const lk=(t,e,n,a)=>(typeof e=="string"?(n=t.push(e)-1,a.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function ok(t,e,n,a){const i=t.indexOf(e);if(i===-1)return lk(t,e,n,a);const l=t.lastIndexOf(e);return i!==l?n:i}const ck=(t,e)=>t===null?null:Ai(Math.round(t),0,e);function W2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dk extends Kd{static id="category";static defaults={ticks:{callback:W2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:i,label:l}of n)a[i]===l&&a.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ys(e))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===e?n:ok(a,e,Es(n,e),this._addedLabels),ck(n,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),n||(i=this.getLabels().length-1)),this.min=a,this.max=i}buildTicks(){const e=this.min,n=this.max,a=this.options.offset,i=[];let l=this.getLabels();l=e===0&&n===l.length-1?l:l.slice(e,n+1),this._valueRange=Math.max(l.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=n;c++)i.push({value:c});return i}getLabelForValue(e){return W2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function uk(t,e){const n=[],{bounds:i,step:l,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:x,includeBounds:w}=t,b=l||1,N=p-1,{min:S,max:k}=e,_=!Ys(c),E=!Ys(d),D=!Ys(f),R=(k-S)/(x+1);let I=Qy((k-S)/N/b)*b,ne,K,B,H;if(I<1e-14&&!_&&!E)return[{value:S},{value:k}];H=Math.ceil(k/I)-Math.floor(S/I),H>N&&(I=Qy(H*I/N/b)*b),Ys(h)||(ne=Math.pow(10,h),I=Math.ceil(I*ne)/ne),i==="ticks"?(K=Math.floor(S/I)*I,B=Math.ceil(k/I)*I):(K=S,B=k),_&&E&&l&&uS((d-c)/l,I/1e3)?(H=Math.round(Math.min((d-c)/I,p)),I=(d-c)/H,K=c,B=d):D?(K=_?c:K,B=E?d:B,H=f-1,I=(B-K)/H):(H=(B-K)/I,im(H,Math.round(H),I/1e3)?H=Math.round(H):H=Math.ceil(H));const ee=Math.max(Xy(I),Xy(K));ne=Math.pow(10,Ys(h)?ee:h),K=Math.round(K*ne)/ne,B=Math.round(B*ne)/ne;let T=0;for(_&&(w&&K!==c?(n.push({value:c}),K<c&&T++,im(Math.round((K+T*I)*ne)/ne,c,G2(c,R,t))&&T++):K<c&&T++);T<H;++T){const F=Math.round((K+T*I)*ne)/ne;if(E&&F>d)break;n.push({value:F})}return E&&w&&B!==d?n.length&&im(n[n.length-1].value,d,G2(d,R,t))?n[n.length-1].value=d:n.push({value:d}):(!E||B===d)&&n.push({value:B}),n}function G2(t,e,{horizontal:n,minRotation:a}){const i=Lc(a),l=(n?Math.sin(i):Math.cos(i))||.001,c=.75*e*(""+t).length;return Math.min(e/l,c)}class hk extends Kd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ys(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:i,max:l}=this;const c=h=>i=n?i:h,d=h=>l=a?l:h;if(e){const h=zo(i),f=zo(l);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(i===l){let h=l===0?1:Math.abs(l*.05);d(l+h),e||c(i-h)}this.min=i,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=e,i;return a?(i=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const i={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,c=uk(i,l);return e.bounds==="ticks"&&hS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const i=(a-n)/Math.max(e.length-1,1)/2;n-=i,a+=i}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(e){return O5(e,this.chart.options.locale,this.options.ticks.format)}}class fk extends hk{static id="linear";static defaults={ticks:{callback:T5.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ei(e)?e:0,this.max=ei(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,a=Lc(this.options.ticks.minRotation),i=(e?Math.sin(a):Math.cos(a))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ja=Object.keys(Vm);function Y2(t,e){return t-e}function K2(t,e){if(Ys(e))return null;const n=t._adapter,{parser:a,round:i,isoWeekday:l}=t._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),ei(c)||(c=typeof a=="string"?n.parse(c,a):n.parse(c)),c===null?null:(i&&(c=i==="week"&&(jm(l)||l===!0)?n.startOf(c,"isoWeek",l):n.startOf(c,i)),+c)}function Q2(t,e,n,a){const i=Ja.length;for(let l=Ja.indexOf(t);l<i-1;++l){const c=Vm[Ja[l]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(d*c.size))<=a)return Ja[l]}return Ja[i-1]}function mk(t,e,n,a,i){for(let l=Ja.length-1;l>=Ja.indexOf(n);l--){const c=Ja[l];if(Vm[c].common&&t._adapter.diff(i,a,c)>=e-1)return c}return Ja[n?Ja.indexOf(n):0]}function pk(t){for(let e=Ja.indexOf(t)+1,n=Ja.length;e<n;++e)if(Vm[Ja[e]].common)return Ja[e]}function X2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:a,hi:i}=Vx(n,e),l=n[a]>=e?n[a]:n[i];t[l]=!0}}function xk(t,e,n,a){const i=t._adapter,l=+i.startOf(e[0].value,a),c=e[e.length-1].value;let d,h;for(d=l;d<=c;d=+i.add(d,1,a))h=n[d],h>=0&&(e[h].major=!0);return e}function Z2(t,e,n){const a=[],i={},l=e.length;let c,d;for(c=0;c<l;++c)d=e[c],i[d]=c,a.push({value:d,major:!1});return l===0||!n?a:xk(t,a,i,n)}class J2 extends Kd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const a=e.time||(e.time={}),i=this._adapter=new M8._date(e.adapters.date);i.init(n),ah(a.displayFormats,i.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:K2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,a=e.time.unit||"day";let{min:i,max:l,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!d&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=ei(i)&&!isNaN(i)?i:+n.startOf(Date.now(),a),l=ei(l)&&!isNaN(l)?l:+n.endOf(Date.now(),a)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],a=e[e.length-1]),{min:n,max:a}}buildTicks(){const e=this.options,n=e.time,a=e.ticks,i=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const l=this.min,c=this.max,d=yS(i,l,c);return this._unit=n.unit||(a.autoSkip?Q2(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):mk(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:pk(this._unit),this.initOffsets(i),e.reverse&&d.reverse(),Z2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,a=0,i,l;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?a=l:a=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Ai(n,0,c),a=Ai(a,0,c),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,n=this.min,a=this.max,i=this.options,l=i.time,c=l.unit||Q2(l.minUnit,n,a,this._getLabelCapacity(n)),d=Es(i.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,f=jm(h)||h===!0,p={};let x=n,w,b;if(f&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,f?"day":c),e.diff(a,n,c)>1e5*d)throw new Error(n+" and "+a+" are too far apart with stepSize of "+d+" "+c);const N=i.ticks.source==="data"&&this.getDataTimestamps();for(w=x,b=0;w<a;w=+e.add(w,d,c),b++)X2(p,w,N);return(w===a||i.bounds==="ticks"||b===1)&&X2(p,w,N),Object.keys(p).sort(Y2).map(S=>+S)}getLabelForValue(e){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(e,a.tooltipFormat):n.format(e,a.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,l=this._unit,c=n||i[l];return this._adapter.format(e,c)}_tickFormatFunction(e,n,a,i){const l=this.options,c=l.ticks.callback;if(c)return sn(c,[e,n,a],this);const d=l.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],x=f&&d[f],w=a[n],b=f&&x&&w&&w.major;return this._adapter.format(e,i||(b?x:p))}generateTickLabels(e){let n,a,i;for(n=0,a=e.length;n<a;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(e){const n=this._offsets,a=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,a=this.ctx.measureText(e).width,i=Lc(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:a*l+d*c,h:a*c+d*l}}_getLabelCapacity(e){const n=this.options.time,a=n.displayFormats,i=a[n.unit]||a.millisecond,l=this._tickFormatFunction(e,0,Z2(this,[e],this._majorUnit),i),c=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,a;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,a=i.length;n<a;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,a;if(e.length)return e;const i=this.getLabels();for(n=0,a=i.length;n<a;++n)e.push(K2(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return E5(e.sort(Y2))}}function Vf(t,e,n){let a=0,i=t.length-1,l,c,d,h;n?(e>=t[a].pos&&e<=t[i].pos&&({lo:a,hi:i}=ux(t,"pos",e)),{pos:l,time:d}=t[a],{pos:c,time:h}=t[i]):(e>=t[a].time&&e<=t[i].time&&({lo:a,hi:i}=ux(t,"time",e)),{time:l,pos:d}=t[a],{time:c,pos:h}=t[i]);const f=c-l;return f?d+(h-d)*(e-l)/f:d}class $M extends J2{static id="timeseries";static defaults=J2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vf(n,this.min),this._tableRange=Vf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:a}=this,i=[],l=[];let c,d,h,f,p;for(c=0,d=e.length;c<d;++c)f=e[c],f>=n&&f<=a&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(c=0,d=i.length;c<d;++c)p=i[c+1],h=i[c-1],f=i[c],Math.round((p+h)/2)!==f&&l.push({time:f,pos:c/(d-1)});return l}_generate(){const e=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((i,l)=>i-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?e=this.normalize(n.concat(a)):e=n.length?n:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Vf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,a=this.getDecimalForPixel(e)/n.factor-n.end;return Vf(this._table,a*this._tableRange+this._minPos,!0)}}const ow="label";function e1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function gk(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function cw(t,e){t.labels=e}function dw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ow;const a=[];t.datasets=e.map(i=>{const l=t.datasets.find(c=>c[n]===i[n]);return!l||!i.data||a.includes(l)?{...i}:(a.push(l),Object.assign(l,i),l)})}function bk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ow;const n={labels:[],datasets:[]};return cw(n,t.labels),dw(n,t.datasets,e),n}function yk(t,e){const{height:n=150,width:a=300,redraw:i=!1,datasetIdKey:l,type:c,data:d,options:h,plugins:f=[],fallbackContent:p,updateMode:x,...w}=t,b=L.useRef(null),N=L.useRef(null),S=()=>{b.current&&(N.current=new $m(b.current,{type:c,data:bk(d,l),options:h&&{...h},plugins:f}),e1(e,N.current))},k=()=>{e1(e,null),N.current&&(N.current.destroy(),N.current=null)};return L.useEffect(()=>{!i&&N.current&&h&&gk(N.current,h)},[i,h]),L.useEffect(()=>{!i&&N.current&&cw(N.current.config.data,d.labels)},[i,d.labels]),L.useEffect(()=>{!i&&N.current&&d.datasets&&dw(N.current.config.data,d.datasets,l)},[i,d.datasets]),L.useEffect(()=>{N.current&&(i?(k(),setTimeout(S)):N.current.update(x))},[i,h,d.labels,d.datasets,x]),L.useEffect(()=>{N.current&&(k(),setTimeout(S))},[c]),L.useEffect(()=>(S(),()=>k()),[]),_r.createElement("canvas",{ref:b,role:"img",height:n,width:a,...w},p)}const vk=L.forwardRef(yk);function wk(t,e){return $m.register(e),L.forwardRef((n,a)=>_r.createElement(vk,{...n,ref:a,type:t}))}const Nk=wk("bar",D8);$m.register(WC,dk,fk,ZC,ik);const jk=t=>{if(!t||!Array.isArray(t.datasets))return 1600;let e=0;return t.datasets.forEach(n=>{const a=Math.max(...n.data.map(i=>Number(i)));a>e&&(e=a)}),Math.ceil((e+100)/500)*100||500},t1=()=>{const t=es.get("token"),{data:e,isLoading:n,isError:a}=Ut({queryKey:["admin-dashboard"],queryFn:()=>M6(t||""),enabled:!!t}),i="https://troosolar.hmstech.org",l=e?.data?.counts?[{title:"Total Users",value:String(e.data.counts.total_users),color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:String(e.data.counts.total_loans),color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:String(e.data.counts.total_orders),color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:`${e.data.counts.loan_amount}`,color:"text-green-600",icon:"/assets/images/loans.png"}]:k6,c=e?.data?.chart?{labels:e.data.chart.map(x=>x.month),datasets:[{label:"Approved loans",data:e.data.chart.map(x=>Number(x.approved_loan)),backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:e.data.chart.map(x=>Number(x.pending_loan)),backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:e.data.chart.map(x=>Number(x.overdue_loan)),backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:e.data.chart.map(x=>Number(x.orders)),backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]}:C6,d=jk(c),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",align:"start",labels:{boxWidth:12,boxHeight:12,padding:15,font:{size:12}}}},layout:{padding:{bottom:10,top:10,left:10,right:10}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},y:{beginAtZero:!0,max:d,grid:{display:!1},ticks:{font:{size:12},stepSize:500,callback:function(x){return x===0?"0":x}}}}},f=e?.data?.latest_orders?e.data.latest_orders.slice(0,3).map(x=>({name:x.product,price:`${x.total_price}`,user:x.customer,image:`${i}${x.product_image}`})):[],p=e?.data?.latest_users?e.data.latest_users.slice(0,3).map(x=>({id:x.user_id,name:x.name,email:x.email,phone:x.phone,bvn:"",date:x.created_at})):[];return console.log("latestUsers",p),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),n?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading dashboard..."}):a?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load dashboard data."}):s.jsx(E6,{stats:l}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsx("div",{className:"bg-white shadow-md rounded-lg p-4 lg:col-span-7",style:{height:420},children:c&&Array.isArray(c.labels)&&Array.isArray(c.datasets)?s.jsx("div",{style:{height:"380px"},children:s.jsx(Nk,{data:c,options:h})}):s.jsx("div",{className:"text-center text-gray-400",children:"Chart data not available"})}),s.jsx("div",{className:"lg:col-span-5",style:{height:480},children:s.jsx(L6,{orders:f})})]}),s.jsx(D6,{users:p})]})]})},_k=[{id:"1",name:"Germandon Abudu",email:"abcde1@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"2",name:"Chiara Lawson",email:"abcde2@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"3",name:"Anita Becker",email:"abcde3@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"4",name:"Rasheedat Bello",email:"abcde4@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"5",name:"Adewale Ade",email:"abcde5@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"6",name:"Janet Ariel",email:"abcde6@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"}],uw=[{label:"Total Users",value:500,icon:"/assets/images/Users.png"},{label:"New Users",value:100,icon:"/assets/images/Users.png"},{label:"Users with Loans",value:20,icon:"/assets/images/Users.png"}],Sk=({onNotificationClick:t})=>s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),Ck=({stats:t,isLoading:e=!1})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((n,a)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[s.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((n,a)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:s.jsx("img",{src:n.icon,alt:n.label,className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:n.label}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:n.value})]})]},a))}),kk=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:n,setShowMoreActionsDropdown:a,showSortByDropdown:i,setShowSortByDropdown:l,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:b=""})=>{const[N,S]=L.useState(b);L.useEffect(()=>{S(b)},[b]);const k=E=>{S(E.target.value),x&&x(E.target.value),w&&w(c)},_=E=>{d(E),a(!1),w&&w(E)};return s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"relative",ref:t,children:[s.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!n),l(!1)},children:[s.jsx("span",{children:c}),s.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:s.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),n&&s.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:s.jsxs("div",{className:"py-1 ",children:[s.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("More Actions"),children:"More Actions"}),s.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Active"),children:"Active"}),s.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Inactive"),children:"Inactive"}),s.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{p(!0)},children:"Add new user"})]})})]}),s.jsxs("div",{className:"relative",ref:e,children:[s.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{l(!i),a(!1)},children:[s.jsx("span",{children:h}),s.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:s.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&s.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Sort By"),l(!1)},children:"Sort By"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Alphabetically"),l(!1)},children:"Alphabetically"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Date Registered"),l(!1)},children:"Date Registered"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Active Users"),l(!1)},children:"Active Users"})]})})]})]}),s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-semibold",onClick:()=>p(!0),children:"Add new user"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:N,onChange:k,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})]})]})},Ak=({users:t,dotsDropdownRefs:e,openDropdownIndex:n,setOpenDropdownIndex:a,navigate:i})=>s.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No users found."}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[s.jsx("th",{className:"p-4 text-center",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((l,c)=>s.jsxs("tr",{className:`${c%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"p-4 text-center font-medium",children:l.name}),s.jsx("td",{className:"p-4 text-center text-black",children:l.email}),s.jsx("td",{className:"p-4 text-center text-black",children:l.phone}),s.jsx("td",{className:"p-4 text-center text-black",children:l.bvn}),s.jsx("td",{className:"p-4 text-center text-black",children:l.date}),s.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[s.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{i(`/user-activity/${l.id}`)},children:"View Details"}),s.jsxs("div",{className:"relative ml-2.5",ref:d=>{e.current[c]=d},children:[s.jsx("img",{className:"cursor-pointer",src:xt.dots,alt:"",onClick:()=>{a(n===c?null:c)}}),n===c&&s.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/loans`),a(null)},children:"View Loans"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/transactions`),a(null)},children:"View Transactions"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},c))})]})}),hw=async(t,e)=>await ct(dt.ADMIN.AddUser,"POST",t,e),Ek=async(t,e,n)=>await ct(dt.ADMIN.EditUser(t),"POST",e,n),Lk=async(t,e)=>await ct(dt.ADMIN.UpdateUser,"POST",t,e),Dk=({setShowAddModal:t,onUserAdded:e,newUser:n,handleInputChange:a})=>{const[i,l]=L.useState(""),[c,d]=L.useState(!1),h=es.get("token"),f=It({mutationFn:w=>hw(w,h||""),onSuccess:()=>{l(""),d(!1),t(!1),a({target:{name:"name",value:""}}),a({target:{name:"email",value:""}}),a({target:{name:"phone",value:""}}),a({target:{name:"bvn",value:""}}),e&&e()},onError:w=>{console.log("Add User Error:",w);let b="Failed to add user. Please try again.";if(w&&typeof w=="object"&&"message"in w){const N=w;b=N.message||b,N.data&&typeof N.data=="object"&&(N.data.message?b=N.data.message:N.data.error?b=N.data.error:N.data.errors&&Array.isArray(N.data.errors)&&(b=N.data.errors.join(", ")))}console.log("Final error message:",b),l(b),d(!0)}}),p=w=>{if(w.preventDefault(),l(""),d(!1),!n.name||!n.email||!n.phone||!n.bvn||!n.password){l("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){l("Please enter a valid email address");return}f.mutate({first_name:n.name,email:n.email,phone:n.phone,bvn:n.bvn,password:n.password})},x=n.name&&n.email&&n.phone&&n.bvn&&n.password;return s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{l(""),d(!1),t(!1)}}),s.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New User"}),s.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{l(""),d(!1),t(!1)},children:s.jsx("img",{src:xt.cross,alt:"",className:"w-8 h-8"})})]}),i&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:s.jsx("p",{className:"font-medium",children:i})}),s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:n.name,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:n.email,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),s.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:n.password,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),s.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:n.phone,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),s.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:n.bvn,onChange:a})]}),s.jsx("button",{type:"submit",disabled:!x||f.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${x&&!f.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:f.isPending?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]})},fw=async t=>await ct(dt.ADMIN.UsersList,"GET",void 0,t),mw=async(t,e)=>await ct(dt.ADMIN.UserShow(t),"GET",void 0,e),Mk=()=>{const t=ya(),e=ni(),[n,a]=L.useState(!1),[i]=L.useState(_k),[l,c]=L.useState(!1),[d,h]=L.useState(!1),[f,p]=L.useState("Sort By"),[x,w]=L.useState(null),b=L.useRef(null),N=L.useRef(null),S=L.useRef([]),[k,_]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),E=es.get("token"),{data:D,isLoading:R,isError:I}=Ut({queryKey:["all-users"],queryFn:()=>fw(E||""),enabled:!!E}),ne=_r.useMemo(()=>D?.data?.["all users data"]?D.data["all users data"].map(q=>({id:String(q.id),name:`${q.first_name} ${q.sur_name}`,email:q.email,phone:q.phone,bvn:q.bvn||"",date:q.created_at?new Date(q.created_at).toLocaleDateString("en-GB"):"",is_active:q.is_active})):[],[D]),K=D?.data?[{label:"Total Users",value:D.data.total_users,icon:"/assets/images/Users.png"},{label:"New Users",value:D.data["new user"],icon:"/assets/images/Users.png"},{label:"Users with Loans",value:D.data["user with loan balance"],icon:"/assets/images/Users.png"}]:uw,[B,H]=L.useState(""),[ee,T]=L.useState("More Actions"),[F,$]=L.useState(1),[G]=L.useState(10),ie=_r.useMemo(()=>{let se=ne.length>0?ne:i;return ee==="Active"?se=se.filter(fe=>fe.is_active===1):ee==="Inactive"&&(se=se.filter(fe=>fe.is_active===0)),B&&(se=se.filter(fe=>fe.name.toLowerCase().includes(B.toLowerCase())||fe.email.toLowerCase().includes(B.toLowerCase())||fe.phone.toLowerCase().includes(B.toLowerCase()))),f!=="Sort By"&&(se=[...se].sort((fe,ye)=>{switch(f){case"Alphabetically":return fe.name.localeCompare(ye.name);case"Date Registered":try{const Se=fe.date?new Date(fe.date.split("/").reverse().join("-")).getTime():0,Oe=ye.date?new Date(ye.date.split("/").reverse().join("-")).getTime():0;return isNaN(Se)&&isNaN(Oe)?0:isNaN(Se)?1:isNaN(Oe)?-1:Oe-Se}catch{return 0}case"Active Users":return(ye.is_active||0)-(fe.is_active||0);default:return 0}})),se},[ne,i,B,ee,f]),Z=Math.ceil(ie.length/G),re=(F-1)*G,le=re+G,de=ie.slice(re,le);L.useEffect(()=>{$(1)},[B,ee,f]);const Y=q=>{H(q)},ue=q=>{T(q)};L.useEffect(()=>{const q=se=>{b.current&&!b.current.contains(se.target)&&c(!1),N.current&&!N.current.contains(se.target)&&h(!1),S.current.every(ye=>!ye||!ye.contains(se.target))&&w(null)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const O=q=>{const{name:se,value:fe}=q.target;_(ye=>({...ye,[se]:fe}))},P=()=>{console.log("Notification clicked in User Management")},z=()=>{e.invalidateQueries({queryKey:["all-users"]})};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Sk,{onNotificationClick:P}),s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"User Management"}),s.jsx(Ck,{stats:K,isLoading:R}),s.jsx("div",{className:"mb-5",children:s.jsx("h1",{className:"font-bold text-2xl",children:"Users"})}),s.jsx(kk,{moreActionsRef:b,sortByRef:N,showMoreActionsDropdown:l,setShowMoreActionsDropdown:c,showSortByDropdown:d,setShowSortByDropdown:h,selectedMoreAction:ee,setSelectedMoreAction:T,selectedSortBy:f,setSelectedSortBy:p,setShowAddModal:a,onSearch:Y,onAction:ue,searchTerm:B}),R?s.jsx("div",{className:"py-8 text-center",children:s.jsxs("div",{className:"inline-flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading users..."})]})}):I?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load users."}):s.jsxs(s.Fragment,{children:[s.jsx(Ak,{users:de,dotsDropdownRefs:S,openDropdownIndex:x,setOpenDropdownIndex:w,navigate:t}),Z>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",re+1," to ",Math.min(le,ie.length)," of ",ie.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>$(q=>Math.max(q-1,1)),disabled:F===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Z)},(q,se)=>{let fe;return Z<=5||F<=3?fe=se+1:F>=Z-2?fe=Z-4+se:fe=F-2+se,s.jsx("button",{onClick:()=>$(fe),className:`px-3 py-2 text-sm font-medium rounded-md border ${F===fe?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:fe},fe)})}),s.jsx("button",{onClick:()=>$(q=>Math.min(q+1,Z)),disabled:F===Z,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===Z?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),n&&s.jsx(Dk,{showAddModal:n,setShowAddModal:a,onUserAdded:z,newUser:k,handleInputChange:O})]})},Ss=({message:t="Loading...",size:e="md",className:n=""})=>{const a={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i={sm:"text-sm",md:"text-lg",lg:"text-xl"};return s.jsx("div",{className:`py-16 text-center ${n}`,children:s.jsxs("div",{className:"inline-flex items-center justify-center",children:[s.jsx("div",{className:`animate-spin rounded-full border-b-2 border-[#273E8E] ${a[e]}`}),s.jsx("span",{className:`ml-3 text-gray-500 ${i[e]}`,children:t})]})})},Fk=t=>{const e=new Date(t),n=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2),l=e.getHours().toString().padStart(2,"0"),c=e.getMinutes().toString().padStart(2,"0"),d=e.getHours()>=12?"PM":"AM";return`${n}-${a}-${i}/${l}:${c}${d}`},Ok=()=>{const{id:t}=yh(),e=ya(),n=ar(),a=es.get("token"),{data:i,isLoading:l}=Ut({queryKey:["single-user",t],queryFn:()=>mw(t||"",a||""),enabled:!!t&&!!a,staleTime:5*60*1e3});console.log("Single User API Data:",i);const c=L.useMemo(()=>i?.data?{id:String(i.data.id),name:`${i.data.first_name} ${i.data.sur_name}`,email:i.data.email,phone:i.data.phone,bvn:i.data.bvn||"",date:i.data.created_at?new Date(i.data.created_at).toLocaleDateString("en-GB"):""}:null,[i]),d=L.useMemo(()=>i?.data?.activitys?i.data.activitys.map(ne=>({activity:ne.activity,date:Fk(ne.created_at)})):[],[i]),[h,f]=L.useState(!1),[p,x]=L.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",referral:""}),[w,b]=L.useState(!1),[N,S]=L.useState(null),[k,_]=L.useState(null);_r.useEffect(()=>{c&&i?.data&&x({firstName:i.data.first_name||"",surname:i.data.sur_name||"",email:i.data.email||"",phone:i.data.phone||"",bvn:i.data.bvn||"",password:"",referral:i.data.refferal_code||""})},[c,i]);const E=It({mutationFn:async ne=>await Ek(c?.id||"",ne,a||""),onSuccess:()=>{b(!0),setTimeout(()=>{b(!1),f(!1),S(null),_(null)},1200)},onError:ne=>{console.error("Failed to update user:",ne),alert("Failed to update user profile. Please try again.")}}),D=ne=>{if(ne.preventDefault(),!c?.id)return;const K=new FormData;p.firstName&&K.append("first_name",p.firstName),p.surname&&K.append("sur_name",p.surname),p.email&&K.append("email",p.email),p.phone&&K.append("phone",p.phone),p.bvn&&K.append("bvn",p.bvn),p.password&&K.append("password",p.password),p.referral&&K.append("referral",p.referral),N&&(console.log("Adding image to FormData:",N.name,N.type,N.size),K.append("profile_picture",N)),console.log("FormData contents:");for(let[B,H]of K.entries())console.log(B,H);E.mutate(K)},R=ne=>{const K=ne.target.files?.[0];if(K){S(K);const B=new FileReader;B.onload=H=>{_(H.target?.result)},B.readAsDataURL(K)}},I=()=>{console.log("Notification clicked in User Activity")};return l?s.jsx("div",{className:"bg-[#F5F7FF] min-h-screen flex items-center justify-center",children:s.jsx(Ss,{message:"Loading user details..."})}):c?s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:I}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:c.name}),s.jsxs("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:[s.jsxs("button",{className:`pb-2 cursor-pointer relative ${!n.pathname.includes("/loans")&&!n.pathname.includes("/transactions")&&!n.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}`),children:["Activity",!n.pathname.includes("/loans")&&!n.pathname.includes("/transactions")&&!n.pathname.includes("/orders")&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),s.jsxs("button",{className:`pb-2 cursor-pointer relative ${n.pathname.includes("/loans")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/loans`),children:["Loans",n.pathname.includes("/loans")&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),s.jsxs("button",{className:`pb-2 cursor-pointer relative ${n.pathname.includes("/transactions")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/transactions`),children:["Transactions",n.pathname.includes("/transactions")&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),s.jsxs("button",{className:`pb-2 cursor-pointer relative ${n.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/orders`),children:["Orders",n.pathname.includes("/orders")&&s.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-2xl shadow-lg p-8 flex gap-8 items-center mb-8",children:[s.jsxs("div",{className:"flex flex-col items-center w-60 rounded-lg p-5",style:{background:"linear-gradient(162.4deg, rgba(93, 114, 194, 0.7) 12.04%, rgba(255, 165, 0, 0.35) 97.58%)",border:"1px solid",borderImageSource:"linear-gradient(146.63deg, #D1D1FF 3.6%, #FFA126 97.96%)",borderImageSlice:1},children:[s.jsxs("div",{className:"w-32 h-32 rounded-full object-cover border-4 border-white mb-4 overflow-hidden flex items-center justify-center bg-gray-200",children:[i?.data?.profile_picture?s.jsx("img",{src:`https://troosolar.hmstech.org/users/${i.data.profile_picture}`,alt:c.name,className:"w-full h-full object-cover",onError:ne=>{ne.currentTarget.style.display="none",ne.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-full h-full flex items-center justify-center text-white text-lg font-semibold ${i?.data?.profile_picture?"hidden":""}`,children:c.name.split(" ").map(ne=>ne[0]).join("").toUpperCase()})]}),s.jsx("div",{className:"text-white text-xl font-semibold mb-1",children:c.name}),s.jsx("div",{className:"text-[#FFFFFF80] text-sm mb-10",children:c.email}),s.jsx("button",{className:"bg-white cursor-pointer text-gray-800 px-14 py-2 rounded-full font-semibold shadow",onClick:()=>f(!0),children:"Edit Profile"}),h&&s.jsx("div",{className:"fixed inset-0 z-50 flex justify-end items-stretch backdrop-blur-sm bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-l-3xl shadow-xl w-full max-w-lg h-screen p-6 relative flex flex-col",children:[l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading user data..."})]})}),s.jsx("button",{className:"absolute cursor-pointer top-4 right-4 w-8 h-8 flex items-center justify-center",onClick:()=>f(!1),children:s.jsx("img",{src:xt.cross,alt:""})}),s.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Edit Profile"}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-300 overflow-hidden flex items-center justify-center",children:[k?s.jsx("img",{src:k,alt:"Profile preview",className:"w-full h-full object-cover"}):i?.data?.profile_picture?s.jsx("img",{src:`https://troosolar.hmstech.org/users/${i.data.profile_picture}`,alt:"Profile",className:"w-full h-full object-cover",onError:ne=>{ne.currentTarget.style.display="none",ne.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-full h-full flex items-center justify-center text-gray-500 text-xs ${k||i?.data?.profile_picture?"hidden":""}`,children:"No Image"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),s.jsxs("form",{className:"flex-1 flex flex-col justify-between",onSubmit:D,children:[s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"First Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your first name",value:p.firstName,onChange:ne=>x(K=>({...K,firstName:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Surname"}),s.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your surname",value:p.surname,onChange:ne=>x(K=>({...K,surname:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your email address",value:p.email,onChange:ne=>x(K=>({...K,email:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Phone Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your phone number",value:p.phone,onChange:ne=>x(K=>({...K,phone:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"BVN"}),s.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"BVN Number",value:p.bvn,onChange:ne=>x(K=>({...K,bvn:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Password"}),s.jsx("input",{type:"password",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Password",value:p.password,onChange:ne=>x(K=>({...K,password:ne.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Referral Code"}),s.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Referral Code (Optional)",value:p.referral,onChange:ne=>x(K=>({...K,referral:ne.target.value}))})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("button",{type:"submit",disabled:E.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white text-sm py-3 rounded-full font-medium hover:bg-blue-700 transition-colors flex items-center justify-center ${E.isPending?"opacity-50 cursor-not-allowed":""}`,children:E.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"}),w&&s.jsx("div",{className:"text-green-600 text-center font-semibold mt-2",children:"Profile updated!"})]})]})]})})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-x-12 gap-y-4 text-white text-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Surname"}),s.jsx("div",{children:c.name.split(" ")[1]||c.name})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Password"}),s.jsx("div",{children:"**********"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"First Name"}),s.jsx("div",{children:c.name.split(" ")[0]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Referral Code"}),s.jsx("div",{children:"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Email Address"}),s.jsx("div",{children:c.email})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"BVN"}),s.jsx("div",{children:c.bvn})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Phone Number"}),s.jsx("div",{children:c.phone})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Activity"}),s.jsx("div",{className:"flex items-center mb-5",children:s.jsx("select",{className:"border border-[#00000080] rounded-lg px-4 bg-white py-2 text-sm cursor-pointer",children:s.jsx("option",{children:"More Actions"})})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"text-md",children:s.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[s.jsx("th",{className:"p-4 w-12",children:s.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),s.jsx("th",{className:"p-4 text-left",children:"Activity"}),s.jsx("th",{className:"p-4 text-left",children:"Date"})]})}),s.jsx("tbody",{children:d.length>0?d.map((ne,K)=>s.jsxs("tr",{className:`${K%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),s.jsx("td",{className:"p-4",children:ne.activity}),s.jsx("td",{className:"p-4",children:ne.date})]},K)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-500",children:"No activities found for this user."})})})]})})]})]})]}):s.jsx("div",{className:"p-8 text-xl",children:"User not found"})},pw=async(t,e)=>await ct(dt.ADMIN.Get_User_Kyc_Detail(t),"GET",void 0,e),Tk=({isOpen:t,onClose:e,user:n,onSendToPartner:a})=>{const[i,l]=L.useState("personal"),[c,d]=L.useState("document"),h=es.get("token"),{data:f,isLoading:p,isError:x}=Ut({queryKey:["user-kyc-detail",n.id],queryFn:()=>pw(n.id,h||""),enabled:!!h&&!!n.id&&t});console.log("KYC API Data:",f);const w=B=>{const H=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return H[(B-1)%H.length]},b=B=>{const H=["Spouse","Sibling","Parent","Child","Friend","Relative"];return H[(B-1)%H.length]},N=B=>{const H=["150,000","200,000","100,000","300,000","250,000"];return H[(B-1)%H.length]},S=B=>{const H=["6 months","12 months","18 months","24 months"];return H[(B-1)%H.length]},[k,_]=L.useState({firstName:n?.name?.split(" ")[0]||"",surname:n?.name?.split(" ")[1]||"",email:n?.email||"",phone:n?.phone||"",bvn:n?.bvn||""}),[E,D]=L.useState({accountNumber:"",bankName:"",accountName:""}),[R,I]=L.useState({selectedDocument:"",beneficiaryName:"",beneficiaryRelationship:"",beneficiaryEmail:"",beneficiaryPhone:"",loanAmount:"",repaymentDuration:""});L.useEffect(()=>{if(t&&n){const B=parseInt(n?.id||"1");_({firstName:n?.name?.split(" ")[0]||"",surname:n?.name?.split(" ")[1]||"",email:n?.email||"",phone:n?.phone||"",bvn:n?.bvn||""}),D({accountNumber:`123456${B.toString().padStart(4,"0")}`,bankName:w(B),accountName:n?.name||""}),I({selectedDocument:"Driver's License",beneficiaryName:`Beneficiary ${B}`,beneficiaryRelationship:b(B),beneficiaryEmail:`beneficiary${B}@email.com`,beneficiaryPhone:`+234${B.toString().padStart(10,"0")}`,loanAmount:N(B),repaymentDuration:S(B)})}},[t,n]);const ne=()=>{const B=`user_credit_${n?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(B,JSON.stringify(E)),alert("Credit check details saved successfully!")},K=()=>{const B=`user_kyc_${n?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(B,JSON.stringify(R)),alert("KYC details saved successfully!")};return t?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-0",onClick:e}),s.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[s.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:a,children:"Send to Partner"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:e,children:s.jsx("img",{src:xt.cross,alt:""})})]})]}),s.jsxs("div",{className:"flex border-b px-5",children:[s.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="personal"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("personal"),children:"Personal Details"}),s.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="credit"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("credit"),children:"Credit Check"}),s.jsx("button",{className:`py-2 px-0 cursor-pointer ${i==="kyc"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("kyc"),children:"KYC Details"})]}),i==="personal"&&s.jsx("div",{className:"p-5",children:p?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading personal details..."})}):x?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-red-500",children:"Failed to load personal details."})}):f?.data?.user?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.first_name||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.sur_name||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.email||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.phone||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"User Code"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.user_code||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referral Code"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.refferal_code||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Status"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.is_active?"Active":"Inactive",readOnly:!0})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"No personal data available."})})}),i==="credit"&&s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:E.accountNumber,onChange:B=>D({...E,accountNumber:B.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:E.bankName,onChange:B=>D({...E,bankName:B.target.value})}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:E.accountName,onChange:B=>D({...E,accountName:B.target.value})})]}),s.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:ne,children:"Save"})]}),i==="kyc"&&s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-80",children:[s.jsx("button",{onClick:()=>{d("document")},className:`text-sm py-2.5 px-3  cursor-pointer ${c==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),s.jsx("button",{onClick:()=>{d("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${c==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),s.jsx("button",{onClick:()=>{d("loanDetails")},className:`text-sm py-2 px-3  cursor-pointer ${c==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),c==="document"&&s.jsx("div",{children:p?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading document details..."})}):x?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-red-500",children:"Failed to load document details."})}):f?.data?.loan_application?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document Type"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.title_document||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),f.data.loan_application.upload_document?s.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#6B7280",strokeWidth:"2"}),s.jsx("path",{d:"M8 10H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 14H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 18H12",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.data.loan_application.title_document||"Document"}),s.jsx("p",{className:"text-xs text-gray-500",children:f.data.loan_application.upload_document})]})]}),s.jsx("a",{href:`https://troosolar.hmstech.org/${f.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):s.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),s.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"No document data available."})})}),c==="beneficiary"&&s.jsx("div",{children:p?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading beneficiary details..."})}):x?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-red-500",children:"Failed to load beneficiary details."})}):f?.data?.loan_application?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_name||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_relationship||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),s.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_email||"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_phone||"N/A",readOnly:!0})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"No beneficiary data available."})})}),c==="loanDetails"&&s.jsx("div",{children:p?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading loan details..."})}):x?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-red-500",children:"Failed to load loan details."})}):f?.data?.loan_application?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.loan_amount?`${f.data.loan_application.loan_amount.toLocaleString()}`:"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.repayment_duration?`${f.data.loan_application.repayment_duration} months`:"N/A",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Application Status"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.status||"Pending",readOnly:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Created Date"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.created_at?new Date(f.data.loan_application.created_at).toLocaleDateString():"N/A",readOnly:!0})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"No loan details available."})})}),s.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:K,children:"Save"})]})]})]})}):null},Pk=async(t,e,n)=>await ct(dt.ADMIN.LoanGrant(t),"POST",e,n),Bk=async(t,e,n)=>await ct(dt.ADMIN.SendToPartnerDetail(t),"POST",e,n),Rk=async(t,e,n)=>await ct(dt.ADMIN.MonoLoanCalculationApproval(t),"POST",e,n),Uk=({isOpen:t,onClose:e,loanId:n,amount:a,onDisburse:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(!1),[f,p]=L.useState(a.replace(/[^\d]/g,"")),[x,w]=L.useState(!1),b=es.get("token"),N=[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Rejected",label:"Rejected"},{value:"active",label:"Active"}],S=It({mutationFn:async()=>await Pk(n,{distribute_amount:Number(f),status:l},b||""),onSuccess:E=>{i&&i(n,l),e(),c(""),h(!1),p(""),w(!1),alert(E?.message||"Loan disbursed successfully!")},onError:E=>{w(!1),alert(E?.message||"Failed to disburse loan.")}}),k=()=>{l&&f&&(w(!0),S.mutate())},_=()=>{e(),c(""),h(!1),p(a.replace(/[^\d]/g,"")),w(!1)};return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-start justify-end sm:justify-end p-0 sm:p-6",children:[s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-white/30",onClick:_}),s.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl shadow-xl z-10 w-full h-full sm:w-[500px] sm:h-auto sm:max-w-[90vw] boder border-[#CDCDCD]",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Loan Disbursement"}),s.jsx("button",{onClick:_,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to disburse"}),s.jsx("input",{type:"number",value:f,onChange:E=>p(E.target.value.replace(/[^\d]/g,"")),min:0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 font-medium",placeholder:"Enter amount",disabled:x})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!d),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-left flex items-center justify-between hover:border-gray-400 transition-colors cursor-pointer",disabled:x,children:[s.jsx("span",{className:l?"text-gray-900":"text-gray-500",children:l||"Change status"}),s.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 ",children:N.map(E=>s.jsx("button",{onClick:()=>{c(E.value),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg cursor-pointer",disabled:x,children:E.label},E.value))})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-gray-200",children:[s.jsx("button",{onClick:_,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors cursor-pointer",disabled:x,children:"Cancel"}),s.jsx("button",{onClick:k,disabled:!l||!f||x,className:`px-6 py-2 rounded-full font-medium transition-colors cursor-pointer ${l&&f&&!x?"bg-[#273E8E] text-white hover:bg-[#1e2f6b]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?"Processing...":"Disburse"})]})]})]}):null},Ik="modulepreload",qk=function(t){return"/"+t},s1={},jp=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(n.map(f=>{if(f=qk(f),f in s1)return;s1[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":Ik,p||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((b,N)=>{w.addEventListener("load",b),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var Li=Uint8Array,jr=Uint16Array,eg=Int32Array,tg=new Li([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sg=new Li([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n1=new Li([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xw=function(t,e){for(var n=new jr(31),a=0;a<31;++a)n[a]=e+=1<<t[a-1];for(var i=new eg(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)i[l]=l-n[a]<<5|a;return{b:n,r:i}},gw=xw(tg,2),zk=gw.b,px=gw.r;zk[28]=258,px[258]=28;var Hk=xw(sg,0),a1=Hk.r,xx=new jr(32768);for(var nn=0;nn<32768;++nn){var Fo=(nn&43690)>>1|(nn&21845)<<1;Fo=(Fo&52428)>>2|(Fo&13107)<<2,Fo=(Fo&61680)>>4|(Fo&3855)<<4,xx[nn]=((Fo&65280)>>8|(Fo&255)<<8)>>1}var lh=function(t,e,n){for(var a=t.length,i=0,l=new jr(e);i<a;++i)t[i]&&++l[t[i]-1];var c=new jr(e);for(i=1;i<e;++i)c[i]=c[i-1]+l[i-1]<<1;var d;if(n){d=new jr(1<<e);var h=15-e;for(i=0;i<a;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],x=c[t[i]-1]++<<p,w=x|(1<<p)-1;x<=w;++x)d[xx[x]>>h]=f}else for(d=new jr(a),i=0;i<a;++i)t[i]&&(d[i]=xx[c[t[i]-1]++]>>15-t[i]);return d},Rc=new Li(288);for(var nn=0;nn<144;++nn)Rc[nn]=8;for(var nn=144;nn<256;++nn)Rc[nn]=9;for(var nn=256;nn<280;++nn)Rc[nn]=7;for(var nn=280;nn<288;++nn)Rc[nn]=8;var Am=new Li(32);for(var nn=0;nn<32;++nn)Am[nn]=5;var $k=lh(Rc,9,0),Vk=lh(Am,5,0),bw=function(t){return(t+7)/8|0},Wk=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Li(t.subarray(e,n))},Pl=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8},Ju=function(t,e,n){n<<=e&7;var a=e/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},_p=function(t,e){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var i=n.length,l=n.slice();if(!i)return{t:vw,l:0};if(i==1){var c=new Li(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(I,ne){return I.f-ne.f}),n.push({s:-1,f:25001});var d=n[0],h=n[1],f=0,p=1,x=2;for(n[0]={s:-1,f:d.f+h.f,l:d,r:h};p!=i-1;)d=n[n[f].f<n[x].f?f++:x++],h=n[f!=p&&n[f].f<n[x].f?f++:x++],n[p++]={s:-1,f:d.f+h.f,l:d,r:h};for(var w=l[0].s,a=1;a<i;++a)l[a].s>w&&(w=l[a].s);var b=new jr(w+1),N=gx(n[p-1],b,0);if(N>e){var a=0,S=0,k=N-e,_=1<<k;for(l.sort(function(ne,K){return b[K.s]-b[ne.s]||ne.f-K.f});a<i;++a){var E=l[a].s;if(b[E]>e)S+=_-(1<<N-b[E]),b[E]=e;else break}for(S>>=k;S>0;){var D=l[a].s;b[D]<e?S-=1<<e-b[D]++-1:++a}for(;a>=0&&S;--a){var R=l[a].s;b[R]==e&&(--b[R],++S)}N=e}return{t:new Li(b),l:N}},gx=function(t,e,n){return t.s==-1?Math.max(gx(t.l,e,n+1),gx(t.r,e,n+1)):e[t.s]=n},r1=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new jr(++e),a=0,i=t[0],l=1,c=function(h){n[a++]=h},d=1;d<=e;++d)if(t[d]==i&&d!=e)++l;else{if(!i&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(i),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(i);l=1,i=t[d]}return{c:n.subarray(0,a),n:e}},eh=function(t,e){for(var n=0,a=0;a<e.length;++a)n+=t[a]*e[a];return n},yw=function(t,e,n){var a=n.length,i=bw(e+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<a;++l)t[i+l+4]=n[l];return(i+4+a)*8},i1=function(t,e,n,a,i,l,c,d,h,f,p){Pl(e,p++,n),++i[256];for(var x=_p(i,15),w=x.t,b=x.l,N=_p(l,15),S=N.t,k=N.l,_=r1(w),E=_.c,D=_.n,R=r1(S),I=R.c,ne=R.n,K=new jr(19),B=0;B<E.length;++B)++K[E[B]&31];for(var B=0;B<I.length;++B)++K[I[B]&31];for(var H=_p(K,7),ee=H.t,T=H.l,F=19;F>4&&!ee[n1[F-1]];--F);var $=f+5<<3,G=eh(i,Rc)+eh(l,Am)+c,ie=eh(i,w)+eh(l,S)+c+14+3*F+eh(K,ee)+2*K[16]+3*K[17]+7*K[18];if(h>=0&&$<=G&&$<=ie)return yw(e,p,t.subarray(h,h+f));var Z,re,le,de;if(Pl(e,p,1+(ie<G)),p+=2,ie<G){Z=lh(w,b,0),re=w,le=lh(S,k,0),de=S;var Y=lh(ee,T,0);Pl(e,p,D-257),Pl(e,p+5,ne-1),Pl(e,p+10,F-4),p+=14;for(var B=0;B<F;++B)Pl(e,p+3*B,ee[n1[B]]);p+=3*F;for(var ue=[E,I],O=0;O<2;++O)for(var P=ue[O],B=0;B<P.length;++B){var z=P[B]&31;Pl(e,p,Y[z]),p+=ee[z],z>15&&(Pl(e,p,P[B]>>5&127),p+=P[B]>>12)}}else Z=$k,re=Rc,le=Vk,de=Am;for(var B=0;B<d;++B){var q=a[B];if(q>255){var z=q>>18&31;Ju(e,p,Z[z+257]),p+=re[z+257],z>7&&(Pl(e,p,q>>23&31),p+=tg[z]);var se=q&31;Ju(e,p,le[se]),p+=de[se],se>3&&(Ju(e,p,q>>5&8191),p+=sg[se])}else Ju(e,p,Z[q]),p+=re[q]}return Ju(e,p,Z[256]),p+re[256]},Gk=new eg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vw=new Li(0),Yk=function(t,e,n,a,i,l){var c=l.z||t.length,d=new Li(a+c+5*(1+Math.ceil(c/7e3))+i),h=d.subarray(a,d.length-i),f=l.l,p=(l.r||0)&7;if(e){p&&(h[0]=l.r>>3);for(var x=Gk[e-1],w=x>>13,b=x&8191,N=(1<<n)-1,S=l.p||new jr(32768),k=l.h||new jr(N+1),_=Math.ceil(n/3),E=2*_,D=function(he){return(t[he]^t[he+1]<<_^t[he+2]<<E)&N},R=new eg(25e3),I=new jr(288),ne=new jr(32),K=0,B=0,H=l.i||0,ee=0,T=l.w||0,F=0;H+2<c;++H){var $=D(H),G=H&32767,ie=k[$];if(S[G]=ie,k[$]=G,T<=H){var Z=c-H;if((K>7e3||ee>24576)&&(Z>423||!f)){p=i1(t,h,0,R,I,ne,B,ee,F,H-F,p),ee=K=B=0,F=H;for(var re=0;re<286;++re)I[re]=0;for(var re=0;re<30;++re)ne[re]=0}var le=2,de=0,Y=b,ue=G-ie&32767;if(Z>2&&$==D(H-ue))for(var O=Math.min(w,Z)-1,P=Math.min(32767,H),z=Math.min(258,Z);ue<=P&&--Y&&G!=ie;){if(t[H+le]==t[H+le-ue]){for(var q=0;q<z&&t[H+q]==t[H+q-ue];++q);if(q>le){if(le=q,de=ue,q>O)break;for(var se=Math.min(ue,q-2),fe=0,re=0;re<se;++re){var ye=H-ue+re&32767,Se=S[ye],Oe=ye-Se&32767;Oe>fe&&(fe=Oe,ie=ye)}}}G=ie,ie=S[G],ue+=G-ie&32767}if(de){R[ee++]=268435456|px[le]<<18|a1[de];var He=px[le]&31,Ie=a1[de]&31;B+=tg[He]+sg[Ie],++I[257+He],++ne[Ie],T=H+le,++K}else R[ee++]=t[H],++I[t[H]]}}for(H=Math.max(H,T);H<c;++H)R[ee++]=t[H],++I[t[H]];p=i1(t,h,f,R,I,ne,B,ee,F,H-F,p),f||(l.r=p&7|h[p/8|0]<<3,p-=7,l.h=k,l.p=S,l.i=H,l.w=T)}else{for(var H=l.w||0;H<c+f;H+=65535){var Ke=H+65535;Ke>=c&&(h[p/8|0]=f,Ke=c),p=yw(h,p+1,t.subarray(H,Ke))}l.i=c}return Wk(d,0,a+bw(p)+i)},ww=function(){var t=1,e=0;return{p:function(n){for(var a=t,i=e,l=n.length|0,c=0;c!=l;){for(var d=Math.min(c+2655,l);c<d;++c)i+=a+=n[c];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Kk=function(t,e,n,a,i){if(!i&&(i={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),c=new Li(l.length+t.length);c.set(l),c.set(t,l.length),t=c,i.w=l.length}return Yk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,a,i)},Nw=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Qk=function(t,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ww();i.p(e.dictionary),Nw(t,2,i.d())}};function bx(t,e){e||(e={});var n=ww();n.p(t);var a=Kk(t,e,e.dictionary?6:2,4);return Qk(a,e),Nw(a,a.length-4,n.d()),a}var Xk=typeof TextDecoder<"u"&&new TextDecoder,Zk=0;try{Xk.decode(vw,{stream:!0}),Zk=1}catch{}function Jk(t){if(Array.isArray(t))return t}function eA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,i,l,c,d=[],h=!0,f=!1;try{if(l=(n=n.call(t)).next,e!==0)for(;!(h=(a=l.call(n)).done)&&(d.push(a.value),d.length!==e);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return d}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function tA(t,e){if(t){if(typeof t=="string")return l1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l1(t,e):void 0}}function sA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1(t,e){return Jk(t)||eA(t,e)||tA(t,e)||sA()}function c1(t,e="utf8"){return new TextDecoder(e).decode(t)}const nA=new TextEncoder;function aA(t){return nA.encode(t)}const rA=1024*8,iA=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Sp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ng{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=rA,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,l=e.byteLength-i;let c=i;(ArrayBuffer.isView(e)||e instanceof ng)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+i),e=e.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=Sp[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+a);if(this.littleEndian===iA&&n!=="uint8"&&n!=="int8"){const d=new Uint8Array(this.buffer.slice(i,i+a));d.reverse();const h=new Sp[n](d.buffer);return this.offset+=a,h.reverse(),h}const c=new Sp[n](l);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return c1(this.readBytes(e))}decodeText(e=1,n="utf8"){return c1(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(aA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qd(t){let e=t.length;for(;--e>=0;)t[e]=0}const lA=3,oA=258,jw=29,cA=256,dA=cA+1+jw,_w=30,uA=512,hA=new Array((dA+2)*2);Qd(hA);const fA=new Array(_w*2);Qd(fA);const mA=new Array(uA);Qd(mA);const pA=new Array(oA-lA+1);Qd(pA);const xA=new Array(jw);Qd(xA);const gA=new Array(_w);Qd(gA);const bA=(t,e,n,a)=>{let i=t&65535|0,l=t>>>16&65535|0,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do i=i+e[a++]|0,l=l+i|0;while(--c);i%=65521,l%=65521}return i|l<<16|0};var yx=bA;const yA=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},vA=new Uint32Array(yA()),wA=(t,e,n,a)=>{const i=vA,l=a+n;t^=-1;for(let c=a;c<l;c++)t=t>>>8^i[(t^e[c])&255];return t^-1};var sl=wA,vx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const NA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var jA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)NA(n,a)&&(t[a]=n[a])}}return t},_A=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const n=new Uint8Array(e);for(let a=0,i=0,l=t.length;a<l;a++){let c=t[a];n.set(c,i),i+=c.length}return n},Cw={assign:jA,flattenChunks:_A};let kw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{kw=!1}const xh=new Uint8Array(256);for(let t=0;t<256;t++)xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xh[254]=xh[254]=1;var SA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,a,i,l,c=t.length,d=0;for(i=0;i<c;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),l=0,i=0;l<d;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),i++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const CA=(t,e)=>{if(e<65534&&t.subarray&&kw)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n};var kA=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,i;const l=new Array(n*2);for(i=0,a=0;a<n;){let c=t[a++];if(c<128){l[i++]=c;continue}let d=xh[c];if(d>4){l[i++]=65533,a+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&a<n;)c=c<<6|t[a++]&63,d--;if(d>1){l[i++]=65533;continue}c<65536?l[i++]=c:(c-=65536,l[i++]=55296|c>>10&1023,l[i++]=56320|c&1023)}return CA(l,i)},AA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+xh[t[n]]>e?n:e},wx={string2buf:SA,buf2string:kA,utf8border:AA};function EA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LA=EA;const Wf=16209,DA=16191;var MA=function(e,n){let a,i,l,c,d,h,f,p,x,w,b,N,S,k,_,E,D,R,I,ne,K,B,H,ee;const T=e.state;a=e.next_in,H=e.input,i=a+(e.avail_in-5),l=e.next_out,ee=e.output,c=l-(n-e.avail_out),d=l+(e.avail_out-257),h=T.dmax,f=T.wsize,p=T.whave,x=T.wnext,w=T.window,b=T.hold,N=T.bits,S=T.lencode,k=T.distcode,_=(1<<T.lenbits)-1,E=(1<<T.distbits)-1;e:do{N<15&&(b+=H[a++]<<N,N+=8,b+=H[a++]<<N,N+=8),D=S[b&_];t:for(;;){if(R=D>>>24,b>>>=R,N-=R,R=D>>>16&255,R===0)ee[l++]=D&65535;else if(R&16){I=D&65535,R&=15,R&&(N<R&&(b+=H[a++]<<N,N+=8),I+=b&(1<<R)-1,b>>>=R,N-=R),N<15&&(b+=H[a++]<<N,N+=8,b+=H[a++]<<N,N+=8),D=k[b&E];s:for(;;){if(R=D>>>24,b>>>=R,N-=R,R=D>>>16&255,R&16){if(ne=D&65535,R&=15,N<R&&(b+=H[a++]<<N,N+=8,N<R&&(b+=H[a++]<<N,N+=8)),ne+=b&(1<<R)-1,ne>h){e.msg="invalid distance too far back",T.mode=Wf;break e}if(b>>>=R,N-=R,R=l-c,ne>R){if(R=ne-R,R>p&&T.sane){e.msg="invalid distance too far back",T.mode=Wf;break e}if(K=0,B=w,x===0){if(K+=f-R,R<I){I-=R;do ee[l++]=w[K++];while(--R);K=l-ne,B=ee}}else if(x<R){if(K+=f+x-R,R-=x,R<I){I-=R;do ee[l++]=w[K++];while(--R);if(K=0,x<I){R=x,I-=R;do ee[l++]=w[K++];while(--R);K=l-ne,B=ee}}}else if(K+=x-R,R<I){I-=R;do ee[l++]=w[K++];while(--R);K=l-ne,B=ee}for(;I>2;)ee[l++]=B[K++],ee[l++]=B[K++],ee[l++]=B[K++],I-=3;I&&(ee[l++]=B[K++],I>1&&(ee[l++]=B[K++]))}else{K=l-ne;do ee[l++]=ee[K++],ee[l++]=ee[K++],ee[l++]=ee[K++],I-=3;while(I>2);I&&(ee[l++]=ee[K++],I>1&&(ee[l++]=ee[K++]))}}else if((R&64)===0){D=k[(D&65535)+(b&(1<<R)-1)];continue s}else{e.msg="invalid distance code",T.mode=Wf;break e}break}}else if((R&64)===0){D=S[(D&65535)+(b&(1<<R)-1)];continue t}else if(R&32){T.mode=DA;break e}else{e.msg="invalid literal/length code",T.mode=Wf;break e}break}}while(a<i&&l<d);I=N>>3,a-=I,N-=I<<3,b&=(1<<N)-1,e.next_in=a,e.next_out=l,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=l<d?257+(d-l):257-(l-d),T.hold=b,T.bits=N};const kd=15,d1=852,u1=592,h1=0,Cp=1,f1=2,FA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),TA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BA=(t,e,n,a,i,l,c,d)=>{const h=d.bits;let f=0,p=0,x=0,w=0,b=0,N=0,S=0,k=0,_=0,E=0,D,R,I,ne,K,B=null,H;const ee=new Uint16Array(kd+1),T=new Uint16Array(kd+1);let F=null,$,G,ie;for(f=0;f<=kd;f++)ee[f]=0;for(p=0;p<a;p++)ee[e[n+p]]++;for(b=h,w=kd;w>=1&&ee[w]===0;w--);if(b>w&&(b=w),w===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<w&&ee[x]===0;x++);for(b<x&&(b=x),k=1,f=1;f<=kd;f++)if(k<<=1,k-=ee[f],k<0)return-1;if(k>0&&(t===h1||w!==1))return-1;for(T[1]=0,f=1;f<kd;f++)T[f+1]=T[f]+ee[f];for(p=0;p<a;p++)e[n+p]!==0&&(c[T[e[n+p]]++]=p);if(t===h1?(B=F=c,H=20):t===Cp?(B=FA,F=OA,H=257):(B=TA,F=PA,H=0),E=0,p=0,f=x,K=l,N=b,S=0,I=-1,_=1<<b,ne=_-1,t===Cp&&_>d1||t===f1&&_>u1)return 1;for(;;){$=f-S,c[p]+1<H?(G=0,ie=c[p]):c[p]>=H?(G=F[c[p]-H],ie=B[c[p]-H]):(G=96,ie=0),D=1<<f-S,R=1<<N,x=R;do R-=D,i[K+(E>>S)+R]=$<<24|G<<16|ie|0;while(R!==0);for(D=1<<f-1;E&D;)D>>=1;if(D!==0?(E&=D-1,E+=D):E=0,p++,--ee[f]===0){if(f===w)break;f=e[n+c[p]]}if(f>b&&(E&ne)!==I){for(S===0&&(S=b),K+=x,N=f-S,k=1<<N;N+S<w&&(k-=ee[N+S],!(k<=0));)N++,k<<=1;if(_+=1<<N,t===Cp&&_>d1||t===f1&&_>u1)return 1;I=E&ne,i[I]=b<<24|N<<16|K-l|0}}return E!==0&&(i[K+E]=f-S<<24|64<<16|0),d.bits=b,0};var oh=BA;const RA=0,Aw=1,Ew=2,{Z_FINISH:m1,Z_BLOCK:UA,Z_TREES:Gf,Z_OK:Uc,Z_STREAM_END:IA,Z_NEED_DICT:qA,Z_STREAM_ERROR:ti,Z_DATA_ERROR:Lw,Z_MEM_ERROR:Dw,Z_BUF_ERROR:zA,Z_DEFLATED:p1}=Sw,Wm=16180,x1=16181,g1=16182,b1=16183,y1=16184,v1=16185,w1=16186,N1=16187,j1=16188,_1=16189,Em=16190,Bl=16191,kp=16192,S1=16193,Ap=16194,C1=16195,k1=16196,A1=16197,E1=16198,Yf=16199,Kf=16200,L1=16201,D1=16202,M1=16203,F1=16204,O1=16205,Ep=16206,T1=16207,P1=16208,hn=16209,Mw=16210,Fw=16211,HA=852,$A=592,VA=15,WA=VA,B1=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function GA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ic=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Wm||e.mode>Fw?1:0},Ow=t=>{if(Ic(t))return ti;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Wm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(HA),e.distcode=e.distdyn=new Int32Array($A),e.sane=1,e.back=-1,Uc},Tw=t=>{if(Ic(t))return ti;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ow(t)},Pw=(t,e)=>{let n;if(Ic(t))return ti;const a=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ti:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,Tw(t))},Bw=(t,e)=>{if(!t)return ti;const n=new GA;t.state=n,n.strm=t,n.window=null,n.mode=Wm;const a=Pw(t,e);return a!==Uc&&(t.state=null),a},YA=t=>Bw(t,WA);let R1=!0,Lp,Dp;const KA=t=>{if(R1){Lp=new Int32Array(512),Dp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oh(Aw,t.lens,0,288,Lp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oh(Ew,t.lens,0,32,Dp,0,t.work,{bits:5}),R1=!1}t.lencode=Lp,t.lenbits=9,t.distcode=Dp,t.distbits=5},Rw=(t,e,n,a)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>a&&(i=a),l.window.set(e.subarray(n-a,n-a+i),l.wnext),a-=i,a?(l.window.set(e.subarray(n-a,n),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},QA=(t,e)=>{let n,a,i,l,c,d,h,f,p,x,w,b,N,S,k=0,_,E,D,R,I,ne,K,B;const H=new Uint8Array(4);let ee,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ic(t)||!t.output||!t.input&&t.avail_in!==0)return ti;n=t.state,n.mode===Bl&&(n.mode=kp),c=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,a=t.input,d=t.avail_in,f=n.hold,p=n.bits,x=d,w=h,B=Uc;e:for(;;)switch(n.mode){case Wm:if(n.wrap===0){n.mode=kp;break}for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,H[0]=f&255,H[1]=f>>>8&255,n.check=sl(n.check,H,2,0),f=0,p=0,n.mode=x1;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=hn;break}if((f&15)!==p1){t.msg="unknown compression method",n.mode=hn;break}if(f>>>=4,p-=4,K=(f&15)+8,n.wbits===0&&(n.wbits=K),K>15||K>n.wbits){t.msg="invalid window size",n.mode=hn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?_1:Bl,f=0,p=0;break;case x1:for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(n.flags=f,(n.flags&255)!==p1){t.msg="unknown compression method",n.mode=hn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=hn;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(H[0]=f&255,H[1]=f>>>8&255,n.check=sl(n.check,H,2,0)),f=0,p=0,n.mode=g1;case g1:for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(H[0]=f&255,H[1]=f>>>8&255,H[2]=f>>>16&255,H[3]=f>>>24&255,n.check=sl(n.check,H,4,0)),f=0,p=0,n.mode=b1;case b1:for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(H[0]=f&255,H[1]=f>>>8&255,n.check=sl(n.check,H,2,0)),f=0,p=0,n.mode=y1;case y1:if(n.flags&1024){for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(H[0]=f&255,H[1]=f>>>8&255,n.check=sl(n.check,H,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=v1;case v1:if(n.flags&1024&&(b=n.length,b>d&&(b=d),b&&(n.head&&(K=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(l,l+b),K)),n.flags&512&&n.wrap&4&&(n.check=sl(n.check,a,b,l)),d-=b,l+=b,n.length-=b),n.length))break e;n.length=0,n.mode=w1;case w1:if(n.flags&2048){if(d===0)break e;b=0;do K=a[l+b++],n.head&&K&&n.length<65536&&(n.head.name+=String.fromCharCode(K));while(K&&b<d);if(n.flags&512&&n.wrap&4&&(n.check=sl(n.check,a,b,l)),d-=b,l+=b,K)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=N1;case N1:if(n.flags&4096){if(d===0)break e;b=0;do K=a[l+b++],n.head&&K&&n.length<65536&&(n.head.comment+=String.fromCharCode(K));while(K&&b<d);if(n.flags&512&&n.wrap&4&&(n.check=sl(n.check,a,b,l)),d-=b,l+=b,K)break e}else n.head&&(n.head.comment=null);n.mode=j1;case j1:if(n.flags&512){for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=hn;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Bl;break;case _1:for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}t.adler=n.check=B1(f),f=0,p=0,n.mode=Em;case Em:if(n.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,n.hold=f,n.bits=p,qA;t.adler=n.check=1,n.mode=Bl;case Bl:if(e===UA||e===Gf)break e;case kp:if(n.last){f>>>=p&7,p-=p&7,n.mode=Ep;break}for(;p<3;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}switch(n.last=f&1,f>>>=1,p-=1,f&3){case 0:n.mode=S1;break;case 1:if(KA(n),n.mode=Yf,e===Gf){f>>>=2,p-=2;break e}break;case 2:n.mode=k1;break;case 3:t.msg="invalid block type",n.mode=hn}f>>>=2,p-=2;break;case S1:for(f>>>=p&7,p-=p&7;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=hn;break}if(n.length=f&65535,f=0,p=0,n.mode=Ap,e===Gf)break e;case Ap:n.mode=C1;case C1:if(b=n.length,b){if(b>d&&(b=d),b>h&&(b=h),b===0)break e;i.set(a.subarray(l,l+b),c),d-=b,l+=b,h-=b,c+=b,n.length-=b;break}n.mode=Bl;break;case k1:for(;p<14;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(n.nlen=(f&31)+257,f>>>=5,p-=5,n.ndist=(f&31)+1,f>>>=5,p-=5,n.ncode=(f&15)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=hn;break}n.have=0,n.mode=A1;case A1:for(;n.have<n.ncode;){for(;p<3;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.lens[F[n.have++]]=f&7,f>>>=3,p-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ee={bits:n.lenbits},B=oh(RA,n.lens,0,19,n.lencode,0,n.work,ee),n.lenbits=ee.bits,B){t.msg="invalid code lengths set",n.mode=hn;break}n.have=0,n.mode=E1;case E1:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[f&(1<<n.lenbits)-1],_=k>>>24,E=k>>>16&255,D=k&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(D<16)f>>>=_,p-=_,n.lens[n.have++]=D;else{if(D===16){for(T=_+2;p<T;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(f>>>=_,p-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=hn;break}K=n.lens[n.have-1],b=3+(f&3),f>>>=2,p-=2}else if(D===17){for(T=_+3;p<T;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=_,p-=_,K=0,b=3+(f&7),f>>>=3,p-=3}else{for(T=_+7;p<T;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=_,p-=_,K=0,b=11+(f&127),f>>>=7,p-=7}if(n.have+b>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=hn;break}for(;b--;)n.lens[n.have++]=K}}if(n.mode===hn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=hn;break}if(n.lenbits=9,ee={bits:n.lenbits},B=oh(Aw,n.lens,0,n.nlen,n.lencode,0,n.work,ee),n.lenbits=ee.bits,B){t.msg="invalid literal/lengths set",n.mode=hn;break}if(n.distbits=6,n.distcode=n.distdyn,ee={bits:n.distbits},B=oh(Ew,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ee),n.distbits=ee.bits,B){t.msg="invalid distances set",n.mode=hn;break}if(n.mode=Yf,e===Gf)break e;case Yf:n.mode=Kf;case Kf:if(d>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,n.hold=f,n.bits=p,MA(t,w),c=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,a=t.input,d=t.avail_in,f=n.hold,p=n.bits,n.mode===Bl&&(n.back=-1);break}for(n.back=0;k=n.lencode[f&(1<<n.lenbits)-1],_=k>>>24,E=k>>>16&255,D=k&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(E&&(E&240)===0){for(R=_,I=E,ne=D;k=n.lencode[ne+((f&(1<<R+I)-1)>>R)],_=k>>>24,E=k>>>16&255,D=k&65535,!(R+_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=R,p-=R,n.back+=R}if(f>>>=_,p-=_,n.back+=_,n.length=D,E===0){n.mode=O1;break}if(E&32){n.back=-1,n.mode=Bl;break}if(E&64){t.msg="invalid literal/length code",n.mode=hn;break}n.extra=E&15,n.mode=L1;case L1:if(n.extra){for(T=n.extra;p<T;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=D1;case D1:for(;k=n.distcode[f&(1<<n.distbits)-1],_=k>>>24,E=k>>>16&255,D=k&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if((E&240)===0){for(R=_,I=E,ne=D;k=n.distcode[ne+((f&(1<<R+I)-1)>>R)],_=k>>>24,E=k>>>16&255,D=k&65535,!(R+_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=R,p-=R,n.back+=R}if(f>>>=_,p-=_,n.back+=_,E&64){t.msg="invalid distance code",n.mode=hn;break}n.offset=D,n.extra=E&15,n.mode=M1;case M1:if(n.extra){for(T=n.extra;p<T;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=hn;break}n.mode=F1;case F1:if(h===0)break e;if(b=w-h,n.offset>b){if(b=n.offset-b,b>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=hn;break}b>n.wnext?(b-=n.wnext,N=n.wsize-b):N=n.wnext-b,b>n.length&&(b=n.length),S=n.window}else S=i,N=c-n.offset,b=n.length;b>h&&(b=h),h-=b,n.length-=b;do i[c++]=S[N++];while(--b);n.length===0&&(n.mode=Kf);break;case O1:if(h===0)break e;i[c++]=n.length,h--,n.mode=Kf;break;case Ep:if(n.wrap){for(;p<32;){if(d===0)break e;d--,f|=a[l++]<<p,p+=8}if(w-=h,t.total_out+=w,n.total+=w,n.wrap&4&&w&&(t.adler=n.check=n.flags?sl(n.check,i,w,c-w):yx(n.check,i,w,c-w)),w=h,n.wrap&4&&(n.flags?f:B1(f))!==n.check){t.msg="incorrect data check",n.mode=hn;break}f=0,p=0}n.mode=T1;case T1:if(n.wrap&&n.flags){for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=hn;break}f=0,p=0}n.mode=P1;case P1:B=IA;break e;case hn:B=Lw;break e;case Mw:return Dw;case Fw:default:return ti}return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,n.hold=f,n.bits=p,(n.wsize||w!==t.avail_out&&n.mode<hn&&(n.mode<Ep||e!==m1))&&Rw(t,t.output,t.next_out,w-t.avail_out),x-=t.avail_in,w-=t.avail_out,t.total_in+=x,t.total_out+=w,n.total+=w,n.wrap&4&&w&&(t.adler=n.check=n.flags?sl(n.check,i,w,t.next_out-w):yx(n.check,i,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Bl?128:0)+(n.mode===Yf||n.mode===Ap?256:0),(x===0&&w===0||e===m1)&&B===Uc&&(B=zA),B},XA=t=>{if(Ic(t))return ti;let e=t.state;return e.window&&(e.window=null),t.state=null,Uc},ZA=(t,e)=>{if(Ic(t))return ti;const n=t.state;return(n.wrap&2)===0?ti:(n.head=e,e.done=!1,Uc)},JA=(t,e)=>{const n=e.length;let a,i,l;return Ic(t)||(a=t.state,a.wrap!==0&&a.mode!==Em)?ti:a.mode===Em&&(i=1,i=yx(i,e,n,0),i!==a.check)?Lw:(l=Rw(t,e,n,n),l?(a.mode=Mw,Dw):(a.havedict=1,Uc))};var e7=Tw,t7=Pw,s7=Ow,n7=YA,a7=Bw,r7=QA,i7=XA,l7=ZA,o7=JA,c7="pako inflate (from Nodeca project)",ql={inflateReset:e7,inflateReset2:t7,inflateResetKeep:s7,inflateInit:n7,inflateInit2:a7,inflate:r7,inflateEnd:i7,inflateGetHeader:l7,inflateSetDictionary:o7,inflateInfo:c7};function d7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var u7=d7;const Uw=Object.prototype.toString,{Z_NO_FLUSH:h7,Z_FINISH:f7,Z_OK:gh,Z_STREAM_END:Mp,Z_NEED_DICT:Fp,Z_STREAM_ERROR:m7,Z_DATA_ERROR:U1,Z_MEM_ERROR:p7}=Sw;function kh(t){this.options=Cw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LA,this.strm.avail_out=0;let n=ql.inflateInit2(this.strm,e.windowBits);if(n!==gh)throw new Error(vx[n]);if(this.header=new u7,ql.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wx.string2buf(e.dictionary):Uw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ql.inflateSetDictionary(this.strm,e.dictionary),n!==gh)))throw new Error(vx[n])}kh.prototype.push=function(t,e){const n=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let l,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?f7:h7,Uw.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),l=ql.inflate(n,c),l===Fp&&i&&(l=ql.inflateSetDictionary(n,i),l===gh?l=ql.inflate(n,c):l===U1&&(l=Fp));n.avail_in>0&&l===Mp&&n.state.wrap>0&&t[n.next_in]!==0;)ql.inflateReset(n),l=ql.inflate(n,c);switch(l){case m7:case U1:case Fp:case p7:return this.onEnd(l),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||l===Mp))if(this.options.to==="string"){let h=wx.utf8border(n.output,n.next_out),f=n.next_out-h,p=wx.buf2string(n.output,h);n.next_out=f,n.avail_out=a-f,f&&n.output.set(n.output.subarray(h,h+f),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===gh&&d===0)){if(l===Mp)return l=ql.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};kh.prototype.onData=function(t){this.chunks.push(t)};kh.prototype.onEnd=function(t){t===gh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function x7(t,e){const n=new kh(e);if(n.push(t),n.err)throw n.msg||vx[n.err];return n.result}var g7=kh,b7=x7,y7={Inflate:g7,inflate:b7};const{Inflate:v7,inflate:w7}=y7;var I1=v7,N7=w7;const Iw=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Iw[t]=e}const q1=4294967295;function j7(t,e,n){let a=t;for(let i=0;i<n;i++)a=Iw[(a^e[i])&255]^a>>>8;return a}function _7(t,e){return(j7(q1,t,e)^q1)>>>0}function z1(t,e,n){const a=t.readUint32(),i=_7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${i}`)}function qw(t,e,n){for(let a=0;a<n;a++)e[a]=t[a]}function zw(t,e,n,a){let i=0;for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}function Hw(t,e,n,a){let i=0;if(n.length===0)for(;i<a;i++)e[i]=t[i];else for(;i<a;i++)e[i]=t[i]+n[i]&255}function $w(t,e,n,a,i){let l=0;if(n.length===0){for(;l<i;l++)e[l]=t[l];for(;l<a;l++)e[l]=t[l]+(e[l-i]>>1)&255}else{for(;l<i;l++)e[l]=t[l]+(n[l]>>1)&255;for(;l<a;l++)e[l]=t[l]+(e[l-i]+n[l]>>1)&255}}function Vw(t,e,n,a,i){let l=0;if(n.length===0){for(;l<i;l++)e[l]=t[l];for(;l<a;l++)e[l]=t[l]+e[l-i]&255}else{for(;l<i;l++)e[l]=t[l]+n[l]&255;for(;l<a;l++)e[l]=t[l]+S7(e[l-i],n[l],n[l-i])&255}}function S7(t,e,n){const a=t+e-n,i=Math.abs(a-t),l=Math.abs(a-e),c=Math.abs(a-n);return i<=l&&i<=c?t:l<=c?e:n}function C7(t,e,n,a,i,l){switch(t){case 0:qw(e,n,i);break;case 1:zw(e,n,i,l);break;case 2:Hw(e,n,a,i);break;case 3:$w(e,n,a,i,l);break;case 4:Vw(e,n,a,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const k7=new Uint16Array([255]),A7=new Uint8Array(k7.buffer),E7=A7[0]===255;function L7(t){const{data:e,width:n,height:a,channels:i,depth:l}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(l/8)*i,h=new Uint8Array(a*n*d);let f=0;for(let p=0;p<7;p++){const x=c[p],w=Math.ceil((n-x.x)/x.xStep),b=Math.ceil((a-x.y)/x.yStep);if(w<=0||b<=0)continue;const N=w*d,S=new Uint8Array(N);for(let k=0;k<b;k++){const _=e[f++],E=e.subarray(f,f+N);f+=N;const D=new Uint8Array(N);C7(_,E,D,S,N,d),S.set(D);for(let R=0;R<w;R++){const I=x.x+R*x.xStep,ne=x.y+k*x.yStep;if(!(I>=n||ne>=a))for(let K=0;K<d;K++)h[(ne*n+I)*d+K]=D[R*d+K]}}}if(l===16){const p=new Uint16Array(h.buffer);if(E7)for(let x=0;x<p.length;x++)p[x]=D7(p[x]);return p}else return h}function D7(t){return(t&255)<<8|t>>8&255}const M7=new Uint16Array([255]),F7=new Uint8Array(M7.buffer),O7=F7[0]===255,T7=new Uint8Array(0);function H1(t){const{data:e,width:n,height:a,channels:i,depth:l}=t,c=Math.ceil(l/8)*i,d=Math.ceil(l/8*i*n),h=new Uint8Array(a*d);let f=T7,p=0,x,w;for(let b=0;b<a;b++){switch(x=e.subarray(p+1,p+1+d),w=h.subarray(b*d,(b+1)*d),e[p]){case 0:qw(x,w,d);break;case 1:zw(x,w,d,c);break;case 2:Hw(x,w,f,d);break;case 3:$w(x,w,f,d,c);break;case 4:Vw(x,w,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=w,p+=d+1}if(l===16){const b=new Uint16Array(h.buffer);if(O7)for(let N=0;N<b.length;N++)b[N]=P7(b[N]);return b}else return h}function P7(t){return(t&255)<<8|t>>8&255}const cm=Uint8Array.of(137,80,78,71,13,10,26,10);function $1(t){if(!B7(t.readBytes(cm.length)))throw new Error("wrong PNG signature")}function B7(t){if(t.length<cm.length)return!1;for(let e=0;e<cm.length;e++)if(t[e]!==cm[e])return!1;return!0}const R7="tEXt",U7=0,Ww=new TextDecoder("latin1");function I7(t){if(z7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const q7=/^[\u0000-\u00FF]*$/;function z7(t){if(!q7.test(t))throw new Error("invalid latin1 text")}function H7(t,e,n){const a=Gw(e);t[a]=$7(e,n-a.length-1)}function Gw(t){for(t.mark();t.readByte()!==U7;);const e=t.offset;t.reset();const n=Ww.decode(t.readBytes(e-t.offset-1));return t.skip(1),I7(n),n}function $7(t,e){return Ww.decode(t.readBytes(e))}const vr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Op={UNKNOWN:-1,DEFLATE:0},V1={UNKNOWN:-1,ADAPTIVE:0},Tp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qf={NONE:0,BACKGROUND:1,PREVIOUS:2},Pp={SOURCE:0,OVER:1};class V7 extends ng{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new I1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Op.UNKNOWN,this._filterMethod=V1.UNKNOWN,this._interlaceMethod=Tp.UNKNOWN,this._colorType=vr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($1(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for($1(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case R7:H7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z1(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z1(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=W7(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case vr.GREYSCALE:a=1;break;case vr.TRUECOLOUR:a=3;break;case vr.INDEXED_COLOUR:a=1;break;case vr.GREYSCALE_ALPHA:a=2;break;case vr.TRUECOLOUR_ALPHA:a=4;break;case vr.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Op.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case vr.GREYSCALE:case vr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case vr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case vr.UNKNOWN:case vr.GREYSCALE_ALPHA:case vr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Gw(this),a=this.readUint8();if(a!==Op.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:N7(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=H1({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case Qf.NONE:break;case Qf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const c=(i*e.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case Qf.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,i=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,h=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(n.blendOp){case Pp.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=n.data[h+f]}break;case Pp.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let f=0;f<this._png.channels;f++){const p=n.data[h+this._png.channels-1]/a,x=f%(this._png.channels-1)===0?1:n.data[h+f],w=Math.floor(p*x+(1-p)*e.data[d+f]);e.data[d+f]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==V1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Tp.NO_INTERLACE)this._png.data=H1({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Tp.ADAM7)this._png.data=L7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qf.NONE,blendOp:Pp.SOURCE,data:e}),this._inflator=new I1,this._writingDataChunks=!1}}function W7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var W1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(W1||(W1={}));function G7(t,e){return new V7(t,e).decode()}var Zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bp(){Zt.console&&typeof Zt.console.log=="function"&&Zt.console.log.apply(Zt.console,arguments)}var Gs={log:Bp,warn:function(t){Zt.console&&(typeof Zt.console.warn=="function"?Zt.console.warn.apply(Zt.console,arguments):Bp.call(null,arguments))},error:function(t){Zt.console&&(typeof Zt.console.error=="function"?Zt.console.error.apply(Zt.console,arguments):Bp(t))}};function Rp(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){kc(a.response,e,n)},a.onerror=function(){Gs.error("could not download file")},a.send()}function G1(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var kc=Zt.saveAs||((typeof window>"u"?"undefined":Rs(window))!=="object"||window!==Zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var a=Zt.URL||Zt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?G1(i.href)?Rp(t,e,n):Xf(i,i.target="_blank"):Xf(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(G1(t))Rp(t,e,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){Xf(a)})}else navigator.msSaveOrOpenBlob(function(i,l){return l===void 0?l={autoBom:!1}:Rs(l)!=="object"&&(Gs.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Rp(t,e,n);var i=t.type==="application/octet-stream",l=/constructor/i.test(Zt.HTMLElement)||Zt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l)&&(typeof FileReader>"u"?"undefined":Rs(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=p:location=p,a=null},d.readAsDataURL(t)}else{var h=Zt.URL||Zt.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Yw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<n.length;a++){var i=n[a].re,l=n[a].process,c=i.exec(t);c&&(e=l(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var dm=Zt.atob.bind(Zt),Y1=Zt.btoa.bind(Zt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Up(t,e){var n=t[0],a=t[1],i=t[2],l=t[3];n=ja(n,a,i,l,e[0],7,-680876936),l=ja(l,n,a,i,e[1],12,-389564586),i=ja(i,l,n,a,e[2],17,606105819),a=ja(a,i,l,n,e[3],22,-1044525330),n=ja(n,a,i,l,e[4],7,-176418897),l=ja(l,n,a,i,e[5],12,1200080426),i=ja(i,l,n,a,e[6],17,-1473231341),a=ja(a,i,l,n,e[7],22,-45705983),n=ja(n,a,i,l,e[8],7,1770035416),l=ja(l,n,a,i,e[9],12,-1958414417),i=ja(i,l,n,a,e[10],17,-42063),a=ja(a,i,l,n,e[11],22,-1990404162),n=ja(n,a,i,l,e[12],7,1804603682),l=ja(l,n,a,i,e[13],12,-40341101),i=ja(i,l,n,a,e[14],17,-1502002290),n=_a(n,a=ja(a,i,l,n,e[15],22,1236535329),i,l,e[1],5,-165796510),l=_a(l,n,a,i,e[6],9,-1069501632),i=_a(i,l,n,a,e[11],14,643717713),a=_a(a,i,l,n,e[0],20,-373897302),n=_a(n,a,i,l,e[5],5,-701558691),l=_a(l,n,a,i,e[10],9,38016083),i=_a(i,l,n,a,e[15],14,-660478335),a=_a(a,i,l,n,e[4],20,-405537848),n=_a(n,a,i,l,e[9],5,568446438),l=_a(l,n,a,i,e[14],9,-1019803690),i=_a(i,l,n,a,e[3],14,-187363961),a=_a(a,i,l,n,e[8],20,1163531501),n=_a(n,a,i,l,e[13],5,-1444681467),l=_a(l,n,a,i,e[2],9,-51403784),i=_a(i,l,n,a,e[7],14,1735328473),n=Sa(n,a=_a(a,i,l,n,e[12],20,-1926607734),i,l,e[5],4,-378558),l=Sa(l,n,a,i,e[8],11,-2022574463),i=Sa(i,l,n,a,e[11],16,1839030562),a=Sa(a,i,l,n,e[14],23,-35309556),n=Sa(n,a,i,l,e[1],4,-1530992060),l=Sa(l,n,a,i,e[4],11,1272893353),i=Sa(i,l,n,a,e[7],16,-155497632),a=Sa(a,i,l,n,e[10],23,-1094730640),n=Sa(n,a,i,l,e[13],4,681279174),l=Sa(l,n,a,i,e[0],11,-358537222),i=Sa(i,l,n,a,e[3],16,-722521979),a=Sa(a,i,l,n,e[6],23,76029189),n=Sa(n,a,i,l,e[9],4,-640364487),l=Sa(l,n,a,i,e[12],11,-421815835),i=Sa(i,l,n,a,e[15],16,530742520),n=Ca(n,a=Sa(a,i,l,n,e[2],23,-995338651),i,l,e[0],6,-198630844),l=Ca(l,n,a,i,e[7],10,1126891415),i=Ca(i,l,n,a,e[14],15,-1416354905),a=Ca(a,i,l,n,e[5],21,-57434055),n=Ca(n,a,i,l,e[12],6,1700485571),l=Ca(l,n,a,i,e[3],10,-1894986606),i=Ca(i,l,n,a,e[10],15,-1051523),a=Ca(a,i,l,n,e[1],21,-2054922799),n=Ca(n,a,i,l,e[8],6,1873313359),l=Ca(l,n,a,i,e[15],10,-30611744),i=Ca(i,l,n,a,e[6],15,-1560198380),a=Ca(a,i,l,n,e[13],21,1309151649),n=Ca(n,a,i,l,e[4],6,-145523070),l=Ca(l,n,a,i,e[11],10,-1120210379),i=Ca(i,l,n,a,e[2],15,718787259),a=Ca(a,i,l,n,e[9],21,-343485551),t[0]=Ro(n,t[0]),t[1]=Ro(a,t[1]),t[2]=Ro(i,t[2]),t[3]=Ro(l,t[3])}function Gm(t,e,n,a,i,l){return e=Ro(Ro(e,t),Ro(a,l)),Ro(e<<i|e>>>32-i,n)}function ja(t,e,n,a,i,l,c){return Gm(e&n|~e&a,t,e,i,l,c)}function _a(t,e,n,a,i,l,c){return Gm(e&a|n&~a,t,e,i,l,c)}function Sa(t,e,n,a,i,l,c){return Gm(e^n^a,t,e,i,l,c)}function Ca(t,e,n,a,i,l,c){return Gm(n^(e|~a),t,e,i,l,c)}function Kw(t){var e,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Up(a,Y7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Up(a,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Up(a,i),a}function Y7(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var K1="0123456789abcdef".split("");function K7(t){for(var e="",n=0;n<4;n++)e+=K1[t>>8*n+4&15]+K1[t>>8*n&15];return e}function Q7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Nx(t){return Kw(t).map(Q7).join("")}var X7=function(t){for(var e=0;e<t.length;e++)t[e]=K7(t[e]);return t.join("")}(Kw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ro(t,e){if(X7){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jx(t,e){var n,a,i,l;if(t!==n){for(var c=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var p=d[h];f=(f+p+c.charCodeAt(h))%256,d[h]=d[f],d[f]=p}n=t,a=d}else d=a;var x=e.length,w=0,b=0,N="";for(h=0;h<x;h++)b=(b+(p=d[w=(w+1)%256]))%256,d[w]=d[b],d[b]=p,c=d[(d[w]+d[b])%256],N+=String.fromCharCode(e.charCodeAt(h)^c);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q1={print:4,modify:8,copy:16,"annot-forms":32};function Ld(t,e,n,a){this.v=1,this.r=2;var i=192;t.forEach(function(d){if(Q1.perm!==void 0)throw new Error("Invalid permission: "+d);i+=Q1[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),c=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^i)),this.encryptionKey=Nx(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=jx(this.encryptionKey,this.padding)}function Dd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,a=0;a<n;a++){var i=t.charCodeAt(a);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[a]}return e}function X1(t){if(Rs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,i){if(i=i||!1,typeof n!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var l=Math.random().toString(35);return e[n][l]=[a,!!i],l},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var l in e[n]){var c=e[n][l];try{c[0].apply(t,a)}catch(d){Zt.console&&Gs.error("jsPDF PubSub Error",d.message,d)}c[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lm(t){if(!(this instanceof Lm))return new Lm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Qw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ac(t,e,n,a,i){if(!(this instanceof Ac))return new Ac(t,e,n,a,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Qw.call(this,a,i)}function Fd(t,e,n,a,i){if(!(this instanceof Fd))return new Fd(t,e,n,a,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Qw.call(this,a,i)}function Ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],l=arguments[3],c=[],d=1,h=16,f="S",p=null;Rs(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,i=t.format||i,l=t.compress||t.compressPdf||l,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(l===!0?["FlateEncode"]:c),a=a||"mm",n=(""+(n||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,w={},b={internal:{},__private__:{}};b.__private__.PubSub=X1;var N="1.3",S=b.__private__.getPdfVersion=function(){return N};b.__private__.setPdfVersion=function(C){N=C};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return k};var _=b.__private__.getPageFormat=function(C){return k[C]};i=i||"a4";var E="compat",D="advanced",R=E;function I(){this.saveGraphicsState(),oe(new Rt(be,0,0,-be,0,Ma()*be).toString()+" cm"),this.setFontSize(this.getFontSize()/be),f="n",R=D}function ne(){this.restoreGraphicsState(),f="S",R=E}var K=b.__private__.combineFontStyleAndFontWeight=function(C,W){if(C=="bold"&&W=="normal"||C=="bold"&&W==400||C=="normal"&&W=="italic"||C=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(C=W==400||W==="normal"?C==="italic"?"italic":"normal":W!=700&&W!=="bold"||C!=="normal"?(W==700?"bold":W)+""+C:"bold"),C};b.advancedAPI=function(C){var W=R===E;return W&&I.call(this),typeof C!="function"||(C(this),W&&ne.call(this)),this},b.compatAPI=function(C){var W=R===D;return W&&ne.call(this),typeof C!="function"||(C(this),W&&I.call(this)),this},b.isAdvancedAPI=function(){return R===D};var B,H=function(C){if(R!==D)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=b.roundToPrecision=b.__private__.roundToPrecision=function(C,W){var xe=e||W;if(isNaN(C)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(xe).replace(/0+$/,"")};B=b.hpf=b.__private__.hpf=typeof h=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,h)}:h==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(C,16)};var T=b.f2=b.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return ee(C,2)},F=b.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return ee(C,3)},$=b.scale=b.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return R===E?C*be:R===D?C:void 0},G=function(C){return $(function(W){return R===E?Ma()-W:R===D?W:void 0}(C))};b.__private__.setPrecision=b.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var ie,Z="00000000000000000000000000000000",re=b.__private__.getFileId=function(){return Z},le=b.__private__.setFileId=function(C){return Z=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(bs=new Ld(p.userPermissions,p.userPassword,p.ownerPassword,Z)),Z};b.setFileId=function(C){return le(C),this},b.getFileId=function(){return re()};var de=b.__private__.convertDateToPDFDate=function(C){var W=C.getTimezoneOffset(),xe=W<0?"+":"-",ve=Math.floor(Math.abs(W/60)),ke=Math.abs(W%60),Ge=[xe,z(ve),"'",z(ke),"'"].join("");return["D:",C.getFullYear(),z(C.getMonth()+1),z(C.getDate()),z(C.getHours()),z(C.getMinutes()),z(C.getSeconds()),Ge].join("")},Y=b.__private__.convertPDFDateToDate=function(C){var W=parseInt(C.substr(2,4),10),xe=parseInt(C.substr(6,2),10)-1,ve=parseInt(C.substr(8,2),10),ke=parseInt(C.substr(10,2),10),Ge=parseInt(C.substr(12,2),10),rt=parseInt(C.substr(14,2),10);return new Date(W,xe,ve,ke,Ge,rt,0)},ue=b.__private__.setCreationDate=function(C){var W;if(C===void 0&&(C=new Date),C instanceof Date)W=de(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=C}return ie=W},O=b.__private__.getCreationDate=function(C){var W=ie;return C==="jsDate"&&(W=Y(ie)),W};b.setCreationDate=function(C){return ue(C),this},b.getCreationDate=function(C){return O(C)};var P,z=b.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},q=b.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},se=0,fe=[],ye=[],Se=0,Oe=[],He=[],Ie=!1,Ke=ye;b.__private__.setCustomOutputDestination=function(C){Ie=!0,Ke=C};var he=function(C){Ie||(Ke=C)};b.__private__.resetCustomOutputDestination=function(){Ie=!1,Ke=ye};var oe=b.__private__.out=function(C){return C=C.toString(),Se+=C.length+1,Ke.push(C),Ke},Nt=b.__private__.write=function(C){return oe(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},at=b.__private__.getArrayBuffer=function(C){for(var W=C.length,xe=new ArrayBuffer(W),ve=new Uint8Array(xe);W--;)ve[W]=C.charCodeAt(W);return xe},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return bt};var et=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(C){return et=R===D?C/be:C,this};var ft,ot=b.__private__.getFontSize=b.getFontSize=function(){return R===E?et:et*be},yt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(C){return yt=C,this},b.__private__.getR2L=b.getR2L=function(){return yt};var Pe,ht=b.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))ft=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');ft=C}else ft=parseInt(C,10)};b.__private__.getZoomMode=function(){return ft};var Be,Qe=b.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Pe=C};b.__private__.getPageMode=function(){return Pe};var je=b.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Be=C};b.__private__.getLayoutMode=function(){return Be},b.__private__.setDisplayMode=b.setDisplayMode=function(C,W,xe){return ht(C),je(W),Qe(xe),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(C){if(Object.keys(lt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[C]},b.__private__.getDocumentProperties=function(){return lt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(C){for(var W in lt)lt.hasOwnProperty(W)&&C[W]&&(lt[W]=C[W]);return this},b.__private__.setDocumentProperty=function(C,W){if(Object.keys(lt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[C]=W};var Ee,be,Ue,St,Bt,ut={},Tt={},os=[],gt={},Kt={},Pt={},ks={},tt=null,mt=0,Ze=[],rs=new X1(b),Xn=t.hotfixes||[],Zs={},Zn={},Aa=[],Rt=function C(W,xe,ve,ke,Ge,rt){if(!(this instanceof C))return new C(W,xe,ve,ke,Ge,rt);isNaN(W)&&(W=1),isNaN(xe)&&(xe=0),isNaN(ve)&&(ve=0),isNaN(ke)&&(ke=1),isNaN(Ge)&&(Ge=0),isNaN(rt)&&(rt=0),this._matrix=[W,xe,ve,ke,Ge,rt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(C)},Rt.prototype.multiply=function(C){var W=C.sx*this.sx+C.shy*this.shx,xe=C.sx*this.shy+C.shy*this.sy,ve=C.shx*this.sx+C.sy*this.shx,ke=C.shx*this.shy+C.sy*this.sy,Ge=C.tx*this.sx+C.ty*this.shx+this.tx,rt=C.tx*this.shy+C.ty*this.sy+this.ty;return new Rt(W,xe,ve,ke,Ge,rt)},Rt.prototype.decompose=function(){var C=this.sx,W=this.shy,xe=this.shx,ve=this.sy,ke=this.tx,Ge=this.ty,rt=Math.sqrt(C*C+W*W),kt=(C/=rt)*xe+(W/=rt)*ve;xe-=C*kt,ve-=W*kt;var Mt=Math.sqrt(xe*xe+ve*ve);return kt/=Mt,C*(ve/=Mt)<W*(xe/=Mt)&&(C=-C,W=-W,kt=-kt,rt=-rt),{scale:new Rt(rt,0,0,Mt,0,0),translate:new Rt(1,0,0,1,ke,Ge),rotate:new Rt(C,W,-W,C,0,0),skew:new Rt(1,0,kt,1,0,0)}},Rt.prototype.toString=function(C){return this.join(" ")},Rt.prototype.inversed=function(){var C=this.sx,W=this.shy,xe=this.shx,ve=this.sy,ke=this.tx,Ge=this.ty,rt=1/(C*ve-W*xe),kt=ve*rt,Mt=-W*rt,Vt=-xe*rt,ts=C*rt;return new Rt(kt,Mt,Vt,ts,-kt*ke-Vt*Ge,-Mt*ke-ts*Ge)},Rt.prototype.applyToPoint=function(C){var W=C.x*this.sx+C.y*this.shx+this.tx,xe=C.x*this.shy+C.y*this.sy+this.ty;return new fl(W,xe)},Rt.prototype.applyToRectangle=function(C){var W=this.applyToPoint(C),xe=this.applyToPoint(new fl(C.x+C.w,C.y+C.h));return new ml(W.x,W.y,xe.x-W.x,xe.y-W.y)},Rt.prototype.clone=function(){var C=this.sx,W=this.shy,xe=this.shx,ve=this.sy,ke=this.tx,Ge=this.ty;return new Rt(C,W,xe,ve,ke,Ge)},b.Matrix=Rt;var Sn=b.matrixMult=function(C,W){return W.multiply(C)},xs=new Rt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=xs;var vt=function(C,W){if(!Kt[C]){var xe=(W instanceof Ac?"Sh":"P")+(Object.keys(gt).length+1).toString(10);W.id=xe,Kt[C]=xe,gt[xe]=W,rs.publish("addPattern",W)}};b.ShadingPattern=Ac,b.TilingPattern=Fd,b.addShadingPattern=function(C,W){return H("addShadingPattern()"),vt(C,W),this},b.beginTilingPattern=function(C){H("beginTilingPattern()"),oi(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},b.endTilingPattern=function(C,W){H("endTilingPattern()"),W.stream=He[P].join(`
`),vt(C,W),rs.publish("endTilingPattern",W),Aa.pop().restore()};var Ms,Fs=b.__private__.newObject=function(){var C=mn();return an(C,!0),C},mn=b.__private__.newObjectDeferred=function(){return se++,fe[se]=function(){return Se},se},an=function(C,W){return W=typeof W=="boolean"&&W,fe[C]=Se,W&&oe(C+" 0 obj"),C},$n=b.__private__.newAdditionalObject=function(){var C={objId:mn(),content:""};return Oe.push(C),C},X=mn(),$e=mn(),wt=b.__private__.decodeColorString=function(C){var W=C.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var xe=parseFloat(W[0]);W=[xe,xe,xe,"r"]}for(var ve="#",ke=0;ke<3;ke++)ve+=("0"+Math.floor(255*parseFloat(W[ke])).toString(16)).slice(-2);return ve},ns=b.__private__.encodeColorString=function(C){var W;typeof C=="string"&&(C={ch1:C});var xe=C.ch1,ve=C.ch2,ke=C.ch3,Ge=C.ch4,rt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var kt=new Yw(xe);if(kt.ok)xe=kt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var Mt=parseInt(xe.substr(1),16);xe=Mt>>16&255,ve=Mt>>8&255,ke=255&Mt}if(ve===void 0||Ge===void 0&&xe===ve&&ve===ke)W=typeof xe=="string"?xe+" "+rt[0]:C.precision===2?T(xe/255)+" "+rt[0]:F(xe/255)+" "+rt[0];else if(Ge===void 0||Rs(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",rt[1]].join(" ");W=typeof xe=="string"?[xe,ve,ke,rt[1]].join(" "):C.precision===2?[T(xe/255),T(ve/255),T(ke/255),rt[1]].join(" "):[F(xe/255),F(ve/255),F(ke/255),rt[1]].join(" ")}else W=typeof xe=="string"?[xe,ve,ke,Ge,rt[2]].join(" "):C.precision===2?[T(xe),T(ve),T(ke),T(Ge),rt[2]].join(" "):[F(xe),F(ve),F(ke),F(Ge),rt[2]].join(" ");return W},qt=b.__private__.getFilters=function(){return c},Hs=b.__private__.putStream=function(C){var W=(C=C||{}).data||"",xe=C.filters||qt(),ve=C.alreadyAppliedFilters||[],ke=C.addLength1||!1,Ge=W.length,rt=C.objectId,kt=function(vn){return vn};if(p!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(kt=bs.encryptor(rt,0));var Mt={};xe===!0&&(xe=["FlateEncode"]);var Vt=C.additionalKeyValues||[],ts=(Mt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(W,xe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Mt.data.length!==0&&(Vt.push({key:"Length",value:Mt.data.length}),ke===!0&&Vt.push({key:"Length1",value:Ge})),ts.length!=0)if(ts.split("/").length-1==1)Vt.push({key:"Filter",value:ts});else{Vt.push({key:"Filter",value:"["+ts+"]"});for(var gs=0;gs<Vt.length;gs+=1)if(Vt[gs].key==="DecodeParms"){for(var Js=[],yn=0;yn<Mt.reverseChain.split("/").length-1;yn+=1)Js.push("null");Js.push(Vt[gs].value),Vt[gs].value="["+Js.join(" ")+"]"}}oe("<<");for(var Ls=0;Ls<Vt.length;Ls++)oe("/"+Vt[Ls].key+" "+Vt[Ls].value);oe(">>"),Mt.data.length!==0&&(oe("stream"),oe(kt(Mt.data)),oe("endstream"))},Us=b.__private__.putPage=function(C){var W=C.number,xe=C.data,ve=C.objId,ke=C.contentsObjId;an(ve,!0),oe("<</Type /Page"),oe("/Parent "+C.rootDictionaryObjId+" 0 R"),oe("/Resources "+C.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(B(C.mediaBox.bottomLeftX))+" "+parseFloat(B(C.mediaBox.bottomLeftY))+" "+B(C.mediaBox.topRightX)+" "+B(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&oe("/CropBox ["+B(C.cropBox.bottomLeftX)+" "+B(C.cropBox.bottomLeftY)+" "+B(C.cropBox.topRightX)+" "+B(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&oe("/BleedBox ["+B(C.bleedBox.bottomLeftX)+" "+B(C.bleedBox.bottomLeftY)+" "+B(C.bleedBox.topRightX)+" "+B(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&oe("/TrimBox ["+B(C.trimBox.bottomLeftX)+" "+B(C.trimBox.bottomLeftY)+" "+B(C.trimBox.topRightX)+" "+B(C.trimBox.topRightY)+"]"),C.artBox!==null&&oe("/ArtBox ["+B(C.artBox.bottomLeftX)+" "+B(C.artBox.bottomLeftY)+" "+B(C.artBox.topRightX)+" "+B(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&oe("/UserUnit "+C.userUnit),rs.publish("putPage",{objId:ve,pageContext:Ze[W],pageNumber:W,page:xe}),oe("/Contents "+ke+" 0 R"),oe(">>"),oe("endobj");var Ge=xe.join(`
`);return R===D&&(Ge+=`
Q`),an(ke,!0),Hs({data:Ge,filters:qt(),objectId:ke}),oe("endobj"),ve},va=b.__private__.putPages=function(){var C,W,xe=[];for(C=1;C<=mt;C++)Ze[C].objId=mn(),Ze[C].contentsObjId=mn();for(C=1;C<=mt;C++)xe.push(Us({number:C,data:He[C],objId:Ze[C].objId,contentsObjId:Ze[C].contentsObjId,mediaBox:Ze[C].mediaBox,cropBox:Ze[C].cropBox,bleedBox:Ze[C].bleedBox,trimBox:Ze[C].trimBox,artBox:Ze[C].artBox,userUnit:Ze[C].userUnit,rootDictionaryObjId:X,resourceDictionaryObjId:$e}));an(X,!0),oe("<</Type /Pages");var ve="/Kids [";for(W=0;W<mt;W++)ve+=xe[W]+" 0 R ";oe(ve+"]"),oe("/Count "+mt),oe(">>"),oe("endobj"),rs.publish("postPutPages")},ir=function(C){rs.publish("putFont",{font:C,out:oe,newObject:Fs,putStream:Hs}),C.isAlreadyPutted!==!0&&(C.objectNumber=Fs(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Dd(C.postScriptName)),oe("/Subtype /Type1"),typeof C.encoding=="string"&&oe("/Encoding /"+C.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Cn=function(C){C.objectNumber=Fs();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[B(C.x),B(C.y),B(C.x+C.width),B(C.y+C.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var xe=C.pages[1].join(`
`);Hs({data:xe,additionalKeyValues:W,objectId:C.objectNumber}),oe("endobj")},Ea=function(C,W){W||(W=21);var xe=Fs(),ve=function(rt,kt){var Mt,Vt=[],ts=1/(kt-1);for(Mt=0;Mt<1;Mt+=ts)Vt.push(Mt);if(Vt.push(1),rt[0].offset!=0){var gs={offset:0,color:rt[0].color};rt.unshift(gs)}if(rt[rt.length-1].offset!=1){var Js={offset:1,color:rt[rt.length-1].color};rt.push(Js)}for(var yn="",Ls=0,vn=0;vn<Vt.length;vn++){for(Mt=Vt[vn];Mt>rt[Ls+1].offset;)Ls++;var wn=rt[Ls].offset,Vn=(Mt-wn)/(rt[Ls+1].offset-wn),ci=rt[Ls].color,Ii=rt[Ls+1].color;yn+=q(Math.round((1-Vn)*ci[0]+Vn*Ii[0]).toString(16))+q(Math.round((1-Vn)*ci[1]+Vn*Ii[1]).toString(16))+q(Math.round((1-Vn)*ci[2]+Vn*Ii[2]).toString(16))}return yn.trim()}(C.colors,W),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+W+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hs({data:ve,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),oe("endobj"),C.objectNumber=Fs(),oe("<< /ShadingType "+C.type),oe("/ColorSpace /DeviceRGB");var Ge="/Coords ["+B(parseFloat(C.coords[0]))+" "+B(parseFloat(C.coords[1]))+" ";C.type===2?Ge+=B(parseFloat(C.coords[2]))+" "+B(parseFloat(C.coords[3])):Ge+=B(parseFloat(C.coords[2]))+" "+B(parseFloat(C.coords[3]))+" "+B(parseFloat(C.coords[4]))+" "+B(parseFloat(C.coords[5])),oe(Ge+="]"),C.matrix&&oe("/Matrix ["+C.matrix.toString()+"]"),oe("/Function "+xe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},$l=function(C,W){var xe=mn(),ve=Fs();W.push({resourcesOid:xe,objectOid:ve}),C.objectNumber=ve;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+C.boundingBox.map(B).join(" ")+"]"}),ke.push({key:"XStep",value:B(C.xStep)}),ke.push({key:"YStep",value:B(C.yStep)}),ke.push({key:"Resources",value:xe+" 0 R"}),C.matrix&&ke.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Hs({data:C.stream,additionalKeyValues:ke,objectId:C.objectNumber}),oe("endobj")},zc=function(C){for(var W in C.objectNumber=Fs(),oe("<<"),C)switch(W){case"opacity":oe("/ca "+T(C[W]));break;case"stroke-opacity":oe("/CA "+T(C[W]))}oe(">>"),oe("endobj")},Vl=function(C){an(C.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in oe("/Font <<"),ut)ut.hasOwnProperty(W)&&(x===!1||x===!0&&w.hasOwnProperty(W))&&oe("/"+W+" "+ut[W].objectNumber+" 0 R");oe(">>")}(),function(){if(Object.keys(gt).length>0){for(var W in oe("/Shading <<"),gt)gt.hasOwnProperty(W)&&gt[W]instanceof Ac&&gt[W].objectNumber>=0&&oe("/"+W+" "+gt[W].objectNumber+" 0 R");rs.publish("putShadingPatternDict"),oe(">>")}}(),function(W){if(Object.keys(gt).length>0){for(var xe in oe("/Pattern <<"),gt)gt.hasOwnProperty(xe)&&gt[xe]instanceof b.TilingPattern&&gt[xe].objectNumber>=0&&gt[xe].objectNumber<W&&oe("/"+xe+" "+gt[xe].objectNumber+" 0 R");rs.publish("putTilingPatternDict"),oe(">>")}}(C.objectOid),function(){if(Object.keys(Pt).length>0){var W;for(W in oe("/ExtGState <<"),Pt)Pt.hasOwnProperty(W)&&Pt[W].objectNumber>=0&&oe("/"+W+" "+Pt[W].objectNumber+" 0 R");rs.publish("putGStateDict"),oe(">>")}}(),function(){for(var W in oe("/XObject <<"),Zs)Zs.hasOwnProperty(W)&&Zs[W].objectNumber>=0&&oe("/"+W+" "+Zs[W].objectNumber+" 0 R");rs.publish("putXobjectDict"),oe(">>")}(),oe(">>"),oe("endobj")},Hc=function(C){Tt[C.fontName]=Tt[C.fontName]||{},Tt[C.fontName][C.fontStyle]=C.id},ol=function(C,W,xe,ve,ke){var Ge={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:C,fontName:W,fontStyle:xe,encoding:ve,isStandardFont:ke||!1,metadata:{}};return rs.publish("addFont",{font:Ge,instance:this}),ut[Ge.id]=Ge,Hc(Ge),Ge.id},oa=b.__private__.pdfEscape=b.pdfEscape=function(C,W){return function(xe,ve){var ke,Ge,rt,kt,Mt,Vt,ts,gs,Js;if(rt=(ve=ve||{}).sourceEncoding||"Unicode",Mt=ve.outputEncoding,(ve.autoencode||Mt)&&ut[Ee].metadata&&ut[Ee].metadata[rt]&&ut[Ee].metadata[rt].encoding&&(kt=ut[Ee].metadata[rt].encoding,!Mt&&ut[Ee].encoding&&(Mt=ut[Ee].encoding),!Mt&&kt.codePages&&(Mt=kt.codePages[0]),typeof Mt=="string"&&(Mt=kt[Mt]),Mt)){for(ts=!1,Vt=[],ke=0,Ge=xe.length;ke<Ge;ke++)(gs=Mt[xe.charCodeAt(ke)])?Vt.push(String.fromCharCode(gs)):Vt.push(xe[ke]),Vt[ke].charCodeAt(0)>>8&&(ts=!0);xe=Vt.join("")}for(ke=xe.length;ts===void 0&&ke!==0;)xe.charCodeAt(ke-1)>>8&&(ts=!0),ke--;if(!ts)return xe;for(Vt=ve.noBOM?[]:[254,255],ke=0,Ge=xe.length;ke<Ge;ke++){if((Js=(gs=xe.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(Js),Vt.push(gs-(Js<<8))}return String.fromCharCode.apply(void 0,Vt)}(C,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},La=b.__private__.beginPage=function(C){He[++mt]=[],Ze[mt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ai(mt),he(He[P])},Wl=function(C,W){var xe,ve,ke;switch(n=W||n,typeof C=="string"&&(xe=_(C.toLowerCase()),Array.isArray(xe)&&(ve=xe[0],ke=xe[1])),Array.isArray(C)&&(ve=C[0]*be,ke=C[1]*be),isNaN(ve)&&(ve=i[0],ke=i[1]),(ve>14400||ke>14400)&&(Gs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),ke=Math.min(14400,ke)),i=[ve,ke],n.substr(0,1)){case"l":ke>ve&&(i=[ke,ve]);break;case"p":ve>ke&&(i=[ke,ve])}La(i),Xo(kr),oe(ii),dr!==0&&oe(dr+" J"),Ri!==0&&oe(Ri+" j"),rs.publish("addPage",{pageNumber:mt})},Gl=function(C){C>0&&C<=mt&&(He.splice(C,1),Ze.splice(C,1),mt--,P>mt&&(P=mt),this.setPage(P))},ai=function(C){C>0&&C<=mt&&(P=C)},Yl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return He.length-1},Kl=function(C,W,xe){var ve,ke=void 0;return xe=xe||{},C=C!==void 0?C:ut[Ee].fontName,W=W!==void 0?W:ut[Ee].fontStyle,ve=C.toLowerCase(),Tt[ve]!==void 0&&Tt[ve][W]!==void 0?ke=Tt[ve][W]:Tt[C]!==void 0&&Tt[C][W]!==void 0?ke=Tt[C][W]:xe.disableWarning===!1&&Gs.warn("Unable to look up font label for font '"+C+"', '"+W+"'. Refer to getFontList() for available fonts."),ke||xe.noFallback||(ke=Tt.times[W])==null&&(ke=Tt.times.normal),ke},Ql=b.__private__.putInfo=function(){var C=Fs(),W=function(ve){return ve};for(var xe in p!==null&&(W=bs.encryptor(C,0)),oe("<<"),oe("/Producer ("+oa(W("jsPDF "+Ft.version))+")"),lt)lt.hasOwnProperty(xe)&&lt[xe]&&oe("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+oa(W(lt[xe]))+")");oe("/CreationDate ("+oa(W(ie))+")"),oe(">>"),oe("endobj")},$c=b.__private__.putCatalog=function(C){var W=(C=C||{}).rootDictionaryObjId||X;switch(Fs(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+W+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+ft;xe.substr(xe.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+T(ft)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Pe&&oe("/PageMode /"+Pe),rs.publish("putCatalog"),oe(">>"),oe("endobj")},ws=b.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(se+1)),oe("/Root "+se+" 0 R"),oe("/Info "+(se-1)+" 0 R"),p!==null&&oe("/Encrypt "+bs.oid+" 0 R"),oe("/ID [ <"+Z+"> <"+Z+"> ]"),oe(">>")},Vo=b.__private__.putHeader=function(){oe("%PDF-"+N),oe("%")},Vc=b.__private__.putXRef=function(){var C="0000000000";oe("xref"),oe("0 "+(se+1)),oe("0000000000 65535 f ");for(var W=1;W<=se;W++)typeof fe[W]=="function"?oe((C+fe[W]()).slice(-10)+" 00000 n "):fe[W]!==void 0?oe((C+fe[W]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Ia=b.__private__.buildDocument=function(){var C;se=0,Se=0,ye=[],fe=[],Oe=[],X=mn(),$e=mn(),he(ye),rs.publish("buildDocument"),Vo(),va(),function(){rs.publish("putAdditionalObjects");for(var xe=0;xe<Oe.length;xe++){var ve=Oe[xe];an(ve.objId,!0),oe(ve.content),oe("endobj")}rs.publish("postPutAdditionalObjects")}(),C=[],function(){for(var xe in ut)ut.hasOwnProperty(xe)&&(x===!1||x===!0&&w.hasOwnProperty(xe))&&ir(ut[xe])}(),function(){var xe;for(xe in Pt)Pt.hasOwnProperty(xe)&&zc(Pt[xe])}(),function(){for(var xe in Zs)Zs.hasOwnProperty(xe)&&Cn(Zs[xe])}(),function(xe){var ve;for(ve in gt)gt.hasOwnProperty(ve)&&(gt[ve]instanceof Ac?Ea(gt[ve]):gt[ve]instanceof Fd&&$l(gt[ve],xe))}(C),rs.publish("putResources"),C.forEach(Vl),Vl({resourcesOid:$e,objectOid:Number.MAX_SAFE_INTEGER}),rs.publish("postPutResources"),p!==null&&(bs.oid=Fs(),oe("<<"),oe("/Filter /Standard"),oe("/V "+bs.v),oe("/R "+bs.r),oe("/U <"+bs.toHexString(bs.U)+">"),oe("/O <"+bs.toHexString(bs.O)+">"),oe("/P "+bs.P),oe(">>"),oe("endobj")),Ql(),$c();var W=Se;return Vc(),ws(),oe("startxref"),oe(""+W),oe("%%EOF"),he(He[P]),ye.join(`
`)},Ti=b.__private__.getBlob=function(C){return new Blob([at(C)],{type:"application/pdf"})},wa=b.output=b.__private__.output=(Ms=function(C,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",C){case void 0:return Ia();case"save":b.save(W.filename);break;case"arraybuffer":return at(Ia());case"blob":return Ti(Ia());case"bloburi":case"bloburl":if(Zt.URL!==void 0&&typeof Zt.URL.createObjectURL=="function")return Zt.URL&&Zt.URL.createObjectURL(Ti(Ia()))||void 0;Gs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",ve=Ia();try{xe=Y1(ve)}catch{xe=Y1(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+W.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(ke=W.pdfObjectUrl,Ge="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",kt=Zt.open();return kt!==null&&kt.document.write(rt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Vt=Zt.open();if(Vt!==null){Vt.document.write(Mt);var ts=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=W.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ts.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Js=Zt.open();if(Js!==null&&(Js.document.write(gs),Js.document.title=W.filename),Js||typeof safari>"u")return Js;break;case"datauri":case"dataurl":return Zt.document.location.href=this.output("datauristring",W);default:return null}},Ms.foo=function(){try{return Ms.apply(this,arguments)}catch(xe){var C=xe.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var W="Error in function "+C.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Zt.console)throw new Error(W);Zt.console.error(W,xe),Zt.alert&&alert(W)}},Ms.foo.bar=Ms,Ms.foo),cl=function(C){return Array.isArray(Xn)===!0&&Xn.indexOf(C)>-1};switch(a){case"pt":be=1;break;case"mm":be=72/25.4;break;case"cm":be=72/2.54;break;case"in":be=72;break;case"px":be=cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":be=12;break;case"ex":be=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);be=a}var bs=null;ue(),le();var dl=b.__private__.getPageInfo=b.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[C].objId,pageNumber:C,pageContext:Ze[C]}},Wc=b.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Ze)if(Ze[W].objId===C)break;return dl(W)},Wo=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Ze[P].objId,pageNumber:P,pageContext:Ze[P]}};b.addPage=function(){return Wl.apply(this,arguments),this},b.setPage=function(){return ai.apply(this,arguments),he.call(this,He[P]),this},b.insertPage=function(C){return this.addPage(),this.movePage(P,C),this},b.movePage=function(C,W){var xe,ve;if(C>W){xe=He[C],ve=Ze[C];for(var ke=C;ke>W;ke--)He[ke]=He[ke-1],Ze[ke]=Ze[ke-1];He[W]=xe,Ze[W]=ve,this.setPage(W)}else if(C<W){xe=He[C],ve=Ze[C];for(var Ge=C;Ge<W;Ge++)He[Ge]=He[Ge+1],Ze[Ge]=Ze[Ge+1];He[W]=xe,Ze[W]=ve,this.setPage(W)}return this},b.deletePage=function(){return Gl.apply(this,arguments),this},b.__private__.text=b.text=function(C,W,xe,ve,ke){var Ge,rt,kt,Mt,Vt,ts,gs,Js,yn,Ls=(ve=ve||{}).scope||this;if(typeof C=="number"&&typeof W=="number"&&(typeof xe=="string"||Array.isArray(xe))){var vn=xe;xe=W,W=C,C=vn}if(arguments[3]instanceof Rt==0?(kt=arguments[4],Mt=arguments[5],Rs(gs=arguments[3])==="object"&&gs!==null||(typeof kt=="string"&&(Mt=kt,kt=null),typeof gs=="string"&&(Mt=gs,gs=null),typeof gs=="number"&&(kt=gs,gs=null),ve={flags:gs,angle:kt,align:Mt})):(H("The transform parameter of text() with a Matrix value"),yn=ke),isNaN(W)||isNaN(xe)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ls;var wn,Vn="",ci=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:qa,Ii=Ls.internal.scaleFactor;function Zd(Ns){return Ns=Ns.split("	").join(Array(ve.TabLen||9).join(" ")),oa(Ns,gs)}function Kc(Ns){for(var Ds,$s=Ns.concat(),en=[],Ir=$s.length;Ir--;)typeof(Ds=$s.shift())=="string"?en.push(Ds):Array.isArray(Ns)&&(Ds.length===1||Ds[1]===void 0&&Ds[2]===void 0)?en.push(Ds[0]):en.push([Ds[0],Ds[1],Ds[2]]);return en}function pl(Ns,Ds){var $s;if(typeof Ns=="string")$s=Ds(Ns)[0];else if(Array.isArray(Ns)){for(var en,Ir,Va=Ns.concat(),ua=[],gl=Va.length;gl--;)typeof(en=Va.shift())=="string"?ua.push(Ds(en)[0]):Array.isArray(en)&&typeof en[0]=="string"&&(Ir=Ds(en[0],en[1],en[2]),ua.push([Ir[0],Ir[1],Ir[2]]));$s=ua}return $s}var hr=!1,ec=!0;if(typeof C=="string")hr=!0;else if(Array.isArray(C)){var qi=C.concat();rt=[];for(var za,In=qi.length;In--;)(typeof(za=qi.shift())!="string"||Array.isArray(za)&&typeof za[0]!="string")&&(ec=!1);hr=ec}if(hr===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Mr=et/Ls.internal.scaleFactor,Fr=Mr*(ci-1);switch(ve.baseline){case"bottom":xe-=Fr;break;case"top":xe+=Mr-Fr;break;case"hanging":xe+=Mr-2*Fr;break;case"middle":xe+=Mr/2-Fr}if((ts=ve.maxWidth||0)>0&&(typeof C=="string"?C=Ls.splitTextToSize(C,ts):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Ns,Ds){return Ns.concat(Ls.splitTextToSize(Ds,ts))},[]))),Ge={text:C,x:W,y:xe,options:ve,mutex:{pdfEscape:oa,activeFontKey:Ee,fonts:ut,activeFontSize:et}},rs.publish("preProcessText",Ge),C=Ge.text,kt=(ve=Ge.options).angle,yn instanceof Rt==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,ve.rotationDirection===0&&(kt=-kt),R===D&&(kt=-kt);var xl=Math.cos(kt),eo=Math.sin(kt);yn=new Rt(xl,eo,-eo,xl,0,0)}else kt&&kt instanceof Rt&&(yn=kt);R!==D||yn||(yn=xs),(Vt=ve.charSpace||hl)!==void 0&&(Vn+=B($(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Js=ve.horizontalScale)!==void 0&&(Vn+=B(100*Js)+` Tz
`),ve.lang;var ea=-1,di=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,to=Ls.internal.getCurrentPageInfo().pageContext;switch(di){case 0:case!1:case"fill":ea=0;break;case 1:case!0:case"stroke":ea=1;break;case 2:case"fillThenStroke":ea=2;break;case 3:case"invisible":ea=3;break;case 4:case"fillAndAddForClipping":ea=4;break;case 5:case"strokeAndAddPathForClipping":ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ea=6;break;case 7:case"addToPathForClipping":ea=7}var Qc=to.usedRenderingMode!==void 0?to.usedRenderingMode:-1;ea!==-1?Vn+=ea+` Tr
`:Qc!==-1&&(Vn+=`0 Tr
`),ea!==-1&&(to.usedRenderingMode=ea),Mt=ve.align||"left";var kn,Fa=et*ci,so=Ls.internal.pageSize.getWidth(),ui=ut[Ee];Vt=ve.charSpace||hl,ts=ve.maxWidth||0,gs=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ha=[],no=function(Ns){return Ls.getStringUnitWidth(Ns,{font:ui,charSpace:Vt,fontSize:et,doKerning:!1})*et/Ii};if(Object.prototype.toString.call(C)==="[object Array]"){var Wn;rt=Kc(C),Mt!=="left"&&(kn=rt.map(no));var ca,zi=0;if(Mt==="right"){W-=kn[0],C=[],In=rt.length;for(var $a=0;$a<In;$a++)$a===0?(ca=cr(W),Wn=Da(xe)):(ca=$(zi-kn[$a]),Wn=-Fa),C.push([rt[$a],ca,Wn]),zi=kn[$a]}else if(Mt==="center"){W-=kn[0]/2,C=[],In=rt.length;for(var Or=0;Or<In;Or++)Or===0?(ca=cr(W),Wn=Da(xe)):(ca=$((zi-kn[Or])/2),Wn=-Fa),C.push([rt[Or],ca,Wn]),zi=kn[Or]}else if(Mt==="left"){C=[],In=rt.length;for(var ao=0;ao<In;ao++)C.push(rt[ao])}else if(Mt==="justify"&&ui.encoding==="Identity-H"){C=[],In=rt.length,ts=ts!==0?ts:so;for(var hi=0,rn=0;rn<In;rn++)if(Wn=rn===0?Da(xe):-Fa,ca=rn===0?cr(W):hi,rn<In-1){var Jd=$((ts-kn[rn])/(rt[rn].split(" ").length-1)),Tr=rt[rn].split(" ");C.push([Tr[0]+" ",ca,Wn]),hi=0;for(var Pr=1;Pr<Tr.length;Pr++){var ro=(no(Tr[Pr-1]+" "+Tr[Pr])-no(Tr[Pr]))*Ii+Jd;Pr==Tr.length-1?C.push([Tr[Pr],ro,0]):C.push([Tr[Pr]+" ",ro,0]),hi-=ro}}else C.push([rt[rn],ca,Wn]);C.push(["",hi,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],In=rt.length,ts=ts!==0?ts:so,rn=0;rn<In;rn++)Wn=rn===0?Da(xe):-Fa,ca=rn===0?cr(W):0,rn<In-1?Ha.push(B($((ts-kn[rn])/(rt[rn].split(" ").length-1)))):Ha.push(0),C.push([rt[rn],ca,Wn])}}(typeof ve.R2L=="boolean"?ve.R2L:yt)===!0&&(C=pl(C,function(Ns,Ds,$s){return[Ns.split("").reverse().join(""),Ds,$s]})),Ge={text:C,x:W,y:xe,options:ve,mutex:{pdfEscape:oa,activeFontKey:Ee,fonts:ut,activeFontSize:et}},rs.publish("postProcessText",Ge),C=Ge.text,wn=Ge.mutex.isHex||!1;var tc=ut[Ee].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(C=pl(C,function(Ns,Ds,$s){return[Zd(Ns),Ds,$s]})),rt=Kc(C),C=[];for(var qn,Br,Hi,$i=Array.isArray(rt[0])?1:0,Rr="",io=function(Ns,Ds,$s){var en="";return $s instanceof Rt?($s=typeof ve.angle=="number"?Sn($s,new Rt(1,0,0,1,Ns,Ds)):Sn(new Rt(1,0,0,1,Ns,Ds),$s),R===D&&($s=Sn(new Rt(1,0,0,-1,0,0),$s)),en=$s.join(" ")+` Tm
`):en=B(Ns)+" "+B(Ds)+` Td
`,en},da=0;da<rt.length;da++){switch(Rr="",$i){case 1:Hi=(wn?"<":"(")+rt[da][0]+(wn?">":")"),qn=parseFloat(rt[da][1]),Br=parseFloat(rt[da][2]);break;case 0:Hi=(wn?"<":"(")+rt[da]+(wn?">":")"),qn=cr(W),Br=Da(xe)}Ha!==void 0&&Ha[da]!==void 0&&(Rr=Ha[da]+` Tw
`),da===0?C.push(Rr+io(qn,Br,yn)+Hi):$i===0?C.push(Rr+Hi):$i===1&&C.push(Rr+io(qn,Br,yn)+Hi)}C=$i===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Ur=`BT
/`;return Ur+=Ee+" "+et+` Tf
`,Ur+=B(et*ci)+` TL
`,Ur+=Er+`
`,Ur+=Vn,Ur+=C,oe(Ur+="ET"),w[Ee]=!0,Ls};var Pi=b.__private__.clip=b.clip=function(C){return oe(C==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Pi("evenodd")},b.__private__.discardPath=b.discardPath=function(){return oe("n"),this};var lr=b.__private__.isValidStyle=function(C){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(W=!0),W};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(C){return lr(C)&&(f=C),this};var Go=b.__private__.getStyle=b.getStyle=function(C){var W=f;switch(C){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=C}return W},ri=b.close=function(){return oe("h"),this};b.stroke=function(){return oe("S"),this},b.fill=function(C){return Bi("f",C),this},b.fillEvenOdd=function(C){return Bi("f*",C),this},b.fillStroke=function(C){return Bi("B",C),this},b.fillStrokeEvenOdd=function(C){return Bi("B*",C),this};var Bi=function(C,W){Rs(W)==="object"?Yo(W,C):oe(C)},Xl=function(C){C===null||R===D&&C===void 0||(C=Go(C),oe(C))};function Gc(C,W,xe,ve,ke){var Ge=new Fd(W||this.boundingBox,xe||this.xStep,ve||this.yStep,this.gState,ke||this.matrix);Ge.stream=this.stream;var rt=C+"$$"+this.cloneIndex+++"$$";return vt(rt,Ge),Ge}var Yo=function(C,W){var xe=Kt[C.key],ve=gt[xe];if(ve instanceof Ac)oe("q"),oe(Xd(W)),ve.gState&&b.setGState(ve.gState),oe(C.matrix.toString()+" cm"),oe("/"+xe+" sh"),oe("Q");else if(ve instanceof Fd){var ke=new Rt(1,0,0,-1,0,Ma());C.matrix&&(ke=ke.multiply(C.matrix||xs),xe=Gc.call(ve,C.key,C.boundingBox,C.xStep,C.yStep,ke).id),oe("q"),oe("/Pattern cs"),oe("/"+xe+" scn"),ve.gState&&b.setGState(ve.gState),oe(W),oe("Q")}},Xd=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=b.moveTo=function(C,W){return oe(B($(C))+" "+B(G(W))+" m"),this},Sr=b.lineTo=function(C,W){return oe(B($(C))+" "+B(G(W))+" l"),this},Cr=b.curveTo=function(C,W,xe,ve,ke,Ge){return oe([B($(C)),B(G(W)),B($(xe)),B(G(ve)),B($(ke)),B(G(Ge)),"c"].join(" ")),this};b.__private__.line=b.line=function(C,W,xe,ve,ke){if(isNaN(C)||isNaN(W)||isNaN(xe)||isNaN(ve)||!lr(ke))throw new Error("Invalid arguments passed to jsPDF.line");return R===E?this.lines([[xe-C,ve-W]],C,W,[1,1],ke||"S"):this.lines([[xe-C,ve-W]],C,W,[1,1]).stroke()},b.__private__.lines=b.lines=function(C,W,xe,ve,ke,Ge){var rt,kt,Mt,Vt,ts,gs,Js,yn,Ls,vn,wn,Vn;if(typeof C=="number"&&(Vn=xe,xe=W,W=C,C=Vn),ve=ve||[1,1],Ge=Ge||!1,isNaN(W)||isNaN(xe)||!Array.isArray(C)||!Array.isArray(ve)||!lr(ke)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(W,xe),rt=ve[0],kt=ve[1],Vt=C.length,vn=W,wn=xe,Mt=0;Mt<Vt;Mt++)(ts=C[Mt]).length===2?(vn=ts[0]*rt+vn,wn=ts[1]*kt+wn,Sr(vn,wn)):(gs=ts[0]*rt+vn,Js=ts[1]*kt+wn,yn=ts[2]*rt+vn,Ls=ts[3]*kt+wn,vn=ts[4]*rt+vn,wn=ts[5]*kt+wn,Cr(gs,Js,yn,Ls,vn,wn));return Ge&&ri(),Xl(ke),this},b.path=function(C){for(var W=0;W<C.length;W++){var xe=C[W],ve=xe.c;switch(xe.op){case"m":Ko(ve[0],ve[1]);break;case"l":Sr(ve[0],ve[1]);break;case"c":Cr.apply(this,ve);break;case"h":ri()}}return this},b.__private__.rect=b.rect=function(C,W,xe,ve,ke){if(isNaN(C)||isNaN(W)||isNaN(xe)||isNaN(ve)||!lr(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return R===E&&(ve=-ve),oe([B($(C)),B(G(W)),B($(xe)),B($(ve)),"re"].join(" ")),Xl(ke),this},b.__private__.triangle=b.triangle=function(C,W,xe,ve,ke,Ge,rt){if(isNaN(C)||isNaN(W)||isNaN(xe)||isNaN(ve)||isNaN(ke)||isNaN(Ge)||!lr(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-C,ve-W],[ke-xe,Ge-ve],[C-ke,W-Ge]],C,W,[1,1],rt,!0),this},b.__private__.roundedRect=b.roundedRect=function(C,W,xe,ve,ke,Ge,rt){if(isNaN(C)||isNaN(W)||isNaN(xe)||isNaN(ve)||isNaN(ke)||isNaN(Ge)||!lr(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*xe),Ge=Math.min(Ge,.5*ve),this.lines([[xe-2*ke,0],[ke*kt,0,ke,Ge-Ge*kt,ke,Ge],[0,ve-2*Ge],[0,Ge*kt,-ke*kt,Ge,-ke,Ge],[2*ke-xe,0],[-ke*kt,0,-ke,-Ge*kt,-ke,-Ge],[0,2*Ge-ve],[0,-Ge*kt,ke*kt,-Ge,ke,-Ge]],C+ke,W,[1,1],rt,!0),this},b.__private__.ellipse=b.ellipse=function(C,W,xe,ve,ke){if(isNaN(C)||isNaN(W)||isNaN(xe)||isNaN(ve)||!lr(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*xe,rt=4/3*(Math.SQRT2-1)*ve;return Ko(C+xe,W),Cr(C+xe,W-rt,C+Ge,W-ve,C,W-ve),Cr(C-Ge,W-ve,C-xe,W-rt,C-xe,W),Cr(C-xe,W+rt,C-Ge,W+ve,C,W+ve),Cr(C+Ge,W+ve,C+xe,W+rt,C+xe,W),Xl(ke),this},b.__private__.circle=b.circle=function(C,W,xe,ve){if(isNaN(C)||isNaN(W)||isNaN(xe)||!lr(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,W,xe,xe,ve)},b.setFont=function(C,W,xe){return xe&&(W=K(W,xe)),Ee=Kl(C,W,{disableWarning:!1}),this};var Qo=b.__private__.getFont=b.getFont=function(){return ut[Kl.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var C,W,xe={};for(C in Tt)if(Tt.hasOwnProperty(C))for(W in xe[C]=[],Tt[C])Tt[C].hasOwnProperty(W)&&xe[C].push(W);return xe},b.addFont=function(C,W,xe,ve,ke){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(xe=K(xe,ve)),ol.call(this,C,W,xe,ke=ke||"Identity-H")};var qa,kr=t.lineWidth||.200025,Wt=b.__private__.getLineWidth=b.getLineWidth=function(){return kr},Xo=b.__private__.setLineWidth=b.setLineWidth=function(C){return kr=C,oe(B($(C))+" w"),this};b.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(C,W){if(C=C||[],W=W||0,isNaN(W)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(xe){return B($(xe))}).join(" "),W=B($(W)),oe("["+C+"] "+W+" d"),this};var Yc=b.__private__.getLineHeight=b.getLineHeight=function(){return et*qa};b.__private__.getLineHeight=b.getLineHeight=function(){return et*qa};var ul=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(qa=C),this},or=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return qa};ul(t.lineHeight);var cr=b.__private__.getHorizontalCoordinate=function(C){return $(C)},Da=b.__private__.getVerticalCoordinate=function(C){return R===D?C:Ze[P].mediaBox.topRightY-Ze[P].mediaBox.bottomLeftY-$(C)},Ar=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(C){return B(cr(C))},Zo=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(C){return B(Da(C))},ii=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return wt(ii)},b.__private__.setStrokeColor=b.setDrawColor=function(C,W,xe,ve){return ii=ns({ch1:C,ch2:W,ch3:xe,ch4:ve,pdfColorType:"draw",precision:2}),oe(ii),this};var Zl=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return wt(Zl)},b.__private__.setFillColor=b.setFillColor=function(C,W,xe,ve){return Zl=ns({ch1:C,ch2:W,ch3:xe,ch4:ve,pdfColorType:"fill",precision:2}),oe(Zl),this};var Er=t.textColor||"0 g",li=b.__private__.getTextColor=b.getTextColor=function(){return wt(Er)};b.__private__.setTextColor=b.setTextColor=function(C,W,xe,ve){return Er=ns({ch1:C,ch2:W,ch3:xe,ch4:ve,pdfColorType:"text",precision:3}),this};var hl=t.charSpace,Jn=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(hl||0)};b.__private__.setCharSpace=b.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hl=C,this};var dr=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(C){var W=b.CapJoinStyles[C];if(W===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dr=W,oe(W+" J"),this};var Ri=0;b.__private__.setLineJoin=b.setLineJoin=function(C){var W=b.CapJoinStyles[C];if(W===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=W,oe(W+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(B($(C))+" M"),this},b.GState=Lm,b.setGState=function(C){(C=typeof C=="string"?Pt[ks[C]]:ur(null,C)).equals(tt)||(oe("/"+C.id+" gs"),tt=C)};var ur=function(C,W){if(!C||!ks[C]){var xe=!1;for(var ve in Pt)if(Pt.hasOwnProperty(ve)&&Pt[ve].equals(W)){xe=!0;break}if(xe)W=Pt[ve];else{var ke="GS"+(Object.keys(Pt).length+1).toString(10);Pt[ke]=W,W.id=ke}return C&&(ks[C]=W.id),rs.publish("addGState",W),W}};b.addGState=function(C,W){return ur(C,W),this},b.saveGraphicsState=function(){return oe("q"),os.push({key:Ee,size:et,color:Er}),this},b.restoreGraphicsState=function(){oe("Q");var C=os.pop();return Ee=C.key,et=C.size,Er=C.color,tt=null,this},b.setCurrentTransformationMatrix=function(C){return oe(C.toString()+" cm"),this},b.comment=function(C){return oe("#"+C),this};var fl=function(C,W){var xe=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Ge){isNaN(Ge)||(xe=parseFloat(Ge))}});var ve=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Ge){ke=Ge.toString()}}),this},ml=function(C,W,xe,ve){fl.call(this,C,W),this.type="rect";var ke=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(rt){isNaN(rt)||(ke=parseFloat(rt))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(rt){isNaN(rt)||(Ge=parseFloat(rt))}}),this},Ui=function(){this.page=mt,this.currentPage=P,this.pages=He.slice(0),this.pagesContext=Ze.slice(0),this.x=Ue,this.y=St,this.matrix=Bt,this.width=Jl(P),this.height=Ma(P),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Ui.prototype.restore=function(){mt=this.page,P=this.currentPage,Ze=this.pagesContext,He=this.pages,Ue=this.x,St=this.y,Bt=this.matrix,Jo(P,this.width),Dr(P,this.height),Ke=this.outputDestination};var oi=function(C,W,xe,ve,ke){Aa.push(new Ui),mt=P=0,He=[],Ue=C,St=W,Bt=ke,La([xe,ve])};for(var Lr in b.beginFormObject=function(C,W,xe,ve,ke){return oi(C,W,xe,ve,ke),this},b.endFormObject=function(C){return function(W){if(Zn[W])Aa.pop().restore();else{var xe=new Ui,ve="Xo"+(Object.keys(Zs).length+1).toString(10);xe.id=ve,Zn[W]=ve,Zs[ve]=xe,rs.publish("addFormObject",xe),Aa.pop().restore()}}(C),this},b.doFormObject=function(C,W){var xe=Zs[Zn[C]];return oe("q"),oe(W.toString()+" cm"),oe("/"+xe.id+" Do"),oe("Q"),this},b.getFormObject=function(C){var W=Zs[Zn[C]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},b.save=function(C,W){return C=C||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(kc(Ti(Ia()),C),typeof kc.unload=="function"&&Zt.setTimeout&&setTimeout(kc.unload,911),this):new Promise(function(xe,ve){try{var ke=kc(Ti(Ia()),C);typeof kc.unload=="function"&&Zt.setTimeout&&setTimeout(kc.unload,911),xe(ke)}catch(Ge){ve(Ge.message)}})},Ft.API)Ft.API.hasOwnProperty(Lr)&&(Lr==="events"&&Ft.API.events.length?function(C,W){var xe,ve,ke;for(ke=W.length-1;ke!==-1;ke--)xe=W[ke][0],ve=W[ke][1],C.subscribe.apply(C,[xe].concat(typeof ve=="function"?[ve]:ve))}(rs,Ft.API.events):b[Lr]=Ft.API[Lr]);var Jl=b.getPageWidth=function(C){return(Ze[C=C||P].mediaBox.topRightX-Ze[C].mediaBox.bottomLeftX)/be},Jo=b.setPageWidth=function(C,W){Ze[C].mediaBox.topRightX=W*be+Ze[C].mediaBox.bottomLeftX},Ma=b.getPageHeight=function(C){return(Ze[C=C||P].mediaBox.topRightY-Ze[C].mediaBox.bottomLeftY)/be},Dr=b.setPageHeight=function(C,W){Ze[C].mediaBox.topRightY=W*be+Ze[C].mediaBox.bottomLeftY};return b.internal={pdfEscape:oa,getStyle:Go,getFont:Qo,getFontSize:ot,getCharSpace:Jn,getTextColor:li,getLineHeight:Yc,getLineHeightFactor:or,getLineWidth:Wt,write:Nt,getHorizontalCoordinate:cr,getVerticalCoordinate:Da,getCoordinateString:Ar,getVerticalCoordinateString:Zo,collections:{},newObject:Fs,newAdditionalObject:$n,newObjectDeferred:mn,newObjectDeferredBegin:an,getFilters:qt,putStream:Hs,events:rs,scaleFactor:be,pageSize:{getWidth:function(){return Jl(P)},setWidth:function(C){Jo(P,C)},getHeight:function(){return Ma(P)},setHeight:function(C){Dr(P,C)}},encryptionOptions:p,encryption:bs,getEncryptor:function(C){return p!==null?bs.encryptor(C,0):function(W){return W}},output:wa,getNumberOfPages:Yl,pages:He,out:oe,f2:T,f3:F,getPageInfo:dl,getPageInfoByObjId:Wc,getCurrentPageInfo:Wo,getPDFVersion:S,Point:fl,Rectangle:ml,Matrix:Rt,hasHotfix:cl},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Jl(P)},set:function(C){Jo(P,C)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ma(P)},set:function(C){Dr(P,C)},enumerable:!0,configurable:!0}),(function(C){for(var W=0,xe=bt.length;W<xe;W++){var ve=ol.call(this,C[W][0],C[W][1],C[W][2],bt[W][3],!0);x===!1&&(w[ve]=!0);var ke=C[W][0].split("-");Hc({id:ve,fontName:ke[0],fontStyle:ke[1]||""})}rs.publish("addFonts",{fonts:ut,dictionary:Tt})}).call(b,bt),Ee="F1",Wl(i,n),rs.publish("initialized"),b}Ld.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ld.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ld.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ld.prototype.processOwnerPassword=function(t,e){return jx(Nx(e).substr(0,5),t)},Ld.prototype.encryptor=function(t,e){var n=Nx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return jx(n,a)}},Lm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Rs(t)!==Rs(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},Ft.API={events:[]},Ft.version="3.0.2";var _n=Ft.API,ag=1,qc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ad=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ss=function(t){return t.toFixed(2)},Oo=function(t){return t.toFixed(5)};_n.__acroform__={};var rr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Z1=function(t){return t*ag},al=function(t){var e=new Zw,n=Lt.internal.getHeight(t)||0,a=Lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ss(a)),Number(ss(n))],e},Z7=_n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},J7=_n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eE=_n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Tn=_n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eE(t,e-1)},Pn=_n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Z7(t,e-1)},Bn=_n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J7(t,e-1)},tE=_n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,i=t[0],l=t[1],c=t[2],d=t[3],h={};return h.lowerLeft_X=n(i)||0,h.lowerLeft_Y=a(l+d)||0,h.upperRight_X=n(i+c)||0,h.upperRight_Y=a(l)||0,[Number(ss(h.lowerLeft_X)),Number(ss(h.lowerLeft_Y)),Number(ss(h.upperRight_X)),Number(ss(h.upperRight_Y))]},sE=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,a=_x(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ss(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=al(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},_x=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var l=n,c=Lt.internal.getHeight(t)||0;c=c<0?-c:c;var d=Lt.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(T,F,$){if(T+1<i.length){var G=F+" "+i[T+1][0];return Zf(G,t,$).width<=d-4}return!1};l++;e:for(;l>0;){e="",l--;var f,p,x=Zf("3",t,l).height,w=t.multiline?c-l:(c-x)/2,b=w+=2,N=0,S=0,k=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zf(e,t,l=12).width+", FieldWidth:"+d+`
`;break}for(var _="",E=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var R=!1;if(i[D].length!==1&&k!==i[D].length-1){if((x+2)*(E+2)+2>c)continue e;_+=i[D][k],R=!0,S=D,D--}else{_=(_+=i[D][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var I=parseInt(D),ne=h(I,_,l),K=D>=i.length-1;if(ne&&!K){_+=" ",k=0;continue}if(ne||K){if(K)S=I;else if(t.multiline&&(x+2)*(E+2)+2>c)continue e}else{if(!t.multiline||(x+2)*(E+2)+2>c)continue e;S=I}}for(var B="",H=N;H<=S;H++){var ee=i[H];if(t.multiline){if(H===S){B+=ee[k]+" ",k=(k+1)%ee.length;continue}if(H===N){B+=ee[ee.length-1]+" ";continue}}B+=ee[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=Zf(B,t,l).width,t.textAlign){case"right":f=d-p-2;break;case"center":f=(d-p)/2;break;default:f=2}e+=ss(f)+" "+ss(b)+` Td
`,e+="("+qc(B)+`) Tj
`,e+=-ss(f)+` 0 Td
`,b=-(l+2),p=0,N=R?S:S+1,E++,_=""}break}return a.text=e,a.fontSize=l,a},Zf=function(t,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},nE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aE=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rE=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(nE)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ag=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Jw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];l.objId=void 0,l.hasAnnotation&&aE(l,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,i){var l=!a;for(var c in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var d=a[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=tE(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Lt.createDefaultAppearanceStream(d),Rs(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=sE(d);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var x="";for(var w in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(w)){var b=d.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var N=b[c];typeof N=="function"&&(N=N.call(i,d)),x+="/"+c+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=b)=="function"&&(N=N.call(i,d)),x+="/"+c+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:d.objId}),i.internal.out("endobj")}l&&function(S,k){for(var _ in S)if(S.hasOwnProperty(_)){var E=_,D=S[_];k.internal.newObjectDeferredBegin(D.objId,!0),Rs(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete S[E]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Xw=_n.__acroform__.arrayToPdfArray=function(t,e,n){var a=function(c){return c};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),Rs(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),i+="("+qc(a(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ip=function(t,e,n){var a=function(i){return i};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+qc(a(t))+")"},il=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};il.prototype.toString=function(){return this.objId+" 0 R"},il.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},il.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:Xw(i,this.objId,this.scope)}):i instanceof il?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var Zw=function(){il.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};rr(Zw,il);var Jw=function(){il.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+qc(n(t))+")"}},set:function(n){t=n}})};rr(Jw,il);var Fi=function t(){il.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(e,3)},set:function(_){_?this.F=Pn(e,3):this.F=Bn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(_){a=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(_){a[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(_){a[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(_){a[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(_){a[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Dm)return;l="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+qc(_(l))+")"},set:function(_){l=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(_){l=_}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ag:f},set:function(_){f=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Dm||this instanceof Fc))return Ip(x,this.objId,this.scope)},set:function(_){_=_.toString(),x=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ia==0?Ip(w,this.objId,this.scope):w},set:function(_){_=_.toString(),w=this instanceof ia==0?_.substr(0,1)==="("?Ad(_.substr(1,_.length-2)):Ad(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Ad(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof ia==1?"/"+_:_}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ia==0?Ip(b,this.objId,this.scope):b},set:function(_){_=_.toString(),b=this instanceof ia==0?_.substr(0,1)==="("?Ad(_.substr(1,_.length-2)):Ad(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Ad(b.substr(1,b.length-1)):b},set:function(_){_=_.toString(),b=this instanceof ia==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(_){N=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(_){_?this.Ff=Pn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(_){_?this.Ff=Pn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(_){_?this.Ff=Pn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};rr(Fi,il);var Pd=function(){Fi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xw(e,this.objId,this.scope)},set:function(n){var a,i;i=[],typeof(a=n)=="string"&&(i=function(l,c,d){d||(d=1);for(var h,f=[];h=c.exec(l);)f.push(h[d]);return f}(a,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(n){n?this.Ff=Pn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(n){n?(this.Ff=Pn(this.Ff,20),e.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(n){n?this.Ff=Pn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(n){n?this.Ff=Pn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(n){n?this.Ff=Pn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};rr(Pd,Fi);var Bd=function(){Pd.call(this),this.fontName="helvetica",this.combo=!1};rr(Bd,Pd);var Rd=function(){Bd.call(this),this.combo=!0};rr(Rd,Bd);var um=function(){Rd.call(this),this.edit=!0};rr(um,Rd);var ia=function(){Fi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(n){n?this.Ff=Pn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(n){n?this.Ff=Pn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(n){n?this.Ff=Pn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(n){n?this.Ff=Pn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,i=[];for(a in i.push("<<"),e)i.push("/"+a+" ("+qc(n(e[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Rs(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};rr(ia,Fi);var hm=function(){ia.call(this),this.pushButton=!0};rr(hm,ia);var Ud=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};rr(Ud,ia);var Dm=function(){var t,e;Fi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),a)c.push("/"+l+" ("+qc(i(a[l]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Rs(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rr(Dm,Fi),Ud.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ud.prototype.createOption=function(t){var e=new Dm;return e.Parent=this,e.optionName=t,this.Kids.push(e),iE.call(this.scope,e),e};var fm=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};rr(fm,ia);var Fc=function(){Fi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(e){e?this.Ff=Pn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(e){e?this.Ff=Pn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Pn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(e){e?this.Ff=Pn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(e){e?this.Ff=Pn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Pn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rr(Fc,Fi);var mm=function(){Fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(t){t?this.Ff=Pn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};rr(mm,Fc);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=_x(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ss(Lt.internal.getWidth(t))+" "+ss(Lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+ss(l.fontSize)+" Tf "+i),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],l=Lt.internal.getHeight(t),c=Lt.internal.getWidth(t),d=_x(t,t.caption);return i.push("1 g"),i.push("0 0 "+ss(c)+" "+ss(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ss(c-1)+" "+ss(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ss(d.fontSize)+" Tf "+a),i.push(d.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ss(Lt.internal.getWidth(t))+" "+ss(Lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Circle.YesNormal,e.D[t]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=[],a=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Lt.internal.Bezier_C,l=Number((a*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Oo(Lt.internal.getWidth(t)/2)+" "+Oo(Lt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],a=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*Lt.internal.Bezier_C).toFixed(5)),c=Number((a*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oo(Lt.internal.getWidth(t)/2)+" "+Oo(Lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Oo(Lt.internal.getWidth(t)/2)+" "+Oo(Lt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],a=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oo(Lt.internal.getWidth(t)/2)+" "+Oo(Lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Cross.YesNormal,e.D[t]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=[],a=Lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ss(Lt.internal.getWidth(t)-2)+" "+ss(Lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ss(a.x1.x)+" "+ss(a.x1.y)+" m"),n.push(ss(a.x2.x)+" "+ss(a.x2.y)+" l"),n.push(ss(a.x4.x)+" "+ss(a.x4.y)+" m"),n.push(ss(a.x3.x)+" "+ss(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=Lt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+ss(Lt.internal.getWidth(t))+" "+ss(Lt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+ss(Lt.internal.getWidth(t)-2)+" "+ss(Lt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(ss(n.x1.x)+" "+ss(n.x1.y)+" m"),a.push(ss(n.x2.x)+" "+ss(n.x2.y)+" l"),a.push(ss(n.x4.x)+" "+ss(n.x4.y)+" m"),a.push(ss(n.x3.x)+" "+ss(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ss(Lt.internal.getWidth(t))+" "+ss(Lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Lt.internal.getWidth(t),n=Lt.internal.getHeight(t),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},Lt.internal.getWidth=function(t){var e=0;return Rs(t)==="object"&&(e=Z1(t.Rect[2])),e},Lt.internal.getHeight=function(t){var e=0;return Rs(t)==="object"&&(e=Z1(t.Rect[3])),e};var iE=_n.addField=function(t){if(rE(this,t),!(t instanceof Fi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=Pd,_n.AcroFormListBox=Bd,_n.AcroFormComboBox=Rd,_n.AcroFormEditBox=um,_n.AcroFormButton=ia,_n.AcroFormPushButton=hm,_n.AcroFormRadioButton=Ud,_n.AcroFormCheckBox=fm,_n.AcroFormTextField=Fc,_n.AcroFormPasswordField=mm,_n.AcroFormAppearance=Lt,_n.AcroForm={ChoiceField:Pd,ListBox:Bd,ComboBox:Rd,EditBox:um,Button:ia,PushButton:hm,RadioButton:Ud,CheckBox:fm,TextField:Fc,PasswordField:mm,Appearance:Lt},Ft.AcroForm={ChoiceField:Pd,ListBox:Bd,ComboBox:Rd,EditBox:um,Button:ia,PushButton:hm,RadioButton:Ud,CheckBox:fm,TextField:Fc,PasswordField:mm,Appearance:Lt};Ft.AcroForm;function eN(t){return t.reduce(function(e,n,a){return e[n]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,F){var $,G,ie,Z,re,le=n;if((F=F||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(ne(T))for(re in a)for(ie=a[re],$=0;$<ie.length;$+=1){for(Z=!0,G=0;G<ie[$].length;G+=1)if(ie[$][G]!==void 0&&ie[$][G]!==T[G]){Z=!1;break}if(Z===!0){le=re;break}}else for(re in a)for(ie=a[re],$=0;$<ie.length;$+=1){for(Z=!0,G=0;G<ie[$].length;G+=1)if(ie[$][G]!==void 0&&ie[$][G]!==T.charCodeAt(G)){Z=!1;break}if(Z===!0){le=re;break}}return le===n&&F!==n&&(le=F),le},l=function T(F){for(var $=this.internal.write,G=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:F.width}),Z.push({key:"Height",value:F.height}),F.colorSpace===_.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===_.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var re="",le=0,de=F.transparency.length;le<de;le++)re+=F.transparency[le]+" "+F.transparency[le]+" ";Z.push({key:"Mask",value:"["+re+"]"})}F.sMask!==void 0&&Z.push({key:"SMask",value:F.objectId+1+" 0 R"});var Y=F.filter!==void 0?["/"+F.filter]:void 0;if(G({data:F.data,additionalKeyValues:Z,alreadyAppliedFilters:Y,objectId:F.objectId}),$("endobj"),"sMask"in F&&F.sMask!==void 0){var ue=(F.predictor!=null?"/Predictor "+F.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+F.width,O={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:ue,data:F.sMask};"filter"in F&&(O.filter=F.filter),T.call(this,O)}if(F.colorSpace===_.INDEXED){var P=this.internal.newObject();G({data:B(new Uint8Array(F.palette)),objectId:P}),$("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var F in T)l.call(this,T[F])},d=function(){var T,F=this.internal.collections[e+"images"],$=this.internal.write;for(var G in F)$("/I"+(T=F[G]).index,T.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var T=this.internal.collections[e+"images"];return h.call(this),T},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(T){return typeof t["process"+T.toUpperCase()]=="function"},w=function(T){return Rs(T)==="object"&&T.nodeType===1},b=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var $=""+T.getAttribute("src");if($.indexOf("data:image/")===0)return dm(unescape($).split("base64,").pop());var G=t.loadFile($,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ie;switch(F){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return dm(T.toDataURL(ie,1).split("base64,").pop())}},N=function(T){var F=this.internal.collections[e+"images"];if(F){for(var $ in F)if(T===F[$].alias)return F[$]}},S=function(T,F,$){return T||F||(T=-96,F=-96),T<0&&(T=-1*$.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*$.height*72/F/this.internal.scaleFactor),T===0&&(T=F*$.width/$.height),F===0&&(F=T*$.height/$.width),[T,F]},k=function(T,F,$,G,ie,Z){var re=S.call(this,$,G,ie),le=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Y=f.call(this);if($=re[0],G=re[1],Y[ie.index]=ie,Z){Z*=Math.PI/180;var ue=Math.cos(Z),O=Math.sin(Z),P=function(q){return q.toFixed(4)},z=[P(ue),P(O),P(-1*O),P(ue),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,le(T),de(F+G),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([le($),"0","0",le(G),"0","0","cm"].join(" "))):this.internal.write([le($),"0","0",le(G),le(T),de(F+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(T){var F,$,G=0;if(typeof T=="string")for($=T.length,F=0;F<$;F++)G=(G<<5)-G+T.charCodeAt(F),G|=0;else if(ne(T))for($=T.byteLength/2,F=0;F<$;F++)G=(G<<5)-G+T[F],G|=0;return G},R=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},I=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},K=t.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,$=new Uint8Array(F),G=0;G<F;G++)$[G]=T.charCodeAt(G);return $},B=t.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",$=ne(T)?T:new Uint8Array(T),G=0;G<$.length;G+=8192)F+=String.fromCharCode.apply(null,$.subarray(G,G+8192));return F};t.addImage=function(){var T,F,$,G,ie,Z,re,le,de;if(typeof arguments[1]=="number"?(F=n,$=arguments[1],G=arguments[2],ie=arguments[3],Z=arguments[4],re=arguments[5],le=arguments[6],de=arguments[7]):(F=arguments[1],$=arguments[2],G=arguments[3],ie=arguments[4],Z=arguments[5],re=arguments[6],le=arguments[7],de=arguments[8]),Rs(T=arguments[0])==="object"&&!w(T)&&"imageData"in T){var Y=T;T=Y.imageData,F=Y.format||F||n,$=Y.x||$||0,G=Y.y||G||0,ie=Y.w||Y.width||ie,Z=Y.h||Y.height||Z,re=Y.alias||re,le=Y.compression||le,de=Y.rotation||Y.angle||de}var ue=this.internal.getFilters();if(le===void 0&&ue.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN($)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var O=H.call(this,T,F,re,le);return k.call(this,$,G,ie,Z,O,de),this};var H=function(T,F,$,G){var ie,Z,re;if(typeof T=="string"&&i(T)===n){T=unescape(T);var le=ee(T,!1);(le!==""||(le=t.loadFile(T,!0))!==void 0)&&(T=le)}if(w(T)&&(T=b(T,F)),F=i(T,F),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((re=$)==null||re.length===0)&&($=function(de){return typeof de=="string"||ne(de)?D(de):ne(de.data)?D(de.data):null}(T)),(ie=N.call(this,$))||(T instanceof Uint8Array||F==="RGBA"||(Z=T,T=K(T)),ie=this["process"+F.toUpperCase()](T,p.call(this),$,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:E.NONE}(G),Z)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},ee=t.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var $,G="";if(typeof T=="string"){var ie;$=(ie=I(T))!==null&&ie!==void 0?ie:T;try{G=dm($)}catch(Z){if(F)throw R($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(T){var F,$,G="";if(w(T)&&(T=b(T)),typeof T=="string"&&i(T)===n&&((G=ee(T,!1))===""&&(G=t.loadFile(T)||""),T=G),$=i(T),!x($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(T instanceof Uint8Array||(T=K(T)),!(F=this["process"+$.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=$,F}})(Ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,i,l,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,x=0;x<f.length&&!p;x++)switch((a=f[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){a=f[w];var b=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),E=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+b(_(a.contents))+")",l+=" /Popup "+k.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+b(_(E))+") >>",S.content=l;var D=S.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+D,a.open&&(l+=" /Open true"),l+=" >>",k.content=l,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var R=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(N(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var I=this.annotations._nameMap[a.options.name];a.options.pageNumber=I.page,a.options.top=I.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(N(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ne=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ne+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,i,l,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(n),y:f(a),w:h(n+i),h:f(a+l)},options:c,type:"link"})},t.textWithLink=function(n,a,i,l){var c,d,h=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){d=l.maxWidth;var p=this.splitTextToSize(n,d).length;c=Math.ceil(f*p)}else d=h,c=f;return this.text(n,a,i,l),i+=.2*f,l.align==="center"&&(a-=h/2),l.align==="right"&&(a-=h),this.link(a,i-f,d,c,l),h},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}}(Ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},d=t.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(S){var k=0,_=n,E="",D=0;for(k=0;k<S.length;k+=1)_[S.charCodeAt(k)]!==void 0?(D++,typeof(_=_[S.charCodeAt(k)])=="number"&&(E+=String.fromCharCode(_),_=n,D=0),k===S.length-1&&(_=n,E+=S.charAt(k-(D-1)),k-=D-1,D=0)):(_=n,E+=S.charAt(k-D),k-=D,D=0);return E};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&a[S.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(S,k,_){return c(S)?l(S)===!1?-1:!f(S)||!c(k)&&!c(_)||!c(_)&&d(k)||d(S)&&!c(k)||d(S)&&h(k)||d(S)&&d(k)?0:p(S)&&c(k)&&!d(k)&&c(_)&&f(_)?3:d(S)||!c(_)?1:2:-1},b=function(S){var k=0,_=0,E=0,D="",R="",I="",ne=(S=S||"").split("\\s+"),K=[];for(k=0;k<ne.length;k+=1){for(K.push(""),_=0;_<ne[k].length;_+=1)D=ne[k][_],R=ne[k][_-1],I=ne[k][_+1],c(D)?(E=w(D,R,I),K[k]+=E!==-1?String.fromCharCode(e[D.charCodeAt(0)][E]):D):K[k]+=D;K[k]=x(K[k])}return K.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var E=0;for(_=[],E=0;E<k.length;E+=1)Array.isArray(k[E])?_.push([b(k[E][0]),k[E][1],k[E][2]]):_.push([b(k[E])]);S=_}else S=b(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",N])}(Ft.API),Ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(d){n=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(d){l=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var i;if((n=n||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(S){x=S}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){a.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,b=0,N=0,S=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var _=f.maxWidth;_>0?typeof h=="string"?h=this.splitTextToSize(h,_):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(D,R){return D.concat(k.splitTextToSize(R,_))},[])):h=Array.isArray(h)?h:[h];for(var E=0;E<h.length;E++)b<(S=this.getStringUnitWidth(h[E],{font:x})*p)&&(b=S);return b!==0&&(N=h.length),{w:b/=w,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,b&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,p,x,w){if(a.call(this),!p)throw new Error("No data for PDF table.");var b,N,S,k,_=[],E=[],D=[],R={},I={},ne=[],K=[],B=(w=w||{}).autoSize||!1,H=w.printHeaders!==!1,ee=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,T=w.margins||Object.assign({width:this.getPageWidth()},e),F=typeof w.padding=="number"?w.padding:3,$=w.headerBackgroundColor||"#c8c8c8",G=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=G,this.setFontSize(ee),x==null)E=_=Object.keys(p[0]),D=_.map(function(){return"left"});else if(Array.isArray(x)&&Rs(x[0])==="object")for(_=x.map(function(Y){return Y.name}),E=x.map(function(Y){return Y.prompt||Y.name||""}),D=x.map(function(Y){return Y.align||"left"}),b=0;b<x.length;b+=1)I[x[b].name]=.7499990551181103*x[b].width;else Array.isArray(x)&&typeof x[0]=="string"&&(E=_=x,D=_.map(function(){return"left"}));if(B||Array.isArray(x)&&typeof x[0]=="string")for(b=0;b<_.length;b+=1){for(R[k=_[b]]=p.map(function(Y){return Y[k]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(E[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=R[k],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)ne.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[k]=Math.max.apply(null,ne)+F+F,ne=[]}if(H){var ie={};for(b=0;b<_.length;b+=1)ie[_[b]]={},ie[_[b]].text=E[b],ie[_[b]].align=D[b];var Z=d.call(this,ie,I);K=_.map(function(Y){return new l(h,f,I[Y],Z,ie[Y].text,void 0,ie[Y].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var re=x.reduce(function(Y,ue){return Y[ue.name]=ue.align,Y},{});for(b=0;b<p.length;b+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:b,data:p[b]},this);var le=d.call(this,p[b],I);for(S=0;S<_.length;S+=1){var de=p[b][_[S]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:b,col:S,data:de},this),c.call(this,new l(h,f,I[_[S]],le,de,b+2,re[_[S]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(b){var N=h[b];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*x/w+p+p},this).reduce(function(b,N){return Math.max(b,N)},0)};t.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(Ft.API);var tN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sx=eN(sN),nN=[100,200,300,400,500,600,700,800,900],lE=eN(nN);function qp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return tN[l=l||"normal"]?l:"normal"}(t.style),a=function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400}(t.weight),i=function(l){return typeof Sx[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:e,style:n,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,a].join(" ")}}}function J1(t,e,n,a){var i;for(i=n;i>=0&&i<e.length;i+=a)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=a)if(t[e[i]])return t[e[i]]}var oE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ev={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function sv(t){return t.trimLeft()}function cE(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function dE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jf,nv,av,Ed,em,rv,iv,lv,zp=["times"];function ov(t,e,n,a){var i=4,l=dv;switch(a){case Ft.API.image_compression.FAST:i=1,l=cv;break;case Ft.API.image_compression.MEDIUM:i=6,l=uv;break;case Ft.API.image_compression.SLOW:i=9,l=hv}t=function(d,h,f,p){for(var x,w=d.length/h,b=new Uint8Array(d.length+w),N=[uE,cv,dv,uv,hv],S=0;S<w;S+=1){var k=S*h,_=d.subarray(k,k+h);if(p)b.set(p(_,f,x),k+S);else{for(var E=N.length,D=[],R=0;R<E;R+=1)D[R]=N[R](_,f,x);var I=fE(D.concat());b.set(D[I],k+S)}x=_}return b}(t,e,n,l);var c=bx(t,{level:i});return Ft.API.__addimage__.arrayBufferToBinaryString(c)}function uE(t){var e=Array.apply([],t);return e.unshift(0),e}function cv(t,e){var n=t.length,a=[];a[0]=1;for(var i=0;i<n;i+=1){var l=t[i-e]||0;a[i+1]=t[i]-l+256&255}return a}function dv(t,e,n){var a=t.length,i=[];i[0]=2;for(var l=0;l<a;l+=1){var c=n&&n[l]||0;i[l+1]=t[l]-c+256&255}return i}function uv(t,e,n){var a=t.length,i=[];i[0]=3;for(var l=0;l<a;l+=1){var c=t[l-e]||0,d=n&&n[l]||0;i[l+1]=t[l]+256-(c+d>>>1)&255}return i}function hv(t,e,n){var a=t.length,i=[];i[0]=4;for(var l=0;l<a;l+=1){var c=hE(t[l-e]||0,n&&n[l]||0,n&&n[l-e]||0);i[l+1]=t[l]-c+256&255}return i}function hE(t,e,n){if(t===e&&e===n)return t;var a=Math.abs(e-n),i=Math.abs(t-n),l=Math.abs(t+e-n-n);return a<=i&&a<=l?t:i<=l?e:n}function fE(t){var e=t.map(function(n){return n.reduce(function(a,i){return a+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Hp(t,e,n){var a=e*n,i=Math.floor(a/8),l=16-(a-8*i+n),c=(1<<n)-1;return aN(t,i)>>l&c}function fv(t,e,n,a){var i=n*a,l=Math.floor(i/8),c=16-(i-8*l+a),d=(1<<a)-1,h=(e&d)<<c;(function(f,p,x){if(p+1<f.byteLength)f.setUint16(p,x,!1);else{var w=x>>8&255;f.setUint8(p,w)}})(t,l,aN(t,l)&~(d<<c)&65535|h)}function aN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function mE(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,i=t[e++],l=i>>7,c=1<<1+(7&i);t[e++],t[e++];var d=null,h=null;l&&(d=e,h=c,e+=3*c);var f=!0,p=[],x=0,w=null,b=0,N=null;for(this.width=n,this.height=a;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];x=t[e++]|t[e++]<<8,w=t[e++],1&S||(w=null),b=S>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,R=t[e++],I=R>>6&1,ne=1<<1+(7&R),K=d,B=h,H=!1;R>>7&&(H=!0,K=e,B=ne,e+=3*ne);var ee=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}p.push({x:k,y:_,width:E,height:D,has_local_palette:H,palette_offset:K,palette_size:B,data_offset:ee,data_length:e-ee,transparent_index:w,interlaced:!!I,delay:x,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,$){var G=this.frameInfo(F),ie=G.width*G.height,Z=new Uint8Array(ie);mv(t,G.data_offset,Z,ie);var re=G.palette_offset,le=G.transparent_index;le===null&&(le=256);var de=G.width,Y=n-de,ue=de,O=4*(G.y*n+G.x),P=4*((G.y+G.height)*n+G.x),z=O,q=4*Y;G.interlaced===!0&&(q+=4*n*7);for(var se=8,fe=0,ye=Z.length;fe<ye;++fe){var Se=Z[fe];if(ue===0&&(ue=de,(z+=q)>=P&&(q=4*Y+4*n*(se-1),z=O+(de+Y)*(se<<1),se>>=1)),Se===le)z+=4;else{var Oe=t[re+3*Se],He=t[re+3*Se+1],Ie=t[re+3*Se+2];$[z++]=Ie,$[z++]=He,$[z++]=Oe,$[z++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(F,$){var G=this.frameInfo(F),ie=G.width*G.height,Z=new Uint8Array(ie);mv(t,G.data_offset,Z,ie);var re=G.palette_offset,le=G.transparent_index;le===null&&(le=256);var de=G.width,Y=n-de,ue=de,O=4*(G.y*n+G.x),P=4*((G.y+G.height)*n+G.x),z=O,q=4*Y;G.interlaced===!0&&(q+=4*n*7);for(var se=8,fe=0,ye=Z.length;fe<ye;++fe){var Se=Z[fe];if(ue===0&&(ue=de,(z+=q)>=P&&(q=4*Y+4*n*(se-1),z=O+(de+Y)*(se<<1),se>>=1)),Se===le)z+=4;else{var Oe=t[re+3*Se],He=t[re+3*Se+1],Ie=t[re+3*Se+2];$[z++]=Oe,$[z++]=He,$[z++]=Ie,$[z++]=255}--ue}}}function mv(t,e,n,a){for(var i=t[e++],l=1<<i,c=l+1,d=c+1,h=i+1,f=(1<<h)-1,p=0,x=0,w=0,b=t[e++],N=new Int32Array(4096),S=null;;){for(;p<16&&b!==0;)x|=t[e++]<<p,p+=8,b===1?b=t[e++]:--b;if(p<h)break;var k=x&f;if(x>>=h,p-=h,k!==l){if(k===c)break;for(var _=k<d?k:S,E=0,D=_;D>l;)D=N[D]>>8,++E;var R=D;if(w+E+(_!==k?1:0)>a)return void Gs.log("Warning, gif stream longer than expected.");n[w++]=R;var I=w+=E;for(_!==k&&(n[w++]=R),D=_;E--;)D=N[D],n[--I]=255&D,D>>=8;S!==null&&d<4096&&(N[d++]=S<<8|R,d>=f+1&&h<12&&(++h,f=f<<1|1)),S=k}else d=c+1,f=(1<<(h=i+1))-1,S=null}return w!==a&&Gs.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $p(t){var e,n,a,i,l,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),x=new Array(65535),w=new Array(65535),b=new Array(64),N=new Array(64),S=[],k=0,_=7,E=new Array(64),D=new Array(64),R=new Array(64),I=new Array(256),ne=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(O,P){for(var z=0,q=0,se=new Array,fe=1;fe<=16;fe++){for(var ye=1;ye<=O[fe];ye++)se[P[q]]=[],se[P[q]][0]=z,se[P[q]][1]=fe,q++,z++;z*=2}return se}function re(O){for(var P=O[0],z=O[1]-1;z>=0;)P&1<<z&&(k|=1<<_),z--,--_<0&&(k==255?(le(255),le(0)):le(k),_=7,k=0)}function le(O){S.push(O)}function de(O){le(O>>8&255),le(255&O)}function Y(O,P,z,q,se){for(var fe,ye=se[0],Se=se[240],Oe=function(et,ft){var ot,yt,Pe,ht,Be,Qe,je,lt,Ee,be,Ue=0;for(Ee=0;Ee<8;++Ee){ot=et[Ue],yt=et[Ue+1],Pe=et[Ue+2],ht=et[Ue+3],Be=et[Ue+4],Qe=et[Ue+5],je=et[Ue+6];var St=ot+(lt=et[Ue+7]),Bt=ot-lt,ut=yt+je,Tt=yt-je,os=Pe+Qe,gt=Pe-Qe,Kt=ht+Be,Pt=ht-Be,ks=St+Kt,tt=St-Kt,mt=ut+os,Ze=ut-os;et[Ue]=ks+mt,et[Ue+4]=ks-mt;var rs=.707106781*(Ze+tt);et[Ue+2]=tt+rs,et[Ue+6]=tt-rs;var Xn=.382683433*((ks=Pt+gt)-(Ze=Tt+Bt)),Zs=.5411961*ks+Xn,Zn=1.306562965*Ze+Xn,Aa=.707106781*(mt=gt+Tt),Rt=Bt+Aa,Sn=Bt-Aa;et[Ue+5]=Sn+Zs,et[Ue+3]=Sn-Zs,et[Ue+1]=Rt+Zn,et[Ue+7]=Rt-Zn,Ue+=8}for(Ue=0,Ee=0;Ee<8;++Ee){ot=et[Ue],yt=et[Ue+8],Pe=et[Ue+16],ht=et[Ue+24],Be=et[Ue+32],Qe=et[Ue+40],je=et[Ue+48];var xs=ot+(lt=et[Ue+56]),vt=ot-lt,Ms=yt+je,Fs=yt-je,mn=Pe+Qe,an=Pe-Qe,$n=ht+Be,X=ht-Be,$e=xs+$n,wt=xs-$n,ns=Ms+mn,qt=Ms-mn;et[Ue]=$e+ns,et[Ue+32]=$e-ns;var Hs=.707106781*(qt+wt);et[Ue+16]=wt+Hs,et[Ue+48]=wt-Hs;var Us=.382683433*(($e=X+an)-(qt=Fs+vt)),va=.5411961*$e+Us,ir=1.306562965*qt+Us,Cn=.707106781*(ns=an+Fs),Ea=vt+Cn,$l=vt-Cn;et[Ue+40]=$l+va,et[Ue+24]=$l-va,et[Ue+8]=Ea+ir,et[Ue+56]=Ea-ir,Ue++}for(Ee=0;Ee<64;++Ee)be=et[Ee]*ft[Ee],b[Ee]=be>0?be+.5|0:be-.5|0;return b}(O,P),He=0;He<64;++He)N[K[He]]=Oe[He];var Ie=N[0]-z;z=N[0],Ie==0?re(q[0]):(re(q[w[fe=32767+Ie]]),re(x[fe]));for(var Ke=63;Ke>0&&N[Ke]==0;)Ke--;if(Ke==0)return re(ye),z;for(var he,oe=1;oe<=Ke;){for(var Nt=oe;N[oe]==0&&oe<=Ke;)++oe;var at=oe-Nt;if(at>=16){he=at>>4;for(var bt=1;bt<=he;++bt)re(Se);at&=15}fe=32767+N[oe],re(se[(at<<4)+w[fe]]),re(x[fe]),oe++}return Ke!=63&&re(ye),z}function ue(O){O=Math.min(Math.max(O,1),100),l!=O&&(function(P){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var se=c((z[q]*P+50)/100);se=Math.min(Math.max(se,1),255),d[K[q]]=se}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Se=c((fe[ye]*P+50)/100);Se=Math.min(Math.max(Se,1),255),h[K[ye]]=Se}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ie=0;Ie<8;Ie++)for(var Ke=0;Ke<8;Ke++)f[He]=1/(d[K[He]]*Oe[Ie]*Oe[Ke]*8),p[He]=1/(h[K[He]]*Oe[Ie]*Oe[Ke]*8),He++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),l=O)}this.encode=function(O,P){P&&ue(P),S=new Array,k=0,_=7,de(65496),de(65504),de(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),de(1),de(1),le(0),le(0),function(){de(65499),de(132),le(0);for(var yt=0;yt<64;yt++)le(d[yt]);le(1);for(var Pe=0;Pe<64;Pe++)le(h[Pe])}(),function(yt,Pe){de(65472),de(17),le(8),de(Pe),de(yt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(O.width,O.height),function(){de(65476),de(418),le(0);for(var yt=0;yt<16;yt++)le(B[yt+1]);for(var Pe=0;Pe<=11;Pe++)le(H[Pe]);le(16);for(var ht=0;ht<16;ht++)le(ee[ht+1]);for(var Be=0;Be<=161;Be++)le(T[Be]);le(1);for(var Qe=0;Qe<16;Qe++)le(F[Qe+1]);for(var je=0;je<=11;je++)le($[je]);le(17);for(var lt=0;lt<16;lt++)le(G[lt+1]);for(var Ee=0;Ee<=161;Ee++)le(ie[Ee])}(),de(65498),de(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var z=0,q=0,se=0;k=0,_=7,this.encode.displayName="_encode_";for(var fe,ye,Se,Oe,He,Ie,Ke,he,oe,Nt=O.data,at=O.width,bt=O.height,et=4*at,ft=0;ft<bt;){for(fe=0;fe<et;){for(He=et*ft+fe,Ke=-1,he=0,oe=0;oe<64;oe++)Ie=He+(he=oe>>3)*et+(Ke=4*(7&oe)),ft+he>=bt&&(Ie-=et*(ft+1+he-bt)),fe+Ke>=et&&(Ie-=fe+Ke-et+4),ye=Nt[Ie++],Se=Nt[Ie++],Oe=Nt[Ie++],E[oe]=(ne[ye]+ne[Se+256|0]+ne[Oe+512|0]>>16)-128,D[oe]=(ne[ye+768|0]+ne[Se+1024|0]+ne[Oe+1280|0]>>16)-128,R[oe]=(ne[ye+1280|0]+ne[Se+1536|0]+ne[Oe+1792|0]>>16)-128;z=Y(E,f,z,e,a),q=Y(D,p,q,n,i),se=Y(R,p,se,n,i),fe+=32}ft+=8}if(_>=0){var ot=[];ot[1]=_+1,ot[0]=(1<<_+1)-1,re(ot)}return de(65497),new Uint8Array(S)},t=t||50,function(){for(var O=String.fromCharCode,P=0;P<256;P++)I[P]=O(P)}(),e=Z(B,H),n=Z(F,$),a=Z(ee,T),i=Z(G,ie),function(){for(var O=1,P=2,z=1;z<=15;z++){for(var q=O;q<P;q++)w[32767+q]=z,x[32767+q]=[],x[32767+q][1]=z,x[32767+q][0]=q;for(var se=-(P-1);se<=-O;se++)w[32767+se]=z,x[32767+se]=[],x[32767+se][1]=z,x[32767+se][0]=P-1+se;O<<=1,P<<=1}}(),function(){for(var O=0;O<256;O++)ne[O]=19595*O,ne[O+256|0]=38470*O,ne[O+512|0]=7471*O+32768,ne[O+768|0]=-11059*O,ne[O+1024|0]=-21709*O,ne[O+1280|0]=32768*O+8421375,ne[O+1536|0]=-27439*O,ne[O+1792|0]=-5329*O}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ci(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pv(t){function e(H){if(!H)throw Error("assert :P")}function n(H,ee,T){for(var F=0;4>F;F++)if(H[ee+F]!=T.charCodeAt(F))return!0;return!1}function a(H,ee,T,F,$){for(var G=0;G<$;G++)H[ee+G]=T[F+G]}function i(H,ee,T,F){for(var $=0;$<F;$++)H[ee+$]=T}function l(H){return new Int32Array(H)}function c(H,ee){for(var T=[],F=0;F<H;F++)T.push(new ee);return T}function d(H,ee){var T=[];return function F($,G,ie){for(var Z=ie[G],re=0;re<Z&&($.push(ie.length>G+1?[]:new ee),!(ie.length<G+1));re++)F($[re],G+1,ie)}(T,0,H),T}var h=function(){var H=this;function ee(g,v){for(var A=1<<v-1>>>0;g&A;)A>>>=1;return A?(g&A-1)+A:g}function T(g,v,A,M,V){e(!(M%A));do g[v+(M-=A)]=V;while(0<M)}function F(g,v,A,M,V){if(e(2328>=V),512>=V)var Q=l(512);else if((Q=l(V))==null)return 0;return function(J,ae,ce,pe,we,Me){var me,_e,Ae=ae,ze=1<<ce,De=l(16),We=l(16);for(e(we!=0),e(pe!=null),e(J!=null),e(0<ce),_e=0;_e<we;++_e){if(15<pe[_e])return 0;++De[pe[_e]]}if(De[0]==we)return 0;for(We[1]=0,me=1;15>me;++me){if(De[me]>1<<me)return 0;We[me+1]=We[me]+De[me]}for(_e=0;_e<we;++_e)me=pe[_e],0<pe[_e]&&(Me[We[me]++]=_e);if(We[15]==1)return(pe=new $).g=0,pe.value=Me[0],T(J,Ae,1,ze,pe),ze;var Ve,it=-1,st=ze-1,Dt=0,jt=1,Qt=1,_t=1<<ce;for(_e=0,me=1,we=2;me<=ce;++me,we<<=1){if(jt+=Qt<<=1,0>(Qt-=De[me]))return 0;for(;0<De[me];--De[me])(pe=new $).g=me,pe.value=Me[_e++],T(J,Ae+Dt,we,_t,pe),Dt=ee(Dt,me)}for(me=ce+1,we=2;15>=me;++me,we<<=1){if(jt+=Qt<<=1,0>(Qt-=De[me]))return 0;for(;0<De[me];--De[me]){if(pe=new $,(Dt&st)!=it){for(Ae+=_t,Ve=1<<(it=me)-ce;15>it&&!(0>=(Ve-=De[it]));)++it,Ve<<=1;ze+=_t=1<<(Ve=it-ce),J[ae+(it=Dt&st)].g=Ve+ce,J[ae+it].value=Ae-ae-it}pe.g=me-ce,pe.value=Me[_e++],T(J,Ae+(Dt>>ce),we,_t,pe),Dt=ee(Dt,me)}}return jt!=2*We[15]-1?0:ze}(g,v,A,M,V,Q)}function $(){this.value=this.g=0}function G(){this.value=this.g=0}function ie(){this.G=c(5,$),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c($a,G)}function Z(g,v,A,M){e(g!=null),e(v!=null),e(2147483648>M),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=A,g.Jd=v,g.Yc=A+M,g.Zc=4<=M?A+M-4+1:A,ye(g)}function re(g,v){for(var A=0;0<v--;)A|=Oe(g,128)<<v;return A}function le(g,v){var A=re(g,v);return Se(g)?-A:A}function de(g,v,A,M){var V,Q=0;for(e(g!=null),e(v!=null),e(4294967288>M),g.Sb=M,g.Ra=0,g.u=0,g.h=0,4<M&&(M=4),V=0;V<M;++V)Q+=v[A+V]<<8*V;g.Ra=Q,g.bb=M,g.oa=v,g.pa=A}function Y(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<hi-8>>>0,++g.bb,g.u-=8;q(g)&&(g.h=1,g.u=0)}function ue(g,v){if(e(0<=v),!g.h&&v<=ao){var A=z(g)&Or[v];return g.u+=v,Y(g),A}return g.h=1,g.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&hi-1)>>>0}function q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>hi}function se(g,v){g.u=v,g.h=q(g)}function fe(g){g.u>=rn&&(e(g.u>=rn),Y(g))}function ye(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Se(g){return re(g,1)}function Oe(g,v){var A=g.Ca;0>g.b&&ye(g);var M=g.b,V=A*v>>>8,Q=(g.I>>>M>V)+0;for(Q?(A-=V,g.I-=V+1<<M>>>0):A=V+1,M=A,V=0;256<=M;)V+=8,M>>=8;return M=7^V+Jd[M],g.b-=M,g.Ca=(A<<M)-1,Q}function He(g,v,A){g[v+0]=A>>24&255,g[v+1]=A>>16&255,g[v+2]=A>>8&255,g[v+3]=255&A}function Ie(g,v){return g[v+0]|g[v+1]<<8}function Ke(g,v){return Ie(g,v)|g[v+2]<<16}function he(g,v){return Ie(g,v)|Ie(g,v+2)<<16}function oe(g,v){var A=1<<v;return e(g!=null),e(0<v),g.X=l(A),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Nt(g,v){e(g!=null),e(v!=null),e(g.Xa==v.Xa),a(v.X,0,g.X,0,1<<v.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function bt(g,v,A,M){e(A!=null),e(M!=null);var V=A[0],Q=M[0];return V==0&&(V=(g*Q+v/2)/v),Q==0&&(Q=(v*V+g/2)/g),0>=V||0>=Q?0:(A[0]=V,M[0]=Q,1)}function et(g,v){return g+(1<<v)-1>>>v}function ft(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function ot(g,v){H[v]=function(A,M,V,Q,J,ae,ce){var pe;for(pe=0;pe<J;++pe){var we=H[g](ae[ce+pe-1],V,Q+pe);ae[ce+pe]=ft(A[M+pe],we)}}}function yt(){this.ud=this.hd=this.jd=0}function Pe(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function ht(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Be(g,v){return ht(g+(g-v+.5>>1))}function Qe(g,v,A){return Math.abs(v-A)-Math.abs(g-A)}function je(g,v,A,M,V,Q,J){for(M=Q[J-1],A=0;A<V;++A)Q[J+A]=M=ft(g[v+A],M)}function lt(g,v,A,M,V){var Q;for(Q=0;Q<A;++Q){var J=g[v+Q],ae=J>>8&255,ce=16711935&(ce=(ce=16711935&J)+((ae<<16)+ae));M[V+Q]=(4278255360&J)+ce>>>0}}function Ee(g,v){v.jd=255&g,v.hd=g>>8&255,v.ud=g>>16&255}function be(g,v,A,M,V,Q){var J;for(J=0;J<M;++J){var ae=v[A+J],ce=ae>>>8,pe=ae,we=255&(we=(we=ae>>>16)+((g.jd<<24>>24)*(ce<<24>>24)>>>5));pe=255&(pe=(pe+=(g.hd<<24>>24)*(ce<<24>>24)>>>5)+((g.ud<<24>>24)*(we<<24>>24)>>>5)),V[Q+J]=(4278255360&ae)+(we<<16)+pe}}function Ue(g,v,A,M,V){H[v]=function(Q,J,ae,ce,pe,we,Me,me,_e){for(ce=Me;ce<me;++ce)for(Me=0;Me<_e;++Me)pe[we++]=V(ae[M(Q[J++])])},H[g]=function(Q,J,ae,ce,pe,we,Me){var me=8>>Q.b,_e=Q.Ea,Ae=Q.K[0],ze=Q.w;if(8>me)for(Q=(1<<Q.b)-1,ze=(1<<me)-1;J<ae;++J){var De,We=0;for(De=0;De<_e;++De)De&Q||(We=M(ce[pe++])),we[Me++]=V(Ae[We&ze]),We>>=me}else H["VP8LMapColor"+A](ce,pe,Ae,ze,we,Me,J,ae,_e)}}function St(g,v,A,M,V){for(A=v+A;v<A;){var Q=g[v++];M[V++]=Q>>16&255,M[V++]=Q>>8&255,M[V++]=255&Q}}function Bt(g,v,A,M,V){for(A=v+A;v<A;){var Q=g[v++];M[V++]=Q>>16&255,M[V++]=Q>>8&255,M[V++]=255&Q,M[V++]=Q>>24&255}}function ut(g,v,A,M,V){for(A=v+A;v<A;){var Q=(J=g[v++])>>16&240|J>>12&15,J=240&J|J>>28&15;M[V++]=Q,M[V++]=J}}function Tt(g,v,A,M,V){for(A=v+A;v<A;){var Q=(J=g[v++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;M[V++]=Q,M[V++]=J}}function os(g,v,A,M,V){for(A=v+A;v<A;){var Q=g[v++];M[V++]=255&Q,M[V++]=Q>>8&255,M[V++]=Q>>16&255}}function gt(g,v,A,M,V,Q){if(Q==0)for(A=v+A;v<A;)He(M,((Q=g[v++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),V+=32;else a(M,V,g,v,A)}function Kt(g,v){H[v][0]=H[g+"0"],H[v][1]=H[g+"1"],H[v][2]=H[g+"2"],H[v][3]=H[g+"3"],H[v][4]=H[g+"4"],H[v][5]=H[g+"5"],H[v][6]=H[g+"6"],H[v][7]=H[g+"7"],H[v][8]=H[g+"8"],H[v][9]=H[g+"9"],H[v][10]=H[g+"10"],H[v][11]=H[g+"11"],H[v][12]=H[g+"12"],H[v][13]=H[g+"13"],H[v][14]=H[g+"0"],H[v][15]=H[g+"0"]}function Pt(g){return g==rc||g==Wi||g==mi||g==co}function ks(){this.eb=[],this.size=this.A=this.fb=0}function tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ks,this.f.kb=new tt,this.sd=null}function Ze(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Zs(g,v){var A=g.T,M=v.ba.f.RGBA,V=M.eb,Q=M.fb+g.ka*M.A,J=Hn[v.ba.S],ae=g.y,ce=g.O,pe=g.f,we=g.N,Me=g.ea,me=g.W,_e=v.cc,Ae=v.dc,ze=v.Mc,De=v.Nc,We=g.ka,Ve=g.ka+g.T,it=g.U,st=it+1>>1;for(We==0?J(ae,ce,null,null,pe,we,Me,me,pe,we,Me,me,V,Q,null,null,it):(J(v.ec,v.fc,ae,ce,_e,Ae,ze,De,pe,we,Me,me,V,Q-M.A,V,Q,it),++A);We+2<Ve;We+=2)_e=pe,Ae=we,ze=Me,De=me,we+=g.Rc,me+=g.Rc,Q+=2*M.A,J(ae,(ce+=2*g.fa)-g.fa,ae,ce,_e,Ae,ze,De,pe,we,Me,me,V,Q-M.A,V,Q,it);return ce+=g.fa,g.j+Ve<g.o?(a(v.ec,v.fc,ae,ce,it),a(v.cc,v.dc,pe,we,st),a(v.Mc,v.Nc,Me,me,st),A--):1&Ve||J(ae,ce,null,null,pe,we,Me,me,pe,we,Me,me,V,Q+M.A,null,null,it),A}function Zn(g,v,A){var M=g.F,V=[g.J];if(M!=null){var Q=g.U,J=v.ba.S,ae=J==wl||J==mi;v=v.ba.f.RGBA;var ce=[0],pe=g.ka;ce[0]=g.T,g.Kb&&(pe==0?--ce[0]:(--pe,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(ce[0]=g.o-g.j-pe));var we=v.eb;pe=v.fb+pe*v.A,g=Ta(M,V[0],g.width,Q,ce,we,pe+(ae?0:3),v.A),e(A==ce),g&&Pt(J)&&lo(we,pe,ae,Q,ce,v.A)}return 0}function Aa(g){var v=g.ma,A=v.ba.S,M=11>A,V=A==oo||A==ac||A==wl||A==fi||A==12||Pt(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Wn(v.Oa,g,V?11:12))return 0;if(V&&Pt(A)&&ec(),g.da)alert("todo:use_scaling");else{if(M){if(v.Ib=Xn,g.Kb){if(A=g.U+1>>1,v.memory=l(g.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=Zs,ec()}}else alert("todo:EmitYUV");V&&(v.Jb=Zn,M&&pl())}if(M&&!Th){for(g=0;256>g;++g)Qm[g]=89858*(g-128)+En>>Vr,oc[g]=-22014*(g-128)+En,lu[g]=-45773*(g-128),Ln[g]=113618*(g-128)+En>>Vr;for(g=Ki;g<id;++g)v=76283*(g-16)+En>>Vr,cc[g-Ki]=kn(v,255),ou[g-Ki]=kn(v+8>>4,15);Th=1}return 1}function Rt(g){var v=g.ma,A=g.U,M=g.T;return e(!(1&g.ka)),0>=A||0>=M?0:(A=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,A),v.Dc+=A,1)}function Sn(g){g.ma.memory=null}function xs(g,v,A,M){return ue(g,8)!=47?0:(v[0]=ue(g,14)+1,A[0]=ue(g,14)+1,M[0]=ue(g,1),ue(g,3)!=0?0:!g.h)}function vt(g,v){if(4>g)return g+1;var A=g-2>>1;return(2+(1&g)<<A)+ue(v,A)+1}function Ms(g,v){return 120<v?v-120:1<=(A=((A=xi[v-1])>>4)*g+(8-(15&A)))?A:1;var A}function Fs(g,v,A){var M=z(A),V=g[v+=255&M].g-8;return 0<V&&(se(A,A.u+8),M=z(A),v+=g[v].value,v+=M&(1<<V)-1),se(A,A.u+g[v].g),g[v].value}function mn(g,v,A){return A.g+=g.g,A.value+=g.value<<v>>>0,e(8>=A.g),g.g}function an(g,v,A){var M=g.xc;return e((v=M==0?0:g.vc[g.md*(A>>M)+(v>>M)])<g.Wb),g.Ya[v]}function $n(g,v,A,M){var V=g.ab,Q=g.c*v,J=g.C;v=J+v;var ae=A,ce=M;for(M=g.Ta,A=g.Ua;0<V--;){var pe=g.gc[V],we=J,Me=v,me=ae,_e=ce,Ae=(ce=M,ae=A,pe.Ea);switch(e(we<Me),e(Me<=pe.nc),pe.hc){case 2:ro(me,_e,(Me-we)*Ae,ce,ae);break;case 0:var ze=we,De=Me,We=ce,Ve=ae,it=(_t=pe).Ea;ze==0&&(Tr(me,_e,null,null,1,We,Ve),je(me,_e+1,0,0,it-1,We,Ve+1),_e+=it,Ve+=it,++ze);for(var st=1<<_t.b,Dt=st-1,jt=et(it,_t.b),Qt=_t.K,_t=_t.w+(ze>>_t.b)*jt;ze<De;){var ds=Qt,Nn=_t,Gt=1;for(Pr(me,_e,We,Ve-it,1,We,Ve);Gt<it;){var Ct=(Gt&~Dt)+st;Ct>it&&(Ct=it),(0,$i[ds[Nn++]>>8&15])(me,_e+ +Gt,We,Ve+Gt-it,Ct-Gt,We,Ve+Gt),Gt=Ct}_e+=it,Ve+=it,++ze&Dt||(_t+=jt)}Me!=pe.nc&&a(ce,ae-Ae,ce,ae+(Me-we-1)*Ae,Ae);break;case 1:for(Ae=me,De=_e,it=(me=pe.Ea)-(Ve=me&~(We=(_e=1<<pe.b)-1)),ze=et(me,pe.b),st=pe.K,pe=pe.w+(we>>pe.b)*ze;we<Me;){for(Dt=st,jt=pe,Qt=new yt,_t=De+Ve,ds=De+me;De<_t;)Ee(Dt[jt++],Qt),Rr(Qt,Ae,De,_e,ce,ae),De+=_e,ae+=_e;De<ds&&(Ee(Dt[jt++],Qt),Rr(Qt,Ae,De,it,ce,ae),De+=it,ae+=it),++we&We||(pe+=ze)}break;case 3:if(me==ce&&_e==ae&&0<pe.b){for(De=ce,me=Ae=ae+(Me-we)*Ae-(Ve=(Me-we)*et(pe.Ea,pe.b)),_e=ce,We=ae,ze=[],Ve=(it=Ve)-1;0<=Ve;--Ve)ze[Ve]=_e[We+Ve];for(Ve=it-1;0<=Ve;--Ve)De[me+Ve]=ze[Ve];tc(pe,we,Me,ce,Ae,ce,ae)}else tc(pe,we,Me,me,_e,ce,ae)}ae=M,ce=A}ce!=A&&a(M,A,ae,ce,Q)}function X(g,v){var A=g.V,M=g.Ba+g.c*g.C,V=v-g.C;if(e(v<=g.l.o),e(16>=V),0<V){var Q=g.l,J=g.Ta,ae=g.Ua,ce=Q.width;if($n(g,V,A,M),V=ae=[ae],e((A=g.C)<(M=v)),e(Q.v<Q.va),M>Q.o&&(M=Q.o),A<Q.j){var pe=Q.j-A;A=Q.j,V[0]+=pe*ce}if(A>=M?A=0:(V[0]+=4*Q.v,Q.ka=A-Q.j,Q.U=Q.va-Q.v,Q.T=M-A,A=1),A){if(ae=ae[0],11>(A=g.ca).S){var we=A.f.RGBA,Me=(M=A.S,V=Q.U,Q=Q.T,pe=we.eb,we.A),me=Q;for(we=we.fb+g.Ma*we.A;0<me--;){var _e=J,Ae=ae,ze=V,De=pe,We=we;switch(M){case ta:io(_e,Ae,ze,De,We);break;case oo:da(_e,Ae,ze,De,We);break;case rc:da(_e,Ae,ze,De,We),lo(De,We,0,ze,1,0);break;case qr:Ds(_e,Ae,ze,De,We);break;case ac:gt(_e,Ae,ze,De,We,1);break;case Wi:gt(_e,Ae,ze,De,We,1),lo(De,We,0,ze,1,0);break;case wl:gt(_e,Ae,ze,De,We,0);break;case mi:gt(_e,Ae,ze,De,We,0),lo(De,We,1,ze,1,0);break;case fi:Ur(_e,Ae,ze,De,We);break;case co:Ur(_e,Ae,ze,De,We),Oa(De,We,ze,1,0);break;case td:Ns(_e,Ae,ze,De,We);break;default:e(0)}ae+=ce,we+=Me}g.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=A.height)}}g.C=v,e(g.C<=g.i)}function $e(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var A=g.Ya[v].G,M=g.Ya[v].H;if(0<A[1][M[1]+0].g||0<A[2][M[2]+0].g||0<A[3][M[3]+0].g)return 0}return 1}function wt(g,v,A,M,V,Q){if(g.Z!=0){var J=g.qd,ae=g.rd;for(e(Hr[g.Z]!=null);v<A;++v)Hr[g.Z](J,ae,M,V,M,V,Q),J=M,ae=V,V+=Q;g.qd=J,g.rd=ae}}function ns(g,v){var A=g.l.ma,M=A.Z==0||A.Z==1?g.l.j:g.C;if(M=g.C<M?M:g.C,e(v<=g.l.o),v>M){var V=g.l.width,Q=A.ca,J=A.tb+V*M,ae=g.V,ce=g.Ba+g.c*M,pe=g.gc;e(g.ab==1),e(pe[0].hc==3),Br(pe[0],M,v,ae,ce,Q,J),wt(A,M,v,Q,J,V)}g.C=g.Ma=v}function qt(g,v,A,M,V,Q,J){var ae=g.$/M,ce=g.$%M,pe=g.m,we=g.s,Me=A+g.$,me=Me;V=A+M*V;var _e=A+M*Q,Ae=280+we.ua,ze=g.Pb?ae:16777216,De=0<we.ua?we.Wa:null,We=we.wc,Ve=Me<_e?an(we,ce,ae):null;e(g.C<Q),e(_e<=V);var it=!1;e:for(;;){for(;it||Me<_e;){var st=0;if(ae>=ze){var Dt=Me-A;e((ze=g).Pb),ze.wd=ze.m,ze.xd=Dt,0<ze.s.ua&&Nt(ze.s.Wa,ze.s.vb),ze=ae+Mh}if(ce&We||(Ve=an(we,ce,ae)),e(Ve!=null),Ve.Qb&&(v[Me]=Ve.qb,it=!0),!it)if(fe(pe),Ve.jc){st=pe,Dt=v;var jt=Me,Qt=Ve.pd[z(st)&$a-1];e(Ve.jc),256>Qt.g?(se(st,st.u+Qt.g),Dt[jt]=Qt.value,st=0):(se(st,st.u+Qt.g-256),e(256<=Qt.value),st=Qt.value),st==0&&(it=!0)}else st=Fs(Ve.G[0],Ve.H[0],pe);if(pe.h)break;if(it||256>st){if(!it)if(Ve.nd)v[Me]=(Ve.qb|st<<8)>>>0;else{if(fe(pe),it=Fs(Ve.G[1],Ve.H[1],pe),fe(pe),Dt=Fs(Ve.G[2],Ve.H[2],pe),jt=Fs(Ve.G[3],Ve.H[3],pe),pe.h)break;v[Me]=(jt<<24|it<<16|st<<8|Dt)>>>0}if(it=!1,++Me,++ce>=M&&(ce=0,++ae,J!=null&&ae<=Q&&!(ae%16)&&J(g,ae),De!=null))for(;me<Me;)st=v[me++],De.X[(506832829*st&4294967295)>>>De.Mb]=st}else if(280>st){if(st=vt(st-256,pe),Dt=Fs(Ve.G[4],Ve.H[4],pe),fe(pe),Dt=Ms(M,Dt=vt(Dt,pe)),pe.h)break;if(Me-A<Dt||V-Me<st)break e;for(jt=0;jt<st;++jt)v[Me+jt]=v[Me+jt-Dt];for(Me+=st,ce+=st;ce>=M;)ce-=M,++ae,J!=null&&ae<=Q&&!(ae%16)&&J(g,ae);if(e(Me<=V),ce&We&&(Ve=an(we,ce,ae)),De!=null)for(;me<Me;)st=v[me++],De.X[(506832829*st&4294967295)>>>De.Mb]=st}else{if(!(st<Ae))break e;for(it=st-280,e(De!=null);me<Me;)st=v[me++],De.X[(506832829*st&4294967295)>>>De.Mb]=st;st=Me,e(!(it>>>(Dt=De).Xa)),v[st]=Dt.X[it],it=!0}it||e(pe.h==q(pe))}if(g.Pb&&pe.h&&Me<V)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Nt(g.s.vb,g.s.Wa);else{if(pe.h)break e;J?.(g,ae>Q?Q:ae),g.a=0,g.$=Me-A}return 1}return g.a=3,0}function Hs(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,e(g!=null)}function Us(){var g=new Js;return g==null?null:(g.a=0,g.xb=uo,Kt("Predictor","VP8LPredictors"),Kt("Predictor","VP8LPredictors_C"),Kt("PredictorAdd","VP8LPredictorsAdd"),Kt("PredictorAdd","VP8LPredictorsAdd_C"),ro=lt,Rr=be,io=St,da=Bt,Ur=ut,Ns=Tt,Ds=os,H.VP8LMapColor32b=qn,H.VP8LMapColor8b=Hi,g)}function va(g,v,A,M,V){var Q=1,J=[g],ae=[v],ce=M.m,pe=M.s,we=null,Me=0;e:for(;;){if(A)for(;Q&&ue(ce,1);){var me=J,_e=ae,Ae=M,ze=1,De=Ae.m,We=Ae.gc[Ae.ab],Ve=ue(De,2);if(Ae.Oc&1<<Ve)Q=0;else{switch(Ae.Oc|=1<<Ve,We.hc=Ve,We.Ea=me[0],We.nc=_e[0],We.K=[null],++Ae.ab,e(4>=Ae.ab),Ve){case 0:case 1:We.b=ue(De,3)+2,ze=va(et(We.Ea,We.b),et(We.nc,We.b),0,Ae,We.K),We.K=We.K[0];break;case 3:var it,st=ue(De,8)+1,Dt=16<st?0:4<st?1:2<st?2:3;if(me[0]=et(We.Ea,Dt),We.b=Dt,it=ze=va(st,1,0,Ae,We.K)){var jt,Qt=st,_t=We,ds=1<<(8>>_t.b),Nn=l(ds);if(Nn==null)it=0;else{var Gt=_t.K[0],Ct=_t.w;for(Nn[0]=_t.K[0][0],jt=1;jt<1*Qt;++jt)Nn[jt]=ft(Gt[Ct+jt],Nn[jt-1]);for(;jt<4*ds;++jt)Nn[jt]=0;_t.K[0]=null,_t.K[0]=Nn,it=1}}ze=it;break;case 2:break;default:e(0)}Q=ze}}if(J=J[0],ae=ae[0],Q&&ue(ce,1)&&!(Q=1<=(Me=ue(ce,4))&&11>=Me)){M.a=3;break e}var pt;if(pt=Q)t:{var tn,Xt,as,At=M,Jt=J,ms=ae,Vs=Me,pn=A,xn=At.m,on=At.s,cs=[null],ps=1,cn=0,zt=jl[Vs];s:for(;;){if(pn&&ue(xn,1)){var Dn=ue(xn,3)+2,Ra=et(Jt,Dn),dn=et(ms,Dn),fa=Ra*dn;if(!va(Ra,dn,0,At,cs))break s;for(cs=cs[0],on.xc=Dn,tn=0;tn<fa;++tn){var Os=cs[tn]>>8&65535;cs[tn]=Os,Os>=ps&&(ps=Os+1)}}if(xn.h)break s;for(Xt=0;5>Xt;++Xt){var gn=Pa[Xt];!Xt&&0<Vs&&(gn+=1<<Vs),cn<gn&&(cn=gn)}var ma=c(ps*zt,$),Gn=ps,Is=c(Gn,ie);if(Is==null)var ys=null;else e(65536>=Gn),ys=Is;var sa=l(cn);if(ys==null||sa==null||ma==null){At.a=1;break s}var Yn=ma;for(tn=as=0;tn<ps;++tn){var As=ys[tn],pa=As.G,Mn=As.H,Wr=0,fr=1,Fn=0;for(Xt=0;5>Xt;++Xt){gn=Pa[Xt],pa[Xt]=Yn,Mn[Xt]=as,!Xt&&0<Vs&&(gn+=1<<Vs);a:{var dc,ld=gn,uc=At,fo=sa,Rh=Yn,Uh=as,hc=0,vi=uc.m,Zm=ue(vi,1);if(i(fo,0,0,ld),Zm){var Ih=ue(vi,1)+1,qh=ue(vi,1),cu=ue(vi,qh==0?1:8);fo[cu]=1,Ih==2&&(fo[cu=ue(vi,8)]=1);var mo=1}else{var du=l(19),uu=ue(vi,4)+4;if(19<uu){uc.a=3;var fc=0;break a}for(dc=0;dc<uu;++dc)du[pi[dc]]=ue(vi,3);var od=void 0,po=void 0,zh=uc,Hh=du,wi=ld,mc=fo,cd=0,mr=zh.m,xo=8,hu=c(128,$);n:for(;F(hu,0,7,Hh,19);){if(ue(mr,1)){var $h=2+2*ue(mr,3);if((od=2+ue(mr,$h))>wi)break n}else od=wi;for(po=0;po<wi&&od--;){fe(mr);var fu=hu[0+(127&z(mr))];se(mr,mr.u+fu.g);var Cl=fu.value;if(16>Cl)mc[po++]=Cl,Cl!=0&&(xo=Cl);else{var Vh=Cl==16,mu=Cl-16,pu=Ya[mu],xu=ue(mr,sd[mu])+pu;if(po+xu>wi)break n;for(var Wh=Vh?xo:0;0<xu--;)mc[po++]=Wh}}cd=1;break n}cd||(zh.a=3),mo=cd}(mo=mo&&!vi.h)&&(hc=F(Rh,Uh,8,fo,ld)),mo&&hc!=0?fc=hc:(uc.a=3,fc=0)}if(fc==0)break s;if(fr&&Nl[Xt]==1&&(fr=Yn[as].g==0),Wr+=Yn[as].g,as+=fc,3>=Xt){var kl,dd=sa[0];for(kl=1;kl<gn;++kl)sa[kl]>dd&&(dd=sa[kl]);Fn+=dd}}if(As.nd=fr,As.Qb=0,fr&&(As.qb=(pa[3][Mn[3]+0].value<<24|pa[1][Mn[1]+0].value<<16|pa[2][Mn[2]+0].value)>>>0,Wr==0&&256>pa[0][Mn[0]+0].value&&(As.Qb=1,As.qb+=pa[0][Mn[0]+0].value<<8)),As.jc=!As.Qb&&6>Fn,As.jc){var pc,Ni=As;for(pc=0;pc<$a;++pc){var Gr=pc,ji=Ni.pd[Gr],xc=Ni.G[0][Ni.H[0]+Gr];256<=xc.value?(ji.g=xc.g+256,ji.value=xc.value):(ji.g=0,ji.value=0,Gr>>=mn(xc,8,ji),Gr>>=mn(Ni.G[1][Ni.H[1]+Gr],16,ji),Gr>>=mn(Ni.G[2][Ni.H[2]+Gr],0,ji),mn(Ni.G[3][Ni.H[3]+Gr],24,ji))}}}on.vc=cs,on.Wb=ps,on.Ya=ys,on.yc=ma,pt=1;break t}pt=0}if(!(Q=pt)){M.a=3;break e}if(0<Me){if(pe.ua=1<<Me,!oe(pe.Wa,Me)){M.a=1,Q=0;break e}}else pe.ua=0;var gc=M,gu=J,Gh=ae,bu=gc.s,yu=bu.xc;if(gc.c=gu,gc.i=Gh,bu.md=et(gu,yu),bu.wc=yu==0?-1:(1<<yu)-1,A){M.xb=Oh;break e}if((we=l(J*ae))==null){M.a=1,Q=0;break e}Q=(Q=qt(M,we,0,J,ae,ae,null))&&!ce.h;break e}return Q?(V!=null?V[0]=we:(e(we==null),e(A)),M.$=0,A||Hs(pe)):Hs(pe),Q}function ir(g,v){var A=g.c*g.i,M=A+v+16*v;return e(g.c<=v),g.V=l(M),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+A+v,1)}function Cn(g,v){var A=g.C,M=v-A,V=g.V,Q=g.Ba+g.c*A;for(e(v<=g.l.o);0<M;){var J=16<M?16:M,ae=g.l.ma,ce=g.l.width,pe=ce*J,we=ae.ca,Me=ae.tb+ce*A,me=g.Ta,_e=g.Ua;$n(g,J,V,Q),bl(me,_e,we,Me,pe),wt(ae,A,A+J,we,Me,ce),M-=J,V+=J*g.c,A+=J}e(A==v),g.C=g.Ma=v}function Ea(){this.ub=this.yd=this.td=this.Rb=0}function $l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zc(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Vl(){this.Yb=function(){var g=[];return function v(A,M,V){for(var Q=V[M],J=0;J<Q&&(A.push(V.length>M+1?[]:0),!(V.length<M+1));J++)v(A[J],M+1,V)}(g,0,[3,11]),g}()}function Hc(){this.jb=l(3),this.Wc=d([4,8],Vl),this.Xc=d([4,17],Vl)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function oa(){this.ld=this.La=this.dd=this.tc=0}function La(){this.Na=this.la=0}function Wl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ai(){this.uc=this.M=this.Nb=0,this.wa=Array(new oa),this.Y=0,this.ya=Array(new Gl),this.aa=0,this.l=new Ql}function Yl(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Kl(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ea,this.Kc=new $l,this.ed=new ol,this.Qa=new zc,this.Ic=this.$c=this.Aa=0,this.D=new ai,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,O),this.ia=0,this.pb=c(4,Wl),this.Pa=new Hc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yl),this.Hd=0,this.rb=Array(new La),this.sb=0,this.wa=Array(new oa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gl),this.L=this.aa=0,this.gd=d([4,2],oa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ql(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $c(){var g=new Kl;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,An||(An=Ia)),g}function ws(g,v,A){return g.a==0&&(g.a=v,g.sc=A,g.cb=0),0}function Vo(g,v,A){return 3<=A&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function Vc(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return ws(g,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,M=v.w,V=v.ha;if(4>V)return ws(g,7,"Truncated header.");var Q=A[M+0]|A[M+1]<<8|A[M+2]<<16,J=g.Od;if(J.Rb=!(1&Q),J.td=Q>>1&7,J.yd=Q>>4&1,J.ub=Q>>5,3<J.td)return ws(g,3,"Incorrect keyframe parameters.");if(!J.yd)return ws(g,4,"Frame not displayable.");M+=3,V-=3;var ae=g.Kc;if(J.Rb){if(7>V)return ws(g,7,"cannot parse picture header");if(!Vo(A,M,V))return ws(g,3,"Bad code word");ae.c=16383&(A[M+4]<<8|A[M+3]),ae.Td=A[M+4]>>6,ae.i=16383&(A[M+6]<<8|A[M+5]),ae.Ud=A[M+6]>>6,M+=7,V-=7,g.za=ae.c+15>>4,g.Ub=ae.i+15>>4,v.width=ae.c,v.height=ae.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((Q=g.Pa).jb,0,255,Q.jb.length),e((Q=g.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(J.ub>V)return ws(g,7,"bad partition length");Z(Q=g.m,A,M,J.ub),M+=J.ub,V-=J.ub,J.Rb&&(ae.Ld=Se(Q),ae.Kd=Se(Q)),ae=g.Qa;var ce,pe=g.Pa;if(e(Q!=null),e(ae!=null),ae.Cb=Se(Q),ae.Cb){if(ae.Bb=Se(Q),Se(Q)){for(ae.Fb=Se(Q),ce=0;4>ce;++ce)ae.Zb[ce]=Se(Q)?le(Q,7):0;for(ce=0;4>ce;++ce)ae.Lb[ce]=Se(Q)?le(Q,6):0}if(ae.Bb)for(ce=0;3>ce;++ce)pe.jb[ce]=Se(Q)?re(Q,8):255}else ae.Bb=0;if(Q.Ka)return ws(g,3,"cannot parse segment header");if((ae=g.ed).zd=Se(Q),ae.Tb=re(Q,6),ae.wb=re(Q,3),ae.Pc=Se(Q),ae.Pc&&Se(Q)){for(pe=0;4>pe;++pe)Se(Q)&&(ae.vd[pe]=le(Q,6));for(pe=0;4>pe;++pe)Se(Q)&&(ae.od[pe]=le(Q,6))}if(g.L=ae.Tb==0?0:ae.zd?1:2,Q.Ka)return ws(g,3,"cannot parse filter header");var we=V;if(V=ce=M,M=ce+we,ae=we,g.Xb=(1<<re(g.m,2))-1,we<3*(pe=g.Xb))A=7;else{for(ce+=3*pe,ae-=3*pe,we=0;we<pe;++we){var Me=A[V+0]|A[V+1]<<8|A[V+2]<<16;Me>ae&&(Me=ae),Z(g.Jc[+we],A,ce,Me),ce+=Me,ae-=Me,V+=3}Z(g.Jc[+pe],A,ce,ae),A=ce<M?0:5}if(A!=0)return ws(g,A,"cannot parse partitions");for(A=re(ce=g.m,7),V=Se(ce)?le(ce,4):0,M=Se(ce)?le(ce,4):0,ae=Se(ce)?le(ce,4):0,pe=Se(ce)?le(ce,4):0,ce=Se(ce)?le(ce,4):0,we=g.Qa,Me=0;4>Me;++Me){if(we.Cb){var me=we.Zb[Me];we.Fb||(me+=A)}else{if(0<Me){g.pb[Me]=g.pb[0];continue}me=A}var _e=g.pb[Me];_e.Sc[0]=ic[kn(me+V,127)],_e.Sc[1]=lc[kn(me+0,127)],_e.Eb[0]=2*ic[kn(me+M,127)],_e.Eb[1]=101581*lc[kn(me+ae,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=ic[kn(me+pe,117)],_e.Qc[1]=lc[kn(me+ce,127)],_e.lc=me+ce}if(!J.Rb)return ws(g,4,"Not a key frame.");for(Se(Q),J=g.Pa,A=0;4>A;++A){for(V=0;8>V;++V)for(M=0;3>M;++M)for(ae=0;11>ae;++ae)pe=Oe(Q,_l[A][V][M][ae])?re(Q,8):zr[A][V][M][ae],J.Wc[A][V].Yb[M][ae]=pe;for(V=0;17>V;++V)J.Xc[A][V]=J.Wc[A][Fh[V]]}return g.kc=Se(Q),g.kc&&(g.Bd=re(Q,8)),g.cb=1}function Ia(g,v,A,M,V,Q,J){var ae=v[V].Yb[A];for(A=0;16>V;++V){if(!Oe(g,ae[A+0]))return V;for(;!Oe(g,ae[A+1]);)if(ae=v[++V].Yb[0],A=0,V==16)return 16;var ce=v[V+1].Yb;if(Oe(g,ae[A+2])){var pe=g,we=0;if(Oe(pe,(me=ae)[(Me=A)+3]))if(Oe(pe,me[Me+6])){for(ae=0,Me=2*(we=Oe(pe,me[Me+8]))+(me=Oe(pe,me[Me+9+we])),we=0,me=ln[Me];me[ae];++ae)we+=we+Oe(pe,me[ae]);we+=3+(8<<Me)}else Oe(pe,me[Me+7])?(we=7+2*Oe(pe,165),we+=Oe(pe,145)):we=5+Oe(pe,159);else we=Oe(pe,me[Me+4])?3+Oe(pe,me[Me+5]):2;ae=ce[2]}else we=1,ae=ce[1];ce=J+js[V],0>(pe=g).b&&ye(pe);var Me,me=pe.b,_e=(Me=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=_e,pe.Ca|=1,pe.I-=(Me+1&_e)<<me,Q[ce]=((we^_e)-_e)*M[(0<V)+0]}return 16}function Ti(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function wa(g,v,A,M,V){V=g[v+A+32*M]+(V>>3),g[v+A+32*M]=-256&V?0>V?0:255:V}function cl(g,v,A,M,V,Q){wa(g,v,0,A,M+V),wa(g,v,1,A,M+Q),wa(g,v,2,A,M-Q),wa(g,v,3,A,M-V)}function bs(g){return(20091*g>>16)+g}function dl(g,v,A,M){var V,Q=0,J=l(16);for(V=0;4>V;++V){var ae=g[v+0]+g[v+8],ce=g[v+0]-g[v+8],pe=(35468*g[v+4]>>16)-bs(g[v+12]),we=bs(g[v+4])+(35468*g[v+12]>>16);J[Q+0]=ae+we,J[Q+1]=ce+pe,J[Q+2]=ce-pe,J[Q+3]=ae-we,Q+=4,v++}for(V=Q=0;4>V;++V)ae=(g=J[Q+0]+4)+J[Q+8],ce=g-J[Q+8],pe=(35468*J[Q+4]>>16)-bs(J[Q+12]),wa(A,M,0,0,ae+(we=bs(J[Q+4])+(35468*J[Q+12]>>16))),wa(A,M,1,0,ce+pe),wa(A,M,2,0,ce-pe),wa(A,M,3,0,ae-we),Q++,M+=32}function Wc(g,v,A,M){var V=g[v+0]+4,Q=35468*g[v+4]>>16,J=bs(g[v+4]),ae=35468*g[v+1]>>16;cl(A,M,0,V+J,g=bs(g[v+1]),ae),cl(A,M,1,V+Q,g,ae),cl(A,M,2,V-Q,g,ae),cl(A,M,3,V-J,g,ae)}function Wo(g,v,A,M,V){dl(g,v,A,M),V&&dl(g,v+16,A,M+4)}function Pi(g,v,A,M){en(g,v+0,A,M,1),en(g,v+32,A,M+128,1)}function lr(g,v,A,M){var V;for(g=g[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)wa(A,M,v,V,g)}function Go(g,v,A,M){g[v+0]&&ua(g,v+0,A,M),g[v+16]&&ua(g,v+16,A,M+4),g[v+32]&&ua(g,v+32,A,M+128),g[v+48]&&ua(g,v+48,A,M+128+4)}function ri(g,v,A,M){var V,Q=l(16);for(V=0;4>V;++V){var J=g[v+0+V]+g[v+12+V],ae=g[v+4+V]+g[v+8+V],ce=g[v+4+V]-g[v+8+V],pe=g[v+0+V]-g[v+12+V];Q[0+V]=J+ae,Q[8+V]=J-ae,Q[4+V]=pe+ce,Q[12+V]=pe-ce}for(V=0;4>V;++V)J=(g=Q[0+4*V]+3)+Q[3+4*V],ae=Q[1+4*V]+Q[2+4*V],ce=Q[1+4*V]-Q[2+4*V],pe=g-Q[3+4*V],A[M+0]=J+ae>>3,A[M+16]=pe+ce>>3,A[M+32]=J-ae>>3,A[M+48]=pe-ce>>3,M+=64}function Bi(g,v,A){var M,V=v-32,Q=zn,J=255-g[V-1];for(M=0;M<A;++M){var ae,ce=Q,pe=J+g[v-1];for(ae=0;ae<A;++ae)g[v+ae]=ce[pe+g[V+ae]];v+=32}}function Xl(g,v){Bi(g,v,4)}function Gc(g,v){Bi(g,v,8)}function Yo(g,v){Bi(g,v,16)}function Xd(g,v){var A;for(A=0;16>A;++A)a(g,v+32*A,g,v-32,16)}function Ko(g,v){var A;for(A=16;0<A;--A)i(g,v,g[v-1],16),v+=32}function Sr(g,v,A){var M;for(M=0;16>M;++M)i(v,A+32*M,g,16)}function Cr(g,v){var A,M=16;for(A=0;16>A;++A)M+=g[v-1+32*A]+g[v+A-32];Sr(M>>5,g,v)}function Qo(g,v){var A,M=8;for(A=0;16>A;++A)M+=g[v-1+32*A];Sr(M>>4,g,v)}function qa(g,v){var A,M=8;for(A=0;16>A;++A)M+=g[v+A-32];Sr(M>>4,g,v)}function kr(g,v){Sr(128,g,v)}function Wt(g,v,A){return g+2*v+A+2>>2}function Xo(g,v){var A,M=v-32;for(M=new Uint8Array([Wt(g[M-1],g[M+0],g[M+1]),Wt(g[M+0],g[M+1],g[M+2]),Wt(g[M+1],g[M+2],g[M+3]),Wt(g[M+2],g[M+3],g[M+4])]),A=0;4>A;++A)a(g,v+32*A,M,0,M.length)}function Yc(g,v){var A=g[v-1],M=g[v-1+32],V=g[v-1+64],Q=g[v-1+96];He(g,v+0,16843009*Wt(g[v-1-32],A,M)),He(g,v+32,16843009*Wt(A,M,V)),He(g,v+64,16843009*Wt(M,V,Q)),He(g,v+96,16843009*Wt(V,Q,Q))}function ul(g,v){var A,M=4;for(A=0;4>A;++A)M+=g[v+A-32]+g[v-1+32*A];for(M>>=3,A=0;4>A;++A)i(g,v+32*A,M,4)}function or(g,v){var A=g[v-1+0],M=g[v-1+32],V=g[v-1+64],Q=g[v-1-32],J=g[v+0-32],ae=g[v+1-32],ce=g[v+2-32],pe=g[v+3-32];g[v+0+96]=Wt(M,V,g[v-1+96]),g[v+1+96]=g[v+0+64]=Wt(A,M,V),g[v+2+96]=g[v+1+64]=g[v+0+32]=Wt(Q,A,M),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=Wt(J,Q,A),g[v+3+64]=g[v+2+32]=g[v+1+0]=Wt(ae,J,Q),g[v+3+32]=g[v+2+0]=Wt(ce,ae,J),g[v+3+0]=Wt(pe,ce,ae)}function cr(g,v){var A=g[v+1-32],M=g[v+2-32],V=g[v+3-32],Q=g[v+4-32],J=g[v+5-32],ae=g[v+6-32],ce=g[v+7-32];g[v+0+0]=Wt(g[v+0-32],A,M),g[v+1+0]=g[v+0+32]=Wt(A,M,V),g[v+2+0]=g[v+1+32]=g[v+0+64]=Wt(M,V,Q),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=Wt(V,Q,J),g[v+3+32]=g[v+2+64]=g[v+1+96]=Wt(Q,J,ae),g[v+3+64]=g[v+2+96]=Wt(J,ae,ce),g[v+3+96]=Wt(ae,ce,ce)}function Da(g,v){var A=g[v-1+0],M=g[v-1+32],V=g[v-1+64],Q=g[v-1-32],J=g[v+0-32],ae=g[v+1-32],ce=g[v+2-32],pe=g[v+3-32];g[v+0+0]=g[v+1+64]=Q+J+1>>1,g[v+1+0]=g[v+2+64]=J+ae+1>>1,g[v+2+0]=g[v+3+64]=ae+ce+1>>1,g[v+3+0]=ce+pe+1>>1,g[v+0+96]=Wt(V,M,A),g[v+0+64]=Wt(M,A,Q),g[v+0+32]=g[v+1+96]=Wt(A,Q,J),g[v+1+32]=g[v+2+96]=Wt(Q,J,ae),g[v+2+32]=g[v+3+96]=Wt(J,ae,ce),g[v+3+32]=Wt(ae,ce,pe)}function Ar(g,v){var A=g[v+0-32],M=g[v+1-32],V=g[v+2-32],Q=g[v+3-32],J=g[v+4-32],ae=g[v+5-32],ce=g[v+6-32],pe=g[v+7-32];g[v+0+0]=A+M+1>>1,g[v+1+0]=g[v+0+64]=M+V+1>>1,g[v+2+0]=g[v+1+64]=V+Q+1>>1,g[v+3+0]=g[v+2+64]=Q+J+1>>1,g[v+0+32]=Wt(A,M,V),g[v+1+32]=g[v+0+96]=Wt(M,V,Q),g[v+2+32]=g[v+1+96]=Wt(V,Q,J),g[v+3+32]=g[v+2+96]=Wt(Q,J,ae),g[v+3+64]=Wt(J,ae,ce),g[v+3+96]=Wt(ae,ce,pe)}function Zo(g,v){var A=g[v-1+0],M=g[v-1+32],V=g[v-1+64],Q=g[v-1+96];g[v+0+0]=A+M+1>>1,g[v+2+0]=g[v+0+32]=M+V+1>>1,g[v+2+32]=g[v+0+64]=V+Q+1>>1,g[v+1+0]=Wt(A,M,V),g[v+3+0]=g[v+1+32]=Wt(M,V,Q),g[v+3+32]=g[v+1+64]=Wt(V,Q,Q),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=Q}function ii(g,v){var A=g[v-1+0],M=g[v-1+32],V=g[v-1+64],Q=g[v-1+96],J=g[v-1-32],ae=g[v+0-32],ce=g[v+1-32],pe=g[v+2-32];g[v+0+0]=g[v+2+32]=A+J+1>>1,g[v+0+32]=g[v+2+64]=M+A+1>>1,g[v+0+64]=g[v+2+96]=V+M+1>>1,g[v+0+96]=Q+V+1>>1,g[v+3+0]=Wt(ae,ce,pe),g[v+2+0]=Wt(J,ae,ce),g[v+1+0]=g[v+3+32]=Wt(A,J,ae),g[v+1+32]=g[v+3+64]=Wt(M,A,J),g[v+1+64]=g[v+3+96]=Wt(V,M,A),g[v+1+96]=Wt(Q,V,M)}function Zl(g,v){var A;for(A=0;8>A;++A)a(g,v+32*A,g,v-32,8)}function Er(g,v){var A;for(A=0;8>A;++A)i(g,v,g[v-1],8),v+=32}function li(g,v,A){var M;for(M=0;8>M;++M)i(v,A+32*M,g,8)}function hl(g,v){var A,M=8;for(A=0;8>A;++A)M+=g[v+A-32]+g[v-1+32*A];li(M>>4,g,v)}function Jn(g,v){var A,M=4;for(A=0;8>A;++A)M+=g[v+A-32];li(M>>3,g,v)}function dr(g,v){var A,M=4;for(A=0;8>A;++A)M+=g[v-1+32*A];li(M>>3,g,v)}function Ri(g,v){li(128,g,v)}function ur(g,v,A){var M=g[v-A],V=g[v+0],Q=3*(V-M)+ed[1020+g[v-2*A]-g[v+A]],J=vl[112+(Q+4>>3)];g[v-A]=zn[255+M+vl[112+(Q+3>>3)]],g[v+0]=zn[255+V-J]}function fl(g,v,A,M){var V=g[v+0],Q=g[v+A];return Ga[255+g[v-2*A]-g[v-A]]>M||Ga[255+Q-V]>M}function ml(g,v,A,M){return 4*Ga[255+g[v-A]-g[v+0]]+Ga[255+g[v-2*A]-g[v+A]]<=M}function Ui(g,v,A,M,V){var Q=g[v-3*A],J=g[v-2*A],ae=g[v-A],ce=g[v+0],pe=g[v+A],we=g[v+2*A],Me=g[v+3*A];return 4*Ga[255+ae-ce]+Ga[255+J-pe]>M?0:Ga[255+g[v-4*A]-Q]<=V&&Ga[255+Q-J]<=V&&Ga[255+J-ae]<=V&&Ga[255+Me-we]<=V&&Ga[255+we-pe]<=V&&Ga[255+pe-ce]<=V}function oi(g,v,A,M){var V=2*M+1;for(M=0;16>M;++M)ml(g,v+M,A,V)&&ur(g,v+M,A)}function Lr(g,v,A,M){var V=2*M+1;for(M=0;16>M;++M)ml(g,v+M*A,1,V)&&ur(g,v+M*A,1)}function Jl(g,v,A,M){var V;for(V=3;0<V;--V)oi(g,v+=4*A,A,M)}function Jo(g,v,A,M){var V;for(V=3;0<V;--V)Lr(g,v+=4,A,M)}function Ma(g,v,A,M,V,Q,J,ae){for(Q=2*Q+1;0<V--;){if(Ui(g,v,A,Q,J))if(fl(g,v,A,ae))ur(g,v,A);else{var ce=g,pe=v,we=A,Me=ce[pe-2*we],me=ce[pe-we],_e=ce[pe+0],Ae=ce[pe+we],ze=ce[pe+2*we],De=27*(Ve=ed[1020+3*(_e-me)+ed[1020+Me-Ae]])+63>>7,We=18*Ve+63>>7,Ve=9*Ve+63>>7;ce[pe-3*we]=zn[255+ce[pe-3*we]+Ve],ce[pe-2*we]=zn[255+Me+We],ce[pe-we]=zn[255+me+De],ce[pe+0]=zn[255+_e-De],ce[pe+we]=zn[255+Ae-We],ce[pe+2*we]=zn[255+ze-Ve]}v+=M}}function Dr(g,v,A,M,V,Q,J,ae){for(Q=2*Q+1;0<V--;){if(Ui(g,v,A,Q,J))if(fl(g,v,A,ae))ur(g,v,A);else{var ce=g,pe=v,we=A,Me=ce[pe-we],me=ce[pe+0],_e=ce[pe+we],Ae=vl[112+(4+(ze=3*(me-Me))>>3)],ze=vl[112+(ze+3>>3)],De=Ae+1>>1;ce[pe-2*we]=zn[255+ce[pe-2*we]+De],ce[pe-we]=zn[255+Me+ze],ce[pe+0]=zn[255+me-Ae],ce[pe+we]=zn[255+_e-De]}v+=M}}function C(g,v,A,M,V,Q){Ma(g,v,A,1,16,M,V,Q)}function W(g,v,A,M,V,Q){Ma(g,v,1,A,16,M,V,Q)}function xe(g,v,A,M,V,Q){var J;for(J=3;0<J;--J)Dr(g,v+=4*A,A,1,16,M,V,Q)}function ve(g,v,A,M,V,Q){var J;for(J=3;0<J;--J)Dr(g,v+=4,1,A,16,M,V,Q)}function ke(g,v,A,M,V,Q,J,ae){Ma(g,v,V,1,8,Q,J,ae),Ma(A,M,V,1,8,Q,J,ae)}function Ge(g,v,A,M,V,Q,J,ae){Ma(g,v,1,V,8,Q,J,ae),Ma(A,M,1,V,8,Q,J,ae)}function rt(g,v,A,M,V,Q,J,ae){Dr(g,v+4*V,V,1,8,Q,J,ae),Dr(A,M+4*V,V,1,8,Q,J,ae)}function kt(g,v,A,M,V,Q,J,ae){Dr(g,v+4,1,V,8,Q,J,ae),Dr(A,M+4,1,V,8,Q,J,ae)}function Mt(){this.ba=new mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ts(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gs(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new $}function Js(){this.xb=this.a=0,this.l=new Ql,this.ca=new mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gs,this.ab=0,this.gc=c(4,ts),this.Oc=0}function yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ql,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ls(g,v,A,M,V,Q,J){for(g=g==null?0:g[v+0],v=0;v<J;++v)V[Q+v]=g+A[M+v]&255,g=V[Q+v]}function vn(g,v,A,M,V,Q,J){var ae;if(g==null)Ls(null,null,A,M,V,Q,J);else for(ae=0;ae<J;++ae)V[Q+ae]=g[v+ae]+A[M+ae]&255}function wn(g,v,A,M,V,Q,J){if(g==null)Ls(null,null,A,M,V,Q,J);else{var ae,ce=g[v+0],pe=ce,we=ce;for(ae=0;ae<J;++ae)pe=we+(ce=g[v+ae])-pe,we=A[M+ae]+(-256&pe?0>pe?0:255:pe)&255,pe=ce,V[Q+ae]=we}}function Vn(g,v,A,M){var V=v.width,Q=v.o;if(e(g!=null&&v!=null),0>A||0>=M||A+M>Q)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new yn,(J=g.ga==null)||(J=v.width*v.o,e(g.Gb.length==0),g.Gb=l(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var ae=g.Fa,ce=g.P,pe=g.qc,we=g.mb,Me=g.nb,me=ce+1,_e=pe-1,Ae=J.l;if(e(ae!=null&&we!=null&&v!=null),Hr[0]=null,Hr[1]=Ls,Hr[2]=vn,Hr[3]=wn,J.ca=we,J.tb=Me,J.c=v.width,J.i=v.height,e(0<J.c&&0<J.i),1>=pe)v=0;else if(J.$a=3&ae[ce+0],J.Z=ae[ce+0]>>2&3,J.Lc=ae[ce+0]>>4&3,ce=ae[ce+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ce)v=0;else if(Ae.put=Rt,Ae.ac=Aa,Ae.bc=Sn,Ae.ma=J,Ae.width=v.width,Ae.height=v.height,Ae.Da=v.Da,Ae.v=v.v,Ae.va=v.va,Ae.j=v.j,Ae.o=v.o,J.$a)e:{e(J.$a==1),v=Us();t:for(;;){if(v==null){v=0;break e}if(e(J!=null),J.mc=v,v.c=J.c,v.i=J.i,v.l=J.l,v.l.ma=J,v.l.width=J.c,v.l.height=J.i,v.a=0,de(v.m,ae,me,_e),!va(J.c,J.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&$e(v.s)?(J.ic=1,ae=v.c*v.i,v.Ta=null,v.Ua=0,v.V=l(ae),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(J.ic=0,v=ir(v,J.c)),!v))break t;v=1;break e}J.mc=null,v=0}else v=_e>=J.c*J.i;J=!v}if(J)return null;g.ga.Lc!=1?g.Ga=0:M=Q-A}e(g.ga!=null),e(A+M<=Q);e:{if(v=(ae=g.ga).c,Q=ae.l.o,ae.$a==0){if(me=g.rc,_e=g.Vc,Ae=g.Fa,ce=g.P+1+A*v,pe=g.mb,we=g.nb+A*v,e(ce<=g.P+g.qc),ae.Z!=0)for(e(Hr[ae.Z]!=null),J=0;J<M;++J)Hr[ae.Z](me,_e,Ae,ce,pe,we,v),me=pe,_e=we,we+=v,ce+=v;else for(J=0;J<M;++J)a(pe,we,Ae,ce,v),me=pe,_e=we,we+=v,ce+=v;g.rc=me,g.Vc=_e}else{if(e(ae.mc!=null),v=A+M,e((J=ae.mc)!=null),e(v<=J.i),J.C>=v)v=1;else if(ae.ic||pl(),ae.ic){ae=J.V,me=J.Ba,_e=J.c;var ze=J.i,De=(Ae=1,ce=J.$/_e,pe=J.$%_e,we=J.m,Me=J.s,J.$),We=_e*ze,Ve=_e*v,it=Me.wc,st=De<Ve?an(Me,pe,ce):null;e(De<=We),e(v<=ze),e($e(Me));t:for(;;){for(;!we.h&&De<Ve;){if(pe&it||(st=an(Me,pe,ce)),e(st!=null),fe(we),256>(ze=Fs(st.G[0],st.H[0],we)))ae[me+De]=ze,++De,++pe>=_e&&(pe=0,++ce<=v&&!(ce%16)&&ns(J,ce));else{if(!(280>ze)){Ae=0;break t}ze=vt(ze-256,we);var Dt,jt=Fs(st.G[4],st.H[4],we);if(fe(we),!(De>=(jt=Ms(_e,jt=vt(jt,we)))&&We-De>=ze)){Ae=0;break t}for(Dt=0;Dt<ze;++Dt)ae[me+De+Dt]=ae[me+De+Dt-jt];for(De+=ze,pe+=ze;pe>=_e;)pe-=_e,++ce<=v&&!(ce%16)&&ns(J,ce);De<Ve&&pe&it&&(st=an(Me,pe,ce))}e(we.h==q(we))}ns(J,ce>v?v:ce);break t}!Ae||we.h&&De<We?(Ae=0,J.a=we.h?5:3):J.$=De,v=Ae}else v=qt(J,J.V,J.Ba,J.c,J.i,v,Cn);if(!v){M=0;break e}}A+M>=Q&&(g.Cc=1),M=1}if(!M)return null;if(g.Cc&&((M=g.ga)!=null&&(M.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+A*V}function ci(g,v,A,M,V,Q){for(;0<V--;){var J,ae=g,ce=v+(A?1:0),pe=g,we=v+(A?0:3);for(J=0;J<M;++J){var Me=pe[we+4*J];Me!=255&&(Me*=32897,ae[ce+4*J+0]=ae[ce+4*J+0]*Me>>23,ae[ce+4*J+1]=ae[ce+4*J+1]*Me>>23,ae[ce+4*J+2]=ae[ce+4*J+2]*Me>>23)}v+=Q}}function Ii(g,v,A,M,V){for(;0<M--;){var Q;for(Q=0;Q<A;++Q){var J=g[v+2*Q+0],ae=15&(pe=g[v+2*Q+1]),ce=4369*ae,pe=(240&pe|pe>>4)*ce>>16;g[v+2*Q+0]=(240&J|J>>4)*ce>>16&240|(15&J|J<<4)*ce>>16>>4&15,g[v+2*Q+1]=240&pe|ae}v+=V}}function Zd(g,v,A,M,V,Q,J,ae){var ce,pe,we=255;for(pe=0;pe<V;++pe){for(ce=0;ce<M;++ce){var Me=g[v+ce];Q[J+4*ce]=Me,we&=Me}v+=A,J+=ae}return we!=255}function Kc(g,v,A,M,V){var Q;for(Q=0;Q<V;++Q)A[M+Q]=g[v+Q]>>8}function pl(){lo=ci,Oa=Ii,Ta=Zd,bl=Kc}function hr(g,v,A){H[g]=function(M,V,Q,J,ae,ce,pe,we,Me,me,_e,Ae,ze,De,We,Ve,it){var st,Dt=it-1>>1,jt=ae[ce+0]|pe[we+0]<<16,Qt=Me[me+0]|_e[Ae+0]<<16;e(M!=null);var _t=3*jt+Qt+131074>>2;for(v(M[V+0],255&_t,_t>>16,ze,De),Q!=null&&(_t=3*Qt+jt+131074>>2,v(Q[J+0],255&_t,_t>>16,We,Ve)),st=1;st<=Dt;++st){var ds=ae[ce+st]|pe[we+st]<<16,Nn=Me[me+st]|_e[Ae+st]<<16,Gt=jt+ds+Qt+Nn+524296,Ct=Gt+2*(ds+Qt)>>3;_t=Ct+jt>>1,jt=(Gt=Gt+2*(jt+Nn)>>3)+ds>>1,v(M[V+2*st-1],255&_t,_t>>16,ze,De+(2*st-1)*A),v(M[V+2*st-0],255&jt,jt>>16,ze,De+(2*st-0)*A),Q!=null&&(_t=Gt+Qt>>1,jt=Ct+Nn>>1,v(Q[J+2*st-1],255&_t,_t>>16,We,Ve+(2*st-1)*A),v(Q[J+2*st+0],255&jt,jt>>16,We,Ve+(2*st+0)*A)),jt=ds,Qt=Nn}1&it||(_t=3*jt+Qt+131074>>2,v(M[V+it-1],255&_t,_t>>16,ze,De+(it-1)*A),Q!=null&&(_t=3*Qt+jt+131074>>2,v(Q[J+it-1],255&_t,_t>>16,We,Ve+(it-1)*A)))}}function ec(){Hn[ta]=bi,Hn[oo]=$r,Hn[qr]=Yi,Hn[ac]=nd,Hn[wl]=ad,Hn[fi]=ho,Hn[td]=rd,Hn[rc]=$r,Hn[Wi]=nd,Hn[mi]=ad,Hn[co]=ho}function qi(g){return g&-16384?0>g?0:255:g>>Km}function za(g,v){return qi((19077*g>>8)+(26149*v>>8)-14234)}function In(g,v,A){return qi((19077*g>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function Mr(g,v){return qi((19077*g>>8)+(33050*v>>8)-17685)}function Fr(g,v,A,M,V){M[V+0]=za(g,A),M[V+1]=In(g,v,A),M[V+2]=Mr(g,v)}function xl(g,v,A,M,V){M[V+0]=Mr(g,v),M[V+1]=In(g,v,A),M[V+2]=za(g,A)}function eo(g,v,A,M,V){var Q=In(g,v,A);v=Q<<3&224|Mr(g,v)>>3,M[V+0]=248&za(g,A)|Q>>5,M[V+1]=v}function ea(g,v,A,M,V){var Q=240&Mr(g,v)|15;M[V+0]=240&za(g,A)|In(g,v,A)>>4,M[V+1]=Q}function di(g,v,A,M,V){M[V+0]=255,Fr(g,v,A,M,V+1)}function to(g,v,A,M,V){xl(g,v,A,M,V),M[V+3]=255}function Qc(g,v,A,M,V){Fr(g,v,A,M,V),M[V+3]=255}function kn(g,v){return 0>g?0:g>v?v:g}function Fa(g,v,A){H[g]=function(M,V,Q,J,ae,ce,pe,we,Me){for(var me=we+(-2&Me)*A;we!=me;)v(M[V+0],Q[J+0],ae[ce+0],pe,we),v(M[V+1],Q[J+0],ae[ce+0],pe,we+A),V+=2,++J,++ce,we+=2*A;1&Me&&v(M[V+0],Q[J+0],ae[ce+0],pe,we)}}function so(g,v,A){return A==0?g==0?v==0?6:5:v==0?4:0:A}function ui(g,v,A,M,V){switch(g>>>30){case 3:en(v,A,M,V,0);break;case 2:Ir(v,A,M,V);break;case 1:ua(v,A,M,V)}}function Ha(g,v){var A,M,V=v.M,Q=v.Nb,J=g.oc,ae=g.pc+40,ce=g.oc,pe=g.pc+584,we=g.oc,Me=g.pc+600;for(A=0;16>A;++A)J[ae+32*A-1]=129;for(A=0;8>A;++A)ce[pe+32*A-1]=129,we[Me+32*A-1]=129;for(0<V?J[ae-1-32]=ce[pe-1-32]=we[Me-1-32]=129:(i(J,ae-32-1,127,21),i(ce,pe-32-1,127,9),i(we,Me-32-1,127,9)),M=0;M<g.za;++M){var me=v.ya[v.aa+M];if(0<M){for(A=-1;16>A;++A)a(J,ae+32*A-4,J,ae+32*A+12,4);for(A=-1;8>A;++A)a(ce,pe+32*A-4,ce,pe+32*A+4,4),a(we,Me+32*A-4,we,Me+32*A+4,4)}var _e=g.Gd,Ae=g.Hd+M,ze=me.ad,De=me.Hc;if(0<V&&(a(J,ae-32,_e[Ae].y,0,16),a(ce,pe-32,_e[Ae].f,0,8),a(we,Me-32,_e[Ae].ea,0,8)),me.Za){var We=J,Ve=ae-32+16;for(0<V&&(M>=g.za-1?i(We,Ve,_e[Ae].y[15],4):a(We,Ve,_e[Ae+1].y,0,4)),A=0;4>A;A++)We[Ve+128+A]=We[Ve+256+A]=We[Ve+384+A]=We[Ve+0+A];for(A=0;16>A;++A,De<<=2)We=J,Ve=ae+Sl[A],ha[me.Ob[A]](We,Ve),ui(De,ze,16*+A,We,Ve)}else if(We=so(M,V,me.Ob[0]),gi[We](J,ae),De!=0)for(A=0;16>A;++A,De<<=2)ui(De,ze,16*+A,J,ae+Sl[A]);for(A=me.Gc,We=so(M,V,me.Dd),Ba[We](ce,pe),Ba[We](we,Me),De=ze,We=ce,Ve=pe,255&(me=0|A)&&(170&me?Va(De,256,We,Ve):gl(De,256,We,Ve)),me=we,De=Me,255&(A>>=8)&&(170&A?Va(ze,320,me,De):gl(ze,320,me,De)),V<g.Ub-1&&(a(_e[Ae].y,0,J,ae+480,16),a(_e[Ae].f,0,ce,pe+224,8),a(_e[Ae].ea,0,we,Me+224,8)),A=8*Q*g.B,_e=g.sa,Ae=g.ta+16*M+16*Q*g.R,ze=g.qa,me=g.ra+8*M+A,De=g.Ha,We=g.Ia+8*M+A,A=0;16>A;++A)a(_e,Ae+A*g.R,J,ae+32*A,16);for(A=0;8>A;++A)a(ze,me+A*g.B,ce,pe+32*A,8),a(De,We+A*g.B,we,Me+32*A,8)}}function no(g,v,A,M,V,Q,J,ae,ce){var pe=[0],we=[0],Me=0,me=ce!=null?ce.kd:0,_e=ce??new Vt;if(g==null||12>A)return 7;_e.data=g,_e.w=v,_e.ha=A,v=[v],A=[A],_e.gb=[_e.gb];e:{var Ae=v,ze=A,De=_e.gb;if(e(g!=null),e(ze!=null),e(De!=null),De[0]=0,12<=ze[0]&&!n(g,Ae[0],"RIFF")){if(n(g,Ae[0]+8,"WEBP")){De=3;break e}var We=he(g,Ae[0]+4);if(12>We||4294967286<We){De=3;break e}if(me&&We>ze[0]-8){De=7;break e}De[0]=We,Ae[0]+=12,ze[0]-=12}De=0}if(De!=0)return De;for(We=0<_e.gb[0],A=A[0];;){e:{var Ve=g;ze=v,De=A;var it=pe,st=we,Dt=Ae=[0];if((_t=Me=[Me])[0]=0,8>De[0])De=7;else{if(!n(Ve,ze[0],"VP8X")){if(he(Ve,ze[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var jt=he(Ve,ze[0]+8),Qt=1+Ke(Ve,ze[0]+12);if(2147483648<=Qt*(Ve=1+Ke(Ve,ze[0]+15))){De=3;break e}Dt!=null&&(Dt[0]=jt),it!=null&&(it[0]=Qt),st!=null&&(st[0]=Ve),ze[0]+=18,De[0]-=18,_t[0]=1}De=0}}if(Me=Me[0],Ae=Ae[0],De!=0)return De;if(ze=!!(2&Ae),!We&&Me)return 3;if(Q!=null&&(Q[0]=!!(16&Ae)),J!=null&&(J[0]=ze),ae!=null&&(ae[0]=0),J=pe[0],Ae=we[0],Me&&ze&&ce==null){De=0;break}if(4>A){De=7;break}if(We&&Me||!We&&!Me&&!n(g,v[0],"ALPH")){A=[A],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{jt=g,De=v,We=A;var _t=_e.gb;it=_e.na,st=_e.P,Dt=_e.Sa,Qt=22,e(jt!=null),e(We!=null),Ve=De[0];var ds=We[0];for(e(it!=null),e(Dt!=null),it[0]=null,st[0]=null,Dt[0]=0;;){if(De[0]=Ve,We[0]=ds,8>ds){De=7;break e}var Nn=he(jt,Ve+4);if(4294967286<Nn){De=3;break e}var Gt=8+Nn+1&-2;if(Qt+=Gt,0<_t&&Qt>_t){De=3;break e}if(!n(jt,Ve,"VP8 ")||!n(jt,Ve,"VP8L")){De=0;break e}if(ds[0]<Gt){De=7;break e}n(jt,Ve,"ALPH")||(it[0]=jt,st[0]=Ve+8,Dt[0]=Nn),Ve+=Gt,ds-=Gt}}if(A=A[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],De!=0)break}A=[A],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(_t=g,De=v,We=A,it=_e.gb[0],st=_e.Ja,Dt=_e.xa,jt=De[0],Ve=!n(_t,jt,"VP8 "),Qt=!n(_t,jt,"VP8L"),e(_t!=null),e(We!=null),e(st!=null),e(Dt!=null),8>We[0])De=7;else{if(Ve||Qt){if(_t=he(_t,jt+4),12<=it&&_t>it-12){De=3;break e}if(me&&_t>We[0]-8){De=7;break e}st[0]=_t,De[0]+=8,We[0]-=8,Dt[0]=Qt}else Dt[0]=5<=We[0]&&_t[jt+0]==47&&!(_t[jt+4]>>5),st[0]=We[0];De=0}if(A=A[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],v=v[0],De!=0)break;if(4294967286<_e.Ja)return 3;if(ae==null||ze||(ae[0]=_e.xa?2:1),J=[J],Ae=[Ae],_e.xa){if(5>A){De=7;break}ae=J,me=Ae,ze=Q,g==null||5>A?g=0:5<=A&&g[v+0]==47&&!(g[v+4]>>5)?(We=[0],_t=[0],it=[0],de(st=new P,g,v,A),xs(st,We,_t,it)?(ae!=null&&(ae[0]=We[0]),me!=null&&(me[0]=_t[0]),ze!=null&&(ze[0]=it[0]),g=1):g=0):g=0}else{if(10>A){De=7;break}ae=Ae,g==null||10>A||!Vo(g,v+3,A-3)?g=0:(me=g[v+0]|g[v+1]<<8|g[v+2]<<16,ze=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=_e.Ja||!ze||!g?g=0:(J&&(J[0]=ze),ae&&(ae[0]=g),g=1))}if(!g||(J=J[0],Ae=Ae[0],Me&&(pe[0]!=J||we[0]!=Ae)))return 3;ce!=null&&(ce[0]=_e,ce.offset=v-ce.w,e(4294967286>v-ce.w),e(ce.offset==ce.ha-A));break}return De==0||De==7&&Me&&ce==null?(Q!=null&&(Q[0]|=_e.na!=null&&0<_e.na.length),M!=null&&(M[0]=J),V!=null&&(V[0]=Ae),0):De}function Wn(g,v,A){var M=v.width,V=v.height,Q=0,J=0,ae=M,ce=V;if(v.Da=g!=null&&0<g.Da,v.Da&&(ae=g.cd,ce=g.bd,Q=g.v,J=g.j,11>A||(Q&=-2,J&=-2),0>Q||0>J||0>=ae||0>=ce||Q+ae>M||J+ce>V))return 0;if(v.v=Q,v.j=J,v.va=Q+ae,v.o=J+ce,v.U=ae,v.T=ce,v.da=g!=null&&0<g.da,v.da){if(!bt(ae,ce,A=[g.ib],Q=[g.hb]))return 0;v.ib=A[0],v.hb=Q[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*M/4&&v.hb<3*V/4,v.Kb=0),1}function ca(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function zi(g,v,A,M){if(M==null||0>=g||0>=v)return 2;if(A!=null){if(A.Da){var V=A.cd,Q=A.bd,J=-2&A.v,ae=-2&A.j;if(0>J||0>ae||0>=V||0>=Q||J+V>g||ae+Q>v)return 2;g=V,v=Q}if(A.da){if(!bt(g,v,V=[A.ib],Q=[A.hb]))return 2;g=V[0],v=Q[0]}}M.width=g,M.height=v;e:{var ce=M.width,pe=M.height;if(g=M.S,0>=ce||0>=pe||!(g>=ta&&13>g))g=2;else{if(0>=M.Rd&&M.sd==null){J=Q=V=v=0;var we=(ae=ce*Bh[g])*pe;if(11>g||(Q=(pe+1)/2*(v=(ce+1)/2),g==12&&(J=(V=ce)*pe)),(pe=l(we+2*Q+J))==null){g=1;break e}M.sd=pe,11>g?((ce=M.f.RGBA).eb=pe,ce.fb=0,ce.A=ae,ce.size=we):((ce=M.f.kb).y=pe,ce.O=0,ce.fa=ae,ce.Fd=we,ce.f=pe,ce.N=0+we,ce.Ab=v,ce.Cd=Q,ce.ea=pe,ce.W=0+we+Q,ce.Db=v,ce.Ed=Q,g==12&&(ce.F=pe,ce.J=0+we+2*Q),ce.Tc=J,ce.lb=V)}if(v=1,V=M.S,Q=M.width,J=M.height,V>=ta&&13>V)if(11>V)g=M.f.RGBA,v&=(ae=Math.abs(g.A))*(J-1)+Q<=g.size,v&=ae>=Q*Bh[V],v&=g.eb!=null;else{g=M.f.kb,ae=(Q+1)/2,we=(J+1)/2,ce=Math.abs(g.fa),pe=Math.abs(g.Ab);var Me=Math.abs(g.Db),me=Math.abs(g.lb),_e=me*(J-1)+Q;v&=ce*(J-1)+Q<=g.Fd,v&=pe*(we-1)+ae<=g.Cd,v=(v&=Me*(we-1)+ae<=g.Ed)&ce>=Q&pe>=ae&Me>=ae,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,V==12&&(v&=me>=Q,v&=_e<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||A!=null&&A.fd&&(g=ca(M)),g}var $a=64,Or=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ao=24,hi=32,rn=8,Jd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(g){return g},H.Predictor2=function(g,v,A){return v[A+0]},H.Predictor3=function(g,v,A){return v[A+1]},H.Predictor4=function(g,v,A){return v[A-1]},H.Predictor5=function(g,v,A){return Pe(Pe(g,v[A+1]),v[A+0])},H.Predictor6=function(g,v,A){return Pe(g,v[A-1])},H.Predictor7=function(g,v,A){return Pe(g,v[A+0])},H.Predictor8=function(g,v,A){return Pe(v[A-1],v[A+0])},H.Predictor9=function(g,v,A){return Pe(v[A+0],v[A+1])},H.Predictor10=function(g,v,A){return Pe(Pe(g,v[A-1]),Pe(v[A+0],v[A+1]))},H.Predictor11=function(g,v,A){var M=v[A+0];return 0>=Qe(M>>24&255,g>>24&255,(v=v[A-1])>>24&255)+Qe(M>>16&255,g>>16&255,v>>16&255)+Qe(M>>8&255,g>>8&255,v>>8&255)+Qe(255&M,255&g,255&v)?M:g},H.Predictor12=function(g,v,A){var M=v[A+0];return(ht((g>>24&255)+(M>>24&255)-((v=v[A-1])>>24&255))<<24|ht((g>>16&255)+(M>>16&255)-(v>>16&255))<<16|ht((g>>8&255)+(M>>8&255)-(v>>8&255))<<8|ht((255&g)+(255&M)-(255&v)))>>>0},H.Predictor13=function(g,v,A){var M=v[A-1];return(Be((g=Pe(g,v[A+0]))>>24&255,M>>24&255)<<24|Be(g>>16&255,M>>16&255)<<16|Be(g>>8&255,M>>8&255)<<8|Be(255&g,255&M))>>>0};var Tr=H.PredictorAdd0;H.PredictorAdd1=je,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Pr=H.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var ro,tc=H.ColorIndexInverseTransform,qn=H.MapARGB,Br=H.VP8LColorIndexInverseTransformAlpha,Hi=H.MapAlpha,$i=H.VP8LPredictorsAdd=[];$i.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Rr,io,da,Ur,Ns,Ds,$s,en,Ir,Va,ua,gl,eu,Vi,tu,su,nu,Eh,Lh,Dh,au,ru,Xc,Wa,lo,Oa,Ta,bl,Zc=l(511),sc=l(2041),nc=l(225),Jc=l(767),yl=0,ed=sc,vl=nc,zn=Jc,Ga=Zc,ta=0,oo=1,qr=2,ac=3,wl=4,fi=5,td=6,rc=7,Wi=8,mi=9,co=10,sd=[2,3,7],Ya=[3,3,11],Pa=[280,256,256,256,40],Nl=[0,1,1,1,0],pi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mh=8,ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],An=null,ln=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],js=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_l=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gi=[],ha=[],Ba=[],Oh=1,uo=2,Hr=[],Hn=[];hr("UpsampleRgbLinePair",Fr,3),hr("UpsampleBgrLinePair",xl,3),hr("UpsampleRgbaLinePair",Qc,4),hr("UpsampleBgraLinePair",to,4),hr("UpsampleArgbLinePair",di,4),hr("UpsampleRgba4444LinePair",ea,2),hr("UpsampleRgb565LinePair",eo,2);var bi=H.UpsampleRgbLinePair,Yi=H.UpsampleBgrLinePair,$r=H.UpsampleRgbaLinePair,nd=H.UpsampleBgraLinePair,ad=H.UpsampleArgbLinePair,ho=H.UpsampleRgba4444LinePair,rd=H.UpsampleRgb565LinePair,Vr=16,En=1<<Vr-1,Ki=-227,id=482,Km=6,Th=0,Qm=l(256),Ln=l(256),lu=l(256),oc=l(256),cc=l(id-Ki),ou=l(id-Ki);Fa("YuvToRgbRow",Fr,3),Fa("YuvToBgrRow",xl,3),Fa("YuvToRgbaRow",Qc,4),Fa("YuvToBgraRow",to,4),Fa("YuvToArgbRow",di,4),Fa("YuvToRgba4444Row",ea,2),Fa("YuvToRgb565Row",eo,2);var Sl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yi=[0,2,8],Xm=[8,7,6,4,4,2,2,2,1,1,1,1],Ph=1;this.WebPDecodeRGBA=function(g,v,A,M,V){var Q=oo,J=new Mt,ae=new mt;J.ba=ae,ae.S=Q,ae.width=[ae.width],ae.height=[ae.height];var ce=ae.width,pe=ae.height,we=new Ze;if(we==null||g==null)var Me=2;else e(we!=null),Me=no(g,v,A,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Me!=0?ce=0:(ce!=null&&(ce[0]=we.width[0]),pe!=null&&(pe[0]=we.height[0]),ce=1),ce){ae.width=ae.width[0],ae.height=ae.height[0],M!=null&&(M[0]=ae.width),V!=null&&(V[0]=ae.height);e:{if(M=new Ql,(V=new Vt).data=g,V.w=v,V.ha=A,V.kd=1,v=[0],e(V!=null),((g=no(V.data,V.w,V.ha,null,null,null,v,null,V))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(e(J!=null),M.data=V.data,M.w=V.w+V.offset,M.ha=V.ha-V.offset,M.put=Rt,M.ac=Aa,M.bc=Sn,M.ma=J,V.xa){if((g=Us())==null){J=1;break e}if(function(me,_e){var Ae=[0],ze=[0],De=[0];t:for(;;){if(me==null)return 0;if(_e==null)return me.a=2,0;if(me.l=_e,me.a=0,de(me.m,_e.data,_e.w,_e.ha),!xs(me.m,Ae,ze,De)){me.a=3;break t}if(me.xb=uo,_e.width=Ae[0],_e.height=ze[0],!va(Ae[0],ze[0],1,me,null))break t;return 1}return e(me.a!=0),0}(g,M)){if(M=(v=zi(M.width,M.height,J.Oa,J.ba))==0){t:{M=g;s:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((A=M.l)!=null),e((V=A.ma)!=null),M.xb!=0){if(M.ca=V.ba,M.tb=V.tb,e(M.ca!=null),!Wn(V.Oa,A,ac)){M.a=2;break s}if(!ir(M,A.width)||A.da)break s;if((A.da||Pt(M.ca.S))&&pl(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&pl()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!oe(M.s.vb,M.s.Wa.Xa)){M.a=1;break s}M.xb=0}if(!qt(M,M.V,M.Ba,M.c,M.i,A.o,X))break s;V.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(v=g.a)}else v=g.a}else{if((g=new $c)==null){J=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Vc(g,M)){if((v=zi(M.width,M.height,J.Oa,J.ba))==0){if(g.Aa=0,A=J.Oa,e((V=g)!=null),A!=null){if(0<(ce=0>(ce=A.Md)?0:100<ce?255:255*ce/100)){for(pe=we=0;4>pe;++pe)12>(Me=V.pb[pe]).lc&&(Me.ia=ce*Xm[0>Me.lc?0:Me.lc]>>3),we|=Me.ia;we&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=A.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(me,_e){if(me==null)return 0;if(_e==null)return ws(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!Vc(me,_e))return 0;if(e(me.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(me.L=0);var Ae=yi[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=_e.v-Ae>>4,me.zb=_e.j-Ae>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=_e.o+15+Ae>>4,me.Hb=_e.va+15+Ae>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var ze=me.ed;for(Ae=0;4>Ae;++Ae){var De;if(me.Qa.Cb){var We=me.Qa.Lb[Ae];me.Qa.Fb||(We+=ze.Tb)}else We=ze.Tb;for(De=0;1>=De;++De){var Ve=me.gd[Ae][De],it=We;if(ze.Pc&&(it+=ze.vd[0],De&&(it+=ze.od[0])),0<(it=0>it?0:63<it?63:it)){var st=it;0<ze.wb&&(st=4<ze.wb?st>>2:st>>1)>9-ze.wb&&(st=9-ze.wb),1>st&&(st=1),Ve.dd=st,Ve.tc=2*it+st,Ve.ld=40<=it?2:15<=it?1:0}else Ve.tc=0;Ve.La=De}}}Ae=0}else ws(me,6,"Frame setup failed"),Ae=me.a;if(Ae=Ae==0){if(Ae){me.$c=0,0<me.Aa||(me.Ic=Ph);t:{Ae=me.Ic,ze=4*(st=me.za);var Dt=32*st,jt=st+1,Qt=0<me.L?st*(0<me.Aa?2:1):0,_t=(me.Aa==2?2:1)*st;if((Ve=ze+832+(De=3*(16*Ae+yi[me.L])/2*Dt)+(We=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Ve)Ae=0;else{if(Ve>me.Vb){if(me.Vb=0,me.Ec=l(Ve),me.Fc=0,me.Ec==null){Ae=ws(me,1,"no memory during frame initialization.");break t}me.Vb=Ve}Ve=me.Ec,it=me.Fc,me.Ac=Ve,me.Bc=it,it+=ze,me.Gd=c(Dt,Yl),me.Hd=0,me.rb=c(jt+1,La),me.sb=1,me.wa=Qt?c(Qt,oa):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=st),e(!0),me.oc=Ve,me.pc=it,it+=832,me.ya=c(_t,Gl),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=st),me.R=16*st,me.B=8*st,st=(Dt=yi[me.L])*me.R,Dt=Dt/2*me.B,me.sa=Ve,me.ta=it+st,me.qa=me.sa,me.ra=me.ta+16*Ae*me.R+Dt,me.Ha=me.qa,me.Ia=me.ra+8*Ae*me.B+Dt,me.$c=0,it+=De,me.mb=We?Ve:null,me.nb=We?it:null,e(it+We<=me.Fc+me.Vb),Ti(me),i(me.Ac,me.Bc,0,ze),Ae=1}}if(Ae){if(_e.ka=0,_e.y=me.sa,_e.O=me.ta,_e.f=me.qa,_e.N=me.ra,_e.ea=me.Ha,_e.Vd=me.Ia,_e.fa=me.R,_e.Rc=me.B,_e.F=null,_e.J=0,!yl){for(Ae=-255;255>=Ae;++Ae)Zc[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)sc[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)nc[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)Jc[255+Ae]=0>Ae?0:255<Ae?255:Ae;yl=1}$s=ri,en=Wo,Va=Pi,ua=lr,gl=Go,Ir=Wc,eu=C,Vi=W,tu=ke,su=Ge,nu=xe,Eh=ve,Lh=rt,Dh=kt,au=oi,ru=Lr,Xc=Jl,Wa=Jo,ha[0]=ul,ha[1]=Xl,ha[2]=Xo,ha[3]=Yc,ha[4]=or,ha[5]=Da,ha[6]=cr,ha[7]=Ar,ha[8]=ii,ha[9]=Zo,gi[0]=Cr,gi[1]=Yo,gi[2]=Xd,gi[3]=Ko,gi[4]=Qo,gi[5]=qa,gi[6]=kr,Ba[0]=hl,Ba[1]=Gc,Ba[2]=Zl,Ba[3]=Er,Ba[4]=dr,Ba[5]=Jn,Ba[6]=Ri,Ae=1}else Ae=0}Ae&&(Ae=function(ds,Nn){for(ds.M=0;ds.M<ds.Va;++ds.M){var Gt,Ct=ds.Jc[ds.M&ds.Xb],pt=ds.m,tn=ds;for(Gt=0;Gt<tn.za;++Gt){var Xt=pt,as=tn,At=as.Ac,Jt=as.Bc+4*Gt,ms=as.zc,Vs=as.ya[as.aa+Gt];if(as.Qa.Bb?Vs.$b=Oe(Xt,as.Pa.jb[0])?2+Oe(Xt,as.Pa.jb[2]):Oe(Xt,as.Pa.jb[1]):Vs.$b=0,as.kc&&(Vs.Ad=Oe(Xt,as.Bd)),Vs.Za=!Oe(Xt,145)+0,Vs.Za){var pn=Vs.Ob,xn=0;for(as=0;4>as;++as){var on,cs=ms[0+as];for(on=0;4>on;++on){cs=iu[At[Jt+on]][cs];for(var ps=Gi[Oe(Xt,cs[0])];0<ps;)ps=Gi[2*ps+Oe(Xt,cs[ps])];cs=-ps,At[Jt+on]=cs}a(pn,xn,At,Jt,4),xn+=4,ms[0+as]=cs}}else cs=Oe(Xt,156)?Oe(Xt,128)?1:3:Oe(Xt,163)?2:0,Vs.Ob[0]=cs,i(At,Jt,cs,4),i(ms,0,cs,4);Vs.Dd=Oe(Xt,142)?Oe(Xt,114)?Oe(Xt,183)?1:3:2:0}if(tn.m.Ka)return ws(ds,7,"Premature end-of-partition0 encountered.");for(;ds.ja<ds.za;++ds.ja){if(tn=Ct,Xt=(pt=ds).rb[pt.sb-1],At=pt.rb[pt.sb+pt.ja],Gt=pt.ya[pt.aa+pt.ja],Jt=pt.kc?Gt.Ad:0)Xt.la=At.la=0,Gt.Za||(Xt.Na=At.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var cn,zt;if(Xt=At,At=tn,Jt=pt.Pa.Xc,ms=pt.ya[pt.aa+pt.ja],Vs=pt.pb[ms.$b],as=ms.ad,pn=0,xn=pt.rb[pt.sb-1],cs=on=0,i(as,pn,0,384),ms.Za)var Dn=0,Ra=Jt[3];else{ps=l(16);var dn=Xt.Na+xn.Na;if(dn=An(At,Jt[1],dn,Vs.Eb,0,ps,0),Xt.Na=xn.Na=(0<dn)+0,1<dn)$s(ps,0,as,pn);else{var fa=ps[0]+3>>3;for(ps=0;256>ps;ps+=16)as[pn+ps]=fa}Dn=1,Ra=Jt[0]}var Os=15&Xt.la,gn=15&xn.la;for(ps=0;4>ps;++ps){var ma=1&gn;for(fa=zt=0;4>fa;++fa)Os=Os>>1|(ma=(dn=An(At,Ra,dn=ma+(1&Os),Vs.Sc,Dn,as,pn))>Dn)<<7,zt=zt<<2|(3<dn?3:1<dn?2:as[pn+0]!=0),pn+=16;Os>>=4,gn=gn>>1|ma<<7,on=(on<<8|zt)>>>0}for(Ra=Os,Dn=gn>>4,cn=0;4>cn;cn+=2){for(zt=0,Os=Xt.la>>4+cn,gn=xn.la>>4+cn,ps=0;2>ps;++ps){for(ma=1&gn,fa=0;2>fa;++fa)dn=ma+(1&Os),Os=Os>>1|(ma=0<(dn=An(At,Jt[2],dn,Vs.Qc,0,as,pn)))<<3,zt=zt<<2|(3<dn?3:1<dn?2:as[pn+0]!=0),pn+=16;Os>>=2,gn=gn>>1|ma<<5}cs|=zt<<4*cn,Ra|=Os<<4<<cn,Dn|=(240&gn)<<cn}Xt.la=Ra,xn.la=Dn,ms.Hc=on,ms.Gc=cs,ms.ia=43690&cs?0:Vs.ia,Jt=!(on|cs)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[Gt.$b][Gt.Za],pt.wa[pt.Y+pt.ja].La|=!Jt),tn.Ka)return ws(ds,7,"Premature end-of-file encountered.")}if(Ti(ds),pt=Nn,tn=1,Gt=(Ct=ds).D,Xt=0<Ct.L&&Ct.M>=Ct.zb&&Ct.M<=Ct.Va,Ct.Aa==0)t:{if(Gt.M=Ct.M,Gt.uc=Xt,Ha(Ct,Gt),tn=1,Gt=(zt=Ct.D).Nb,Xt=(cs=yi[Ct.L])*Ct.R,At=cs/2*Ct.B,ps=16*Gt*Ct.R,fa=8*Gt*Ct.B,Jt=Ct.sa,ms=Ct.ta-Xt+ps,Vs=Ct.qa,as=Ct.ra-At+fa,pn=Ct.Ha,xn=Ct.Ia-At+fa,gn=(Os=zt.M)==0,on=Os>=Ct.Va-1,Ct.Aa==2&&Ha(Ct,zt),zt.uc)for(ma=(dn=Ct).D.M,e(dn.D.uc),zt=dn.yb;zt<dn.Hb;++zt){Dn=zt,Ra=ma;var Gn=(Is=(Fn=dn).D).Nb;cn=Fn.R;var Is=Is.wa[Is.Y+Dn],ys=Fn.sa,sa=Fn.ta+16*Gn*cn+16*Dn,Yn=Is.dd,As=Is.tc;if(As!=0)if(e(3<=As),Fn.L==1)0<Dn&&ru(ys,sa,cn,As+4),Is.La&&Wa(ys,sa,cn,As),0<Ra&&au(ys,sa,cn,As+4),Is.La&&Xc(ys,sa,cn,As);else{var pa=Fn.B,Mn=Fn.qa,Wr=Fn.ra+8*Gn*pa+8*Dn,fr=Fn.Ha,Fn=Fn.Ia+8*Gn*pa+8*Dn;Gn=Is.ld,0<Dn&&(Vi(ys,sa,cn,As+4,Yn,Gn),su(Mn,Wr,fr,Fn,pa,As+4,Yn,Gn)),Is.La&&(Eh(ys,sa,cn,As,Yn,Gn),Dh(Mn,Wr,fr,Fn,pa,As,Yn,Gn)),0<Ra&&(eu(ys,sa,cn,As+4,Yn,Gn),tu(Mn,Wr,fr,Fn,pa,As+4,Yn,Gn)),Is.La&&(nu(ys,sa,cn,As,Yn,Gn),Lh(Mn,Wr,fr,Fn,pa,As,Yn,Gn))}}if(Ct.ia&&alert("todo:DitherRow"),pt.put!=null){if(zt=16*Os,Os=16*(Os+1),gn?(pt.y=Ct.sa,pt.O=Ct.ta+ps,pt.f=Ct.qa,pt.N=Ct.ra+fa,pt.ea=Ct.Ha,pt.W=Ct.Ia+fa):(zt-=cs,pt.y=Jt,pt.O=ms,pt.f=Vs,pt.N=as,pt.ea=pn,pt.W=xn),on||(Os-=cs),Os>pt.o&&(Os=pt.o),pt.F=null,pt.J=null,Ct.Fa!=null&&0<Ct.Fa.length&&zt<Os&&(pt.J=Vn(Ct,pt,zt,Os-zt),pt.F=Ct.mb,pt.F==null&&pt.F.length==0)){tn=ws(Ct,3,"Could not decode alpha data.");break t}zt<pt.j&&(cs=pt.j-zt,zt=pt.j,e(!(1&cs)),pt.O+=Ct.R*cs,pt.N+=Ct.B*(cs>>1),pt.W+=Ct.B*(cs>>1),pt.F!=null&&(pt.J+=pt.width*cs)),zt<Os&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=zt-pt.j,pt.U=pt.va-pt.v,pt.T=Os-zt,tn=pt.put(pt))}Gt+1!=Ct.Ic||on||(a(Ct.sa,Ct.ta-Xt,Jt,ms+16*Ct.R,Xt),a(Ct.qa,Ct.ra-At,Vs,as+8*Ct.B,At),a(Ct.Ha,Ct.Ia-At,pn,xn+8*Ct.B,At))}if(!tn)return ws(ds,6,"Output aborted.")}return 1}(me,_e)),_e.bc!=null&&_e.bc(_e),Ae&=1}return Ae?(me.cb=0,Ae):0})(g,M)||(v=g.a)}}else v=g.a}v==0&&J.Oa!=null&&J.Oa.fd&&(v=ca(J.ba))}J=v}Q=J!=0?null:11>Q?ae.f.RGBA.eb:ae.f.kb.y}else Q=null;return Q};var Bh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(H,ee){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(H[ee++]);return T}function p(H,ee){return H[ee+0]|H[ee+1]<<8}function x(H,ee){return(H[ee+0]|H[ee+1]<<8|H[ee+2]<<16)>>>0}function w(H,ee){return(H[ee+0]|H[ee+1]<<8|H[ee+2]<<16|H[ee+3]<<24)>>>0}new h;var b=[0],N=[0],S=[],k=new h,_=t,E=function(H,ee){var T={},F=0,$=!1,G=0,ie=0;if(T.frames=[],!function(O,P){for(var z=0;z<4;z++)if(O[P+z]!="RIFF".charCodeAt(z))return!0;return!1}(H,ee)){for(w(H,ee+=4),ee+=8;ee<H.length;){var Z=f(H,ee),re=w(H,ee+=4);ee+=4;var le=re+(1&re);switch(Z){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(ue=T.frames[F]).src_off=$?ie:ee-8,ue.src_size=G+re+8,F++,$&&($=!1,G=0,ie=0);break;case"VP8X":(ue=T.header={}).feature_flags=H[ee];var de=ee+4;ue.canvas_width=1+x(H,de),de+=3,ue.canvas_height=1+x(H,de),de+=3;break;case"ALPH":$=!0,G=le+8,ie=ee-8;break;case"ANIM":(ue=T.header).bgcolor=w(H,ee),de=ee+4,ue.loop_count=p(H,de),de+=2;break;case"ANMF":var Y,ue;(ue=T.frames[F]={}).offset_x=2*x(H,ee),ee+=3,ue.offset_y=2*x(H,ee),ee+=3,ue.width=1+x(H,ee),ee+=3,ue.height=1+x(H,ee),ee+=3,ue.duration=x(H,ee),ee+=3,Y=H[ee++],ue.dispose=1&Y,ue.blend=Y>>1&1}Z!="ANMF"&&(ee+=le)}return T}}(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var D=E.header?E.header:null,R=E.frames?E.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],N=[D.canvas_width];for(var I=0;I<R.length&&R[I].blend!=0;I++);}var ne=R[0],K=k.WebPDecodeRGBA(_,ne.src_off,ne.src_size,N,b);ne.rgba=K,ne.imgwidth=N[0],ne.imgheight=b[0];for(var B=0;B<N[0]*b[0]*4;B++)S[B]=K[B];return this.width=N,this.height=b,this.data=S,this}(function(t){var e,n,a,i,l,c,d,h,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new h,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new c,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new c,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var x=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=O;Object.defineProperty(this,"pdf",{get:function(){return P}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(he){z=!!he}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(he){q=!!he}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(he){isNaN(he)||(se=he)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(he){isNaN(he)||(fe=he)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(he){var oe;typeof he=="number"?oe=[he,he,he,he]:((oe=new Array(4))[0]=he[0],oe[1]=he.length>=2?he[1]:oe[0],oe[2]=he.length>=3?he[2]:oe[0],oe[3]=he.length>=4?he[3]:oe[1]),f.margin=oe}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(he){ye=he}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(he){Se=he}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(he){Oe=he}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(he){he instanceof p&&(f=he)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(he){f.path=he}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(he){He=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var oe;oe=w(he),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var oe=w(he);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Ie=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(he){Ie=null,Ke=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var oe;if(this.ctx.font=he,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Nt=oe[1];oe[2];var at=oe[3],bt=oe[4];oe[5];var et=oe[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(ft==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var ot=function(be){var Ue,St,Bt=[],ut=be.trim();if(ut==="")return zp;if(ut in ev)return[ev[ut]];for(;ut!=="";){switch(St=null,Ue=(ut=sv(ut)).charAt(0)){case'"':case"'":St=cE(ut.substring(1),Ue);break;default:St=dE(ut)}if(St===null||(Bt.push(St[0]),(ut=sv(St[1]))!==""&&ut.charAt(0)!==","))return zp;ut=ut.replace(/^,/,"")}return Bt}(et);if(this.fontFaces){var yt=function(be,Ue){if(Ie===null){var St=function(Bt){var ut=[];return Object.keys(Bt).forEach(function(Tt){Bt[Tt].forEach(function(os){var gt=null;switch(os){case"bold":gt={family:Tt,weight:"bold"};break;case"italic":gt={family:Tt,style:"italic"};break;case"bolditalic":gt={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:Tt}}gt!==null&&(gt.ref={name:Tt,style:os},ut.push(gt))})}),ut}(be.getFontList());Ie=function(Bt){for(var ut={},Tt=0;Tt<Bt.length;++Tt){var os=qp(Bt[Tt]),gt=os.family,Kt=os.stretch,Pt=os.style,ks=os.weight;ut[gt]=ut[gt]||{},ut[gt][Kt]=ut[gt][Kt]||{},ut[gt][Kt][Pt]=ut[gt][Kt][Pt]||{},ut[gt][Kt][Pt][ks]=os}return ut}(St.concat(Ue))}return Ie}(this.pdf,this.fontFaces),Pe=ot.map(function(be){return{family:be,stretch:"normal",weight:at,style:Nt}}),ht=function(be,Ue,St){for(var Bt=(St=St||{}).defaultFontFamily||"times",ut=Object.assign({},oE,St.genericFontFamilies||{}),Tt=null,os=null,gt=0;gt<Ue.length;++gt)if(ut[(Tt=qp(Ue[gt])).family]&&(Tt.family=ut[Tt.family]),be.hasOwnProperty(Tt.family)){os=be[Tt.family];break}if(!(os=os||be[Bt]))throw new Error("Could not find a font-family for the rule '"+tv(Tt)+"' and default family '"+Bt+"'.");if(os=function(Kt,Pt){if(Pt[Kt])return Pt[Kt];var ks=Sx[Kt],tt=ks<=Sx.normal?-1:1,mt=J1(Pt,sN,ks,tt);if(!mt)throw new Error("Could not find a matching font-stretch value for "+Kt);return mt}(Tt.stretch,os),os=function(Kt,Pt){if(Pt[Kt])return Pt[Kt];for(var ks=tN[Kt],tt=0;tt<ks.length;++tt)if(Pt[ks[tt]])return Pt[ks[tt]];throw new Error("Could not find a matching font-style for "+Kt)}(Tt.style,os),!(os=function(Kt,Pt){if(Pt[Kt])return Pt[Kt];if(Kt===400&&Pt[500])return Pt[500];if(Kt===500&&Pt[400])return Pt[400];var ks=lE[Kt],tt=J1(Pt,nN,ks,Kt<400?-1:1);if(!tt)throw new Error("Could not find a matching font-weight for value "+Kt);return tt}(Tt.weight,os)))throw new Error("Failed to resolve a font for the rule '"+tv(Tt)+"'.");return os}(yt,Pe);this.pdf.setFont(ht.ref.name,ht.ref.style)}else{var Be="";(at==="bold"||parseInt(at,10)>=700||Nt==="bold")&&(Be="bold"),Nt==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var Qe="",je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<ot.length;lt++){if(this.pdf.internal.getFont(ot[lt],Be,{noFallback:!0,disableWarning:!0})!==void 0){Qe=ot[lt];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(ot[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=ot[lt],Be="bold";else if(this.pdf.internal.getFont(ot[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=ot[lt],Be="normal";break}}if(Qe===""){for(var Ee=0;Ee<ot.length;Ee++)if(je[ot[Ee]]){Qe=je[ot[Ee]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};x.prototype.setLineDash=function(O){this.lineDash=O},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){R.call(this,"fill",!1)},x.prototype.stroke=function(){R.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(O,P){if(isNaN(O)||isNaN(P))throw Gs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new c(O,P));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(O,P)},x.prototype.closePath=function(){var O=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Rs(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){O=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(O.x,O.y)},x.prototype.lineTo=function(O,P){if(isNaN(O)||isNaN(P))throw Gs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new c(O,P));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(z.x,z.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},x.prototype.quadraticCurveTo=function(O,P,z,q){if(isNaN(z)||isNaN(q)||isNaN(O)||isNaN(P))throw Gs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new c(z,q)),fe=this.ctx.transform.applyToPoint(new c(O,P));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new c(se.x,se.y)},x.prototype.bezierCurveTo=function(O,P,z,q,se,fe){if(isNaN(se)||isNaN(fe)||isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q))throw Gs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new c(se,fe)),Se=this.ctx.transform.applyToPoint(new c(O,P)),Oe=this.ctx.transform.applyToPoint(new c(z,q));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Oe.x,y2:Oe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new c(ye.x,ye.y)},x.prototype.arc=function(O,P,z,q,se,fe){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q)||isNaN(se))throw Gs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new c(O,P));O=ye.x,P=ye.y;var Se=this.ctx.transform.applyToPoint(new c(0,z)),Oe=this.ctx.transform.applyToPoint(new c(0,0));z=Math.sqrt(Math.pow(Se.x-Oe.x,2)+Math.pow(Se.y-Oe.y,2))}Math.abs(se-q)>=2*Math.PI&&(q=0,se=2*Math.PI),this.path.push({type:"arc",x:O,y:P,radius:z,startAngle:q,endAngle:se,counterclockwise:fe})},x.prototype.arcTo=function(O,P,z,q,se){throw new Error("arcTo not implemented.")},x.prototype.rect=function(O,P,z,q){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q))throw Gs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,P),this.lineTo(O+z,P),this.lineTo(O+z,P+q),this.lineTo(O,P+q),this.lineTo(O,P),this.lineTo(O+z,P),this.lineTo(O,P)},x.prototype.fillRect=function(O,P,z,q){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q))throw Gs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,P,z,q),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},x.prototype.strokeRect=function(O,P,z,q){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q))throw Gs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,P,z,q),this.stroke())},x.prototype.clearRect=function(O,P,z,q){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q))throw Gs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,P,z,q))},x.prototype.save=function(O){O=typeof O!="boolean"||O;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},x.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(P),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(O){var P,z,q,se;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))P=0,z=0,q=0,se=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(fe!==null)P=parseInt(fe[1]),z=parseInt(fe[2]),q=parseInt(fe[3]),se=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)P=parseInt(fe[1]),z=parseInt(fe[2]),q=parseInt(fe[3]),se=parseFloat(fe[4]);else{if(se=1,typeof O=="string"&&O.charAt(0)!=="#"){var ye=new Yw(O);O=ye.ok?ye.toHex():"#000000"}O.length===4?(P=O.substring(1,2),P+=P,z=O.substring(2,3),z+=z,q=O.substring(3,4),q+=q):(P=O.substring(1,3),z=O.substring(3,5),q=O.substring(5,7)),P=parseInt(P,16),z=parseInt(z,16),q=parseInt(q,16)}}return{r:P,g:z,b:q,a:se,style:O}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(O,P,z,q){if(isNaN(P)||isNaN(z)||typeof O!="string")throw Gs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!b.call(this)){var se=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;F.call(this,{text:O,x:P,y:z,scale:fe,angle:se,align:this.textAlign,maxWidth:q})}},x.prototype.strokeText=function(O,P,z,q){if(isNaN(P)||isNaN(z)||typeof O!="string")throw Gs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){q=isNaN(q)?void 0:q;var se=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;F.call(this,{text:O,x:P,y:z,scale:fe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:q})}},x.prototype.measureText=function(O){if(typeof O!="string")throw Gs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,z=this.pdf.internal.scaleFactor,q=P.internal.getFontSize(),se=P.getStringUnitWidth(O)*q/P.internal.scaleFactor;return new function(fe){var ye=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:se*=Math.round(96*z/72*1e4)/1e4})},x.prototype.scale=function(O,P){if(isNaN(O)||isNaN(P))throw Gs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new h(O,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.rotate=function(O){if(isNaN(O))throw Gs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new h(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},x.prototype.translate=function(O,P){if(isNaN(O)||isNaN(P))throw Gs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new h(1,0,0,1,O,P);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.transform=function(O,P,z,q,se,fe){if(isNaN(O)||isNaN(P)||isNaN(z)||isNaN(q)||isNaN(se)||isNaN(fe))throw Gs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new h(O,P,z,q,se,fe);this.ctx.transform=this.ctx.transform.multiply(ye)},x.prototype.setTransform=function(O,P,z,q,se,fe){O=isNaN(O)?1:O,P=isNaN(P)?0:P,z=isNaN(z)?0:z,q=isNaN(q)?1:q,se=isNaN(se)?0:se,fe=isNaN(fe)?0:fe,this.ctx.transform=new h(O,P,z,q,se,fe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(O,P,z,q,se,fe,ye,Se,Oe){var He=this.pdf.getImageProperties(O),Ie=1,Ke=1,he=1,oe=1;q!==void 0&&Se!==void 0&&(he=Se/q,oe=Oe/se,Ie=He.width/q*Se/q,Ke=He.height/se*Oe/se),fe===void 0&&(fe=P,ye=z,P=0,z=0),q!==void 0&&Se===void 0&&(Se=q,Oe=se),q===void 0&&Se===void 0&&(Se=He.width,Oe=He.height);for(var Nt,at=this.ctx.transform.decompose(),bt=le(at.rotate.shx),et=new h,ft=(et=(et=(et=et.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new d(fe-P*he,ye-z*oe,q*Ie,se*Ke)),ot=k.call(this,ft),yt=[],Pe=0;Pe<ot.length;Pe+=1)yt.indexOf(ot[Pe])===-1&&yt.push(ot[Pe]);if(D(yt),this.autoPaging)for(var ht=yt[0],Be=yt[yt.length-1],Qe=ht;Qe<Be+1;Qe++){this.pdf.setPage(Qe);var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=Qe===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=Qe===1?0:Ee+(Qe-2)*be;if(this.ctx.clip_path.length!==0){var St=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Nt,this.posX+this.margin[3],-Ue+lt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=St}var Bt=JSON.parse(JSON.stringify(ft));Bt=E([Bt],this.posX+this.margin[3],-Ue+lt+this.ctx.prevPageLastElemOffset)[0];var ut=(Qe>ht||Qe<Be)&&S.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,be,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,bt),ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,bt)};var k=function(O,P,z){var q=[];P=P||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":q.push(Math.floor((O.y+se)/z)+1);break;case"arc":q.push(Math.floor((O.y+se-O.radius)/z)+1),q.push(Math.floor((O.y+se+O.radius)/z)+1);break;case"qct":var fe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);q.push(Math.floor((fe.y+se)/z)+1),q.push(Math.floor((fe.y+fe.h+se)/z)+1);break;case"bct":var ye=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);q.push(Math.floor((ye.y+se)/z)+1),q.push(Math.floor((ye.y+ye.h+se)/z)+1);break;case"rect":q.push(Math.floor((O.y+se)/z)+1),q.push(Math.floor((O.y+O.h+se)/z)+1)}for(var Se=0;Se<q.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<q[Se];)_.call(this);return q},_=function(){var O=this.fillStyle,P=this.strokeStyle,z=this.font,q=this.lineCap,se=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=P,this.font=z,this.lineCap=q,this.lineWidth=se,this.lineJoin=fe},E=function(O,P,z){for(var q=0;q<O.length;q++)switch(O[q].type){case"bct":O[q].x2+=P,O[q].y2+=z;case"qct":O[q].x1+=P,O[q].y1+=z;default:O[q].x+=P,O[q].y+=z}return O},D=function(O){return O.sort(function(P,z){return P-z})},R=function(O,P){for(var z,q,se=this.fillStyle,fe=this.strokeStyle,ye=this.lineCap,Se=this.lineWidth,Oe=Math.abs(Se*this.ctx.transform.scaleX),He=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),he=[],oe=0;oe<Ke.length;oe++)if(Ke[oe].x!==void 0)for(var Nt=k.call(this,Ke[oe]),at=0;at<Nt.length;at+=1)he.indexOf(Nt[at])===-1&&he.push(Nt[at]);for(var bt=0;bt<he.length;bt++)for(;this.pdf.internal.getNumberOfPages()<he[bt];)_.call(this);if(D(he),this.autoPaging)for(var et=he[0],ft=he[he.length-1],ot=et;ot<ft+1;ot++){this.pdf.setPage(ot),this.fillStyle=se,this.strokeStyle=fe,this.lineCap=ye,this.lineWidth=Oe,this.lineJoin=He;var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=ot===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=ot===1?0:ht+(ot-2)*Be;if(this.ctx.clip_path.length!==0){var je=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(z,this.posX+this.margin[3],-Qe+Pe+this.ctx.prevPageLastElemOffset),I.call(this,O,!0),this.path=je}if(q=JSON.parse(JSON.stringify(Ie)),this.path=E(q,this.posX+this.margin[3],-Qe+Pe+this.ctx.prevPageLastElemOffset),P===!1||ot===0){var lt=(ot>et||ot<ft)&&S.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Be,null).clip().discardPath()),I.call(this,O,P),lt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Oe,I.call(this,O,P),this.lineWidth=Se;this.path=Ie},I=function(O,P){if((O!=="stroke"||P||!N.call(this))&&(O==="stroke"||P||!b.call(this))){for(var z,q,se=[],fe=this.path,ye=0;ye<fe.length;ye++){var Se=fe[ye];switch(Se.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Se,deltas:[],abs:[]});break;case"lt":var Oe=se.length;if(fe[ye-1]&&!isNaN(fe[ye-1].x)&&(z=[Se.x-fe[ye-1].x,Se.y-fe[ye-1].y],Oe>0)){for(;Oe>=0;Oe--)if(se[Oe-1].close!==!0&&se[Oe-1].begin!==!0){se[Oe-1].deltas.push(z),se[Oe-1].abs.push(Se);break}}break;case"bct":z=[Se.x1-fe[ye-1].x,Se.y1-fe[ye-1].y,Se.x2-fe[ye-1].x,Se.y2-fe[ye-1].y,Se.x-fe[ye-1].x,Se.y-fe[ye-1].y],se[se.length-1].deltas.push(z);break;case"qct":var He=fe[ye-1].x+2/3*(Se.x1-fe[ye-1].x),Ie=fe[ye-1].y+2/3*(Se.y1-fe[ye-1].y),Ke=Se.x+2/3*(Se.x1-Se.x),he=Se.y+2/3*(Se.y1-Se.y),oe=Se.x,Nt=Se.y;z=[He-fe[ye-1].x,Ie-fe[ye-1].y,Ke-fe[ye-1].x,he-fe[ye-1].y,oe-fe[ye-1].x,Nt-fe[ye-1].y],se[se.length-1].deltas.push(z);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Se)}}q=P?null:O==="stroke"?"stroke":"fill";for(var at=!1,bt=0;bt<se.length;bt++)if(se[bt].arc)for(var et=se[bt].abs,ft=0;ft<et.length;ft++){var ot=et[ft];ot.type==="arc"?B.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,P,!at):$.call(this,ot.x,ot.y),at=!0}else if(se[bt].close===!0)this.pdf.internal.out("h"),at=!1;else if(se[bt].begin!==!0){var yt=se[bt].start.x,Pe=se[bt].start.y;G.call(this,se[bt].deltas,yt,Pe),at=!0}q&&H.call(this,q),P&&ee.call(this)}},ne=function(O){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-z;case"top":return O+P-z;case"hanging":return O+P-2*z;case"middle":return O+P/2-z;default:return O}},K=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(P,z){this.colorStops.push([P,z])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(O,P,z,q,se,fe,ye,Se,Oe){for(var He=Z.call(this,z,q,se,fe),Ie=0;Ie<He.length;Ie++){var Ke=He[Ie];Ie===0&&(Oe?T.call(this,Ke.x1+O,Ke.y1+P):$.call(this,Ke.x1+O,Ke.y1+P)),ie.call(this,O,P,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Se?ee.call(this):H.call(this,ye)},H=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,P){this.pdf.internal.out(n(O)+" "+a(P)+" m")},F=function(O){var P;switch(O.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var z=this.pdf.getTextDimensions(O.text),q=ne.call(this,O.y),se=K.call(this,q)-z.h,fe=this.ctx.transform.applyToPoint(new c(O.x,q)),ye=this.ctx.transform.decompose(),Se=new h;Se=(Se=(Se=Se.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Oe,He,Ie,Ke=this.ctx.transform.applyToRectangle(new d(O.x,q,z.w,z.h)),he=Se.applyToRectangle(new d(O.x,se,z.w,z.h)),oe=k.call(this,he),Nt=[],at=0;at<oe.length;at+=1)Nt.indexOf(oe[at])===-1&&Nt.push(oe[at]);if(D(Nt),this.autoPaging)for(var bt=Nt[0],et=Nt[Nt.length-1],ft=bt;ft<et+1;ft++){this.pdf.setPage(ft);var ot=ft===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],ht=Pe-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],Qe=Be-this.margin[3],je=ft===1?0:yt+(ft-2)*ht;if(this.ctx.clip_path.length!==0){var lt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Oe,this.posX+this.margin[3],-1*je+ot),I.call(this,"fill",!0),this.path=lt}var Ee=E([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-je+ot+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*O.scale),Ie=this.lineWidth,this.lineWidth=Ie*O.scale);var be=this.autoPaging!=="text";if(be||Ee.y+Ee.h<=Pe){if(be||Ee.y>=ot&&Ee.x<=Be){var Ue=be?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Be-Ee.x)[0],St=E([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-je+ot+this.ctx.prevPageLastElemOffset)[0],Bt=be&&(ft>bt||ft<et)&&S.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,ht,null).clip().discardPath()),this.pdf.text(Ue,St.x,St.y,{angle:O.angle,align:P,renderingMode:O.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else Ee.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-Ee.y);O.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ie)}else O.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*O.scale),Ie=this.lineWidth,this.lineWidth=Ie*O.scale),this.pdf.text(O.text,fe.x+this.posX,fe.y+this.posY,{angle:O.angle,align:P,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Ie)},$=function(O,P,z,q){z=z||0,q=q||0,this.pdf.internal.out(n(O+z)+" "+a(P+q)+" l")},G=function(O,P,z){return this.pdf.lines(O,P,z,null,null)},ie=function(O,P,z,q,se,fe,ye,Se){this.pdf.internal.out([e(i(z+O)),e(l(q+P)),e(i(se+O)),e(l(fe+P)),e(i(ye+O)),e(l(Se+P)),"c"].join(" "))},Z=function(O,P,z,q){for(var se=2*Math.PI,fe=Math.PI/2;P>z;)P-=se;var ye=Math.abs(z-P);ye<se&&q&&(ye=se-ye);for(var Se=[],Oe=q?-1:1,He=P;ye>1e-5;){var Ie=He+Oe*Math.min(ye,fe);Se.push(re.call(this,O,He,Ie)),ye-=Math.abs(Ie-He),He=Ie}return Se},re=function(O,P,z){var q=(z-P)/2,se=O*Math.cos(q),fe=O*Math.sin(q),ye=se,Se=-fe,Oe=ye*ye+Se*Se,He=Oe+ye*se+Se*fe,Ie=4/3*(Math.sqrt(2*Oe*He)-He)/(ye*fe-Se*se),Ke=ye-Ie*Se,he=Se+Ie*ye,oe=Ke,Nt=-he,at=q+P,bt=Math.cos(at),et=Math.sin(at);return{x1:O*Math.cos(P),y1:O*Math.sin(P),x2:Ke*bt-he*et,y2:Ke*et+he*bt,x3:oe*bt-Nt*et,y3:oe*et+Nt*bt,x4:O*Math.cos(z),y4:O*Math.sin(z)}},le=function(O){return 180*O/Math.PI},de=function(O,P,z,q,se,fe){var ye=O+.5*(z-O),Se=P+.5*(q-P),Oe=se+.5*(z-se),He=fe+.5*(q-fe),Ie=Math.min(O,se,ye,Oe),Ke=Math.max(O,se,ye,Oe),he=Math.min(P,fe,Se,He),oe=Math.max(P,fe,Se,He);return new d(Ie,he,Ke-Ie,oe-he)},Y=function(O,P,z,q,se,fe,ye,Se){var Oe,He,Ie,Ke,he,oe,Nt,at,bt,et,ft,ot,yt,Pe,ht=z-O,Be=q-P,Qe=se-z,je=fe-q,lt=ye-se,Ee=Se-fe;for(He=0;He<41;He++)bt=(Nt=(Ie=O+(Oe=He/40)*ht)+Oe*((he=z+Oe*Qe)-Ie))+Oe*(he+Oe*(se+Oe*lt-he)-Nt),et=(at=(Ke=P+Oe*Be)+Oe*((oe=q+Oe*je)-Ke))+Oe*(oe+Oe*(fe+Oe*Ee-oe)-at),He==0?(ft=bt,ot=et,yt=bt,Pe=et):(ft=Math.min(ft,bt),ot=Math.min(ot,et),yt=Math.max(yt,bt),Pe=Math.max(Pe,et));return new d(Math.round(ft),Math.round(ot),Math.round(yt-ft),Math.round(Pe-ot))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,P,z=(O=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:P}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Ft.API),function(t){var e=function(c){var d,h,f,p,x,w,b,N,S,k;for(h=[],f=0,p=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(x=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(w=(x=((x=((x=((x=(x-(k=x%85))/85)-(S=x%85))/85)-(N=x%85))/85)-(b=x%85))/85)%85,h.push(w+33,b+33,N+33,S+33,k+33)):h.push(122);return function(_,E){for(var D=E;D>0;D--)_.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},n=function(c){var d,h,f,p,x,w=String,b="length",N=255,S="charCodeAt",k="slice",_="replace";for(c[k](-2),c=c[k](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),f=[],p=0,x=(c+=d="uuuuu"[k](c[b]%5||5))[b];x>p;p+=5)h=52200625*(c[S](p)-33)+614125*(c[S](p+1)-33)+7225*(c[S](p+2)-33)+85*(c[S](p+3)-33)+(c[S](p+4)-33),f.push(N&h>>24,N&h>>16,N&h>>8,N&h);return function(E,D){for(var R=D;R>0;R--)E.pop()}(f,d[b]),w.fromCharCode.apply(w,f)},a=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},l=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=bx(d)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(c,d){var h=0,f=c||"",p=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=a(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=l(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}}(Ft.API),function(t){t.loadFile=function(e,n,a){return function(i,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(h,f,p){var x=new XMLHttpRequest,w=0,b=function(N){var S=N.length,k=[],_=String.fromCharCode;for(w=0;w<S;w+=1)k.push(_(255&N.charCodeAt(w)));return k.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?p(b(this.responseText)):p(void 0)}),x.send(null),f&&x.status===200)return b(x.responseText)}(i,l,c)}catch{}return d}(e,n,a)},t.loadImageFile=t.loadFile}(Ft.API),function(t){function e(){return(Zt.html2canvas?Promise.resolve(Zt.html2canvas):jp(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(Zt.DOMPurify?Promise.resolve(Zt.DOMPurify):jp(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var h=Rs(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(d,h){var f=document.createElement(d);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},l=function d(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||p.appendChild(d(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),p=d.convert(Promise.resolve(),f);return(p=p.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(f){switch(a(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),h){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var N=p[b],S=N.src.find(function(k){return k.format==="truetype"});S&&f.addFont(S.url,N.ref.name,N.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),h(this.prop.container,w)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(a(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(d=d||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,p){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,p){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(p,x){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,p),w}).then(p,x).then(function(w){return f.updateProgress(1),w})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var p=this;d&&(d=d.bind(p)),h&&(h=h.bind(p));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),w=f.call(x,d,h);return c.convert(w,p.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ft.getPageSize=function(d,h,f){if(Rs(d)==="object"){var p=d;d=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var x,w=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var N,S=0,k=0;if(b.hasOwnProperty(w))S=b[w][1]/x,k=b[w][0]/x;else try{S=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",k>S&&(N=k,k=S,S=N);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",S>k&&(N=k,k=S,S=N)}return{width:k,height:S,unit:h,k:x,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(qp):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}}(Ft.API),Ft.API.addJS=function(t){return av=t,this.internal.events.subscribe("postPutResources",function(){Jf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+av+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jf!==void 0&&nv!==void 0&&this.internal.out("/Names <</JavaScript "+Jf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),l=0;l<i.length;l++){var c=i[l],d=a.exec(c);if(d!=null){var h=d[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(l=0;l<f;l++){var x=n.internal.newObject();p.push(x);var w=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<p.length;l++)n.internal.write("(page_"+(l+1)+")"+p[l]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,i,l){var c={title:i,options:l,children:[]};return a==null&&(a=this.root),a.children.push(c),c},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var c=a.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=n.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,i){for(var l=0;l<i.children.length;l++)a.count++,this.count_r(a,i.children[l]);return a.count}}])}(Ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,i,l,c,d){var h,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=c||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=function(x){for(var w,b=256*x.charCodeAt(4)+x.charCodeAt(5),N=x.length,S={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=b,e.indexOf(x.charCodeAt(k+1))!==-1){w=256*x.charCodeAt(k+5)+x.charCodeAt(k+6),S={width:256*x.charCodeAt(k+7)+x.charCodeAt(k+8),height:w,numcomponents:x.charCodeAt(k+9)};break}b=256*x.charCodeAt(k+2)+x.charCodeAt(k+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:n,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:a,alias:i}}return p}}(Ft.API),Ft.API.processPNG=function(t,e,n,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=G7(t,{checkCrc:!0}),c=l.width,d=l.height,h=l.channels,f=l.palette,p=l.depth;i=f&&h===1?function(K){for(var B=K.width,H=K.height,ee=K.data,T=K.palette,F=K.depth,$=!1,G=[],ie=[],Z=void 0,re=!1,le=0,de=0;de<T.length;de++){var Y=o1(T[de],4),ue=Y[0],O=Y[1],P=Y[2],z=Y[3];G.push(ue,O,P),z!=null&&(z===0?(le++,ie.length<1&&ie.push(de)):z<255&&(re=!0))}if(re||le>1){$=!0,ie=void 0;var q=B*H;Z=new Uint8Array(q);for(var se=new DataView(ee.buffer),fe=0;fe<q;fe++){var ye=Hp(se,fe,F),Se=o1(T[ye],4)[3];Z[fe]=Se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:ee,alphaBytes:Z,needSMask:$,palette:G,mask:ie}}(l):h===2||h===4?function(K){for(var B=K.data,H=K.width,ee=K.height,T=K.channels,F=K.depth,$=T===2?"DeviceGray":"DeviceRGB",G=T-1,ie=H*ee,Z=G,re=ie*Z,le=1*ie,de=Math.ceil(re*F/8),Y=Math.ceil(le*F/8),ue=new Uint8Array(de),O=new Uint8Array(Y),P=new DataView(B.buffer),z=new DataView(ue.buffer),q=new DataView(O.buffer),se=!1,fe=0;fe<ie;fe++){for(var ye=fe*T,Se=0;Se<Z;Se++)fv(z,Hp(P,ye+Se,F),fe*Z+Se,F);var Oe=Hp(P,ye+Z,F);Oe<(1<<F)-1&&(se=!0),fv(q,Oe,1*fe,F)}return{colorSpace:$,colorsPerPixel:G,colorBytes:ue,alphaBytes:O,needSMask:se}}(l):function(K){var B=K.data,H=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:B instanceof Uint8Array?B:new Uint8Array(B.buffer),needSMask:!1}}(l);var x,w,b,N=i,S=N.colorSpace,k=N.colorsPerPixel,_=N.colorBytes,E=N.alphaBytes,D=N.needSMask,R=N.palette,I=N.mask,ne=null;return a!==Ft.API.image_compression.NONE&&typeof bx=="function"?(ne=function(K){var B;switch(K){case Ft.API.image_compression.FAST:B=11;break;case Ft.API.image_compression.MEDIUM:B=13;break;case Ft.API.image_compression.SLOW:B=14;break;default:B=12}return B}(a),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(ne," "),t=ov(_,c*k,k,a),D&&(b=ov(E,c,1,a))):(x=void 0,w="",t=_,D&&(b=E)),w+="/Colors ".concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:n,data:t,index:e,filter:x,decodeParameters:w,transparency:I,palette:R,sMask:b,predictor:ne,width:c,height:d,bitsPerComponent:p,colorSpace:S}}},function(t){t.processGIF89A=function(e,n,a,i){var l=new mE(e),c=l.width,d=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},p=new $p(100).encode(f,100);return t.processJPEG.call(this,p,n,a,i)},t.processGIF87A=t.processGIF89A}(Ft.API),Ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:a,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ci.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Gs.log("bit decode error:"+n)}},Ci.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var h=this.palette[l>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}n!==0&&(this.pos+=4-n)}},Ci.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*i*4,d=l>>4,h=15&l,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Ci.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*a;if(i<this.palette.length){var c=this.palette[i];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},Ci.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&e)/e*255|0,h=(l>>10&e)/e*255|0,f=l>>15?255:0,p=a*this.width*4+4*i;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=f}this.pos+=t}},Ci.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&n)/n*255|0,f=(c>>11)/e*255|0,p=i*this.width*4+4*l;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=d,this.data[p+3]=255}this.pos+=t}},Ci.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=l,this.data[c+1]=i,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},Ci.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*n;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=a,this.data[d+3]=c}},Ci.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,a,i){var l=new Ci(e,!1),c=l.width,d=l.height,h={data:l.getData(),width:c,height:d},f=new $p(100).encode(h,100);return t.processJPEG.call(this,f,n,a,i)}}(Ft.API),pv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,a,i){var l=new pv(e),c=l.width,d=l.height,h={data:l.getData(),width:c,height:d},f=new $p(100).encode(h,100);return t.processJPEG.call(this,f,n,a,i)}}(Ft.API),Ft.API.processRGBA=function(t,e,n){for(var a=t.data,i=a.length,l=new Uint8Array(i/4*3),c=new Uint8Array(i/4),d=0,h=0,f=0;f<i;f+=4){var p=a[f],x=a[f+1],w=a[f+2],b=a[f+3];l[d++]=p,l[d++]=x,l[d++]=w,c[h++]=b}var N=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:N,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ed=Ft.API,em=Ed.getCharWidthsArray=function(t,e){var n,a,i=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:i.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,x=e.doKerning!==!1,w=0,b=t.length,N=0,S=d[0]||h,k=[];for(n=0;n<b;n++)a=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+c*(1e3/l)||0)/1e3):(w=x&&Rs(f[a])==="object"&&!isNaN(parseInt(f[a][N],10))?f[a][N]/p:0,k.push((d[a]||S)/h+w)),N=a;return k},rv=Ed.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ed.processArabic&&(t=Ed.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,i)/n:em.apply(this,arguments).reduce(function(l,c){return l+c},0)},iv=function(t,e,n,a){for(var i=[],l=0,c=t.length,d=0;l!==c&&d+e[l]<n;)d+=e[l],l++;i.push(t.slice(0,l));var h=l;for(d=0;l!==c;)d+e[l]>a&&(i.push(t.slice(h,l)),d=0,h=l),d+=e[l],l++;return h!==l&&i.push(t.slice(h,l)),i},lv=function(t,e,n){n||(n={});var a,i,l,c,d,h,f,p=[],x=[p],w=n.textIndent||0,b=0,N=0,S=t.split(" "),k=em.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var _=Array(h).join(" "),E=[];S.map(function(R){(R=R.split(/\s*\n/)).length>1?E=E.concat(R.map(function(I,ne){return(ne&&I.length?`
`:"")+I})):E.push(R[0])}),S=E,h=rv.apply(this,[_,n])}for(l=0,c=S.length;l<c;l++){var D=0;if(a=S[l],h&&a[0]==`
`&&(a=a.substr(1),D=1),w+b+(N=(i=em.apply(this,[a,n])).reduce(function(R,I){return R+I},0))>e||D){if(N>e){for(d=iv.apply(this,[a,i,e-(w+b),e]),p.push(d.shift()),p=[d.pop()];d.length;)x.push([d.shift()]);N=i.slice(a.length-(p[0]?p[0].length:0)).reduce(function(R,I){return R+I},0)}else p=[a];x.push(p),w=N+h,b=k}else p.push(a),w+=b+N,b=k}return f=h?function(R,I){return(I?_:"")+R.join(" ")}:function(R){return R.join(" ")},x.map(f)},Ed.splitTextToSize=function(t,e,n){var a,i=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=n.lineIndent;var d,h,f=[];for(d=0,h=a.length;d<h;d++)f=f.concat(lv.apply(this,[a[d],c,l]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},i={},l=0;l<16;l++)a[n[l]]=e[l],i[e[l]]=n[l];var c=function(w){return"0x"+parseInt(w,10).toString(16)},d=t.__fontmetrics__.compress=function(w){var b,N,S,k,_=["{"];for(var E in w){if(b=w[E],isNaN(parseInt(E,10))?N="'"+E+"'":(E=parseInt(E,10),N=(N=c(E).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof b=="number")b<0?(S=c(b).slice(3),k="-"):(S=c(b).slice(2),k=""),S=k+S.slice(0,-1)+i[S.slice(-1)];else{if(Rs(b)!=="object")throw new Error("Don't know what to do with value type "+Rs(b)+".");S=d(b)}_.push(N+S)}return _.push("}"),_.join("")},h=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,N,S,k,_={},E=1,D=_,R=[],I="",ne="",K=w.length-1,B=1;B<K;B+=1)(k=w[B])=="'"?b?(S=b.join(""),b=void 0):b=[]:b?b.push(k):k=="{"?(R.push([D,S]),D={},S=void 0):k=="}"?((N=R.pop())[0][N[1]]=D,S=void 0,D=N[0]):k=="-"?E=-1:S===void 0?a.hasOwnProperty(k)?(I+=a[k],S=parseInt(I,16)*E,E=1,I=""):I+=k:a.hasOwnProperty(k)?(ne+=a[k],D[S]=parseInt(ne,16)*E,E=1,S=void 0,ne=""):ne+=k;return _},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var b=w.font,N=x.Unicode[b.postScriptName];N&&(b.metadata.Unicode={},b.metadata.Unicode.widths=N.widths,b.metadata.Unicode.kerning=N.kerning);var S=p.Unicode[b.postScriptName];S&&(b.metadata.Unicode.encoding=S,b.encoding=S.codePages[0])}])}(Ft.API),function(t){var e=function(n){for(var a=n.length,i=new Uint8Array(a),l=0;l<a;l++)i[l]=n.charCodeAt(l);return i};t.API.events.push(["addFont",function(n){var a=void 0,i=n.font,l=n.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(dm(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,a)}}])}(Ft),Ft.API.addSvgAsImage=function(t,e,n,a,i,l,c,d){if(isNaN(e)||isNaN(n))throw Gs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Gs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Zt.canvg?Promise.resolve(Zt.canvg):jp(()=>import("./index.es-V1gnehqZ.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),e,n,a,i,c,d)})},Ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(e,n);return this},Ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var a,i,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,p=0,x=0;function w(N,S){var k,_=!1;for(k=0;k<N.length;k+=1)N[k]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=d.length;for(x=0;x<b;x+=1)n[d[x]].value=n[d[x]].defaultValue,n[d[x]].explicitSet=!1}if(Rs(t)==="object"){for(i in t)if(l=t[i],w(d,i)&&l!==void 0){if(n[i].type==="boolean"&&typeof l=="boolean")n[i].value=l;else if(n[i].type==="name"&&w(n[i].valueSet,l))n[i].value=l;else if(n[i].type==="integer"&&Number.isInteger(l))n[i].value=l;else if(n[i].type==="array"){for(f=0;f<l.length;f+=1)if(a=!0,l[f].length===1&&typeof l[f][0]=="number")h.push(String(l[f]-1));else if(l[f].length>1){for(p=0;p<l[f].length;p+=1)typeof l[f][p]!="number"&&(a=!1);a===!0&&h.push([l[f][0]-1,l[f][1]-1].join(" "))}n[i].value="["+h.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,S=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?S.push("/"+N+" /"+n[N].value):S.push("/"+N+" "+n[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=l.length+c.length+d.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+l+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(l,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],x=0,w=l.length;x<w;++x){if(d=c.metadata.characterToGlyph(l.charCodeAt(x)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=l.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(f[4-d.length],d)}return p.join("")},a=function(l){var c,d,h,f,p,x,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,w=(d=Object.keys(l).sort(function(b,N){return b-N})).length;x<w;x++)c=d[x],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(f=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,w=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),b="",N=0;N<w.length;N++)b+=String.fromCharCode(w[N]);var S=f();p({data:b,addLength1:!0,objectId:S}),h("endobj");var k=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var _=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Dd(d.fontName)),h("/FontFile2 "+S+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var E=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Dd(d.fontName)),h("/FontDescriptor "+_+" 0 R"),h("/W "+t.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+Dd(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+E+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,w="",b=0;b<x.length;b++)w+=String.fromCharCode(x[b]);var N=f();p({data:w,addLength1:!0,objectId:N}),h("endobj");var S=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:S}),h("endobj");var k=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Dd(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var _=0;_<d.metadata.hmtx.widths.length;_++)d.metadata.hmtx.widths[_]=parseInt(d.metadata.hmtx.widths[_]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Dd(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]);var i=function(l){var c,d=l.text||"",h=l.x,f=l.y,p=l.options||{},x=l.mutex||{},w=x.pdfEscape,b=x.activeFontKey,N=x.fonts,S=b,k="",_=0,E="",D=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:d,x:h,y:f,options:p,mutex:x};for(E=d,S=b,Array.isArray(d)&&(E=d[0]),_=0;_<E.length;_+=1)N[S].metadata.hasOwnProperty("cmap")&&(c=N[S].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),c||E[_].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?k+=E[_]:k+="";var R="";return parseInt(S.slice(1))<14||D==="WinAnsiEncoding"?R=w(k,S).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(R=n(k,N[S])),x.isHex=!0,{text:R,x:h,y:f,options:p,mutex:x}};e.events.push(["postProcessText",function(l){var c=l.text||"",d=[],h={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([i(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(i(Object.assign({},h,{text:c[f]})).text);l.text=d}else l.text=i(Object.assign({},h,{text:c})).text}])}(Ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,l,c,d,h,f,p,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,D=0;this.__bidiEngine__={};var R=function(T){var F=T.charCodeAt(),$=F>>8,G=S[$];return G!==void 0?x[256*G+(255&F)]:$===252||$===253?"AL":_.test($)?"L":$===8?"R":"N"},I=function(T){for(var F,$=0;$<T.length;$++){if((F=R(T.charAt($)))==="L")return!1;if(F==="R")return!0}return!1},ne=function(T,F,$,G){var ie,Z,re,le,de=F[G];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(de="AN");break;case"AL":E=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":G<1||G+1>=F.length||(ie=$[G-1])!=="EN"&&ie!=="AN"||(Z=F[G+1])!=="EN"&&Z!=="AN"?de="N":E&&(Z="AN"),de=Z===ie?Z:"N";break;case"ES":de=(ie=G>0?$[G-1]:"B")==="EN"&&G+1<F.length&&F[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&$[G-1]==="EN"){de="EN";break}if(E){de="N";break}for(re=G+1,le=F.length;re<le&&F[re]==="ET";)re++;de=re<le&&F[re]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(le=F.length,re=G+1;re<le&&F[re]==="NSM";)re++;if(re<le){var Y=T[G],ue=Y>=1425&&Y<=2303||Y===64286;if(ie=F[re],ue&&(ie==="R"||ie==="AL")){de="R";break}}}de=G<1||(ie=F[G-1])==="B"?"N":$[G-1];break;case"B":E=!1,i=!0,de=D;break;case"S":l=!0,de="N"}return de},K=function(T,F,$){var G=T.split("");return $&&B(G,$,{hiLevel:D}),G.reverse(),F&&F.reverse(),G.join("")},B=function(T,F,$){var G,ie,Z,re,le,de=-1,Y=T.length,ue=0,O=[],P=D?b:w,z=[];for(E=!1,i=!1,l=!1,ie=0;ie<Y;ie++)z[ie]=R(T[ie]);for(Z=0;Z<Y;Z++){if(le=ue,O[Z]=ne(T,z,O,Z),G=240&(ue=P[le][N[O[Z]]]),ue&=15,F[Z]=re=P[ue][5],G>0)if(G===16){for(ie=de;ie<Z;ie++)F[ie]=1;de=-1}else de=-1;if(P[ue][6])de===-1&&(de=Z);else if(de>-1){for(ie=de;ie<Z;ie++)F[ie]=re;de=-1}z[Z]==="B"&&(F[Z]=0),$.hiLevel|=re}l&&function(q,se,fe){for(var ye=0;ye<fe;ye++)if(q[ye]==="S"){se[ye]=D;for(var Se=ye-1;Se>=0&&q[Se]==="WS";Se--)se[Se]=D}}(z,F,Y)},H=function(T,F,$,G,ie){if(!(ie.hiLevel<T)){if(T===1&&D===1&&!i)return F.reverse(),void($&&$.reverse());for(var Z,re,le,de,Y=F.length,ue=0;ue<Y;){if(G[ue]>=T){for(le=ue+1;le<Y&&G[le]>=T;)le++;for(de=ue,re=le-1;de<re;de++,re--)Z=F[de],F[de]=F[re],F[re]=Z,$&&(Z=$[de],$[de]=$[re],$[re]=Z);ue=le}ue++}}},ee=function(T,F,$){var G=T.split(""),ie={hiLevel:D};return $||($=[]),B(G,$,ie),function(Z,re,le){if(le.hiLevel!==0&&p)for(var de,Y=0;Y<Z.length;Y++)re[Y]===1&&(de=k.indexOf(Z[Y]))>=0&&(Z[Y]=k[de+1])}(G,$,ie),H(2,G,F,$,ie),H(1,G,F,$,ie),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,$){if(function(ie,Z){if(Z)for(var re=0;re<ie.length;re++)Z[re]=re;d===void 0&&(d=I(ie)),f===void 0&&(f=I(ie))}(T,F),c||!h||f)if(c&&h&&d^f)D=d?1:0,T=K(T,F,$);else if(!c&&h&&f)D=d?1:0,T=ee(T,F,$),T=K(T,F);else if(!c||d||h||f){if(c&&!h&&d^f)T=K(T,F),d?(D=0,T=ee(T,F,$)):(D=1,T=ee(T,F,$),T=K(T,F));else if(c&&d&&!h&&f)D=1,T=ee(T,F,$),T=K(T,F);else if(!c&&!h&&d^f){var G=p;d?(D=1,T=ee(T,F,$),D=0,p=!1,T=ee(T,F,$),p=G):(D=0,T=ee(T,F,$),T=K(T,F),D=1,p=!1,T=ee(T,F,$),p=G,T=K(T,F))}}else D=0,T=ee(T,F,$);else D=d?1:0,T=ee(T,F,$);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,h=T.isOutputVisual,d=T.isInputRtl,f=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(c=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?c.push([n.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):c.push([n.doBidiReorder(i[d])]);a.text=c}else a.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new $o(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new EE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pE(this.contents),this.head=new gE(this),this.name=new NE(this),this.cmap=new rN(this),this.toUnicode={},this.hhea=new bE(this),this.maxp=new jE(this),this.hmtx=new _E(this),this.post=new vE(this),this.os2=new yE(this),this.loca=new AE(this),this.glyf=new SE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,a,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,a){var i,l,c,d;for(c=0,l=0,d=(e=""+e).length;0<=d?l<d:l>d;l=0<=d?++l:--l)i=e.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/n)||0;return c*(n/1e3)},t.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t}();var Oi,$o=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var n,a,i;for(i=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,a,i,l,c,d,h;return e=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^l)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*i+16777216*l+65536*c+256*d+h},t.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(e){var n,a,i,l;for(l=[],a=0,i=e.length;a<i;a++)n=e[a],l.push(this.writeByte(n));return l},t}(),pE=function(){var t;function e(n){var a,i,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,i,l,c,d,h,f,p,x,w,b,N,S;for(S in b=Object.keys(n).length,h=Math.log(2),x=16*Math.floor(Math.log(b)/h),c=Math.floor(x/h),p=16*b-x,(i=new $o).writeInt(this.scalarType),i.writeShort(b),i.writeShort(x),i.writeShort(c),i.writeShort(p),l=16*b,f=i.pos+l,d=null,N=[],n)for(w=n[S],i.writeString(S),i.writeInt(t(w)),i.writeInt(f),i.writeInt(w.length),N=N.concat(w),S==="head"&&(d=f),f+=w.length;f%4;)N.push(0),f++;return i.write(N),a=2981146554-t(i.data),i.pos=d+8,i.writeUInt32(a),i.data},t=function(n){var a,i,l,c;for(n=iN.call(n);n.length%4;)n.push(0);for(l=new $o(n),i=0,a=0,c=n.length;a<c;a=a+=4)i+=l.readUInt32();return 4294967295&i},e}(),xE={}.hasOwnProperty,ll=function(t,e){for(var n in e)xE.call(e,n)&&(t[n]=e[n]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Oi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var gE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new $o).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),xv=function(){function t(e,n){var a,i,l,c,d,h,f,p,x,w,b,N,S,k,_,E,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),w=b/2,e.pos+=6,l=function(){var R,I;for(I=[],h=R=0;0<=w?R<w:R>w;h=0<=w?++R:--R)I.push(e.readUInt16());return I}(),e.pos+=2,S=function(){var R,I;for(I=[],h=R=0;0<=w?R<w:R>w;h=0<=w?++R:--R)I.push(e.readUInt16());return I}(),f=function(){var R,I;for(I=[],h=R=0;0<=w?R<w:R>w;h=0<=w?++R:--R)I.push(e.readUInt16());return I}(),p=function(){var R,I;for(I=[],h=R=0;0<=w?R<w:R>w;h=0<=w?++R:--R)I.push(e.readUInt16());return I}(),i=(this.length-e.pos+this.offset)/2,d=function(){var R,I;for(I=[],h=R=0;0<=i?R<i:R>i;h=0<=i?++R:--R)I.push(e.readUInt16());return I}(),h=_=0,D=l.length;_<D;h=++_)for(k=l[h],a=E=N=S[h];N<=k?E<=k:E>=k;a=N<=k?++E:--E)p[h]===0?c=a+f[h]:(c=d[p[h]/2+(a-N)-(w-h)]||0)!==0&&(c+=f[h]),this.codeMap[a]=65535&c}e.pos=x}return t.encode=function(e,n){var a,i,l,c,d,h,f,p,x,w,b,N,S,k,_,E,D,R,I,ne,K,B,H,ee,T,F,$,G,ie,Z,re,le,de,Y,ue,O,P,z,q,se,fe,ye,Se,Oe,He,Ie;switch(G=new $o,c=Object.keys(e).sort(function(Ke,he){return Ke-he}),n){case"macroman":for(S=0,k=function(){var Ke=[];for(N=0;N<256;++N)Ke.push(0);return Ke}(),E={0:0},l={},ie=0,de=c.length;ie<de;ie++)E[Se=e[i=c[ie]]]==null&&(E[Se]=++S),l[i]={old:e[i],new:E[e[i]]},k[i]=E[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(k),{charMap:l,subtable:G.data,maxGlyphID:S+1};case"unicode":for(F=[],x=[],D=0,E={},a={},_=f=null,Z=0,Y=c.length;Z<Y;Z++)E[I=e[i=c[Z]]]==null&&(E[I]=++D),a[i]={old:I,new:E[I]},d=E[I]-i,_!=null&&d===f||(_&&x.push(_),F.push(i),f=d),_=i;for(_&&x.push(_),x.push(65535),F.push(65535),ee=2*(H=F.length),B=2*Math.pow(Math.log(H)/Math.LN2,2),w=Math.log(B/2)/Math.LN2,K=2*H-B,h=[],ne=[],b=[],N=re=0,ue=F.length;re<ue;N=++re){if(T=F[N],p=x[N],T===65535){h.push(0),ne.push(0);break}if(T-($=a[T].new)>=32768)for(h.push(0),ne.push(2*(b.length+H-N)),i=le=T;T<=p?le<=p:le>=p;i=T<=p?++le:--le)b.push(a[i].new);else h.push($-T),ne.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*H+2*b.length),G.writeUInt16(0),G.writeUInt16(ee),G.writeUInt16(B),G.writeUInt16(w),G.writeUInt16(K),fe=0,O=x.length;fe<O;fe++)i=x[fe],G.writeUInt16(i);for(G.writeUInt16(0),ye=0,P=F.length;ye<P;ye++)i=F[ye],G.writeUInt16(i);for(Oe=0,z=h.length;Oe<z;Oe++)d=h[Oe],G.writeUInt16(d);for(He=0,q=ne.length;He<q;He++)R=ne[He],G.writeUInt16(R);for(Ie=0,se=b.length;Ie<se;Ie++)S=b[Ie],G.writeUInt16(S);return{charMap:a,subtable:G.data,maxGlyphID:D+1}}},t}(),rN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,a,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new xv(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var a,i;return n==null&&(n="macroman"),a=xv.encode(e,n),(i=new $o).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),bE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),yE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),vE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="post",t.prototype.parse=function(e){var n,a,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,d,h;for(h=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},t}(),wE=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="name",t.prototype.parse=function(e){var n,a,i,l,c,d,h,f,p,x,w;for(e.pos=this.offset,e.readShort(),n=e.readShort(),d=e.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},l=p=0,x=a.length;p<x;l=++p)i=a[l],e.pos=i.offset,f=e.readString(i.length),c=new wE(f,i),h[w=i.nameID]==null&&(h[w]=[]),h[i.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),jE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_E=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,a,i,l,c,d,h;for(e.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(e.readInt16());return p}(),this.widths=(function(){var f,p,x,w;for(w=[],f=0,p=(x=this.metrics).length;f<p;f++)l=x[f],w.push(l.advance);return w}).call(this),a=this.widths[this.widths.length-1],h=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)h.push(this.widths.push(a));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),iN=[].slice,SE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,a,i,l,c,d,h,f,p,x;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(e),(i=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,c=(d=new $o(n.read(i))).readShort(),f=d.readShort(),x=d.readShort(),h=d.readShort(),p=d.readShort(),this.cache[e]=c===-1?new kE(d,f,x,h,p):new CE(d,c,f,x,h,p),this.cache[e]))},t.prototype.encode=function(e,n,a){var i,l,c,d,h;for(c=[],l=[],d=0,h=n.length;d<h;d++)i=e[n[d]],l.push(c.length),i&&(c=c.concat(i.encode(a)));return l.push(c.length),{table:c,offsets:l}},t}(),CE=function(){function t(e,n,a,i,l,c){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=i,this.xMax=l,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),kE=function(){function t(e,n,a,i,l){var c,d;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,n,a;for(n=new $o(iN.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),AE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Oi),t.prototype.tag="loca",t.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),i=0,l=0,c=0;c<a.length;++c)if(a[c]=i,l<n.length&&n[l]==c){++l,a[c]=i;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(i+=h)}for(var f=new Array(4*a.length),p=0;p<a.length;++p)f[4*p+3]=255&a[p],f[4*p+2]=(65280&a[p])>>8,f[4*p+1]=(16711680&a[p])>>16,f[4*p]=(4278190080&a[p])>>24;return f},t}(),EE=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,a,i,l;for(n in i=this.font.cmap.tables[0].codeMap,e={},l=this.subset)a=l[n],e[n]=i[a];return e},t.prototype.glyphsFor=function(e){var n,a,i,l,c,d,h;for(i={},c=0,d=e.length;c<d;c++)i[l=e[c]]=this.font.glyf.glyphFor(l);for(l in n=[],i)(a=i[l])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(l in h=this.glyphsFor(n))a=h[l],i[l]=a;return i},t.prototype.encode=function(e,n){var a,i,l,c,d,h,f,p,x,w,b,N,S,k,_;for(i in a=rN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},_=a.charMap)b[(h=_[i]).old]=h.new;for(N in w=a.maxGlyphID,c)N in b||(b[N]=w++);return p=function(E){var D,R;for(D in R={},E)R[E[D]]=D;return R}(b),x=Object.keys(p).sort(function(E,D){return E-D}),S=function(){var E,D,R;for(R=[],E=0,D=x.length;E<D;E++)d=x[E],R.push(p[d]);return R}(),l=this.font.glyf.encode(c,S,b),f=this.font.loca.encode(l.offsets,S),k={cmap:this.font.cmap.raw(),glyf:l.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();Ft.API.PDFObject=function(){var t;function e(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,i,l,c;if(Array.isArray(n))return"["+function(){var d,h,f;for(f=[],d=0,h=n.length;d<h;d++)a=n[d],f.push(e.convert(a));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in l=["<<"],n)c=n[i],l.push("/"+i+" "+e.convert(c));return l.push(">>"),l.join(`
`)}return""+n},e}();const LE=async t=>await ct(dt.ADMIN.AllLoanStatus,"GET",void 0,t),DE=async t=>await ct(dt.ADMIN.AllLoanDistributed,"GET",void 0,t),ME=async(t,e)=>(console.log("The Id coming at the send request",t),await ct(dt.ADMIN.FullLoanDetail(t),"GET",void 0,e)),FE=async(t,e)=>await ct(dt.ADMIN.SingleLoanDetail(t),"GET",void 0,e),OE=async t=>await ct(dt.ADMIN.MonoLoanCalculation,"GET",void 0,t),TE=async(t,e)=>await ct(dt.ADMIN.RepaymentHistory(t),"GET",void 0,e),lN=({isOpen:t,onClose:e,loanId:n,onDisbursementUpdate:a})=>{const[i,l]=L.useState("loan"),[c,d]=L.useState(!1),[h,f]=L.useState(!1),p=es.get("token"),{data:x,isLoading:w,isError:b}=Ut({queryKey:["full-loan-detail",n],queryFn:()=>FE(n,p||""),enabled:t&&!!n&&!!p}),N=x?.data?{id:String(x.data.id??n),userId:String(x.data.user_id??n),name:x.data.user?`${x.data.user.first_name} ${x.data.user.sur_name}`:"Unknown User",loanLimit:x.data.mono?.loan_limit!==null?`${x.data.mono.loan_limit}`:"N/A",loanAmount:x.data.loan_amount!==null?`${x.data.loan_amount.toLocaleString()}`:"N/A",loanPeriod:x.data.repayment_duration!==null?`${x.data.repayment_duration} months`:"N/A",repaymentDuration:x.data.mono?.repayment_duration!==null?`${x.data.mono.repayment_duration} months`:"N/A",financingPartner:"Mono",interestRate:x.data.mono?.interest_rate!==null?`${x.data.mono.interest_rate}%`:"N/A",sendStatus:x.data.loan_status?.send_status||"Pending",sendDate:x.data.loan_status?.send_date?new Date(x.data.loan_status.send_date).toLocaleDateString():"Not yet sent",approvalStatus:x.data.loan_status?.approval_status||"Pending",approvalDate:x.data.loan_status?.approval_date?new Date(x.data.loan_status.approval_date).toLocaleDateString():"Not yet approved",disbursementStatus:x.data.loan_status?.disbursement_status||"Pending",disbursementDate:x.data.loan_status?.disbursement_date?new Date(x.data.loan_status.disbursement_date).toLocaleDateString():"Not yet disbursed",beneficiaryName:x.data.beneficiary_name||"N/A",beneficiaryEmail:x.data.beneficiary_email||"N/A",beneficiaryRelationship:x.data.beneficiary_relationship||"N/A",beneficiaryPhone:x.data.beneficiary_phone||"N/A",titleDocument:x.data.title_document||"N/A",uploadDocument:x.data.upload_document||"N/A",totalAmount:x.data.mono?.total_amount?`${x.data.mono.total_amount.toLocaleString()}`:"N/A",downPayment:x.data.mono?.down_payment?`${x.data.mono.down_payment.toLocaleString()}`:"N/A",creditScore:x.data.mono?.credit_score||"N/A",isOverdue:x.data.mono?.is_overdue||!1,mono_loan_calculation:x.data?.mono_loan_calculation||"N/A"}:null;if(t&&w)return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loading loan details..."})});if(t&&b)return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-red-500 text-lg",children:"Failed to load loan details."})});if(t&&!N)return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loan details not found."})});const S=()=>{const _=N;if(!_){alert("Unable to find loan data. Please try again.");return}f(!0);try{const E=new Ft;E.setFont("helvetica"),E.setFontSize(20),E.setTextColor(39,62,142),E.text("TROOSOLAR FINANCIAL SERVICES",20,25),E.setFontSize(16),E.setTextColor(0,0,0),E.text("ACCOUNT STATEMENT",20,35),E.setLineWidth(.5),E.line(20,40,190,40);let D=55;E.setFontSize(14),E.setTextColor(39,62,142),E.text("Customer Information",20,D),D+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Name: ${_.name}`,25,D),D+=6,E.text(`Customer ID: ${_.userId}`,25,D),D+=6,E.text(`Loan ID: ${_.id}`,25,D),D+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Loan Details",20,D),D+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Loan Amount: ${_.loanAmount}`,25,D),D+=6,E.text(`Loan Limit: ${_.loanLimit}`,25,D),D+=6,E.text(`Loan Period: ${_.loanPeriod}`,25,D),D+=6,E.text(`Interest Rate: ${_.interestRate}`,25,D),D+=6,E.text(`Repayment Duration: ${_.repaymentDuration}`,25,D),D+=6,E.text(`Financing Partner: ${_.financingPartner}`,25,D),D+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Status Information",20,D),D+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Send Status: ${_.sendStatus}`,25,D),D+=6,E.text(`Send Date: ${_.sendDate}`,25,D),D+=6,E.text(`Approval Status: ${_.approvalStatus}`,25,D),D+=6,E.text(`Approval Date: ${_.approvalDate}`,25,D),D+=6,E.text(`Disbursement Status: ${_.disbursementStatus}`,25,D),D+=6,E.text(`Disbursement Date: ${_.disbursementDate}`,25,D),D+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Financial Summary",20,D),D+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Loan Amount: ${_.loanAmount}`,25,D),D+=6,E.text(`Total Amount: ${_.totalAmount}`,25,D),D+=6,E.text(`Down Payment: ${_.downPayment}`,25,D),D+=6,E.text(`Interest Rate: ${_.interestRate}`,25,D),D+=6,E.text(`Credit Score: ${_.creditScore}`,25,D),D+=6,E.text(`Overdue Status: ${_.isOverdue?"Overdue":"Current"}`,25,D),D+=20,E.setLineWidth(.3),E.line(20,D,190,D),D+=10,E.setFontSize(8),E.setTextColor(100,100,100),E.text(`Statement Generated: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,20,D),D+=5,E.text("This is an official document from Troosolar Financial Services.",20,D),D+=5,E.text("For inquiries, contact customer support.",20,D);const R=`Account-Statement-${_.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`;E.save(R),setTimeout(()=>{alert("PDF account statement downloaded successfully!"),f(!1)},500)}catch(E){console.error("Error generating PDF:",E),alert("Failed to generate PDF account statement. Please try again."),f(!1)}},k=({status:_})=>{let E={backgroundColor:"#FFA50033",color:"#FF8C00"},D="#FF8C00";const R=_.toLowerCase();return R==="completed"||R==="approved"||R==="active"?(E={backgroundColor:"#00800033",color:"#008000"},D="#008000"):R==="rejected"?(E={backgroundColor:"#FF000033",color:"#FF0000"},D="#FF0000"):R==="disbursed"&&(E={backgroundColor:"#0000FF33",color:"#0000FF"},D="#0000FF"),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[75px]",style:E,children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:D}}),_]})};return!t||!N?null:s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[s.jsx("div",{className:"fixed inset-0 bg-opacity-0 backdrop-brightness-50",onClick:e}),s.jsxs("div",{className:"relative bg-white w-[675px] h-full max-w-[100%] max-h-[100%] sm:rounded-xl shadow-lg overflow-y-auto z-10",children:[s.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Full Loan Details"}),s.jsx("button",{className:" cursor-pointer ",onClick:e,children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"flex border-b px-5",children:[s.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="loan"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>l("loan"),children:"Loan Details"}),s.jsx("button",{className:`py-2 px-0 cursor-pointer ${i==="financial"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>l("financial"),children:"Financial details"})]}),i==="loan"&&s.jsxs("div",{className:"px-5",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Details"}),s.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Name"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.name})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Limit"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.loanLimit})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Amount"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.loanAmount})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Period"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.loanPeriod})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Repayment duration"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.repaymentDuration})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Financing partner"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.financingPartner})]}),s.jsxs("div",{className:"flex justify-between py-3",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Interest rate"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.interestRate})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Status"}),s.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-5",children:[s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Status (to partner)"}),s.jsx(k,{status:N.sendStatus})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Date"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.sendDate})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Status (from partner)"}),s.jsx(k,{status:N.approvalStatus})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Date"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.approvalDate})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Status"}),s.jsx(k,{status:N.disbursementStatus})]}),s.jsxs("div",{className:"flex justify-between py-3",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Date"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.disbursementDate})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Beneficiary Information"}),s.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Name"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.beneficiaryName})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Email"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.beneficiaryEmail})]}),s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Relationship"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.beneficiaryRelationship})]}),s.jsxs("div",{className:"flex justify-between py-3",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Phone Number"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.beneficiaryPhone})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Document Information"}),s.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[s.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Document Type"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.titleDocument})]}),s.jsxs("div",{className:"flex justify-between py-3",children:[s.jsx("span",{className:"text-[#00000080] text-sm",children:"Uploaded Document"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.uploadDocument!=="N/A"?s.jsx("a",{href:N.uploadDocument,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Document"}):"N/A"})]})]})]}),N.approvalStatus.toLowerCase()!=="approved"&&s.jsx("button",{className:`w-full py-3 rounded-full font-medium my-5 transition-colors cursor-pointer ${N.disbursementStatus==="Completed"?"bg-[#939FC7] text-white cursor-not-allowed":"bg-[#273E8E] hover:bg-blue-700 text-white"}`,onClick:()=>N.disbursementStatus!=="Completed"&&d(!0),disabled:N.disbursementStatus==="Completed",children:"Disburse Loan"})]}),i==="financial"&&s.jsxs("div",{className:"px-5",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Financial Summary"}),s.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Amount"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.loanAmount})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Total Amount"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.totalAmount})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Down Payment"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.downPayment})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Interest Rate"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.interestRate})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Credit Information"}),s.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Credit Score"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.creditScore})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Limit"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.loanLimit})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Repayment Duration"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.repaymentDuration})]}),s.jsxs("div",{className:"flex justify-between py-3 px-3",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Overdue Status"}),s.jsx("span",{className:"font-medium text-sm text-right",children:N.isOverdue?s.jsx("span",{className:"text-red-600",children:"Overdue"}):s.jsx("span",{className:"text-green-600",children:"Current"})})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium my-3",children:"Account Statement"}),s.jsxs("div",{className:"flex items-center justify-between py-3 px-3 border border-[#00000080] rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:s.jsx("div",{className:"pdf-icon",children:s.jsx("img",{src:"/assets/images/pdf.png",alt:"PDF",width:"24",height:"24",className:"object-contain"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Download Account Statement"}),s.jsx("div",{className:"text-xs text-gray-500",children:h?"Generating PDF...":"PDF  200kb"})]})]}),s.jsx("button",{className:`text-blue-600 hover:text-blue-800 transition-colors ${h?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:S,disabled:h,title:"Download Account Statement",children:s.jsx("div",{className:"download-icon",children:h?s.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):s.jsx("img",{src:"/assets/images/download.png",alt:"Download",width:"24",height:"24",className:"object-contain"})})})]})]})]})]}),s.jsx(Uk,{isOpen:c,onClose:()=>d(!1),loanId:N.mono_loan_calculation,amount:N.loanAmount,onDisburse:(_,E)=>{a&&a(_,E)}})]})},PE=({userId:t})=>{const e=ya(),{id:n}=yh(),a=es.get("token"),i=t||n,[l,c]=L.useState(!1),[d,h]=L.useState(!1),[f,p]=L.useState(!1),[x,w]=L.useState(""),[b,N]=L.useState("");console.log("The Id coming",i);const{data:S,isLoading:k,isError:_}=Ut({queryKey:["user-loan-detail",i],queryFn:()=>ME(i||"",a||""),enabled:!!i&&!!a});console.log("User Loan Detail",S);const E=S?.data?.loans||[],D=S?.data?.user_info||{},R=S?.data?.wallet_info||{};console.log("API Loans Data:",S);const I=()=>{const H=`user_partner_${(D.name||D.first_name||`User ${i}`)?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(H,JSON.stringify({selectedPartner:x})),alert("Partner selection saved successfully!"),p(!1)},ne=B=>{N(B),c(!0)},K=({status:B})=>{let H={backgroundColor:"#FEF3C7",color:"#D97706"},ee="#D97706",T="border-[#FFA500] border";return B==="Completed"?(H={backgroundColor:"#D1FAE5",color:"#065F46"},ee="#10B981",T="border-[#008000] border"):B==="Rejected"&&(H={backgroundColor:"#FEE2E2",color:"#DC2626"},ee="#DC2626",T="border-[#FF0000] border"),s.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] justify-center ${T}`,style:H,children:[s.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:ee}}),B]})};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Tk,{isOpen:d,onClose:()=>h(!1),user:{id:i||"",name:D.name||D.first_name||`User ${i}`,email:D.email||"",phone:D.phone||"",bvn:D.bvn||"",date:D.created_at||""},onSendToPartner:()=>{p(!0),h(!1)}}),f&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start min-h-screen p-6",children:[s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>p(!1)}),s.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),s.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>p(!1),children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partnerss"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-4 pr-10 appearance-none text-base",value:x,onChange:B=>w(B.target.value),children:[s.jsx("option",{value:"",disabled:!0,children:"Select Partnerss"}),s.jsx("option",{value:"partner1",children:"Sterling Banssk"}),s.jsx("option",{value:"partner2",children:"Access Bank"}),s.jsx("option",{value:"partner3",children:"First Bank"}),s.jsx("option",{value:"partner4",children:"GTBank"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsx("button",{className:"w-full bg-[#2946A9] text-white py-4 rounded-full font-semibold text-base hover:bg-[#243c8c] transition-colors",onClick:I,children:"Save"})]})]}),s.jsx(lN,{isOpen:l,onClose:()=>c(!1),loanId:b}),s.jsx(Un,{}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:D.name||D.first_name||`User ${i}`}),s.jsxs("div",{className:"flex gap-8 border-b border-gray-200 mb-6",children:[s.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}`),children:"Activity"}),s.jsxs("button",{className:"pb-2 cursor-pointer text-black font-semibold relative",children:["Loans",s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]}),s.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}/transactions`),children:"Transactions"}),s.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}/orders`),children:"Orders"})]}),s.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-[#2946A9] to-[#f9d423] rounded-2xl shadow-lg p-0 flex items-center justify-center min-w-[350px] min-h-[250px] border-2 border-blue-200",style:{boxShadow:"0 4px 24px 0 rgba(41,70,169,0.10)"},children:s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("div",{className:"relative w-[400px] h-[320px] flex items-center justify-center",children:s.jsxs("svg",{width:"340",height:"300",viewBox:"0 0 340 300",style:{zIndex:1},children:[s.jsxs("defs",{children:[s.jsx("filter",{id:"gauge-shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:s.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"8","flood-color":"#bbb"})}),s.jsxs("linearGradient",{id:"gauge-arc",x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:"#e53e3e"}),s.jsx("stop",{offset:"100%",stopColor:"#38a169"})]})]}),s.jsx("ellipse",{cx:"170",cy:"170",rx:"130",ry:"130",fill:"#fff",filter:"url(#gauge-shadow)"}),s.jsx("path",{d:"M60,170 A110,110 0 1,1 280,170",fill:"none",stroke:"url(#gauge-arc)",strokeWidth:"10",strokeLinecap:"round"}),Array.from({length:31}).map((B,H)=>{const ee=Math.PI*(.75+H*1.5/30),T=170+85*Math.cos(ee),F=170+85*Math.sin(ee),$=170+110*Math.cos(ee),G=170+110*Math.sin(ee);return s.jsx("line",{x1:T,y1:F,x2:$,y2:G,stroke:"#38a169",strokeWidth:"2"},H)}),s.jsx("polygon",{points:"170,170 65,135 170,160",fill:"#666"}),s.jsx("circle",{cx:"170",cy:"170",r:"13",fill:"#444"}),s.jsx("text",{x:"170",y:"210",fontSize:"15",fontWeight:"500",fill:"#888",textAnchor:"middle",children:"My Credit Score"}),s.jsx("text",{x:"170",y:"250",fontSize:"40",fontWeight:"bold",fill:"#222",textAnchor:"middle",children:"0%"})]})})})}),s.jsxs("div",{className:"flex flex-col gap-6 flex-1 min-w-[250px]",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[s.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2] mb-8",children:"Loan Wallet"}),s.jsx("div",{className:"text-3xl font-bold mb-6",children:R.loan_balance!==void 0?`${parseInt(R.loan_balance).toLocaleString()}`:"NO"}),s.jsxs("div",{className:"bg-[#1D3073] border border-[#4361C9] rounded-xl p-4",children:[s.jsx("div",{className:"text-[8px] text-[#FFFFFF80]",children:"Loan Eligible for"}),s.jsxs("div",{className:"text-xl font-semibold mt-1",children:[R.loan_balance!==void 0&&parseInt(R.loan_balance)>0?`N${parseInt(R.loan_balance).toLocaleString()}`:"No amount",s.jsx("span",{className:"text-lg font-normal",children:R.loan_balance!==void 0&&parseInt(R.loan_balance)>0?"/12months":""})]})]})]}),s.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[s.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2]",children:"General Wallet"}),s.jsx("div",{className:"text-3xl font-bold mb-2",children:R.shop_balance!==void 0&&R.shop_balance!==null?`${parseInt(R.shop_balance).toLocaleString()}`:"N/A"}),s.jsx("button",{className:"bg-white text-[#000000] cursor-pointer text-sm rounded-full px-8 py-4 font-semibold mt-2",onClick:()=>h(!0),children:"KYC Profile"})]})]}),E.length>0&&E.some(B=>B.loan_status?.disbursement_status==="active")?s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-red-200",style:{borderColor:"#FFCDD2",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(255,205,210,0.20)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("div",{className:"text-gray-400 text-sm",children:"Next Repayment"}),s.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No overdue payments"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"00"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Days"})]}),s.jsxs("div",{className:"flex flex-col mx-1 text-gray-600",children:[s.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full mb-1"}),s.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full"})]}),s.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:"00"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Hours"})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsx("div",{className:"text-blue-900 text-2xl font-bold",children:"N/A"}),s.jsx("button",{className:"bg-gray-400 text-white text-xs px-6 py-2 rounded-full cursor-not-allowed",disabled:!0,children:"No Data"})]})]})}):s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200",style:{borderColor:"#E5E7EB",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(0,0,0,0.05)"},children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Next Repayment"}),s.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No active loans found"})]})})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h2",{className:"text-xl text-[#000000] font-bold mb-5",children:"Loans Summary"})}),k?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading loans..."}):_?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loans."}):E.length===0?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"No loans found for this user."}):s.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[s.jsx("th",{className:"p-4 w-12 text-center",children:s.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),s.jsx("th",{className:"p-4 text-center",children:"Name"}),s.jsx("th",{className:"p-4 text-center",children:"Amount"}),s.jsx("th",{className:"p-4 text-center",children:"Date"}),s.jsx("th",{className:"p-4 text-center",children:"Send Status"}),s.jsx("th",{className:"p-4 text-center",children:"Approval"}),s.jsx("th",{className:"p-4 text-center",children:"Action"})]})}),s.jsx("tbody",{children:E.map((B,H)=>s.jsxs("tr",{className:`${H%2===0?"bg-[#F8F8F8]":"bg-white"} hover:bg-gray-50`,children:[s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),s.jsx("td",{className:"p-4 text-center",children:B.user_name||B.beneficiary_name||"-"}),s.jsxs("td",{className:"p-4 text-center",children:["",B.loan_amount.toLocaleString()]}),s.jsx("td",{className:"p-4 text-center",children:B.created_at?new Date(B.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"-"}),s.jsx("td",{className:"p-4 text-center",children:s.jsx(K,{status:B.loan_status?.send_status?B.loan_status.send_status.charAt(0).toUpperCase()+B.loan_status.send_status.slice(1):"Pending"})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx(K,{status:B.loan_status?.approval_status?B.loan_status.approval_status.charAt(0).toUpperCase()+B.loan_status.approval_status.slice(1):"Pending"})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("button",{className:"bg-[#273E8E] text-white px-4 py-3 rounded-full text-sm cursor-pointer",onClick:()=>ne(String(B.loan_application_id)),children:"View Details"})})]},B.loan_application_id))})]})})]})]})]})};function BE(){const{id:t}=yh();return console.log("The Id coming",t),t?s.jsx("div",{children:s.jsx(PE,{userId:t})}):s.jsx("div",{className:"p-8 text-xl",children:"User ID not found in URL"})}const RE=({totalTransactions:t,totalDeposits:e,totalWithdrawals:n})=>{const a=i=>`${i.toLocaleString()}`;return s.jsxs("div",{className:"summary-cards",children:[s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"card-icon transactions-icon",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",width:"24",height:"24"})}),s.jsxs("div",{className:"card-content",children:[s.jsx("span",{className:"card-label",children:"Total Transactions"}),s.jsx("span",{className:"card-value",children:t})]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"card-icon deposits-icon",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Deposits",width:"24",height:"24"})}),s.jsxs("div",{className:"card-content",children:[s.jsx("span",{className:"card-label",children:"Deposits"}),s.jsx("span",{className:"card-value",children:a(e)})]})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"card-icon withdrawals-icon",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Withdrawals",width:"24",height:"24"})}),s.jsxs("div",{className:"card-content",children:[s.jsx("span",{className:"card-label",children:"Withdrawals"}),s.jsx("span",{className:"card-value",children:a(n)})]})]})]})},oN=({isOpen:t,transaction:e,onClose:n})=>{if(console.log("TransactionDetail props:",{isOpen:t,transaction:e}),!t||!e)return console.log("Modal not showing - isOpen:",t,"transaction:",e),null;const a=e.price?`${Number(e.price).toLocaleString()}`:e.amount?`${Number(e.amount).toLocaleString()}`:"-",i=e.payment_method?e.payment_method.charAt(0).toUpperCase()+e.payment_method.slice(1).replace(/_/g," "):e.method?e.method.charAt(0).toUpperCase()+e.method.slice(1):"-",l=e.tx_id||e.reference||e.id||"-",c=e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"-";let d="-",h="-";if(e.date&&e.time)d=e.date,h=e.time;else if(e.transacted_at){const x=new Date(e.transacted_at);d=x.toLocaleDateString(),h=x.toLocaleTimeString()}const f=e.title||e.name||"-",p=e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"-";return s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Transaction Details"}),s.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-500":c.toLowerCase()==="pending"?"bg-yellow-500":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-500":"bg-gray-500"}`,children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"Transaction Successful":c.toLowerCase()==="pending"?"Pending Transaction":"Transaction"}),s.jsx("p",{className:"text-sm text-gray-600",children:f})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Title"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:f})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),s.jsx("span",{className:"text-sm text-gray-700",children:p})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),s.jsx("span",{className:"text-sm text-gray-700",children:i})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Transaction ID"}),s.jsx("span",{className:"text-sm text-gray-700 font-mono",children:l})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-100 text-green-800":c.toLowerCase()==="pending"?"bg-yellow-100 text-yellow-800":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Date & Time"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[d," at ",h]})]})]})]})})},UE=async(t,e)=>await ct(dt.ADMIN.TransactionShow(t),"GET",void 0,e),IE=async t=>await ct(dt.ADMIN.AllTransaction,"GET",void 0,t),qE=()=>{const{id:t}=yh(),e=ya(),[n,a]=L.useState("Transactions"),[i,l]=L.useState("All"),[c,d]=L.useState(!1),[h,f]=L.useState(""),[p,x]=L.useState(null),[w,b]=L.useState(!1),[N,S]=L.useState(null),[k,_]=L.useState(1),[E]=L.useState(15),D=L.useRef(null),R=es.get("token"),{data:I,isLoading:ne,isError:K}=Ut({queryKey:["single-transaction",t],queryFn:()=>UE(t||"",R||""),enabled:!!t&&!!R}),B=I?.user_info||{},H=I?.summary||{},ee=I?.transactions||[];L.useEffect(()=>{function P(z){const q=z.target,se=q.closest("[data-dropdown-button]"),fe=q.closest("[data-dropdown-menu]");p&&!se&&!fe&&x(null),D.current&&!D.current.contains(z.target)&&d(!1)}return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[D,p]),L.useEffect(()=>{_(1)},[h,i]);const T=B.name?B:null,F=H.total_transactions!==void 0?H:null,$=ee;if(ne)return s.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ss,{message:"Loading user..."})})});if(!B.name)return s.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User not found"}),s.jsx("button",{onClick:()=>e("/user-mgt"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to User Management"})]})});const G=P=>{switch(a(P),P){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":break;case"Orders":e(`/user-activity/${t}/orders`);break}},ie=$.filter(P=>{if(h){const z=h.toLowerCase(),q=P.name?.toLowerCase()||"",se=(P.tx_id||P.txId||"").toLowerCase(),fe=P.title?.toLowerCase()||"";if(!q.includes(z)&&!se.includes(z)&&!fe.includes(z))return!1}return i==="All"?!0:i==="Deposit"?P.type==="deposit"||P.type==="Deposit":i==="Withdrawals"?P.type?.toLowerCase().includes("withdrawal"):i==="Status"?P.status==="Pending"||P.status==="pending":i==="Completed"?P.status==="Completed"||P.status==="paid":i==="Pending"?P.status==="Pending"||P.status==="pending":i==="Failed"?P.status==="Failed"||P.status==="failed":!0}),Z=Math.ceil(ie.length/E),re=(k-1)*E,le=re+E,de=ie.slice(re,le),Y=P=>{x(p===P?null:P)},ue=(P,z)=>{S(z),b(!0),x(null)},O=()=>{b(!1),S(null)};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"",children:s.jsx("h1",{className:"text-2xl font-bold mb-3",children:T?.name})}),s.jsx("div",{className:"flex border-b border-gray-200 mb-6",children:["Activity","Loans","Transactions","Orders"].map(P=>s.jsx("button",{className:`px-4 py-3 text-md font-medium border-b-2 transition-colors cursor-pointer ${n===P?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,onClick:()=>G(P),children:P},P))}),ne?s.jsx(Ss,{message:"Loading summary..."}):K?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load summary."}):s.jsx(RE,{totalTransactions:F?.total_transactions||0,totalDeposits:F?.total_deposits||0,totalWithdrawals:F?.total_withdrawals||0}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"border border-[#CDCDCD] bg-white p-2 rounded-full flex items-center",children:[s.jsx("button",{className:`px-5 py-2.5 rounded-full text-sm transition cursor-pointer ${i==="All"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("All"),children:"All"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${i==="Deposit"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("Deposit"),children:"Deposit"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${i==="Withdrawals"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("Withdrawals"),children:"Withdrawals"})]}),s.jsx("div",{className:"relative inline-block ml-2 mt-1",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",ref:D,children:[s.jsxs("button",{className:"px-6 py-3 border border-[#00000030] rounded-lg text-sm bg-white cursor-pointer pr-10 min-w-[140px] focus:outline-none focus:ring-1 focus:ring-blue-500 flex items-center justify-between",onClick:()=>d(!c),children:[s.jsx("span",{className:"text-[#333]",children:i==="Status"?"Status":i}),s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-500 absolute right-3",children:s.jsx("path",{d:"M3.5 5.25L7 8.75L10.5 5.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c&&s.jsxs("div",{className:"absolute left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-md z-10",children:[s.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("All"),d(!1)},children:"Status"}),s.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("Completed"),d(!1)},children:"Successful"}),s.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("Pending"),d(!1)},children:"Pending"}),s.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333]",onClick:()=>{l("Failed"),d(!1)},children:"Failed"})]})]})})})]}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative flex items-center w-full",children:[s.jsx("svg",{className:"absolute left-4 h-[18px] w-[18px] text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.7,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:P=>f(P.target.value)})]})})]}),ne?s.jsx(Ss,{message:"Loading transactions..."}):K?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):ie.length===0?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-xs uppercase tracking-wider",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4"})}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Tx ID"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{children:de.map((P,z)=>s.jsxs("tr",{className:`${z%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4 "})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-black text-center",children:P.name}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center font-medium",children:["",P.price?Number(P.price).toLocaleString():P.amount?.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:[P.date,P.time?`/${P.time}`:""]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:P.payment_method?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.payment_method}),s.jsx("div",{className:"text-xs text-gray-500",children:P.title||P.type})]}):s.jsx("div",{className:"font-medium",children:P.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:P.tx_id||P.txId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${P.status==="Completed"||P.status==="paid"?"border border-[#008000]":P.status==="Pending"||P.status==="pending"?"border border-[#FFA500]":P.status==="Rejected"||P.status==="failed"?"border border-[#FF0000]":"border border-[#6B7280]"}`,style:P.status==="Completed"||P.status==="paid"?{backgroundColor:"#00800033",color:"#008000"}:P.status==="Pending"||P.status==="pending"?{backgroundColor:"#FFA50033",color:"#FF8C00"}:P.status==="Rejected"||P.status==="failed"?{backgroundColor:"#FF000033",color:"#FF0000"}:{backgroundColor:"#6B728033",color:"#6B7280"},children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:P.status==="Completed"||P.status==="paid"?"#008000":P.status==="Pending"||P.status==="pending"?"#FF8C00":P.status==="Rejected"||P.status==="failed"?"#FF0000":"#6B7280"}}),P.status==="paid"?"Completed":P.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("div",{className:"flex items-center space-x-2 relative",children:[s.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>Y(String(P.id)),children:s.jsx("img",{src:xt.dots,alt:""})}),p===String(P.id)&&s.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:s.jsx("div",{className:"py-2",children:s.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:q=>{q.preventDefault(),q.stopPropagation(),ue("View Transaction details",P)},children:"View Transaction details"})})})]})})]},P.id))})]}),Z>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",re+1," to ",Math.min(le,ie.length)," of ",ie.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>_(P=>Math.max(P-1,1)),disabled:k===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${k===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Z)},(P,z)=>{let q;return Z<=5||k<=3?q=z+1:k>=Z-2?q=Z-4+z:q=k-2+z,s.jsx("button",{onClick:()=>_(q),className:`px-3 py-2 text-sm font-medium rounded-md border ${k===q?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:q},q)})}),s.jsx("button",{onClick:()=>_(P=>Math.min(P+1,Z)),disabled:k===Z,className:`px-3 py-2 text-sm font-medium rounded-md border ${k===Z?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]}),w&&N&&s.jsx(oN,{isOpen:w,transaction:N,onClose:O})]})},zE=async t=>await ct(dt.ADMIN.OrdersList,"GET",void 0,t),HE=async(t,e)=>await ct(dt.ADMIN.OrderShowUser(t),"GET",void 0,e),$E=async(t,e)=>await ct(dt.ADMIN.OrderShow(t),"GET",void 0,e),cN=({isOpen:t,order:e,onClose:n})=>{const a=es.get("token"),[i,l]=L.useState(!0),[c,d]=L.useState(!1);L.useEffect(()=>{e?.id&&(l(!0),d(!1))},[e?.id]);const{data:h,isLoading:f,isError:p}=Ut({queryKey:["single-order-detail",e?.id],queryFn:()=>$E(e?.id||0,a||""),enabled:!!e?.id&&t});if(!t||!e)return null;if(f)return s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:s.jsx("div",{className:"py-12 text-center text-gray-500",children:"Loading order details..."})})});if(p||!h?.data)return s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:s.jsx("div",{className:"py-12 text-center text-red-500",children:"Failed to load order details."})})});const x=h.data,w=x.items&&x.items.length>0?x.items[0].item?.title:"-",b=x.items&&x.items.length>0?x.items[0].item?.featured_image:"/assets/images/newman1.png",N=()=>{l(!1),d(!1)},S=()=>{l(!1),d(!0)},k=x.user_info?.name||x.include_user_info?.first_name||"-",_=x.user_info?.phone||x.include_user_info?.phone||"-",E=x.delivery_address?.address||"-",D=x.delivery_address?.phone_number||"-",R=x.order_status||"-",I=x.created_at||"-",ne=x.total_price?`${Number(x.total_price).toLocaleString()}`:"-",K=x.payment_method||"-",B=x.installation||null,ee=Ye.replace(/\/api$/,"");return s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[s.jsxs("div",{className:"text-center p-5 border border-[#00000080] bg-white rounded-2xl",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-3 ${R==="delivered"?"bg-green-100":R==="pending"?"bg-orange-100":"bg-blue-100"}`,children:R==="delivered"?s.jsx("img",{src:xt.tick,alt:""}):R==="pending"?s.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}):s.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:R==="delivered"?"Order Delivered":R==="pending"?"Order Pending":"Order Placed"}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:R==="delivered"?`Order has been successfully delivered on ${I}`:R==="pending"?"Order is being processed.":`Order has been placed successfully on ${I}`}),s.jsxs("div",{className:`text-xs px-3 py-1 rounded-full inline-block ${R==="delivered"?"bg-green-50 text-green-700":R==="pending"?"bg-orange-50 text-orange-700":"bg-blue-50 text-blue-700"}`,children:["Order ID: ",x.order_number||x.id||"-"]})]}),s.jsxs("div",{className:"p-5 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Product Details"}),s.jsxs("div",{className:"flex items-center space-x-3 p-1.5 bg-white border border-[#00000080] rounded-2xl",children:[s.jsxs("div",{className:"w-19 h-19 bg-[#F3F3F3] rounded-2xl flex items-center justify-center flex-shrink-0 relative",children:[i&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),c?s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 rounded-lg",children:s.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):s.jsx("img",{src:`${ee}${b}`,alt:w,className:`w-full h-full object-cover rounded-lg ${i?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:N,onError:S})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:w}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:ne}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Order Date: ",I]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Customer Details"}),s.jsx("div",{className:"p-5 border border-[#00000080] rounded-2xl",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsx("div",{children:s.jsx("span",{className:"text-gray-600",children:"Customer Name"})}),s.jsx("p",{className:"text-gray-900 font-medium",children:k}),s.jsxs("div",{className:"flex justify-between mt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Contact"}),s.jsx("span",{className:"text-gray-900",children:_})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Order Status"}),s.jsx("span",{className:`font-medium ${R==="delivered"?"text-green-600":R==="pending"?"text-orange-600":"text-blue-600"}`,children:R})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Delivery Details"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080]",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsx("div",{className:"border-b border-[#CDCDCD] p-3",children:s.jsx("span",{className:"text-gray-600",children:"Delivery Address"})}),s.jsxs("div",{className:"p-3 pr-5 pl-5",children:[s.jsxs("div",{className:"p-5 bg-[#EDEDED] rounded-2xl",children:[s.jsx("p",{className:"text-[#00000080] mb-1 text-[10px]",children:"Address"}),s.jsx("p",{className:"text-black text-[13px]",children:E}),s.jsx("p",{className:"text-[#00000080] mb-1 mt-1 text-[10px]",children:"Phone Number"}),s.jsx("p",{className:"text-black text-[13px]",children:D})]}),s.jsxs("div",{className:"flex justify-between mt-5 mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),s.jsx("span",{className:"text-black text-[14px]",children:B?.installation_date||"-"})]}),s.jsxs("div",{className:"flex justify-between p-1",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),s.jsx("span",{className:"text-[#273E8E] text-[14px]",children:B?.installation_fee?`${Number(B.installation_fee).toLocaleString()}`:"-"})]})]})]})})]}),B&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Installation"}),s.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-3",children:[s.jsx("div",{className:"border-2 border-dashed border-[#273E8E] rounded-lg p-3 bg-[#273E8E1A] mb-5",children:s.jsxs("p",{className:"text-xs text-[#273E8E] text-[14px]",children:["Installation will be carried out by ",B.technician_name||"our skilled technician",". You can choose not to use our installers."]})}),s.jsxs("div",{className:"flex justify-between text-xs mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),s.jsx("span",{className:"text-black text-[14px]",children:B.installation_date||"-"})]}),s.jsxs("div",{className:"flex justify-between text-xs p-1",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),s.jsx("span",{className:"text-[#273E8E] text-[14px]",children:B.installation_fee?`${Number(B.installation_fee).toLocaleString()}`:"-"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-2 text-xs rounded-2xl p-3 border border-[#00000080]",children:[s.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Payment method"}),s.jsx("span",{className:"text-black text-[14px]",children:K})]}),s.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[s.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Amount"}),s.jsx("span",{className:"text-[#273E8E] text-[14px]",children:ne})]})]})]})]})]})]})})},VE=()=>{const{id:t}=yh(),e=ya(),[n,a]=L.useState("Orders"),[i,l]=L.useState("All"),[c,d]=L.useState(null),[h,f]=L.useState(""),p=L.useRef(null),[x,w]=L.useState(1),[b]=L.useState(10),N=es.get("token"),S=["Activity","Loans","Transactions","Orders"],{data:k,isLoading:_,isError:E}=Ut({queryKey:["single-order-user",t],queryFn:()=>HE(t||"",N||""),enabled:!!t&&!!N}),D=k?.summary||{},R=k?.orders||[],I=F=>{switch(a(F),F){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":e(`/user-activity/${t}/transactions`);break}},ne=()=>{console.log("Notification clicked")},K=R.filter(F=>{if(h){const $=h.toLowerCase(),G=(F.order_number||"").toLowerCase(),ie=(F.total_price||"").toLowerCase(),Z=(F.created_at||"").toLowerCase(),re=(F.order_status||"").toLowerCase();if(!G.includes($)&&!ie.includes($)&&!Z.includes($)&&!re.includes($))return!1}return i==="All"?!0:i==="Status"?F.order_status==="pending":i==="Ordered"?F.order_status==="ordered":i==="Pending"?F.order_status==="pending":i==="Delivered"?F.order_status==="delivered":!0}),B=Math.ceil(K.length/b),H=(x-1)*b,ee=H+b,T=K.slice(H,ee);return _r.useEffect(()=>{w(1)},[i,h]),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:ne}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-5",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Orders"}),s.jsx("div",{className:"flex space-x-8 border-b border-gray-200",children:S.map(F=>s.jsx("button",{onClick:()=>I(F),className:`py-2 px-1 border-b-2 font-medium cursor-pointer text-md ${n===F?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,children:F},F))})]}),_?s.jsx(Ss,{message:"Loading orders summary..."}):E?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders summary."}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Total Orders",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:D?.total_orders||0})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Pending Orders",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Pending Orders"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:D?.pending_orders||0})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Successful Orders",className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Successful Orders"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:D?.completed_orders||0})]})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Orders"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex bg-white border border-[#CDCDCD] rounded-full p-2",children:["All","Loans","Direct"].map(F=>s.jsx("button",{onClick:()=>l(F),className:`px-5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer  ${i===F?"bg-[#273E8E] text-white":"text-[#000000B2] "}`,children:F},F))}),s.jsx("div",{className:"relative",ref:p,children:s.jsxs("div",{className:"inline-block",children:[s.jsxs("button",{className:"inline-flex items-center px-5 py-2.5 text-sm font-medium text-black bg-white border border-[#DEDEDE] rounded-lg focus:outline-none",onClick:()=>{document.getElementById("statusDropdown")?.classList.toggle("hidden")},style:{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},children:[s.jsx("span",{children:"Status"}),s.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{id:"statusDropdown",className:"absolute z-10 hidden w-[180px] mt-1 bg-white rounded-lg shadow-lg overflow-hidden",style:{boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"},children:s.jsxs("div",{className:"py-2",children:[s.jsx("button",{onClick:()=>{l("Ordered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Order Placed"}),s.jsx("button",{onClick:()=>{l("Pending"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Pending"}),s.jsx("button",{onClick:()=>{l("Delivered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Delivered"})]})})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:F=>f(F.target.value)}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),_?s.jsx(Ss,{message:"Loading orders..."}):E?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders."}):K.length===0?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"py-16 text-center",children:[s.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:R.length===0?"This user hasn't placed any orders yet.":"No orders match your current filters."}),R.length===0&&s.jsx("button",{onClick:()=>e("/user-mgt"),className:"px-6 py-2 bg-[#273E8E] text-white rounded-full hover:bg-blue-700 transition-colors",children:"Back to User Management"})]})}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Order ID"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:T.map((F,$)=>s.jsxs("tr",{className:`${$%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.order_number}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.items&&F.items.length>0?F.items[0].item?.title:"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",F.total_price?Number(F.total_price).toLocaleString():"-"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.created_at}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:F.order_status==="ordered"?{backgroundColor:"#E9F0FF",color:"#273E8E"}:F.order_status==="pending"?{backgroundColor:"#FFF3E0",color:"#FF8C00"}:F.order_status==="delivered"?{backgroundColor:"#EEFBEE",color:"#008000"}:F.order_status==="rejected"?{backgroundColor:"#FFEAEA",color:"#FF0000"}:{backgroundColor:"#F3F4F6",color:"#6B7280"},children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:F.order_status==="ordered"?"#273E8E":F.order_status==="pending"?"#FF8C00":F.order_status==="delivered"?"#008000":F.order_status==="rejected"?"#FF0000":"#6B7280"}}),F.order_status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("button",{className:"text-white px-6 py-2 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-sm font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>{const G={id:F.id,order_number:F.order_number,order_status:F.order_status,total_price:F.total_price,created_at:F.created_at,items:F.items,delivery_address:{address:"N/A",phone_number:"N/A"},user_info:{name:"User",phone:"N/A"}};d(G)},children:"View Details"})})]},F.id))})]})})}),B>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",H+1," to ",Math.min(ee,K.length)," of ",K.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>w(Math.max(1,x-1)),disabled:x===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),Array.from({length:Math.min(5,B)},(F,$)=>{let G;return B<=5||x<=3?G=$+1:x>=B-2?G=B-4+$:G=x-2+$,s.jsx("button",{onClick:()=>w(G),className:`px-3 py-2 text-sm font-medium rounded-md border ${x===G?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:G},G)}),s.jsx("button",{onClick:()=>w(Math.min(B,x+1)),disabled:x===B,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===B?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),s.jsx(cN,{isOpen:!!c,order:c,onClose:()=>d(null)})]})},WE=[{id:1,name:"Adewale Faizah",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:2,name:"John Adam",creditScore:45,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Poor"},{id:3,name:"Chris Banner",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:4,name:"Adam Waa",creditScore:50,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Fair"},{id:5,name:"Anita Shawn",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:6,name:"Faiz Kalil",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:7,name:"Wande Moca",creditScore:60,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Good"},{id:8,name:"Zainab Zee",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"}],gv=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-35 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},GE=()=>{const[t,e]=L.useState("Sort by"),[n,a]=L.useState("Filter"),[i,l]=L.useState(""),[c,d]=L.useState(!1),[h,f]=L.useState(null),p=()=>{console.log("Notification clicked")},x=k=>{f(k),d(!0)},w=()=>{d(!1),f(null)},b=k=>k>=90?"text-green-600 font-bold":k>=70?"text-blue-600 font-bold":k>=50?"text-yellow-600 font-bold":"text-red-600 font-bold",N=k=>k>=90?"bg-green-50":k>=70?"bg-blue-50":k>=50?"bg-yellow-50":"bg-red-50",S=WE.filter(k=>{const _=k.name.toLowerCase().includes(i.toLowerCase());let E=!0;return n==="Excellent (90+)"?E=k.creditScore>=90:n==="Good (70-89)"?E=k.creditScore>=70&&k.creditScore<90:n==="Fair (50-69)"?E=k.creditScore>=50&&k.creditScore<70:n==="Poor (Below 50)"&&(E=k.creditScore<50),_&&E});return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:p}),s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Credit Score"}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(gv,{options:["Sort by","Name","Credit Score","Date"],selected:t,onSelect:e}),s.jsx(gv,{options:["Filter","Excellent (90+)","Good (70-89)","Fair (50-69)","Poor (Below 50)"],selected:n||"Filter",onSelect:a})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:k=>l(k.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:s.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Credit Score"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Loan Limit"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:S.map((k,_)=>s.jsxs("tr",{className:`${_%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${N(k.creditScore)}`,children:s.jsxs("span",{className:b(k.creditScore),children:[k.creditScore,"%"]})})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",k.loanLimit.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:k.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>x(k),children:"View Details"})})]},k.id))})]})})})]}),c&&h&&s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-start justify-end z-50 p-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center px-8 py-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Credit Check - ",h.name]}),s.jsx("button",{onClick:w,className:"w-10 h-10 flex items-center justify-center rounded-full cursor-pointer transition",children:s.jsx("img",{src:xt.cross,alt:"Close",className:"w-6 h-6"})})]}),s.jsxs("div",{className:"px-8 py-6 overflow-y-auto max-h-[calc(95vh-80px)]",children:[s.jsx("div",{className:"rounded-xl mb-10 p-6",style:{background:"linear-gradient(135deg, #273E8E 0%, #FFA500 100%)",boxShadow:"0 4px 18px rgba(0, 0, 0, 0.15)"},children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"relative w-52 h-52 bg-white rounded-full shadow-xl flex items-center justify-center",children:s.jsxs("div",{className:"relative w-44 h-44",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 200 200",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"arcGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#FF0000"}),s.jsx("stop",{offset:"100%",stopColor:"#008000"})]})}),Array.from({length:72},(k,_)=>{const E=_*360/72,D=_%18===0,R=D?10:6,I=D?1.5:1,ne=75,K=100+(ne-R)*Math.cos(E*Math.PI/180),B=100+(ne-R)*Math.sin(E*Math.PI/180),H=100+ne*Math.cos(E*Math.PI/180),ee=100+ne*Math.sin(E*Math.PI/180);return s.jsx("line",{x1:K,y1:B,x2:H,y2:ee,stroke:"#008000",strokeWidth:I},_)}),s.jsx("path",{d:"M 10 100 A 90 90 0 0 1 190 100",stroke:"url(#arcGradient)",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),s.jsxs("g",{transform:"translate(100,100)",children:[s.jsx("polygon",{points:"0,-70 -3,-5 3,-5",fill:"#374151",transform:`rotate(${h.creditScore/100*180-90})`}),s.jsx("circle",{cx:"0",cy:"0",r:"6",fill:"#374151"}),s.jsx("circle",{cx:"0",cy:"0",r:"2.5",fill:"white"})]})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1 mt-10",children:"My Credit Score"}),s.jsxs("span",{className:"text-4xl font-bold text-gray-900 leading-none",children:[h.creditScore,"%"]})]})]})})})}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),s.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:"002334593934"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),s.jsxs("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border flex justify-between items-center text-sm text-gray-900 font-medium",children:["Access Bank",s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),s.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:h.name})]})]})]})]})})]})},bv=t=>{if(!t||typeof t!="string")return{backgroundColor:"#6B728033",color:"#6B7280"};switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":case"approved":case"active":return{backgroundColor:"#00800033",color:"#008000"};case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};case"delivered":return{backgroundColor:"#00800033",color:"#008000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},YE=({userId:t,isOpen:e,onClose:n,userName:a,userEmail:i="",userPhone:l="",userBvn:c="",onSendToPartner:d,loanApplicationStatus:h})=>{const[f,p]=L.useState("personal"),[x,w]=L.useState("document");console.log("The User ID:",t);const b=es.get("token"),{data:N,isLoading:S,isError:k}=Ut({queryKey:["user-kyc-detail",t],queryFn:()=>pw(t,b||""),enabled:e&&!!t&&!!b});console.log("KYC API Data:",N),console.log("The User ID:",t);const _=G=>{const ie=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return ie[(G-1)%ie.length]},E=G=>{const ie=["Spouse","Sibling","Parent","Child","Friend","Cousin"];return ie[(G-1)%ie.length]},D=G=>{const ie=["300,000","500,000","750,000","400,000","600,000","350,000"];return ie[(G-1)%ie.length]},R=G=>{const ie=["6 months","12 months","18 months","9 months","15 months","24 months"];return ie[(G-1)%ie.length]},[I,ne]=L.useState({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:i,phone:l,bvn:c}),[K,B]=L.useState({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:a}),[H,ee]=L.useState({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:E(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:D(t),repaymentDuration:R(t)});L.useEffect(()=>{if(p("personal"),w("document"),N?.data){const G=N.data.user,ie=N.data.loan_application;ne({firstName:G?.first_name||a?.split(" ")[0]||"",surname:G?.sur_name||a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:G?.email||i,phone:G?.phone||l,bvn:G?.bvn||c}),B({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:G?`${G.first_name} ${G.sur_name}`:a}),ee({selectedDocument:ie?.title_document||"National ID",beneficiaryName:ie?.beneficiary_name||`${a} Next of Kin`,beneficiaryRelationship:ie?.beneficiary_relationship||E(t),beneficiaryEmail:ie?.beneficiary_email||`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:ie?.beneficiary_phone||`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:ie?.loan_amount?`${ie.loan_amount.toLocaleString()}`:D(t),repaymentDuration:ie?.repayment_duration?`${ie.repayment_duration} months`:R(t)})}else ne({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:i,phone:l,bvn:c}),B({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:a}),ee({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:E(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:D(t),repaymentDuration:R(t)})},[t,a,i,l,c,N]);const T=()=>{const G=`user_personal_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify(I)),alert("Personal details saved successfully!")},F=()=>{const G=`user_credit_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify(K)),alert("Credit check details saved successfully!")},$=()=>{const G=`user_kyc_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify(H)),alert("KYC details saved successfully!")};return e?(console.log("The Loan Application Status:",h),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[s.jsx("div",{className:"absolute inset-0",onClick:n}),s.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[S&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ss,{})}),k&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center text-red-500",children:[s.jsx("p",{className:"text-lg font-medium",children:"Failed to load KYC data"}),s.jsx("p",{className:"text-sm mt-2",children:"Please try again later"})]})}),!S&&!k&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),s.jsxs("div",{className:"flex items-center",children:[h!=="approved"&&s.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:d,children:"Send to Partner"}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:n,children:s.jsx("img",{src:xt.cross,alt:""})})]})]}),s.jsxs("div",{className:"flex border-b px-5 overflow-x-auto",children:[s.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="personal"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("personal"),children:"Personal Details"}),s.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="credit"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("credit"),children:"Credit Check"}),s.jsx("button",{className:`py-2 px-0 cursor-pointer ${f==="kyc"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("kyc"),children:"KYC Details"})]}),f==="personal"&&s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your first name",value:I.firstName,onChange:G=>ne({...I,firstName:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your surname",value:I.surname,onChange:G=>ne({...I,surname:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your email address",value:I.email,onChange:G=>ne({...I,email:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your phone number",value:I.phone,onChange:G=>ne({...I,phone:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"BVN"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"BVN Number",value:I.bvn,onChange:G=>ne({...I,bvn:G.target.value})})]}),s.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:T,children:"Save"})]}),f==="credit"&&s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:K.accountNumber,onChange:G=>B({...K,accountNumber:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:K.bankName,onChange:G=>B({...K,bankName:G.target.value})}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:K.accountName,onChange:G=>B({...K,accountName:G.target.value})})]}),s.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:F,children:"Save"})]}),f==="kyc"&&s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-93",children:[s.jsx("button",{onClick:()=>{w("document")},className:`text-sm py-2.5 px-3 cursor-pointer  ${x==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),s.jsx("button",{onClick:()=>{w("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),s.jsx("button",{onClick:()=>{w("loanDetails")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),x==="document"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Document"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Document",value:H.selectedDocument,onChange:G=>ee({...H,selectedDocument:G.target.value}),readOnly:!0}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),N?.data?.loan_application?.upload_document?s.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#3B82F6",strokeWidth:"2"}),s.jsx("path",{d:"M8 10H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 14H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 18H12",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.data.loan_application.title_document||"Document"}),s.jsx("p",{className:"text-xs text-gray-500",children:N.data.loan_application.upload_document})]})]}),s.jsx("a",{href:`https://troosolar.hmstech.org/${N.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):s.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),s.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}),x==="beneficiary"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary name",value:H.beneficiaryName,onChange:G=>ee({...H,beneficiaryName:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Relationship",value:H.beneficiaryRelationship,onChange:G=>ee({...H,beneficiaryRelationship:G.target.value})}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),s.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary email",value:H.beneficiaryEmail,onChange:G=>ee({...H,beneficiaryEmail:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary phone number",value:H.beneficiaryPhone,onChange:G=>ee({...H,beneficiaryPhone:G.target.value})})]})]}),x==="loanDetails"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter Loan Amount",value:H.loanAmount,onChange:G=>ee({...H,loanAmount:G.target.value})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Duration",value:H.repaymentDuration,onChange:G=>ee({...H,repaymentDuration:G.target.value})}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),s.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:$,children:"Save"})]})]})]})]})})):null},dN=async t=>await ct(dt.ADMIN.FinancingPartnersList,"GET",void 0,t),Vp=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-40 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},KE=()=>{const[t,e]=L.useState("More Actions"),[n,a]=L.useState("Send Status"),[i,l]=L.useState("Approval Status"),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,b]=L.useState(""),[N,S]=L.useState(""),[k,_]=L.useState(1),[E]=L.useState(10),D=()=>{console.log("Notification clicked")},R=(q,se,fe,ye,Se)=>{const Oe=I(q,se,fe,ye,Se);f(Oe),d(!0)},I=(q,se,fe,ye,Se)=>({id:q,name:se,email:`${se.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+234 80${ye.toString().padStart(2,"0")} 234 567${ye}`,bvn:`123456789${ye.toString().padStart(2,"0")}`,loan_application_id:fe,user_id:ye,approval_status:Se||"Pending",address:`${ye} Lagos Street, Victoria Island, Lagos`,occupation:ne(ye),monthlyIncome:K(ye),bankAccount:`${ye.toString().padStart(10,"0")}`,bankName:B(ye)}),ne=q=>{const se=["Software Engineer","Business Analyst","Marketing Manager","Sales Executive","Product Manager","Data Scientist"];return se[(q-1)%se.length]},K=q=>{const se=["450,000","380,000","520,000","420,000","600,000","350,000"];return se[(q-1)%se.length]},B=q=>{const se=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return se[(q-1)%se.length]},H=()=>{d(!1),x(!0)},ee=()=>{if(!w){alert("Please select a partner");return}const q=ie?.data?.find(se=>se["Partner name"]===w);q?(console.log("Partner selected:",w,"Partner ID:",q.id),re.mutate(q.id)):alert("Selected partner not found")},T=es.get("token"),{data:F,isLoading:$,isError:G}=Ut({queryKey:["all-loan-status"],queryFn:()=>LE(T||""),enabled:!!T}),{data:ie,isLoading:Z}=Ut({queryKey:["all-finance-partners"],queryFn:()=>dN(T||""),enabled:!!T}),re=It({mutationFn:async q=>{if(!h?.user_id)throw new Error("User ID not available");return await Bk(h.user_id,{partner_id:q},T||"")},onSuccess:()=>{console.log("User sent to partner successfully"),x(!1),b("")},onError:q=>{console.error("Failed to send user to partner:",q),alert("Failed to send user to partner. Please try again.")}});console.log("Loan API Data:",F);const le=F?.data?[{label:"Total Loans",value:F.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:F.data["loan send"]??0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:F.data["loan approved"]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:0,icon:"/assets/images/Users.png"}],de=F?.data?Object.keys(F.data).filter(q=>!isNaN(Number(q))).map((q,se)=>{const fe=F.data[q];return{id:fe?.id||se,name:fe?.name||"Unknown",amount:fe?.amount||"N/A",date:fe?.date||"N/A",sendStatus:fe?.send_status||"Pending",approval:fe?.approval_status||"Pending",loan_application_id:fe?.loan_application_id||0,user_id:fe?.user_id||0}}):[];console.log("API Loan List:",de);const Y=de.filter(q=>{const se=n==="Send Status"||q.sendStatus===n,fe=i==="Approval Status"||q.approval===i,ye=!N||q.name.toLowerCase().includes(N.toLowerCase())||String(q.amount).toLowerCase().includes(N.toLowerCase())||q.date.toLowerCase().includes(N.toLowerCase())||q.sendStatus.toLowerCase().includes(N.toLowerCase())||q.approval.toLowerCase().includes(N.toLowerCase());return se&&fe&&ye}),ue=Math.ceil(Y.length/E),O=(k-1)*E,P=O+E,z=Y.slice(O,P);return _r.useEffect(()=>{_(1)},[N,n,i]),console.log("The Selected User:",h?.loan_application_id),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[h&&s.jsx(YE,{userId:h.user_id||0,isOpen:c,onClose:()=>d(!1),userName:h.name,userEmail:h.email,userPhone:h.phone,userBvn:h.bvn,onSendToPartner:H,loanApplicationStatus:h.approval_status||""}),p&&s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start p-4 sm:p-6 bg-black/30 backdrop-brightness-50",children:[s.jsx("div",{className:"absolute inset-0",onClick:()=>x(!1)}),s.jsxs("div",{className:"relative bg-white w-full max-w-md sm:max-w-lg mt-10 rounded-xl shadow-lg z-10 p-6 sm:p-8 max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),s.jsx("button",{className:"cursor-pointer",onClick:()=>x(!1),children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partner"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-md p-4 pr-10 appearance-none text-base",value:w,onChange:q=>b(q.target.value),disabled:Z,children:[s.jsx("option",{value:"",disabled:!0,children:Z?"Loading partners...":"Select Partner"}),ie?.data?.map(q=>s.jsxs("option",{value:q["Partner name"],children:[q["Partner name"]," (",q.Status,") - ",q.Amount?.toLocaleString()||0]},q.id))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),s.jsx("button",{className:`w-full py-4 rounded-full font-semibold text-base transition-colors flex items-center justify-center ${re.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#243c8c] cursor-pointer"}`,onClick:ee,disabled:re.isPending,children:re.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Save"})]})]}),s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:D}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:$?Array.from({length:3}).map((q,se)=>s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},se)):le.map((q,se)=>s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:q.icon,alt:q.label,className:"w-7 h-7 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-md font-medium text-[#0000FF]",children:q.label}),s.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:q.value})]})]})},se))}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-5",children:"Loans Summary"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Vp,{options:["More Actions","Edit","Delete","Export"],selected:t,onSelect:e}),s.jsx(Vp,{options:["Send Status","Pending","Completed"],selected:n,onSelect:a}),s.jsx(Vp,{options:["Approval Status","Pending","Completed","Rejected"],selected:i,onSelect:l})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",value:N,onChange:q=>S(q.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:$?s.jsx("div",{className:"py-16 text-center",children:s.jsxs("div",{className:"inline-flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),s.jsx("span",{className:"ml-3 text-gray-500 text-lg",children:"Loading loans..."})]})}):G?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load loans."}):Y.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loans found."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Send Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Approval"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:z.map((q,se)=>s.jsxs("tr",{className:`${se%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded "})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.amount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:bv(q.sendStatus),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:(q.sendStatus||"").toLowerCase()==="completed"||(q.sendStatus||"").toLowerCase()==="active"?"#008000":(q.sendStatus||"").toLowerCase()==="pending"?"#FF8C00":(q.sendStatus||"").toLowerCase()==="delivered"?"#008000":(q.sendStatus||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),q.sendStatus||"Pending"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:bv(q.approval),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:(q.approval||"").toLowerCase()==="completed"||(q.approval||"").toLowerCase()==="approved"||(q.approval||"").toLowerCase()==="active"?"#008000":(q.approval||"").toLowerCase()==="pending"?"#FF8C00":(q.approval||"").toLowerCase()==="delivered"?"#008000":(q.approval||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),q.approval||"Pending"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:s.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>R(q.id,q.name,q.loan_application_id,q.user_id,q.approval),children:"View Details"})})]},q.id))})]})}),ue>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",O+1," to ",Math.min(P,Y.length)," of ",Y.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>_(q=>Math.max(q-1,1)),disabled:k===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${k===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ue)},(q,se)=>{let fe;return ue<=5||k<=3?fe=se+1:k>=ue-2?fe=ue-4+se:fe=k-2+se,s.jsx("button",{onClick:()=>_(fe),className:`px-3 py-2 text-sm font-medium rounded-md border ${k===fe?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:fe},fe)})}),s.jsx("button",{onClick:()=>_(q=>Math.min(q+1,ue)),disabled:k===ue,className:`px-3 py-2 text-sm font-medium rounded-md border ${k===ue?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},QE=[{id:"1",name:"Adewale Faizah",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Active",partnerApproved:!0},{id:"2",name:"John Adam",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"3",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue",partnerApproved:!1},{id:"4",name:"Adam Waa",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"5",name:"Anita Shawn",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Pending",partnerApproved:!1},{id:"6",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue"}],XE=t=>{switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"disbursed":return{backgroundColor:"#0000FF33",color:"#0000FF"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},ZE=t=>{switch(t.toLowerCase()){case"active":return{backgroundColor:"#00800033",color:"#008000"};case"repaid":return{backgroundColor:"#0000FF33",color:"#0000FF"};case"overdue":return{backgroundColor:"#FF000033",color:"#FF0000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},JE=({isOpen:t,onClose:e,userId:n,loanStatus:a})=>{console.log("The User ID inside the Repayment History:",n);const i=es.get("token"),{data:l,isLoading:c,isError:d}=Ut({queryKey:["repayment-history",n],queryFn:()=>TE(n,i||""),enabled:!!n&&!!i&&t});if(console.log("Repayment History API Data:",l),!t)return null;const f=(x=>{switch(x.toLowerCase()){case"pending":return{bg:"#FFF4E6",text:"#FF8C00"};case"active":return{bg:"#E6F7FF",text:"#008000"};case"repaid":return{bg:"#E8E5FF",text:"#0000FF"};case"overdue":return{bg:"#FFE6E6",text:"#FF0000"};default:return{bg:"#F5F5F5",text:"#6B7280"}}})(a),p=()=>{const x=l?.data?.current_month||[],w=l?.data?.history||[],b=l?.data?.overdueCount||0;if(x.length===0&&w.length===0)return s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-gray-400 text-lg",children:"No repayment history available."})})});const N=()=>x.length===0?null:x.map((k,_)=>{const E=k.is_overdue||!1,R=new Date(k.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return s.jsx("div",{className:`border rounded-2xl p-5 ${E?"border-[#273E8E] bg-white":"border-[#CDCDCD] bg-white"}`,style:E?{boxShadow:"0px 0px 5px 0px rgba(0, 0, 255, 1)"}:{},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:k.status==="paid"?"Payment":"Next Payment"}),s.jsx("p",{className:`text-lg font-semibold ${k.status==="paid"?"text-blue-600":E?"text-red-600":"text-gray-900"}`,children:k.status==="paid"?`Paid - ${R}`:E?`${b} days overdue`:R})]}),s.jsxs("div",{className:"text-right",children:[k.status!=="paid"&&s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Days"})]}),s.jsx("span",{className:"text-xl text-gray-400",children:":"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Hours"})]})]}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",k.amount?.toLocaleString()||"60,000"]})]})]})},k.id||_)}),S=()=>w.length===0?null:w.map((k,_)=>{const D=new Date(k.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return s.jsx("div",{className:"border border-[#CDCDCD] p-5 rounded-2xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Paid - ",D]})]}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",k.amount?.toLocaleString()||"60,000"]})]})},k.id||_)});return s.jsxs("div",{className:"space-y-4",children:[N(),S()]})};return s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[s.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30",onClick:e}),s.jsxs("div",{className:"relative bg-white w-full h-full sm:max-w-3xl sm:h-auto sm:rounded-2xl z-10 shadow-xl flex flex-col max-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Repayment History"}),s.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loan Details"}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Ss,{message:"Loading loan details...",size:"md"})}):d?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan details."}):s.jsxs("div",{className:" rounded-2xl border border-[#00000080] p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Loan Status"}),s.jsx("span",{className:"px-4 py-1.5 text-sm font-medium rounded-full",style:{backgroundColor:f.bg,color:f.text},children:l?.data?.loan?.status||a})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[s.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Amount"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",l?.data?.loan?.loan_amount?.toLocaleString()||"200,000"]})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[s.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Interest Rate"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[l?.data?.loan?.interest_rate||"5","%"]})]}),s.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[s.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Period"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[l?.data?.loan?.repayment_duration||"6"," months"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Disbursement Date"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l?.data?.loan?.created_at?new Date(l.data.loan.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}):"July 3, 2025"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Repayment History"}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Ss,{message:"Loading repayment history...",size:"md"})}):d?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load repayment history."}):p()]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200",children:s.jsx("button",{className:"w-full bg-[#273E8E] text-white py-4 rounded-full font-semibold text-lg hover:bg-[#243c8c] transition-colors cursor-pointer",onClick:()=>{console.log("Send notification clicked")},children:"Send Notification"})})]})]})},Ah=({count:t=3,cardHeight:e="h-[120px]",iconSize:n="w-17 h-17",iconBgColor:a="#0000FF33"})=>s.jsx(s.Fragment,{children:Array.from({length:t}).map((i,l)=>s.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm border border-gray-100 ${e}`,style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:`${n} rounded-full flex items-center justify-center`,style:{backgroundColor:a},children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},l))}),Wp=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},eL=({activeStatus:t,setActiveStatus:e})=>s.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm w-fit",children:[s.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="approved"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("approved"),children:"Partner Approved"}),s.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="pending"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("pending"),children:"Pending Approval"})]}),tL=()=>{const[t,e]=L.useState("More Actions"),[n,a]=L.useState("Loan Status"),[i,l]=L.useState("Disbursement Status"),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(QE),[w,b]=L.useState(!1),[N,S]=L.useState(null),[k,_]=L.useState("approved"),[E,D]=L.useState(""),[R,I]=L.useState(1),[ne]=L.useState(10),K=()=>{console.log("Notification clicked")},B=z=>{f(z),d(!0)},H=()=>{d(!1),f(null)},ee=(z,q,se)=>{S({id:z,status:q,user_id:se}),b(!0)},T=()=>{b(!1),S(null)},F=(z,q)=>{x(se=>se.map(fe=>fe.id===z?{...fe,disbursement:q}:fe))},$=es.get("token"),{data:G,isLoading:ie,isError:Z}=Ut({queryKey:["all-loan-distributed"],queryFn:()=>DE($||""),enabled:!!$}),re=G?.data?[{label:"Total Loans",value:G.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:G.data["loan distributed"]??0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:G.data["amount distributed "]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:0,icon:"/assets/images/Users.png"}],le=G?.data?Object.keys(G.data).filter(z=>!isNaN(Number(z))).map(z=>{const q=G.data[z];return{id:q.id,user_id:q.user_id,name:q.name,amount:q.Amount||q.amount,duration:q.Duration||q.duration,date:q.date,disbursement:q["disbursement status"],loanStatus:q["approval status"],loan_application_id:q.loan_application_id}}):[];console.log("The Loan Data: ",le);const de=le.filter(z=>{const q=n==="Loan Status"||z.loanStatus===n,se=i==="Disbursement Status"||z.disbursement===i,fe=!E||z.name.toLowerCase().includes(E.toLowerCase())||String(z.amount).toLowerCase().includes(E.toLowerCase())||(z.duration||"").toLowerCase().includes(E.toLowerCase())||z.date.toLowerCase().includes(E.toLowerCase())||z.disbursement.toLowerCase().includes(E.toLowerCase())||z.loanStatus.toLowerCase().includes(E.toLowerCase());return q&&se&&fe}),Y=Math.ceil(de.length/ne),ue=(R-1)*ne,O=ue+ne,P=de.slice(ue,O);return _r.useEffect(()=>{I(1)},[E,n,i,k]),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:K}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-semibold text-black",children:"Loans Disbursement"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:ie?s.jsx(Ah,{count:3}):re.map((z,q)=>s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:z.icon,alt:z.label,className:"w-7 h-7 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:z.label}),s.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:z.value})]})]})},q))}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Disbursement Summary"}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx(eL,{activeStatus:k,setActiveStatus:_}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Wp,{options:["More Actions","Export","Print"],selected:t,onSelect:e}),s.jsx(Wp,{options:["Loan Status","Active","Repaid","Overdue","Pending"],selected:n,onSelect:a}),s.jsx(Wp,{options:["Disbursement Status","Pending","Completed"],selected:i,onSelect:l})]})]}),s.jsxs("div",{className:"relative mt-15",children:[s.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:z=>D(z.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:ie?s.jsx(Ss,{message:"Loading disbursements..."}):Z?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load disbursements."}):de.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No disbursements found."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Duration"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Disbursement"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:P.map((z,q)=>s.jsxs("tr",{className:`${q%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.amount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.duration}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:XE(z.disbursement),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:z.disbursement.toLowerCase()==="completed"?"#008000":z.disbursement.toLowerCase()==="disbursed"?"#0000FF":z.disbursement.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),z.disbursement]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:ZE(z.loanStatus),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:z.loanStatus.toLowerCase()==="active"||z.loanStatus.toLowerCase()==="approved"?"#008000":z.loanStatus.toLowerCase()==="repaid"?"#0000FF":z.loanStatus.toLowerCase()==="overdue"?"#FF0000":z.loanStatus.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),z.loanStatus]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"cursor-pointer",onClick:()=>ee(z.id,z.loanStatus,z.user_id),children:s.jsx("img",{src:"/assets/images/eye.svg",alt:"View",className:"w-8 h-8 object-contain"})}),z.disbursement==="Pending"?s.jsx("button",{className:"text-white px-8 py-3.5 rounded-full hover:opacity-90 transition-opacity text-xs font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>B(z.id),children:"Send Loan"}):s.jsx("button",{className:"text-white px-7 py-3.5 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-xs font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>B(z.loan_application_id),children:"View Details"})]})})]},z.id))})]})}),Y>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",ue+1," to ",Math.min(O,de.length)," of ",de.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>I(z=>Math.max(z-1,1)),disabled:R===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${R===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Y)},(z,q)=>{let se;return Y<=5||R<=3?se=q+1:R>=Y-2?se=Y-4+q:se=R-2+q,s.jsx("button",{onClick:()=>I(se),className:`px-3 py-2 text-sm font-medium rounded-md border ${R===se?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:se},se)})}),s.jsx("button",{onClick:()=>I(z=>Math.min(z+1,Y)),disabled:R===Y,className:`px-3 py-2 text-sm font-medium rounded-md border ${R===Y?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&s.jsx(lN,{isOpen:c,loanId:h,onClose:H,onDisbursementUpdate:F}),w&&N&&s.jsx(JE,{isOpen:w,userId:N.user_id,loanStatus:N.status,onClose:T})]})},sL=t=>{switch(t.toLowerCase()){case"paid":case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"failed":case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},nL=()=>{const[t,e]=L.useState("All"),[n,a]=L.useState("Status"),[i,l]=L.useState(null),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,b]=L.useState(""),[N,S]=L.useState(1),[k]=L.useState(10),_=es.get("token"),{data:E,isLoading:D,isError:R}=Ut({queryKey:["all-user-transactions"],queryFn:()=>IE(_||""),enabled:!!_}),I=E?.summary||{},ne=L.useMemo(()=>E?.transactions||[],[E?.transactions]),K=ne.filter(re=>{const le=n==="Status"||re.status===n.toLowerCase(),de=t==="All"||re.type===t.toLowerCase();let Y=!0;if(w){const ue=w.toLowerCase();Y=(re.title||"").toLowerCase().includes(ue)||(re.amount||"").toLowerCase().includes(ue)||(re.transacted_at||"").toLowerCase().includes(ue)||(re.tx_id||"").toLowerCase().includes(ue)||(re.status||"").toLowerCase().includes(ue)||(re.type||"").toLowerCase().includes(ue)||(re.method||"").toLowerCase().includes(ue)}return le&&de&&Y}),B=Math.ceil(K.length/k),H=(N-1)*k,ee=H+k,T=K.slice(H,ee);L.useEffect(()=>{S(1)},[t,n,w]);const F=()=>{console.log("Notification clicked")},$=re=>{console.log("Dropdown toggle clicked for transaction:",re),console.log("Current openDropdownId:",i),l(i===re?null:re)},G=re=>{a(re),x(!1)},ie=(re,le)=>{console.log("Dropdown action clicked:",{action:re,transactionId:le});{const de=ne.find(Y=>String(Y.id)===String(le));console.log("Found transaction:",de),console.log("All transactions:",ne),de?(f(de),d(!0),console.log("Modal should open now")):console.log("Transaction not found for ID:",le)}l(null)},Z=()=>{d(!1),f(null)};return L.useEffect(()=>{const re=le=>{const de=le.target,Y=de.closest("[data-dropdown-button]"),ue=de.closest("[data-dropdown-menu]");if(i&&!Y&&!ue&&(console.log("Clicking outside dropdown, closing it"),l(null)),p){const O=document.querySelector(".status-dropdown");O&&!O.contains(de)&&x(!1)}};return(i||p)&&document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[i,p]),L.useEffect(()=>{console.log("Modal state changed:",{showTransactionDetail:c,selectedTransaction:h})},[c,h]),L.useEffect(()=>{console.log("Dropdown state changed:",{openDropdownId:i,transactions:ne.length})},[i,ne]),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:F}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:D?s.jsx(Ah,{count:3}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Total Users",className:"w-6 h-6 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:I?.total_users_with_transactions||0})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Total Transactions",className:"w-6 h-6 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Transactions"}),s.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:I?.total_transactions||0})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",className:"w-6 h-6 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Transactions"}),s.jsxs("p",{className:"text-2xl font-bold text-[#0000FF]",children:["",I?.total_amount?Number(I.total_amount).toLocaleString():0]})]})]})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Transaction Summary"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex bg-white rounded-full cursor-pointer border border-gray-200 p-2 shadow-sm",children:[s.jsx("button",{className:`px-4.5 py-2 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="All"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("All"),children:"All"}),s.jsx("button",{className:`px-4 py-1.5 rounded-full  cursor-pointer text-sm font-medium transition-colors ${t==="deposit"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("deposit"),children:"Deposit"}),s.jsx("button",{className:`px-4 py-1.5 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="withdrawal"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("withdrawal"),children:"Withdrawal"})]}),s.jsxs("div",{className:"relative inline-block text-left status-dropdown",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>x(!p),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm  focus:outline-none",children:[n,s.jsx("img",{src:xt.arrow,alt:""})]})}),p&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:["Status","paid","pending","failed","rejected"].map((re,le)=>s.jsx("li",{onClick:()=>G(re),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:re},le))})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:w,onChange:re=>b(re.target.value)}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),D?s.jsx(Ss,{}):R?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):K.length===0?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-200",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Reference"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:T.map((re,le)=>s.jsxs("tr",{className:`${le%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:re.title||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:["",re.amount?Number(re.amount).toLocaleString():"-"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:re.transacted_at?new Date(re.transacted_at).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:re.type||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:re.tx_id||re.reference||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:sL(re.status),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:re.status.toLowerCase()==="paid"?"#008000":re.status.toLowerCase()==="pending"?"#FF8C00":re.status.toLowerCase()==="rejected"||re.status.toLowerCase()==="failed"?"#FF0000":"#6B7280"}}),re.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2 relative",children:[s.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>$(String(re.id)),children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),i===String(re.id)&&s.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:s.jsx("div",{className:"py-2",children:s.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:de=>{de.preventDefault(),de.stopPropagation(),console.log("Button clicked for transaction:",re.id),ie("View Transaction details",re.id)},children:"View Transaction details"})})})]})})]},re.id))})]})}),B>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",H+1," to ",Math.min(ee,K.length)," of ",K.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>S(re=>Math.max(re-1,1)),disabled:N===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,B)},(re,le)=>{let de;return B<=5||N<=3?de=le+1:N>=B-2?de=B-4+le:de=N-2+le,s.jsx("button",{onClick:()=>S(de),className:`px-3 py-2 text-sm font-medium rounded-md border ${N===de?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:de},de)})}),s.jsx("button",{onClick:()=>S(re=>Math.min(re+1,B)),disabled:N===B,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===B?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&s.jsx(oN,{isOpen:c,transaction:h,onClose:Z})]})},aL=[{id:"1",name:"Adewale Faizah",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"2",name:"John Adam",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"3",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"4",name:"Adam Waa",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"5",name:"Anita Shawn",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"6",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"}],rL=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-40 mb-6 animate-pulse"}),s.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 mb-8 animate-pulse"}),s.jsx("div",{className:"flex justify-end",children:s.jsx("div",{className:"h-10 bg-white bg-opacity-20 rounded-full w-24 animate-pulse"})})]})}),s.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-48 mb-6 animate-pulse"}),s.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 animate-pulse"})]})})]}),iL=async t=>await ct(dt.ADMIN.AllBalances,"GET",void 0,t),lL=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},oL=()=>{const[t,e]=L.useState([]),[n,a]=L.useState(!1),[i,l]=L.useState("More Actions"),[c,d]=L.useState(""),[h,f]=L.useState(1),[p]=L.useState(10),x=()=>{console.log("Notification clicked")},w=()=>{e(n?[]:aL.map(ee=>ee.id)),a(!n)},b=ee=>{t.includes(ee)?e(t.filter(T=>T!==ee)):e([...t,ee])},N=es.get("token"),{data:S,isLoading:k,isError:_}=Ut({queryKey:["balances"],queryFn:()=>iL(N||""),enabled:!!N}),E=S?.data?.summary||{total_loan_balance:0,total_shopping_balance:0},R=(S?.data?.balances?S.data.balances.map((ee,T)=>({id:String(T),name:ee.first_name,loanBalance:ee.loan_balance,mainBalance:ee.main_balance,totalTopup:ee.total_topup,totalWithdrawal:ee.total_withdrawal})):[]).filter(ee=>c?ee.name.toLowerCase().includes(c.toLowerCase())||String(ee.loanBalance).toLowerCase().includes(c.toLowerCase())||String(ee.mainBalance).toLowerCase().includes(c.toLowerCase())||String(ee.totalTopup).toLowerCase().includes(c.toLowerCase())||String(ee.totalWithdrawal).toLowerCase().includes(c.toLowerCase()):!0),I=Math.ceil(R.length/p),ne=(h-1)*p,K=ne+p,B=R.slice(ne,K);_r.useEffect(()=>{f(1)},[c]);const H=ee=>(typeof ee=="string"?Number(ee):ee).toLocaleString();return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:x}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Balances"})}),k?s.jsx(rL,{}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Loan Balance"}),s.jsxs("p",{className:"text-4xl font-bold mb-8",children:["N",H(E.total_loan_balance)]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-[#273E8E] px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Fund Wallet"})})]})}),s.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Shopping Balance"}),s.jsxs("p",{className:"text-4xl font-bold",children:["N",H(E.total_shopping_balance)]})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Balance Summary"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(lL,{options:["More Actions","Export Data","Bulk Action"],selected:i,onSelect:l}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:ee=>d(ee.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{children:k?s.jsx(Ss,{message:"Loading balances..."}):_?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load balances."}):R.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No balances found."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:n,onChange:w})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Balance"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Main Balance"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Topup"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Withdrawal"})]})}),s.jsx("tbody",{className:"bg-white",children:B.map((ee,T)=>s.jsxs("tr",{className:`${T%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:t.includes(ee.id),onChange:()=>b(ee.id)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:ee.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:H(ee.loanBalance)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:H(ee.mainBalance)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:H(ee.totalTopup)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:H(ee.totalWithdrawal)})]},ee.id))})]})}),I>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",ne+1," to ",Math.min(K,R.length)," of ",R.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>f(ee=>Math.max(ee-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,I)},(ee,T)=>{let F;return I<=5||h<=3?F=T+1:h>=I-2?F=I-4+T:F=h-2+T,s.jsx("button",{onClick:()=>f(F),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===F?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:F},F)})}),s.jsx("button",{onClick:()=>f(ee=>Math.min(ee+1,I)),disabled:h===I,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===I?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},cL=[{id:"1",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-efficiency solar inverter for residential and commercial use"},{id:"2",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Complete solar panel kit with mounting hardware"},{id:"3",name:"Newman 12200 AGM Solar Inverter",category:"Energy Storage",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Lithium-ion battery pack for solar energy storage"},{id:"4",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"MPPT charge controller for optimal battery charging"},{id:"5",name:"Newman 12200 AGM Solar Inverter",category:"Accessories",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-quality solar DC cables and connectors"},{id:"6",name:"Newman 12200 AGM Solar Inverter",category:"Electronics",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Real-time solar system monitoring and analytics"},{id:"7",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"},{id:"8",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"}],dL=t=>{switch(t.toLowerCase()){case"delivered":return{backgroundColor:"#E6F7FF",color:"#008000",borderColor:"#008000"};case"pending":return{backgroundColor:"#FFF4E6",color:"#FF8C00",borderColor:"#FF8C00"};case"ordered":return{backgroundColor:"#E6E6FF",color:"#5A67D8",borderColor:"#5A67D8"};default:return{backgroundColor:"#F5F5F5",color:"#6B7280",borderColor:"#6B7280"}}},uL=async(t,e)=>{const n=new FormData;return n.append("title",t.title),n.append("category_id",t.category_id.toString()),n.append("price",t.price.toString()),t.brand_id!==void 0&&n.append("brand_id",t.brand_id.toString()),t.discount_price!==void 0&&n.append("discount_price",t.discount_price.toString()),t.discount_end_date&&n.append("discount_end_date",t.discount_end_date),t.stock&&n.append("stock",t.stock),t.installation_price!==void 0&&n.append("installation_price",t.installation_price.toString()),t.top_deal!==void 0&&n.append("top_deal",t.top_deal?"1":"0"),t.installation_compulsory!==void 0&&n.append("installation_compulsory",t.installation_compulsory?"1":"0"),t.featured_image&&n.append("featured_image",t.featured_image),t.images&&t.images.length>0&&t.images.forEach((a,i)=>{n.append(`images[${i}]`,a)}),t.product_details&&t.product_details.length>0&&t.product_details.forEach((a,i)=>{n.append(`product_details[${i}]`,a)}),await ct(dt.ADMIN.ProductCreate,"POST",n,e)},hL=async(t,e,n)=>await ct(dt.ADMIN.ProductUpdate(t),"POST",e,n),fL=async(t,e)=>await ct(dt.ADMIN.ProductDelete(t),"DELETE",void 0,e),uN=async t=>await ct(dt.ADMIN.ProductsList,"GET",void 0,t),mL=async(t,e)=>await ct(dt.ADMIN.ProductShow(t),"GET",void 0,e),pL=({isOpen:t,onClose:e,product:n,onEdit:a})=>{const[i,l]=L.useState("details"),[c,d]=L.useState(!1),[h,f]=L.useState(!1),[p,x]=L.useState(0),w=es.get("token")||"",b=ni(),{data:N,isLoading:S,error:k}=Ut({queryKey:["singleProduct",n?.id],queryFn:()=>mL(n?.id||"",w),enabled:!!n?.id&&!!w&&t}),_=N?.data||null,E=It({mutationFn:$=>fL($,w),onSuccess:()=>{b.invalidateQueries({queryKey:["products"]}),d(!1),f(!1),e()},onError:$=>{console.error("Error deleting product:",$),f(!1),alert("Error deleting product. Please try again.")}}),D=()=>Ye.replace(/\/api$/,""),R=$=>$?$.startsWith("http")?$:`${D()}${$}`:"/assets/images/newmanbadge.png",I=$=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format($),ne=()=>{_&&a&&a(_)},K=()=>{n?.id&&E.mutate(n.id)},H=(()=>{if(!_)return[];const $=[];return _.featured_image_url&&$.push({id:"featured",url:R(_.featured_image_url),alt:`${_.title} - Featured`}),_.images&&_.images.length>0&&_.images.forEach((G,ie)=>{$.push({id:G.id,url:R(G.image),alt:`${_.title} - Image ${ie+1}`})}),$})(),ee=H.length,T=()=>{x($=>($+1)%ee)},F=()=>{x($=>($-1+ee)%ee)};return L.useEffect(()=>{x(0)},[_?.id]),!t||!n?null:s.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full max-h-[95vh] overflow-y-auto shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Details"}),s.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full  cursor-pointer",children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsx("div",{className:"p-4",children:S?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-200 rounded-2xl animate-pulse",style:{height:"250px"}}),s.jsxs("div",{className:"bg-gray-200 rounded-2xl p-3 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-300 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"}),s.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"})]})]}):k?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-red-500",children:"Error loading product details"}),s.jsx("button",{onClick:e,className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Close"})]}):_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"relative bg-white rounded-2xl overflow-hidden border border-[#00000080]",style:{height:"250px"},children:H.length>0?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:H[p]?.url,alt:H[p]?.alt,className:"w-full h-full object-contain p-4",onError:$=>{const G=$.target;G.src="/assets/images/newman1.png"}}),ee>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:F,className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:T,className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s.jsxs("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs font-medium",children:[p+1,"/",ee]}),ee>1&&s.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-1",children:H.map(($,G)=>s.jsx("button",{onClick:()=>x(G),className:`w-2 h-2 rounded-full transition-all ${G===p?"bg-white":"bg-white bg-opacity-50"}`},G))})]}):s.jsx("img",{src:"/assets/images/newman1.png",alt:"No image available",className:"w-full h-full object-contain p-4"})})}),s.jsxs("div",{className:"bg-white border border-[#273E8E] rounded-2xl p-3 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:_.title}),s.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-2",children:I(_.discount_price||_.price)}),_.discount_price&&_.discount_price!==_.price&&s.jsx("div",{className:"text-sm text-gray-500 line-through mb-2",children:I(_.price)}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-gray-600",children:"Stock:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:_.stock})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-gray-600",children:"Category ID:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:_.category_id})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-gray-600",children:"Brand ID:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:_.brand_id})]})]}),s.jsx("div",{className:"flex items-center gap-2 mt-3",children:s.jsx("div",{className:"flex",children:[1,2,3,4,5].map($=>s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$))})})]}),s.jsxs("div",{className:"flex gap-3 mb-4",children:[s.jsx("button",{onClick:ne,className:"flex-1 bg-white text-black border border-[#273E8E] cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-gray-100 transition-colors",children:"Edit Product"}),s.jsx("button",{onClick:()=>d(!0),className:"flex-1 bg-[#FF0000] text-white cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-red-600 transition-colors border border-[#FFFFFF]",children:"Delete Product"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"bg-white border border-[#CDCDCD] rounded-full p-2 flex",style:{width:190},children:[s.jsx("button",{onClick:()=>l("details"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${i==="details"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Details"}),s.jsx("button",{onClick:()=>l("reviews"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${i==="reviews"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Reviews"})]})}),i==="details"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Product Details"}),s.jsx("div",{className:"space-y-2 border border-[#00000080] rounded-2xl p-3",children:_.details&&_.details.length>0?_.details.map($=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:xt.Lightning,alt:""}),s.jsx("span",{className:"text-gray-700 text-sm",children:$.detail})]},$.id)):s.jsx("div",{className:"text-gray-500 text-sm text-center py-4",children:"No product details available"})})]}),i==="reviews"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-4",children:"Reviews"}),_.reviews&&_.reviews.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-center justify-between border border-[#00000080] rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex",children:[[1,2,3,4].map($=>s.jsx("svg",{className:"w-5 h-5 text-[#273E8E]",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$)),s.jsx("svg",{className:"w-5 h-5 text-[#D9D9D9]",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),s.jsx("span",{className:"font-semibold text-gray-900",children:"4.8"})]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[_.reviews.length," Reviews"]})]})}),s.jsx("div",{className:"space-y-4",children:_.reviews.map(($,G)=>{const ie=$;return s.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 font-medium text-sm",children:ie.user_name?ie.user_name.charAt(0).toUpperCase():"U"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:ie.user_name||"Anonymous"}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(Z=>s.jsx("svg",{className:`w-3 h-3 ${Z<=(ie.rating||4)?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Z))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-400",children:ie.created_at?new Date(ie.created_at).toLocaleDateString():"N/A"}),s.jsx("button",{className:"text-red-500 text-xs hover:text-red-700 cursor-pointer",children:"Delete"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 mt-2",children:ie.comment||"No comment provided"})]},G)})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No reviews available for this product"})})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Product not found"})})})]}),c&&s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-[70]",children:s.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4 shadow-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Product"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this product? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:K,disabled:h,className:`flex-1 py-2 px-4 text-white rounded-lg transition-colors flex items-center justify-center ${h?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete"})]})]})})})]})},Ym=async t=>await ct(dt.ADMIN.CategoriesList,"GET",void 0,t),rg=async t=>await ct(dt.ADMIN.BrandsList,"GET",void 0,t),hN=({isOpen:t,onClose:e,editingProduct:n})=>{const a=ya(),[i,l]=L.useState(""),[c,d]=L.useState(""),[h,f]=L.useState(""),[p,x]=L.useState(""),[w,b]=L.useState(""),[N,S]=L.useState(""),[k,_]=L.useState(""),[E,D]=L.useState(""),[R,I]=L.useState(["","","","",""]),[ne,K]=L.useState([]),[B,H]=L.useState(null),[ee,T]=L.useState([]),[F,$]=L.useState(null),[G,ie]=L.useState(!1),[Z,re]=L.useState(!1),[le,de]=L.useState(!1),[Y,ue]=L.useState(!1),[O,P]=L.useState(!1),z=es.get("token")||"",q=ni(),{data:se,isLoading:fe}=Ut({queryKey:["categories"],queryFn:()=>Ym(z),enabled:!!z&&t}),{data:ye,isLoading:Se}=Ut({queryKey:["brands"],queryFn:()=>rg(z),enabled:!!z&&t}),Oe=L.useMemo(()=>se?.data||[],[se]),He=L.useMemo(()=>ye?.data||[],[ye]),Ie=()=>Ye.replace(/\/api$/,""),Ke=Pe=>Pe?Pe.startsWith("http")?Pe:`${Ie()}${Pe}`:null;L.useEffect(()=>{if(n){console.log(" Raw editingProduct from previous screen:",n);try{console.log(" JSON.stringify(editingProduct):",JSON.stringify(n,null,2))}catch(Qe){console.log(" Could not stringify editingProduct:",Qe)}typeof n=="object"&&n!==null&&Object.entries(n).forEach(([Qe,je])=>{console.log(` editingProduct[${Qe}]:`,je)});const Pe=n;console.log(" Parsed product for form state:",Pe),l(Pe.title||""),x(Pe.price?.toString()||""),b(Pe.discount_price?.toString()||""),S(Pe.discount_end_date?Pe.discount_end_date.split("T")[0]:""),_(Pe.installation_price?.toString()||""),D(Pe.stock||""),ie(Pe.top_deal||!1),re(Pe.installation_compulsory||!1);const ht=Oe.find(Qe=>Qe.id===Pe.category_id),Be=He.find(Qe=>Qe.id===Pe.brand_id);if(console.log(" Matched category:",ht),console.log(" Matched brand:",Be),d(ht?.title||""),f(Be?.title||""),Pe.details&&Pe.details.length>0){const Qe=Pe.details.map(lt=>lt.detail),je=Math.max(5,Qe.length);I([...Qe,...Array(je-Qe.length).fill("")]),console.log(" Loaded product details:",Qe)}if($(Ke(Pe.featured_image_url||null)),Pe.images&&Pe.images.length>0){const Qe=Pe.images.map(je=>Ke(je.image)).filter(Boolean);T(Qe),console.log(" Existing images:",Qe)}else T([]);H(null),K([])}else yt()},[n,Oe,He]);const he=Pe=>{const ht=Pe.target.files;if(ht){const Be=Array.from(ht).slice(0,6);K(Qe=>[...Qe,...Be].slice(0,6))}},oe=Pe=>{const ht=Pe.target.files?.[0];ht&&H(ht)},Nt=(Pe,ht)=>{const Be=[...R];Be[Pe]=ht,I(Be)},at=()=>I(Pe=>[...Pe,""]),bt=Pe=>{R.length>1&&I(ht=>ht.filter((Be,Qe)=>Qe!==Pe))},et=Pe=>{K(ht=>ht.filter((Be,Qe)=>Qe!==Pe))},ft=It({mutationFn:Pe=>{if(n){const ht=n,Be=new FormData;Be.append("title",i??""),Be.append("category_id",String(Oe.find(Qe=>Qe.title===c)?.id??"")),Be.append("price",p??"0"),Be.append("brand_id",String(He.find(Qe=>Qe.title===h)?.id??"")),Be.append("discount_price",w||"0"),N&&Be.append("discount_end_date",N),Be.append("stock",E??"0"),Be.append("installation_price",k||"0"),Be.append("top_deal",G?"1":"0"),Be.append("installation_compulsory",Z?"1":"0"),B&&Be.append("featured_image",B),ne.length>0&&ne.forEach((Qe,je)=>{Be.append(`images[${je}]`,Qe)}),R.filter(Qe=>Qe.trim()!=="").forEach((Qe,je)=>{Be.append(`product_details[${je}]`,Qe)});for(const Qe of Be.entries())console.log(`[FormData] ${Qe[0]}:`,Qe[1]);return Be.append("_method","POST"),hL(ht.id,Be,z)}else return uL(Pe,z)},onSuccess:()=>{q.invalidateQueries({queryKey:["products"]}),yt(),e(),de(!1),alert(n?"Product updated successfully!":"Product added successfully!")},onError:Pe=>{console.error("Error with product operation:",Pe),de(!1);const ht=Pe;if(ht?.response?.data?.message)alert(`Error: ${ht.response.data.message}`);else if(ht?.response?.data?.data){const Be=ht.response.data.data,Qe=Object.entries(Be).map(([je,lt])=>`${je}: ${Array.isArray(lt)?lt.join(", "):lt}`).join(`
`);alert(`Validation Error:
${Qe}`)}else alert(`An error occurred while ${n?"updating":"adding"} the product. Please try again.`)}}),ot=async()=>{if(!i||!c||!h||!p||!E){alert("Please fill in all required fields");return}if(!n&&!B){alert("Please select a featured image");return}de(!0);const Pe=Oe.find(Qe=>Qe.title===c),ht=He.find(Qe=>Qe.title===h);if(!Pe||!ht){alert("Please select valid category and brand"),de(!1);return}const Be={title:i,category_id:Pe.id,price:parseFloat(p)||0,brand_id:ht.id,discount_price:w?parseFloat(w):0,discount_end_date:N||void 0,stock:E,installation_price:k?parseFloat(k):0,top_deal:G,installation_compulsory:Z,featured_image:B||void 0,images:ne.length>0?ne:void 0,product_details:R.filter(Qe=>Qe.trim()!=="")};console.log("Product data being sent:",{...Be,featured_image:Be.featured_image?"File present":"No file",images:Be.images?`${Be.images.length} files`:"No files",isEdit:!!n}),ft.mutate(Be)},yt=()=>{l(""),d(""),f(""),x(""),b(""),S(""),_(""),D(""),I(["","","","",""]),K([]),H(null),T([]),$(null),ie(!1),re(!1),de(!1)};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[100vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?"Edit Product":"Add Product"}),s.jsx("button",{onClick:e,children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main product image"}),s.jsx("div",{className:"w-full",children:B?s.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:URL.createObjectURL(B),alt:"Featured Product",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>H(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:s.jsx("span",{className:"mb-1",children:""})})]}):F?s.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:F,alt:"Current Featured Product",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),s.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden"}),"+"]})]}):s.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden"}),s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Images"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select up to 6 additional images"}),s.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:6}).map((Pe,ht)=>s.jsx("div",{className:"relative",children:ne[ht]?s.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:URL.createObjectURL(ne[ht]),alt:`Product ${ht+1}`,className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>et(ht),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:s.jsx("span",{className:"mb-1",children:""})})]}):ee[ht]?s.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:ee[ht],alt:`Current Product ${ht+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute bottom-0 left-0 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),s.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:he,className:"hidden"}),"+"]})]}):s.jsxs("label",{className:"w-20 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:he,className:"hidden"}),s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})},ht))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),s.jsx("input",{type:"text",value:i,onChange:Pe=>l(Pe.target.value),placeholder:"Enter your product name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Category *"}),s.jsxs("select",{value:c,onChange:Pe=>{d(Pe.target.value),ue(!1)},onFocus:()=>{!fe&&Oe.length===0&&ue(!0)},onBlur:()=>{setTimeout(()=>ue(!1),200)},className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Category"}),fe?s.jsx("option",{value:"",disabled:!0,children:"Loading categories..."}):Oe.length===0?s.jsx("option",{value:"",disabled:!0,children:"No categories available"}):Oe.map(Pe=>s.jsx("option",{value:Pe.title,children:Pe.title},Pe.id))]}),Y&&!fe&&Oe.length===0&&s.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No categories available. Please add a category first."}),s.jsx("button",{type:"button",onClick:()=>{e(),a("/settings?tab=product&subtab=categories")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Add Category "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Brand *"}),s.jsxs("select",{value:h,onChange:Pe=>{f(Pe.target.value),P(!1)},onFocus:()=>{!Se&&He.length===0&&P(!0)},onBlur:()=>{setTimeout(()=>P(!1),200)},className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Brand"}),Se?s.jsx("option",{value:"",disabled:!0,children:"Loading brands..."}):He.length===0?s.jsx("option",{value:"",disabled:!0,children:"No brands available"}):He.map(Pe=>s.jsx("option",{value:Pe.title,children:Pe.title},Pe.id))]}),O&&!Se&&He.length===0&&s.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No brands available. Please add a brand first."}),s.jsx("button",{type:"button",onClick:()=>{e(),a("/settings?tab=product&subtab=brand")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Add Brand "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Price *"}),s.jsx("input",{type:"number",value:p,onChange:Pe=>x(Pe.target.value),placeholder:"Enter product price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Price"}),s.jsx("input",{type:"number",value:w,onChange:Pe=>b(Pe.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount End Date"}),s.jsx("input",{type:"date",value:N,onChange:Pe=>S(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installation Price"}),s.jsx("input",{type:"number",value:k,onChange:Pe=>_(Pe.target.value),placeholder:"Enter installation price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),s.jsx("input",{type:"number",value:E,onChange:Pe=>D(Pe.target.value),placeholder:"Enter stock quantity",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Details"}),s.jsx("div",{className:"space-y-2",children:R.map((Pe,ht)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:Pe,onChange:Be=>Nt(ht,Be.target.value),placeholder:`Enter product detail ${ht+1}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),R.length>1&&s.jsx("button",{type:"button",onClick:()=>bt(ht),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove this field",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ht))})]})]}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsxs("button",{type:"button",onClick:at,className:"text-blue-600 text-sm font-medium hover:text-blue-700 flex items-center cursor-pointer transition-colors hover:bg-blue-50 px-3 py-2 rounded-lg",children:["Add More",s.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:G,onChange:Pe=>ie(Pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark as Top deal"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:Z,onChange:Pe=>re(Pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark Installation as complimentary"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:ot,disabled:le,className:`w-full py-3 px-4 text-white font-medium rounded-full transition-colors flex items-center justify-center ${le?"bg-gray-400 cursor-not-allowed":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:le?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Updating Product...":"Adding Product..."]}):n?"Update Product":"Add Product"})})]})]})}):null},xL=({isOpen:t,onClose:e})=>{const[n,a]=L.useState(""),[i,l]=L.useState(""),c=()=>{const d={serviceName:n,serviceAmount:i,createdAt:new Date().toISOString()},f=[...JSON.parse(localStorage.getItem("customServices")||"[]"),{...d,id:Date.now().toString()}];localStorage.setItem("customServices",JSON.stringify(f)),a(""),l(""),e()};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Add Custom Service"}),s.jsx("button",{onClick:e,children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of Service"}),s.jsx("input",{type:"text",value:n,onChange:d=>a(d.target.value),placeholder:"Enter name of service",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Amount"}),s.jsx("input",{type:"text",value:i,onChange:d=>l(d.target.value),placeholder:"Enter cost of service (Naira)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:c,className:"w-full py-3 px-4 bg-blue-900 hover:bg-blue-900 text-white font-medium rounded-full transition-colors",children:"Save"})})]})]})}):null},fN=async(t,e)=>{const n=new FormData;return t.title&&n.append("title",t.title),t.bundle_type&&n.append("bundle_type",t.bundle_type),t.total_price!==void 0&&n.append("total_price",t.total_price.toString()),t.discount_price!==void 0&&n.append("discount_price",t.discount_price.toString()),t.discount_end_date&&n.append("discount_end_date",t.discount_end_date),t.featured_image&&n.append("featured_image",t.featured_image),t.items&&t.items.length>0&&t.items.forEach((a,i)=>{n.append(`items[${i}]`,a.toString())}),t.custom_services&&t.custom_services.length>0&&t.custom_services.forEach((a,i)=>{n.append(`custom_services[${i}][title]`,a.title),n.append(`custom_services[${i}][service_amount]`,a.service_amount.toString())}),t.product_model&&n.append("product_model",t.product_model),t.system_capacity_display&&n.append("system_capacity_display",t.system_capacity_display),t.detailed_description&&n.append("detailed_description",t.detailed_description),t.what_is_inside_bundle_text&&n.append("what_is_inside_bundle_text",t.what_is_inside_bundle_text),t.what_bundle_powers_text&&n.append("what_bundle_powers_text",t.what_bundle_powers_text),t.backup_time_description&&n.append("backup_time_description",t.backup_time_description),t.inver_rating&&n.append("inver_rating",t.inver_rating),t.total_output&&n.append("total_output",t.total_output),t.total_load!=null&&t.total_load!==""&&n.append("total_load",String(t.total_load)),t.custom_appliances&&t.custom_appliances.length>0&&n.append("custom_appliances",JSON.stringify(t.custom_appliances)),await ct(dt.ADMIN.BundleCreate,"POST",n,e)},mN=async(t,e,n)=>{const a=new FormData;return e.title&&a.append("title",e.title),e.bundle_type&&a.append("bundle_type",e.bundle_type),e.total_price!==void 0&&a.append("total_price",e.total_price.toString()),e.discount_price!==void 0&&a.append("discount_price",e.discount_price.toString()),e.discount_end_date&&a.append("discount_end_date",e.discount_end_date),e.featured_image&&a.append("featured_image",e.featured_image),e.items&&e.items.length>0&&e.items.forEach((i,l)=>{a.append(`items[${l}]`,i.toString())}),e.custom_services&&e.custom_services.length>0&&e.custom_services.forEach((i,l)=>{a.append(`custom_services[${l}][title]`,i.title),a.append(`custom_services[${l}][service_amount]`,i.service_amount.toString())}),e.product_model&&a.append("product_model",e.product_model),e.system_capacity_display&&a.append("system_capacity_display",e.system_capacity_display),e.detailed_description&&a.append("detailed_description",e.detailed_description),e.what_is_inside_bundle_text&&a.append("what_is_inside_bundle_text",e.what_is_inside_bundle_text),e.what_bundle_powers_text&&a.append("what_bundle_powers_text",e.what_bundle_powers_text),e.backup_time_description&&a.append("backup_time_description",e.backup_time_description),e.inver_rating&&a.append("inver_rating",e.inver_rating),e.total_output&&a.append("total_output",e.total_output),e.total_load!=null&&e.total_load!==""&&a.append("total_load",String(e.total_load)),e.custom_appliances&&e.custom_appliances.length>0&&a.append("custom_appliances",JSON.stringify(e.custom_appliances)),await ct(dt.ADMIN.BundleUpdate(t),"POST",a,n)},ig=async(t,e)=>await ct(dt.ADMIN.DeleteBundle(t),"DELETE",void 0,e),pN=({isOpen:t,onClose:e,editingBundle:n})=>{const[a,i]=L.useState([]),[l,c]=L.useState(""),[d,h]=L.useState(""),[f,p]=L.useState(""),[x,w]=L.useState(""),[b,N]=L.useState(""),[S,k]=L.useState(null),[_,E]=L.useState([]),[D,R]=L.useState(!1),[I,ne]=L.useState(!1),[K,B]=L.useState(""),[H,ee]=L.useState(""),[T,F]=L.useState(""),[$,G]=L.useState(""),[ie,Z]=L.useState(""),[re,le]=L.useState(""),[de,Y]=L.useState(""),[ue,O]=L.useState(""),[P,z]=L.useState(""),[q,se]=L.useState([]),[fe,ye]=L.useState("basic"),Se=es.get("token")||"",Oe=ni(),{data:He,isLoading:Ie}=Ut({queryKey:["products"],queryFn:()=>uN(Se),enabled:!!Se&&t}),Ke=L.useMemo(()=>He?.data||[],[He]),he=()=>Ye.replace(/\/api$/,""),oe=Ee=>Ee?Ee.startsWith("http")?Ee:`${he()}${Ee}`:"/assets/images/newman1.png",Nt=Ee=>{const be=a.find(Ue=>Ue.id===Ee.id);i(be?Ue=>Ue.filter(St=>St.id!==Ee.id):Ue=>[...Ue,Ee])},at=It({mutationFn:Ee=>fN(Ee,Se),onSuccess:()=>{Oe.invalidateQueries({queryKey:["bundles"]}),ft(),e()},onError:Ee=>{console.error("Error creating bundle:",Ee),ne(!1),alert("Error creating bundle. Please try again.")}}),bt=It({mutationFn:Ee=>mN(Ee.id,Ee.payload,Se),onSuccess:()=>{Oe.invalidateQueries({queryKey:["bundles"]}),ft(),e()},onError:Ee=>{ne(!1),alert("Error updating bundle. Please try again.")}});L.useEffect(()=>{if(n){if(c(n.title||""),h(n.bundle_type||""),p(n.total_price?String(n.total_price):""),w(n.discount_price?String(n.discount_price):""),N(n.discount_end_date||""),B(n.product_model||""),ee(n.system_capacity_display||""),F(n.detailed_description||""),G(n.what_is_inside_bundle_text||""),Z(n.what_bundle_powers_text||""),le(n.backup_time_description||""),Y(n.inver_rating||""),O(n.total_output||""),z(n.total_load??""),se(n.custom_appliances||[]),n.bundle_items&&Array.isArray(n.bundle_items)){const Ee=n.bundle_items.map(Ue=>Ue.product_id),be=Ke.filter(Ue=>Ee.includes(Ue.id));i(be)}E(n.custom_services||[])}else ft()},[n,t,Ke]);const et=()=>{const Ee=a.length>0,be=q.filter(St=>St.name.trim()&&St.wattage>0);if(!l||!d||!f){alert("Please fill in Bundle Name, Bundle Type, and Total Price");return}if(!S&&!n){alert("Please select a featured image");return}ne(!0);const Ue={title:l,bundle_type:d,total_price:parseFloat(f),discount_price:x?parseFloat(x):void 0,discount_end_date:b||void 0,featured_image:S||void 0,items:Ee?a.map(St=>St.id):void 0,custom_services:_.length>0?_:void 0,product_model:K||void 0,system_capacity_display:H||void 0,detailed_description:T||void 0,what_is_inside_bundle_text:$||void 0,what_bundle_powers_text:ie||void 0,backup_time_description:re||void 0,inver_rating:de||void 0,total_output:ue||void 0,total_load:d==="Solar+Inverter+Battery"?P||void 0:null,custom_appliances:be.length>0?be.map(St=>({name:St.name.trim(),wattage:Number(St.wattage),quantity:St.quantity??1,estimated_daily_hours_usage:St.estimated_daily_hours_usage})):void 0};n?bt.mutate({id:n.id,payload:Ue}):at.mutate(Ue)},ft=()=>{i([]),c(""),h(""),p(""),w(""),N(""),k(null),E([]),B(""),ee(""),F(""),G(""),Z(""),le(""),Y(""),O(""),z(""),se([]),ye("basic"),ne(!1)},ot=()=>{se(Ee=>[...Ee,{name:"",wattage:0,quantity:1,estimated_daily_hours_usage:void 0}])},yt=(Ee,be,Ue)=>{se(St=>{const Bt=[...St];return Bt[Ee][be]=Ue,Bt})},Pe=Ee=>{se(be=>be.filter((Ue,St)=>St!==Ee))},ht=Ee=>{const be=Ee.target.files?.[0];be&&k(be)},Be=Ee=>{Ee.preventDefault(),Ee.stopPropagation(),R(!0)},Qe=()=>{R(!1)},je=Ee=>`${Ee.toLocaleString()}`;if(!t)return null;const lt=[{id:"basic",label:"Basic"},{id:"specs",label:"Specs"},{id:"details",label:"Details"},{id:"appliances",label:"Custom Load"}];return s.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:[s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[100vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?"Edit Bundle":"Product Builder"}),s.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer",children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex gap-2 mb-4 border-b border-gray-200",children:lt.map(Ee=>s.jsx("button",{type:"button",onClick:()=>ye(Ee.id),className:`px-3 py-2 text-sm font-medium rounded-t transition-colors ${fe===Ee.id?"border-b-2 border-[#273E8E] text-[#273E8E] bg-gray-50":"text-gray-600 hover:text-gray-900"}`,children:Ee.label},Ee.id))}),fe==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Optional: select products below, or use the ",s.jsx("strong",{children:"Custom Load"})," tab to add appliances by name and wattage only."]}),s.jsx("div",{className:"space-y-3 mb-6",children:Ie?Array.from({length:3}).map((Ee,be)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-20"})]}),s.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"})]},be)):Ke.length>0?Ke.map(Ee=>{const be=a.find(Ue=>Ue.id===Ee.id);return s.jsxs("div",{onClick:()=>Nt(Ee),className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-colors ${be?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:oe(Ee.featured_image_url),alt:Ee.title,className:"w-full h-full object-cover",onError:Ue=>{Ue.target.src="/assets/images/newman1.png"}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:Ee.title}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:je(Ee.price)})]}),s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${be?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:be&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},Ee.id)}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products available"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Name *"}),s.jsx("input",{type:"text",value:l,onChange:Ee=>c(Ee.target.value),placeholder:"Enter bundle name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Type *"}),s.jsxs("select",{value:d,onChange:Ee=>h(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select bundle type"}),s.jsx("option",{value:"Inverter + Battery",children:"Inverter + Battery"}),s.jsx("option",{value:"Solar+Inverter+Battery",children:"Solar+Inverter+Battery"}),s.jsx("option",{value:"Custom Bundle",children:"Custom Bundle"}),s.jsx("option",{value:"solar_package",children:"Solar Package"}),s.jsx("option",{value:"inverter_package",children:"Inverter Package"}),s.jsx("option",{value:"battery_package",children:"Battery Package"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main bundle image"}),s.jsx("div",{className:"w-full",children:S?s.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:URL.createObjectURL(S),alt:"Featured Bundle",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>k(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:s.jsx("span",{className:"mb-1",children:""})})]}):s.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ht,className:"hidden"}),s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price *"}),s.jsx("input",{type:"number",value:f,onChange:Ee=>p(Ee.target.value),placeholder:"Enter total price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price"}),s.jsx("input",{type:"text",value:x,onChange:Ee=>w(Ee.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount End Date"}),s.jsx("input",{type:"date",value:b,onChange:Ee=>N(Ee.target.value),placeholder:"dd/mm/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),fe==="specs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Model"}),s.jsx("input",{type:"text",value:K,onChange:Ee=>B(Ee.target.value),placeholder:"e.g. OG-1P1K2-T - 1.2kVA Yinergy Inverter / GCL 12100 12V 1.3kWh Cworth Battery",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Capacity (display)"}),s.jsx("input",{type:"text",value:H,onChange:Ee=>ee(Ee.target.value),placeholder:"e.g. 1.2kVA Inverter & 1.3kWh Lithium Ion Battery",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inverter Rating (kVA)"}),s.jsx("input",{type:"text",value:de,onChange:Ee=>Y(Ee.target.value),placeholder:"e.g. 1.2 kVA",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Battery / Total Output (kWh)"}),s.jsx("input",{type:"text",value:ue,onChange:Ee=>O(Ee.target.value),placeholder:"e.g. 1.3 kWh",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),d==="Solar+Inverter+Battery"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Load / Solar (W or kW)"}),s.jsx("input",{type:"text",value:P,onChange:Ee=>z(Ee.target.value),placeholder:"e.g. 600 W or 1.2 kWp",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),fe==="details"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Description"}),s.jsx("textarea",{rows:4,value:T,onChange:Ee=>F(Ee.target.value),placeholder:"Full description of the bundle and what it powers...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What is inside the bundle"}),s.jsx("textarea",{rows:2,value:$,onChange:Ee=>G(Ee.target.value),placeholder:"e.g. 1 unit 1.2kVA Inverter, 1 unit 1.3kWh Battery & Installation Materials",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What the bundle will power"}),s.jsx("textarea",{rows:3,value:ie,onChange:Ee=>Z(Ee.target.value),placeholder:"e.g. 610 LED bulbs, 1 LED TV, 1 Decoder, 1 Fan, 1 Laptop, Wi-Fi, Small speakers",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Back-up time description"}),s.jsx("textarea",{rows:2,value:re,onChange:Ee=>le(Ee.target.value),placeholder:"e.g. 19 hours depending on load; from sunset to sunrise or when grid is unavailable",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),fe==="appliances"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Add custom appliances with wattage for load calculation (e.g. Fridge 200W, LED TV 20W)."}),s.jsx("button",{type:"button",onClick:ot,className:"text-[#273E8E] text-sm font-medium hover:underline",children:"+ Add appliance"}),q.length>0&&s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-2",children:"Appliance"}),s.jsx("th",{className:"text-left p-2",children:"Wattage (W)"}),s.jsx("th",{className:"text-left p-2",children:"Qty"}),s.jsx("th",{className:"text-left p-2",children:"Hours/day"}),s.jsx("th",{className:"w-10"})]})}),s.jsx("tbody",{children:q.map((Ee,be)=>s.jsxs("tr",{className:"border-t border-gray-100",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"text",value:Ee.name,onChange:Ue=>yt(be,"name",Ue.target.value),placeholder:"e.g. Fridge",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:0,value:Ee.wattage||"",onChange:Ue=>yt(be,"wattage",Ue.target.value?Number(Ue.target.value):0),placeholder:"W",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:1,value:Ee.quantity??1,onChange:Ue=>yt(be,"quantity",Ue.target.value?Number(Ue.target.value):1),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm"})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",min:0,step:.5,value:Ee.estimated_daily_hours_usage??"",onChange:Ue=>yt(be,"estimated_daily_hours_usage",Ue.target.value?Number(Ue.target.value):void 0),placeholder:"hrs",className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"})}),s.jsx("td",{className:"p-2",children:s.jsx("button",{type:"button",onClick:()=>Pe(be),className:"text-red-600 hover:underline text-xs",children:"Remove"})})]},be))})]})})]}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:Be,className:"w-full py-3 px-4 cursor-pointer border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium rounded-full transition-colors",children:"Add Custom Service"}),s.jsx("button",{type:"button",onClick:et,disabled:I,className:`w-full py-3 px-4 font-medium rounded-full transition-colors flex items-center justify-center ${I?"bg-gray-400 cursor-not-allowed text-white ":n?"bg-[#E8A91D] cursor-pointer hover:bg-[#d89a1a]":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:I?s.jsxs("div",{className:"flex items-center justify-center text-white",children:[s.jsx("div",{className:"animate-spin text-white rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Updating Bundle...":"Creating Bundle..."]}):s.jsx("span",{className:"text-white",children:n?"Update Bundle":"Create Bundle"})})]})]})]}),D&&s.jsx(xL,{isOpen:D,onClose:Qe})]})},xN=async(t,e)=>{let n=dt.ADMIN.BundleList;if(e?.bundle_type){const a=new URLSearchParams;a.append("bundle_type",e.bundle_type),n+=`?${a.toString()}`}return await ct(n,"GET",void 0,t)},yv=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-32 cursor-pointer rounded-md border border-[#00000080] bg-white px-2 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-32 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-2 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},gL=()=>{const[t,e]=L.useState(!1),[n,a]=L.useState(""),[i,l]=L.useState(!1),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,b]=L.useState("Categories"),[N,S]=L.useState("Availability"),[k,_]=L.useState(""),E=L.useRef(null),[D,R]=L.useState({}),[I,ne]=L.useState({}),[K,B]=L.useState(!1),[H,ee]=L.useState(null),[T,F]=L.useState(null),[$,G]=L.useState(!1),ie=es.get("token")||"",{data:Z,isLoading:re,error:le}=Ut({queryKey:["products"],queryFn:()=>uN(ie),enabled:!!ie}),{data:de,isLoading:Y,error:ue}=Ut({queryKey:["bundles"],queryFn:()=>xN(ie),enabled:!!ie}),{data:O,isLoading:P}=Ut({queryKey:["categories"],queryFn:()=>Ym(ie),enabled:!!ie}),{data:z,isLoading:q}=Ut({queryKey:["brands"],queryFn:()=>rg(ie),enabled:!!ie}),se=L.useMemo(()=>Z?.data||[],[Z]),fe=L.useMemo(()=>de?.data||[],[de]),ye=L.useMemo(()=>O?.data||[],[O]),Se=L.useMemo(()=>z?.data||[],[z]),Oe=be=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(be),He=(be,Ue)=>be<=0||Ue<=0||Ue>=be?0:Math.round((be-Ue)/be*100),Ie=()=>Ye.replace(/\/api$/,""),Ke=be=>be?be.startsWith("http")?be:`${Ie()}${be}`:"/assets/images/newmanbadge.png",he=L.useMemo(()=>{let be=se;if(k.trim()&&(be=be.filter(Ue=>Ue.title.toLowerCase().includes(k.toLowerCase()))),w!=="Categories"){const Ue=ye.find(St=>St.title===w);Ue&&(be=be.filter(St=>St.category_id===Ue.id))}if(n){const Ue=Se.find(St=>St.id.toString()===n);Ue&&(be=be.filter(St=>St.brand_id===Ue.id))}return N==="Out of Stock"&&(be=be.filter(Ue=>parseInt(Ue.stock)===0)),be},[se,k,w,n,N,ye,Se]),oe=be=>{R(Ue=>({...Ue,[be]:!1}))},Nt=be=>{R(Ue=>({...Ue,[be]:!1}))},at=be=>{ne(Ue=>({...Ue,[be]:!1}))},bt=be=>{ne(Ue=>({...Ue,[be]:!1}))};L.useEffect(()=>{if(se.length>0){const be={};se.forEach(Ue=>{be[`product-${Ue.id}`]=!0}),R(be)}},[se]),L.useEffect(()=>{if(fe.length>0){const be={};fe.forEach(Ue=>{be[`bundle-${Ue.id}`]=!0}),ne(be)}},[fe]);const et=L.useMemo(()=>q?[{value:"",label:"Loading...",icon:null}]:Se.map(be=>({value:be.id.toString(),label:be.title,icon:Ke(be.icon)})),[Se,q]),ft=be=>{a(be.value),e(!1)},ot=()=>{e(!t)},yt=be=>{d(be),l(!0)},Pe=()=>{l(!1),d(null)},ht=be=>{x(be),f(!0),l(!1)},Be=()=>{f(!1),x(null)},Qe=It({mutationFn:async be=>await ig(be,ie||""),onSuccess:()=>{B(!1),ee(null),window.location.reload()},onError:be=>{alert("Failed to delete bundle. Please try again."),B(!1),ee(null)}}),je=be=>{ee(be),B(!0)},lt=()=>{F(H),G(!0),B(!1)},Ee=()=>{H&&Qe.mutate(H.id)};return L.useEffect(()=>{const be=Ue=>{E.current&&!E.current.contains(Ue.target)&&e(!1)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yv,{options:["Categories",...P?["Loading..."]:ye.map(be=>be.title)],selected:w,onSelect:b}),s.jsxs("div",{className:"relative",ref:E,children:[s.jsxs("button",{onClick:ot,className:"px-4 py-2 border border-[#00000080] rounded-lg text-sm font-medium bg-white hover:bg-gray-100 text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer flex items-center justify-between w-[120px]",children:[s.jsx("span",{children:n?et.find(be=>be.value===n)?.label:"Brand"}),s.jsx("svg",{className:"w-4 h-4 text-gray-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&s.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-300 rounded-2xl shadow-xl z-50 overflow-y-auto p-2",style:{width:"400px",height:"auto",maxHeight:"450px"},children:et.map(be=>s.jsxs("button",{onClick:()=>ft(be),className:`w-full flex items-center px-4 py-4 rounded-2xl mb-2 transition-colors ${n===be.value?"bg-blue-50 text-blue-600":"bg-[#f3f3f3] text-gray-800 hover:bg-gray-200"}`,children:[s.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#bebef1] rounded-full",children:s.jsx("img",{src:be.icon||"",alt:be.label,className:"w-12 h-12 object-contain",onError:Ue=>{const St=Ue.currentTarget;St.style.display="none"}})}),s.jsx("span",{className:"text-lg font-medium",children:be.label})]},be.value))})]}),s.jsx(yv,{options:["Availability","All","Out of Stock"],selected:N,onSelect:S})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search products...",value:k,onChange:be=>_(be.target.value),className:"pl-10 pr-4 py-2 bg-white border border-[#00000080] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-180"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"All Products"}),re?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[...Array(8)].map((be,Ue)=>s.jsxs("div",{className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm animate-pulse",children:[s.jsx("div",{className:"aspect-square bg-gray-200 rounded-t-2xl"}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD]",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),s.jsxs("div",{className:"flex justify-between items-center mt-5",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-20"})]})]})]},Ue))}):le?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-red-500",children:"Error loading products. Using fallback data."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mt-4",children:cL.map(be=>s.jsxs("div",{onClick:()=>yt(be),className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[s.jsx("div",{className:"aspect-square bg-white overflow-hidden p-2.5 relative",onClick:Ue=>{Ue.stopPropagation(),yt(be)},children:s.jsx("img",{src:be.image||"/assets/images/newman1.png",alt:be.name,className:"w-full h-full object-cover cursor-pointer",onClick:Ue=>{Ue.stopPropagation(),yt(be)},onError:Ue=>{const St=Ue.target;St.src="/assets/images/newmanbadge.png"}})}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:be.name}),s.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{children:s.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),s.jsxs("div",{className:"flex flex-row gap-1.5",children:[s.jsx("div",{children:s.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),s.jsx("div",{children:s.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),s.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),s.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Ue=>s.jsx("svg",{className:`w-3 h-3 ${Ue<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ue))})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-5",children:[s.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[be.stock," Orders"]}),s.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),yt(be)},className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},be.id))})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:he.length>0?he.map(be=>{const Ue=He(be.price,be.discount_price),St=be.old_quantity?Math.round(parseInt(be.stock)/parseInt(be.old_quantity)*100):0,Bt={id:be.id.toString(),name:be.title,category:"Solar Equipment",price:Oe(be.discount_price),stock:parseInt(be.stock),status:"Active",image:Ke(be.featured_image_url),description:be.details.map(ut=>ut.detail).join(", ")||"No description available"};return s.jsxs("div",{onClick:()=>yt(Bt),className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[s.jsxs("div",{className:"aspect-square bg-white overflow-hidden p-2.5 relative",onClick:ut=>{ut.stopPropagation(),yt(Bt)},children:[D[`product-${be.id}`]&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"})}),s.jsx("img",{src:Ke(be.featured_image_url),alt:be.title,className:"w-full h-full object-cover cursor-pointer",onLoad:()=>oe(`product-${be.id}`),onError:()=>{Nt(`product-${be.id}`);const ut=document.querySelector(`img[alt="${be.title}"]`);ut&&(ut.src="/assets/images/newmanbadge.png")},style:{display:D[`product-${be.id}`]?"none":"block"},onClick:ut=>{ut.stopPropagation(),yt(Bt)}})]}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:be.title}),s.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{children:s.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(be.discount_price)})}),s.jsx("div",{className:"flex flex-row gap-1.5",children:Ue>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(be.price)})}),s.jsx("div",{children:s.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",Ue,"%"]})})]})})]}),s.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[be.stock,"/",be.old_quantity]}),s.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:`${St}%`}})})]}),s.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(ut=>s.jsx("svg",{className:`w-3 h-3 ${ut<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ut))})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-5",children:[s.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[be.stock," Stocks"]}),s.jsx("button",{onClick:ut=>{ut.stopPropagation(),yt(Bt)},className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},be.id)}):s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:k||w!=="Categories"||n||N!=="Availability"?"No products found matching your filters":"No products available"}),(k||w!=="Categories"||n||N!=="Availability")&&s.jsx("button",{onClick:()=>{_(""),b("Categories"),a(""),S("Availability")},className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Clear all filters"})]})})]}),s.jsxs("div",{className:"w-60 border-l border-[#00000080] pl-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Bundles"}),Y?s.jsx("div",{className:"space-y-4",children:[...Array(2)].map((be,Ue)=>s.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm animate-pulse",children:[s.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD]",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})]},Ue))}):ue?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-red-500 text-sm",children:"Error loading bundles"}),s.jsx("div",{className:"space-y-4 mt-4",children:s.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm relative",children:[s.jsx("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5",children:s.jsx("img",{src:xt.minibundle,alt:"Newman Inverter Bundle",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:"2 Newman Inverters + 1 Solar panel + 4 LED bulbs"}),s.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{children:s.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),s.jsxs("div",{className:"flex flex-row gap-1.5",children:[s.jsx("div",{children:s.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),s.jsx("div",{children:s.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),s.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),s.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(be=>s.jsx("svg",{className:`w-3 h-3 ${be<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},be))})]})]})]})]})})]}):s.jsx("div",{className:"space-y-4",children:fe.length>0?fe.map(be=>{if(!be.title||be.total_price===0)return null;const Ue=He(be.total_price,be.discount_price),St=be.bundle_type==="Mini"?"#800080":"#FF0000";return s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm relative cursor-pointer",style:{borderColor:St},onClick:()=>je(be),children:[s.jsxs("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5 relative",children:[I[`bundle-${be.id}`]&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),s.jsx("img",{src:Ke(be.featured_image_url),alt:be.title,className:"w-full h-full object-contain",onLoad:()=>at(`bundle-${be.id}`),onError:()=>{bt(`bundle-${be.id}`);const Bt=document.querySelector(`img[alt="${be.title}"]`);Bt&&(Bt.src=be.bundle_type==="Mini"?xt.minibundle:xt.maxibundle)},style:{display:I[`bundle-${be.id}`]?"none":"block"}})]}),s.jsxs("div",{className:"p-2.5",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:be.title}),s.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{children:s.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(be.discount_price)})}),s.jsx("div",{className:"flex flex-row gap-1.5",children:Ue>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(be.total_price)})}),s.jsx("div",{children:s.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",Ue,"%"]})})]})})]}),s.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[be.bundle_items.length," items"]}),s.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Bt=>s.jsx("svg",{className:`w-3 h-3 ${Bt<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Bt))})]})]})]})]},be.id)}).filter(Boolean):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"No bundles available"})})})]})]}),s.jsx(pL,{isOpen:i,onClose:Pe,product:c,onEdit:ht}),s.jsx(hN,{isOpen:h,onClose:Be,editingProduct:p}),K&&H&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),s.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[s.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:lt,children:"Edit Bundle"}),s.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:Ee,disabled:Qe.isPending,children:Qe.isPending?"Deleting...":"Delete Bundle"}),s.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>B(!1),children:"Cancel"})]})]})})}),s.jsx(pN,{isOpen:$,onClose:()=>{G(!1),F(null)},editingBundle:T})]})},vv=({options:t,selected:e,onSelect:n})=>{const[a,i]=L.useState(!1),l=c=>{n(c),i(!1)};return s.jsxs("div",{className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,s.jsx("img",{src:xt.arrow,alt:""})]})}),a&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:t.map((c,d)=>s.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},bL=async(t,e,n)=>await ct(dt.ADMIN.UpdateOrderStatus(t),"POST",e,n),yL=()=>{const[t,e]=L.useState("Shop Orders"),[n,a]=L.useState([]),[i,l]=L.useState(!1),[c,d]=L.useState("Status"),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,b]=L.useState(!1),[N,S]=L.useState(!1),[k,_]=L.useState(!1),[E,D]=L.useState(null),[R,I]=L.useState(""),[ne,K]=L.useState("All"),[B,H]=L.useState("More Actions"),[ee,T]=L.useState(""),[F,$]=L.useState(1),[G]=L.useState(10),[ie,Z]=L.useState(!1),[re,le]=L.useState(null),[de,Y]=L.useState(null),ue=es.get("token"),{data:O,isLoading:P,isError:z}=Ut({queryKey:["all-orders"],queryFn:()=>zE(ue||""),enabled:!!ue});console.log("API Response:",O),console.log("Orders Data:",O?.orders);const q=It({mutationFn:async({orderId:Be,status:Qe})=>await bL(Be,{order_status:Qe},ue||""),onSuccess:()=>{_(!1),D(null),I(""),console.log("Order status updated successfully")},onError:Be=>{console.error("Failed to update order status:",Be),alert("Failed to update order status. Please try again.")}}),se=It({mutationFn:async Be=>await ig(Be,ue||""),onSuccess:()=>{Z(!1),le(null),window.location.reload()},onError:Be=>{alert("Failed to delete bundle. Please try again."),Z(!1),le(null)}}),fe=O?.orders?.map(Be=>{const je=Be.items?.[0]?.item?.title||"Unknown Product",lt=Be.delivery_address?.title||"Unknown Customer",Ee=new Date(Be.created_at),be=Ee.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}),Ue=Ee.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return{id:Be.id.toString(),name:lt,productName:je,amount:`${Number(Be.total_price).toLocaleString()}`,date:be,time:Ue,status:Be.order_status==="pending"?"Pending":Be.order_status==="completed"?"Delivered":"Ordered"}})||[],ye=O?.summary;console.log("Mapped Orders:",fe);const Se=()=>{console.log("Notification clicked")},Oe=Be=>{T(Be.target.value)},He=()=>{a(i?[]:fe.map(Be=>Be.id)),l(!i)},Ie=Be=>{n.includes(Be)?a(n.filter(Qe=>Qe!==Be)):a([...n,Be])},Ke=Be=>{const Qe=O?.orders?.find(je=>je.id.toString()===Be.id);x(Qe||null),f(!0)},he=Be=>{const Qe=O?.orders?.find(je=>je.id.toString()===Be.id);D(Qe||null),I(Be.status),_(!0)},oe=()=>{_(!1),D(null),I("")},Nt=()=>{E&&R&&q.mutate({orderId:E.id.toString(),status:R})},at=()=>{f(!1),x(null)},bt=()=>{Y(re),b(!0),Z(!1)},et=()=>{re&&se.mutate(re.id)},ft=fe.filter(Be=>{const Qe=c==="Status"||Be.status===c,je=ee===""||Be.name.toLowerCase().includes(ee.toLowerCase())||Be.productName.toLowerCase().includes(ee.toLowerCase())||Be.id.toLowerCase().includes(ee.toLowerCase())||Be.amount.toLowerCase().includes(ee.toLowerCase());return Qe&&je}),ot=Math.ceil(ft.length/G),yt=(F-1)*G,Pe=yt+G,ht=ft.slice(yt,Pe);return _r.useEffect(()=>{$(1)},[ee,c,ne]),console.log("Filtered Order Data:",ft),console.log("Status Filter:",c),console.log("Search Query:",ee),s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:Se}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shop Management"})}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Shop Orders"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Shop Orders"),children:"Shop Orders"}),s.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Products"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Products"),children:"Products"})]}),t==="Products"&&s.jsxs("div",{className:"flex items-center space-x-3 mt-[-25px]",children:[s.jsx("button",{onClick:()=>S(!0),className:"bg-[#273E8E]  hover:bg-[#273E8E] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Upload Product"}),s.jsx("button",{onClick:()=>b(!0),className:"bg-[#E8A91D] hover:bg-[#E8A91D] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Create Bundle"})]})]})})}),t==="Shop Orders"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:P?s.jsx(Ah,{count:3}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ye?.total_orders||0})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending Orders"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ye?.pending_orders||0})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Completed Orders"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ye?.completed_orders||0})]})]})})]})}),t==="Shop Orders"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("All"),children:"All"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="Loans"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("Loans"),children:"Loans"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="Direct"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("Direct"),children:"Direct"})]}),s.jsx(vv,{options:["More Actions","Export Data","Bulk Action"],selected:B,onSelect:H}),s.jsx(vv,{options:["Status","Ordered","Pending","Delivered"],selected:c,onSelect:d})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search orders...",value:ee,onChange:Oe,className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[P?s.jsx(Ss,{message:"Loading orders..."}):z?s.jsx("div",{className:"p-8 text-center",children:s.jsx("div",{className:"text-red-500",children:"Failed to load orders. Please try again."})}):s.jsx("div",{children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:i,onChange:He})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:ft.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:fe.length===0?"No orders found":ee?`No orders found matching "${ee}"`:"No orders match the current filter"})}):ht.map((Be,Qe)=>s.jsxs("tr",{className:`${Qe%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:n.includes(Be.id),onChange:()=>Ie(Be.id)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:Be.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:Be.productName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:Be.amount}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[Be.date,"/",Be.time]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:dL(Be.status),children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:Be.status.toLowerCase()==="delivered"?"#008000":Be.status.toLowerCase()==="pending"?"#FF8C00":Be.status.toLowerCase()==="ordered"?"#5A67D8":"#6B7280"}}),Be.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Ke(Be),children:"View Details"}),s.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>he(Be),children:"Update Status"})]})})]},Be.id))})]})}),ot>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",yt+1," to ",Math.min(Pe,ft.length)," of ",ft.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>$(Be=>Math.max(Be-1,1)),disabled:F===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ot)},(Be,Qe)=>{let je;return ot<=5||F<=3?je=Qe+1:F>=ot-2?je=ot-4+Qe:je=F-2+Qe,s.jsx("button",{onClick:()=>$(je),className:`px-3 py-2 text-sm font-medium rounded-md border ${F===je?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:je},je)})}),s.jsx("button",{onClick:()=>$(Be=>Math.min(Be+1,ot)),disabled:F===ot,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===ot?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),t==="Products"&&s.jsx(gL,{})]}),s.jsx(cN,{isOpen:h,order:p?{...p,include_user_info:p.include_user_info?{first_name:"",phone:""}:void 0}:null,onClose:at}),s.jsx(pN,{isOpen:w,onClose:()=>{b(!1),Y(null)},editingBundle:de}),s.jsx(hN,{isOpen:N,onClose:()=>S(!1)}),k&&E&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Order Status"}),s.jsx("button",{onClick:oe,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Update status for order ",s.jsxs("strong",{children:["#",E.id]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),s.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:R,onChange:Be=>I(Be.target.value),children:[s.jsx("option",{value:"",children:"Select Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:oe,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Nt,disabled:!R||q.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${R&&!q.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:q.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Update Status"})]})]})}),ie&&re&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),s.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[s.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:bt,children:"Edit Bundle"}),s.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:et,disabled:se.isPending,children:se.isPending?"Deleting...":"Delete Bundle"}),s.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>Z(!1),children:"Cancel"})]})]})})})]})},wv=[{value:"default",label:"Sort By"},{value:"name",label:"Name"},{value:"referrals",label:"Referrals"},{value:"amount",label:"Amount"},{value:"date",label:"Date"}],vL=async t=>await ct(dt.ADMIN.ReferralSettings,"GET",void 0,t),wL=async(t,e)=>{let n=dt.ADMIN.ReferralList;if(e){const a=new URLSearchParams;e.search&&a.append("search",e.search),e.sort_by&&a.append("sort_by",e.sort_by),e.sort_order&&a.append("sort_order",e.sort_order),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},NL=async(t,e)=>await ct(dt.ADMIN.ReferralSettings,"PUT",t,e),jL=()=>{const[t,e]=L.useState([]),[n,a]=L.useState("default"),[i]=L.useState("desc"),[l,c]=L.useState(""),[d,h]=L.useState(!1),[f,p]=L.useState(""),[x,w]=L.useState(""),[b,N]=L.useState(!1),[S,k]=L.useState(1),[_]=L.useState(15),E=L.useRef(null),D=es.get("token")||"",R=ni(),{data:I,isLoading:ne}=Ut({queryKey:["referral-settings"],queryFn:()=>vL(D),enabled:!!D});L.useEffect(()=>{I?.data&&(p(I.data.commission_percentage?.toString()||""),w(I.data.minimum_withdrawal?.toString()||""))},[I]);const K=L.useMemo(()=>{const de={per_page:_,page:S};return l&&(de.search=l),n!=="default"&&(de.sort_by=n,de.sort_order=i),de},[l,n,i,S,_]),{data:B,isLoading:H,isError:ee}=Ut({queryKey:["referral-list",K],queryFn:()=>wL(D,K),enabled:!!D}),T=L.useMemo(()=>B?.data?.data||[],[B]),F=L.useMemo(()=>B?.data?.pagination||{current_page:1,last_page:1,per_page:15,total:0},[B]),$=It({mutationFn:de=>NL(de,D),onSuccess:()=>{R.invalidateQueries({queryKey:["referral-settings"]}),alert("Settings updated successfully!"),h(!1)},onError:de=>{console.error("Error updating settings:",de);const Y=de?.message||de?.data?.message||"Failed to update settings. Please try again.";alert(`Error: ${Y}`)}});L.useEffect(()=>{const de=Y=>{E.current&&!E.current.contains(Y.target)&&N(!1)};return b&&document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[b]);const G=de=>{e(de?T.map(Y=>Y.id.toString()):[])},ie=de=>{e(Y=>Y.includes(de)?Y.filter(ue=>ue!==de):[...Y,de])},Z=de=>{a(de==="default"?"default":{name:"name",referrals:"referral_count",amount:"total_earned",date:"created_at"}[de]||"created_at"),N(!1),k(1)},re=()=>{if(!f.trim()||!x.trim()){alert("Please fill in both fields before saving.");return}const de=parseFloat(f);if(isNaN(de)||de<0||de>100){alert("Please enter a valid commission percentage between 0 and 100.");return}const Y=parseFloat(x.replace(/,/g,""));if(isNaN(Y)||Y<0){alert("Please enter a valid minimum withdrawal amount.");return}$.mutate({commission_percentage:de,minimum_withdrawal:Y})},le=de=>de?`N${(typeof de=="string"?parseFloat(de.replace(/,/g,"")):de).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N0";return L.useEffect(()=>{const de=setTimeout(()=>{k(1)},500);return()=>clearTimeout(de)},[l]),s.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[s.jsx(Un,{}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Referral"}),s.jsx("button",{onClick:()=>h(!0),className:"bg-blue-900 hover:bg-blue-900 text-white cursor-pointer px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Referral Settings"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"relative inline-block text-left",ref:E,children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>N(!b),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm focus:outline-none",children:[wv.find(de=>{if(n==="default")return de.value==="default";const Y={name:"name",referral_count:"referrals",total_earned:"amount",created_at:"date"};return de.value===Y[n]})?.label||"Sort by",s.jsx("img",{src:xt.arrow,alt:""})]})}),b&&s.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:s.jsx("ul",{className:"py-2",children:wv.map(de=>s.jsx("li",{onClick:()=>Z(de.value),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:de.label},de.value))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search by name, email, or user code",value:l,onChange:de=>c(de.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:H?s.jsx(Ss,{message:"Loading referral data..."}):ee?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load referral data. Please try again."}):T.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No referrals found."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:t.length===T.length&&T.length>0,onChange:de=>G(de.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"No of referral"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount Earned"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date joined"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map((de,Y)=>s.jsxs("tr",{className:`${Y%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:t.includes(de.id.toString()),onChange:()=>ie(de.id.toString()),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:de.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:de.no_of_referral}),s.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:le(de.amount_earned)}),s.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:de.date_joined})]},de.id))})]})}),F.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",(F.current_page-1)*F.per_page+1," to"," ",Math.min(F.current_page*F.per_page,F.total)," of"," ",F.total," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>k(de=>Math.max(de-1,1)),disabled:F.current_page===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${F.current_page===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,F.last_page)},(de,Y)=>{let ue;return F.last_page<=5||F.current_page<=3?ue=Y+1:F.current_page>=F.last_page-2?ue=F.last_page-4+Y:ue=F.current_page-2+Y,s.jsx("button",{onClick:()=>k(ue),className:`px-3 py-2 text-sm font-medium rounded-md border ${F.current_page===ue?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ue},ue)})}),s.jsx("button",{onClick:()=>k(de=>Math.min(de+1,F.last_page)),disabled:F.current_page===F.last_page,className:`px-3 py-2 text-sm font-medium rounded-md border ${F.current_page===F.last_page?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),s.jsx("button",{onClick:()=>h(!1),className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Commission Percentage"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Enter a number",value:f,onChange:de=>p(de.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-10"}),s.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl font-light",children:"%"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Withdrawal amount"}),s.jsx("input",{type:"text",placeholder:"Enter amount",value:x,onChange:de=>w(de.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),s.jsx("button",{onClick:re,disabled:$.isPending||ne,className:`w-full bg-blue-900 cursor-pointer hover:bg-blue-800 text-white py-3 px-4 rounded-full text-sm font-medium transition-colors mt-8 ${$.isPending||ne?"opacity-50 cursor-not-allowed":""}`,children:$.isPending||ne?"Saving...":"Save"})]})]})})]})},_L=[{value:"alltime",label:"All time"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],SL=async(t,e)=>{let n=dt.ADMIN.Analytics;return e?.period&&(n+=`?period=${e.period}`),await ct(n,"GET",void 0,t)},CL=()=>{const[t,e]=L.useState("alltime"),[n,a]=L.useState("all"),i=es.get("token")||"",l=L.useMemo(()=>t==="alltime"?"all_time":t,[t]),{data:c,isLoading:d,isError:h,error:f}=Ut({queryKey:["analytics",l],queryFn:()=>SL(i,{period:l}),enabled:!!i}),p=L.useMemo(()=>{if(!c?.data)return null;const{general:w,financial:b,revenue:N}=c.data,S=_=>_?`N${(typeof _=="string"?parseFloat(_.replace(/,/g,"")):_).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N0",k=_=>_==null?"0%":`${(typeof _=="string"?parseFloat(_):_).toFixed(1)}%`;return{general:[{title:"Total Users",value:w?.total_users?.toLocaleString()||"0"},{title:"Active Users",value:w?.active_users?.toLocaleString()||"0"},{title:"Total Orders",value:w?.total_orders?.toLocaleString()||"0"},{title:"Bounce Rate",value:k(w?.bounce_rate||0)},{title:"Deleted Accounts",value:w?.deleted_accounts?.toLocaleString()||"0"},{title:"Total Revenue",value:S(w?.total_revenue||0)},{title:"Total Deposits",value:S(w?.total_deposits||0)},{title:"Total Withdrawals",value:S(w?.total_withdrawals||0)},{title:"Admin Earnings",value:S(w?.admin_earnings||0)},{title:"Top Selling Product",value:w?.top_selling_product||"N/A"}],financial:[{title:"Total Loans",value:b?.total_loans?.toLocaleString()||"0"},{title:"Approved Loans",value:b?.approved_loans?.toLocaleString()||"0"},{title:"Rejected Loans",value:b?.rejected_loans?.toLocaleString()||"0"},{title:"Pending Loans",value:b?.pending_loans?.toLocaleString()||"0"},{title:"Loan amount disbursed",value:S(b?.loan_amount_disbursed||0)},{title:"Top Partner",value:b?.top_partner||"N/A"},{title:"Overdue loans",value:b?.overdue_loans?.toLocaleString()||"0"},{title:"Overdue loan amount",value:S(b?.overdue_loan_amount||0)},{title:"Loan default rate",value:k(b?.loan_default_rate||0)},{title:"Repayment completion",value:k(b?.repayment_completion_rate||0)}],revenue:[{title:"Total Revenue",value:S(N?.total_revenue||0)},{title:"Revenue by product",value:N?.revenue_by_product?.length?.toString()||"0"},{title:"Delivery fees",value:S(N?.delivery_fees||0)},{title:"Installment fee",value:S(N?.installation_fees||0)},{title:"Revenue growth rate",value:k(N?.revenue_growth_rate||0)},{title:"Interests Earned",value:S(N?.interests_earned||0)}],revenueByProduct:N?.revenue_by_product||[]}},[c]),x=({title:w,value:b,className:N=""})=>s.jsxs("div",{className:`bg-white p-4 shadow-sm ${N}`,children:[s.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"#00000080",fontSize:"12px"},children:w}),s.jsx("p",{className:"font-semibold",style:{color:"#000000",fontSize:"20px"},children:b})]});return s.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[s.jsx(Un,{}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Analytics"}),s.jsx("div",{className:"bg-white rounded-full p-2 inline-flex gap-1 mb-8 shadow-sm border border-gray-200",children:_L.map(w=>s.jsx("button",{onClick:()=>e(w.value),className:`px-6.5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${t===w.value?"bg-blue-900 text-white shadow-sm":"text-[#000000B2] hover:text-black"}`,children:w.label},w.value))}),d&&s.jsx(Ss,{message:"Loading analytics data..."}),h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:s.jsxs("p",{className:"text-red-600",children:["Failed to load analytics data. ",f instanceof Error?f.message:"Please try again."]})}),!d&&!h&&p&&s.jsxs(s.Fragment,{children:[c?.data?.date_range&&s.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Period:"})," ",new Date(c.data.date_range.start).toLocaleDateString()," -"," ",new Date(c.data.date_range.end).toLocaleDateString()]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:p.general.slice(0,6).map((w,b)=>s.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},b))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[p.general.slice(6,10).map((w,b)=>s.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},b)),s.jsx("div",{className:"xl:col-span-2"})," "]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:p.financial.slice(0,6).map((w,b)=>s.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},b))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[p.financial.slice(6,10).map((w,b)=>s.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},b)),s.jsx("div",{className:"xl:col-span-2"})," "]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:p.revenue.map((w,b)=>w.title==="Revenue by product"?s.jsxs("div",{className:"bg-white p-4 shadow-sm border border-[#989898] rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:w.title}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full",children:[s.jsxs("option",{value:"all",children:["All Products (",w.value,")"]}),p.revenueByProduct.length>0?p.revenueByProduct.map((N,S)=>{const k=typeof N.revenue=="string"?parseFloat(N.revenue.replace(/,/g,"")):N.revenue;return s.jsxs("option",{value:N.product_id,children:[N.product_name," - N",k.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]},S)}):s.jsx("option",{value:"none",disabled:!0,children:"No products available"})]}),s.jsx("svg",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]},b):s.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},b))})]})]})]})]})},wr={firstName:"Faizah",surname:"Adewale",email:"Adewalefaizah@gmail.com",bvn:"0234682284",image:"/assets/layout/profile.png",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},gN=[{id:"1",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"2",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"3",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]}],bN=({isOpen:t,onClose:e,adminData:n})=>{const[a,i]=L.useState({firstName:n.firstName,surname:n.surname,email:n.email,bvn:n.bvn,password:n.password,role:"Admin"}),[l,c]=L.useState(null),[d,h]=L.useState(null),f=es.get("token"),p=N=>{const{name:S,value:k}=N.target;i(_=>({..._,[S]:k}))},x=N=>{const S=N.target.files?.[0];if(S){c(S);const k=new FileReader;k.onload=_=>{h(_.target?.result)},k.readAsDataURL(S)}},w=It({mutationFn:async N=>await Lk(N,f||""),onSuccess:()=>{console.log("Profile updated successfully"),e()},onError:N=>{console.error("Failed to update profile:",N),alert("Failed to update profile. Please try again.")}}),b=N=>{N.preventDefault();const S=new FormData;a.firstName&&S.append("first_name",a.firstName),a.surname&&S.append("sur_name",a.surname),a.email&&S.append("email",a.email),a.bvn&&S.append("bvn",a.bvn),a.password&&S.append("password",a.password),a.role&&S.append("role",a.role),l&&(console.log("Adding image to FormData:",l.name,l.type,l.size),S.append("profile_picture",l)),console.log("FormData contents:");for(const[k,_]of S.entries())console.log(k,_);w.mutate(S)};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-lg relative overflow-hidden",style:{width:"600px",height:"700px",maxHeight:"110vh"},children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),s.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center cursor-pointer justify-center rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("img",{src:xt.cross,className:"w-7 h-7",alt:""})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100% - 120px)"},children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:[d?s.jsx("img",{src:d,alt:"Profile preview",className:"w-full h-full object-cover"}):n.image?s.jsx("img",{src:n.image,alt:"Profile",className:"w-full h-full object-cover",onError:N=>{N.currentTarget.style.display="none",N.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-full h-full flex items-center justify-center ${d||n.image?"hidden":""}`,children:s.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[s.jsx("path",{d:"M16 16C19.3137 16 22 13.3137 22 10C22 6.68629 19.3137 4 16 4C12.6863 4 10 6.68629 10 10C10 13.3137 12.6863 16 16 16Z",fill:"#9CA3AF"}),s.jsx("path",{d:"M16 18C21.5228 18 26 22.4772 26 28H6C6 22.4772 10.4772 18 16 18Z",fill:"#9CA3AF"})]})})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),s.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:p,placeholder:"Enter your first name",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surname"}),s.jsx("input",{type:"text",name:"surname",value:a.surname,onChange:p,placeholder:"Enter your surname",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:p,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BVN"}),s.jsx("input",{type:"text",name:"bvn",value:a.bvn,onChange:p,placeholder:"BVN Number",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:a.password,onChange:p,placeholder:"Enter Password",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 cursor-pointer",children:"Role"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"role",value:a.role,onChange:p,className:"w-full px-4 py-3 cursor-pointer border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none bg-white",children:[s.jsx("option",{value:"Admin",children:"Admin"}),s.jsx("option",{value:"Super Admin",children:"Super Admin"}),s.jsx("option",{value:"Manager",children:"Manager"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:s.jsx("path",{d:"M2 4l4 4 4-4"})})})]})]}),s.jsx("div",{className:"mt-8",children:s.jsx("button",{type:"submit",disabled:w.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors flex items-center justify-center ${w.isPending?"opacity-50 cursor-not-allowed":""}`,children:w.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"})})]})]})]})}):null},kL=({adminId:t,adminData:e,onGoBack:n})=>{const[a,i]=L.useState(!1),l=e||gN.find(h=>h.id===t);if(!l)return s.jsx("div",{className:"w-full p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500",children:"Admin not found"}),s.jsx("button",{onClick:n,className:"mt-4 bg-[#273E8E] text-white px-6 py-2 rounded-lg hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Go Back"})]})});const c=()=>{i(!0)},d=()=>{i(!1)};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Admin ",l.surname]}),s.jsx("button",{onClick:n,className:"text-[#273E8E] text-sm hover:underline flex items-center space-x-1",children:s.jsx("span",{children:"Go back"})})]}),s.jsx("div",{className:"bg-gradient-to-r from-[#4e4376]  to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:s.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:s.jsx("img",{src:l.image||"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),s.jsxs("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:[l.surname," ",l.firstName]}),s.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:l.email}),s.jsx("button",{onClick:c,className:"bg-white text-gray-800 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),s.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[s.jsxs("div",{className:"text-white space-y-8 flex-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),s.jsx("p",{className:"text-lg font-medium",children:l.firstName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),s.jsx("p",{className:"text-lg font-medium",children:l.surname})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),s.jsx("p",{className:"text-lg font-medium",children:l.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone Number"}),s.jsx("p",{className:"text-lg font-medium",children:l.phone||"N/A"})]})]}),s.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"User Code"}),s.jsx("p",{className:"text-lg font-medium",children:l.userCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Referral Code"}),s.jsx("p",{className:"text-lg font-medium",children:l.referralCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Status"}),s.jsx("p",{className:"text-lg font-medium",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.isActive?"bg-green-500":"bg-red-500"}`,children:l.isActive?"Active":"Inactive"})})]})]}),s.jsx("button",{className:"bg-[#FFFFFF] text-black px-6 py-3 rounded-full font-semibold hover:bg-[#FFFFFF] transition-colors cursor-pointer",children:"Delete Admin"})]})]})]})}),s.jsxs("div",{className:"mt-12 px-2",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[s.jsx("button",{className:"px-5 py-2 text-md rounded-full font-medium transition-colors flex-1 bg-[#273E8E] text-white shadow-sm cursor-pointer",children:"Activity"}),s.jsx("button",{className:"px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 text-gray-600 hover:text-gray-800 cursor-pointer",children:"All Admins"})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm",children:[s.jsx("span",{children:"More Actions"}),s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:s.jsx("path",{d:"M2 4l4 4 4-4"})})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-medium text-black",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{children:"Activity"})]})}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-sm font-medium text-black",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.activity.map((h,f)=>s.jsxs("tr",{className:`${f%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-800",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{children:h.description})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-right",children:h.date})]},h.id))})]})})]}),s.jsx(bN,{isOpen:a,onClose:d,adminData:l})]})},AL=({showAddModal:t,setShowAddModal:e,onUserAdded:n,newUser:a,handleInputChange:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(!1),f=es.get("token"),p=It({mutationFn:b=>hw(b,f||""),onSuccess:()=>{c(""),h(!1),e(!1),i({target:{name:"name",value:""}}),i({target:{name:"email",value:""}}),i({target:{name:"phone",value:""}}),i({target:{name:"bvn",value:""}}),n&&n()},onError:b=>{console.log("Add User Error:",b);let N="Failed to add user. Please try again.";if(b&&typeof b=="object"&&"message"in b){const S=b;N=S.message||N,S.data&&typeof S.data=="object"&&(S.data.message?N=S.data.message:S.data.error?N=S.data.error:S.data.errors&&Array.isArray(S.data.errors)&&(N=S.data.errors.join(", ")))}console.log("Final error message:",N),c(N),h(!0)}}),x=b=>{if(b.preventDefault(),c(""),h(!1),!a.name||!a.email||!a.phone||!a.bvn||!a.password){c("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){c("Please enter a valid email address");return}p.mutate({first_name:a.name,email:a.email,phone:a.phone,bvn:a.bvn,password:a.password,role:"Admin"})},w=a.name&&a.email&&a.phone&&a.bvn&&a.password;return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{c(""),h(!1),e(!1)}}),s.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Admin"}),s.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{c(""),h(!1),e(!1)},children:s.jsx("img",{src:xt.cross,alt:"",className:"w-8 h-8"})})]}),l&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:s.jsx("p",{className:"font-medium",children:l})}),s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:a.name,onChange:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:a.email,onChange:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),s.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:a.password,onChange:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),s.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:a.phone,onChange:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),s.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:a.bvn,onChange:i})]}),s.jsx("button",{type:"submit",disabled:!w||p.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${w&&!p.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:p.isPending?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]}):null},EL=()=>{const[t,e]=L.useState("activity"),[n,a]=L.useState(!1),[i,l]=L.useState(""),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),w=()=>{a(!0)},b=()=>{a(!1)},N=$=>{d($)},S=()=>{d(null)},k=()=>{f(!0)},_=$=>{const{name:G,value:ie}=$.target;x(Z=>({...Z,[G]:ie}))},E=()=>{K()},D=es.get("token"),{data:R,isLoading:I,isError:ne,refetch:K}=Ut({queryKey:["all-users"],queryFn:()=>fw(D||""),enabled:!!D}),{data:B,isLoading:H}=Ut({queryKey:["current-user"],queryFn:()=>mw(1,D||""),enabled:!!D}),ee=R?.data?.["all users data"]?R.data["all users data"].filter($=>$.role==="Admin").map($=>({id:String($.id),firstName:$.first_name,surname:$.sur_name,email:$.email,phone:$.phone||"",bvn:$.bvn||"",password:"**********",image:$.profile_picture||"/assets/layout/profile.png",role:$.role,userCode:$.user_code||"",referralCode:$.refferal_code||"",isActive:$.is_active===1,isVerified:$.is_verified===1,dateJoined:$.created_at?new Date($.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",activity:[]})):[],T=ee.length>0?ee:gN;if(c){const $=T.find(G=>G.id===c);return s.jsx(kL,{adminId:c,adminData:$,onGoBack:S})}if(H)return s.jsx("div",{className:"w-full bg-[#F5F7FF]",children:s.jsx(Ss,{message:"Loading admin profile...",size:"lg"})});const F=B?.data;return s.jsxs("div",{className:"w-full bg-[#F5F7FF]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:s.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:F?.profile_picture?s.jsx("img",{src:`https://troosolar.hmstech.org/users/${F.profile_picture}`,alt:"Admin Profile",className:"w-full h-full object-cover",onError:$=>{$.currentTarget.src="/assets/images/profile.png"}}):s.jsx("img",{src:"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),s.jsx("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:F?`${F.sur_name} ${F.first_name}`:`${wr.surname} ${wr.firstName}`}),s.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:F?.email||wr.email}),s.jsx("button",{onClick:w,className:"bg-white text-gray-900 px-8 py-3 rounded-full font-semibold transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),s.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[s.jsxs("div",{className:"text-white space-y-8 flex-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),s.jsx("p",{className:"text-lg font-medium",children:F?.first_name||wr.firstName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),s.jsx("p",{className:"text-lg font-medium",children:F?.sur_name||wr.surname})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),s.jsx("p",{className:"text-lg font-medium",children:F?.email||wr.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone"}),s.jsx("p",{className:"text-lg font-medium",children:F?.phone||"N/A"})]})]}),s.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-75 mb-1",children:"BVN"}),s.jsx("p",{className:"text-lg font-medium",children:F?.bvn||wr.bvn})]}),s.jsx("button",{onClick:k,className:"bg-white text-[#000000] px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors cursor-pointer",children:"Add new Admin"})]})]})]})}),s.jsxs("div",{className:"mt-12 px-2",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[s.jsx("button",{onClick:()=>e("activity"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="activity"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Activity"}),s.jsx("button",{onClick:()=>e("allAdmins"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="allAdmins"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"All Admins"})]}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm cursor-pointer",children:[s.jsx("span",{children:"More Actions"}),s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:s.jsx("path",{d:"M2 4l4 4 4-4"})})]}),t==="allAdmins"&&s.jsxs("div",{className:"relative w-80",children:[s.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:$=>l($.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"text-gray-400",children:s.jsx("path",{d:"M7.333 12.667A5.333 5.333 0 1 0 7.333 2a5.333 5.333 0 0 0 0 10.667ZM14 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),t==="activity"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-[#EBEBEB] px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("div",{className:"font-medium text-gray-700 text-sm",children:"Activity"})]}),s.jsx("div",{className:"font-medium text-gray-700 text-sm text-center",children:"Date"})]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:wr.activity.map(($,G)=>s.jsx("div",{className:`px-6 py-4 ${G%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 hover:bg-gray-50`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-800 text-sm",children:$.description})]}),s.jsx("div",{className:"text-gray-600 text-sm text-center",children:$.date})]})},$.id))})]}),t==="allAdmins"&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:I?s.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading admins..."}):ne?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load admins."}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{children:"Name"})]})}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"BVN"}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date Joined"}),s.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(($,G)=>s.jsxs("tr",{className:`${G%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("span",{children:[$.firstName," ",$.surname]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.bvn}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.dateJoined}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("button",{onClick:()=>N($.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"View Details"})})]},$.id))})]})})]}),s.jsx(bN,{isOpen:n,onClose:b,adminData:{firstName:F?.first_name||wr.firstName,surname:F?.sur_name||wr.surname,email:F?.email||wr.email,bvn:F?.bvn||wr.bvn,password:"**********",image:F?.profile_picture?`https://troosolar.hmstech.org/users/${F.profile_picture}`:wr.image}}),s.jsx(AL,{showAddModal:h,setShowAddModal:f,onUserAdded:E,newUser:p,handleInputChange:_})]})},LL=async(t,e)=>await ct(dt.ADMIN.AddFinancingPartner,"POST",t,e),DL=async(t,e)=>await ct(dt.ADMIN.DeleteFinancingPartner(t),"GET",void 0,e),ML=async(t,e,n)=>await ct(dt.ADMIN.UpdateFinancingPartner(t),"POST",e,n),FL=({isOpen:t,onClose:e,onSave:n,editMode:a=!1,editData:i})=>{const[l,c]=L.useState({partnerName:"",partnerEmail:"",status:""}),[d,h]=L.useState("");L.useEffect(()=>{c(a&&i?{partnerName:i.name||"",partnerEmail:i.partnerEmail||"",status:i.status||""}:{partnerName:"",partnerEmail:"",status:""})},[a,i,t]);const f=es.get("token"),p=It({mutationFn:S=>LL({name:S.partnerName,email:S.partnerEmail,status:S.status},f||""),onSuccess:()=>{n(l),c({partnerName:"",partnerEmail:"",status:""}),e()}}),x=It({mutationFn:S=>ML(i?.id,{name:S.partnerName,email:S.partnerEmail,status:S.status},f||""),onSuccess:()=>{n(l),c({partnerName:"",partnerEmail:"",status:""}),e()}}),w=S=>{const{name:k,value:_}=S.target;c(E=>({...E,[k]:_})),k==="partnerEmail"&&h(_&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)?"Please enter a valid email address.":"")},b=()=>{a?x.mutate(l):p.mutate(l)},N=l.partnerName&&l.partnerEmail&&l.status&&!d;return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[550px] max-w-[90vw] max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:a?"Edit Partner":"Add Partner"}),s.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Name"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",name:"partnerName",value:l.partnerName,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700",placeholder:"Enter partner name"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"email",required:!0,name:"partnerEmail",value:l.partnerEmail,onChange:w,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700 ${d?"border-red-500":""}`,placeholder:"Enter partner email"}),d&&s.jsx("span",{className:"text-xs text-red-600 mt-1 absolute left-0 top-full",children:d})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{name:"status",value:l.status,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] appearance-none bg-white text-gray-500",children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200",children:s.jsx("button",{onClick:b,className:`w-full bg-[#273E8E] text-white py-3 px-6 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer ${N?"":"opacity-50 cursor-not-allowed"}`,disabled:p.isPending||x.isPending||!N,children:p.isPending||x.isPending?"Saving...":"Save"})})]})}):null},Mm=({isOpen:t,onClose:e,onConfirm:n,message:a="Are you sure you want to delete?"})=>t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-xl cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})}),s.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),s.jsx("p",{className:"mb-8 text-gray-700",children:a}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),s.jsx("button",{onClick:n,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})}):null,OL=()=>{const[t,e]=L.useState([]),[n,a]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,b]=L.useState(""),[N,S]=L.useState(1),[k]=L.useState(10),_=es.get("token"),{data:E,isLoading:D,isError:R,refetch:I}=Ut({queryKey:["all-finance-partners"],queryFn:()=>dN(_||""),enabled:!!_});L.useEffect(()=>{E?.status==="success"&&Array.isArray(E.data)?(e(E.data.map(le=>({id:String(le.id),name:le["Partner name"]||"",partnerEmail:le.Email||"",numberOfLoans:le["No of Loans"]??0,amount:`N${le.Amount??0}`,dateCreated:le["Date Created"]?new Date(le["Date Created"]).toLocaleString():"",status:le.Status==="active"||le.Status==="Active"?"Active":"Inactive"}))),b(E.message||"")):E?.message&&b(E.message)},[E]);const ne=()=>{l(!1),d(null),a(!0)},K=le=>{const de=t.find(Y=>Y.id===le);de&&(l(!0),d(de),a(!0))},B=()=>{a(!1),l(!1),d(null)},H=le=>{if(i&&c)e(t.map(de=>de.id===c.id?{...de,name:le.partnerName,status:le.status}:de));else{const de={id:(t.length+1).toString(),name:le.partnerName,numberOfLoans:0,amount:"N0",dateCreated:new Date().toLocaleDateString(),status:le.status};e([...t,de])}},ee=It({mutationFn:le=>DL(le,_||""),onSuccess:()=>{I()}}),T=le=>{const de=t.find(Y=>Y.id===le);de&&(x(de),f(!0))},F=()=>{p&&(ee.mutate(p.id),f(!1),x(null))},$=()=>{f(!1),x(null)},G=Math.ceil(t.length/k),ie=(N-1)*k,Z=ie+k,re=t.slice(ie,Z);return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex justify-end mb-6",children:s.jsx("button",{onClick:ne,className:"bg-[#273E8E] text-white px-6 py-3 rounded-full font-medium hover:bg-[#273E8E] transition-colors cursor-pointer",children:"Add New Partner"})}),w&&s.jsx("div",{className:"mb-4 px-4 py-3 rounded bg-blue-50 text-blue-700 border border-blue-100",children:w}),s.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:[D?s.jsx(Ss,{message:"Loading partners..."}):R?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load partners."}):s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 ",children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"font-medium text-black text-sm",children:"Partner Name"})]})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-medium text-black text-sm",children:"No of loans"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-medium text-black text-sm",children:"Amount"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-medium text-black text-sm",children:"Date Created"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-medium text-black text-sm",children:"Status"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"font-medium text-black text-sm",children:"Action"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:re.map((le,de)=>s.jsxs("tr",{className:`${de%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[s.jsx("td",{className:"px-8 py-4 text-center",children:s.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[#273E8E] border-gray-300 rounded focus:ring-[#273E8E]"}),s.jsx("span",{className:"text-gray-800 text-sm font-medium",children:le.name})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-gray-600 text-sm",children:le.numberOfLoans})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-gray-600 text-sm",children:le.amount})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-gray-600 text-sm",children:le.dateCreated})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${le.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:le.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s.jsx("button",{onClick:()=>K(le.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-xs hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),s.jsx("button",{onClick:()=>T(le.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-xs hover:bg-[#FF0000] transition-colors cursor-pointer",children:"Delete"})]})})]},le.id))})]}),G>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(Z,t.length)," of ",t.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>S(le=>Math.max(le-1,1)),disabled:N===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,G)},(le,de)=>{let Y;return G<=5||N<=3?Y=de+1:N>=G-2?Y=G-4+de:Y=N-2+de,s.jsx("button",{onClick:()=>S(Y),className:`px-3 py-2 text-sm font-medium rounded-md border ${N===Y?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Y},Y)})}),s.jsx("button",{onClick:()=>S(le=>Math.min(le+1,G)),disabled:N===G,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===G?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),s.jsx(FL,{isOpen:n,onClose:B,onSave:H,editMode:i,editData:c}),s.jsx(Mm,{isOpen:h,onClose:$,onConfirm:F,message:"Are you sure you want to delete this partner?"})]})},TL=[{id:"inverter",name:"Inverter Load Calculator",isActive:!0},{id:"solar",name:"Solar Panel Calculator",isActive:!1},{id:"battery",name:"Battery Estimator",isActive:!1},{id:"savings",name:"Solar Savings Estimator",isActive:!1}],Gp=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],PL=()=>{const[t,e]=L.useState("1bedroom"),[n,a]=L.useState(Gp.find(h=>h.id==="1bedroom")?.appliances||[]),i=n.reduce((h,f)=>h+f.totalWattage,0),l=h=>{e(h);const f=Gp.find(p=>p.id===h);f&&a([...f.appliances])},c=(h,f)=>{a(p=>p.map(x=>{if(x.id===h){const w=Math.max(0,x.quantity+f);return{...x,quantity:w,totalWattage:x.wattage*w}}return x}))},d=(h,f)=>{a(p=>p.map(x=>x.id===h?{...x,wattage:f,totalWattage:f*x.quantity}:x))};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Inverter Load Calculator"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("div",{className:"w-32 space-y-4",children:Gp.map(h=>s.jsxs("button",{onClick:()=>l(h.id),className:`w-full p-5 rounded-2xl bg-white cursor-pointer transition-all ${t===h.id?"border border-[#273E8E]":"border-0"}`,style:{boxShadow:"0 2px 4px rgba(109, 108, 108, 0.25)"},children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx("img",{src:h.icon,alt:h.name,className:"w-full h-full object-contain"})}),s.jsx("div",{className:"text-xs font-medium text-gray-700 text-center",children:h.name})]},h.id))}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:n.map(h=>s.jsx("div",{className:"px-6 py-3",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[s.jsx("div",{className:"text-black text-md font-medium",children:h.name}),s.jsxs("div",{className:"text-center",children:[s.jsx("input",{type:"number",value:h.wattage,onChange:f=>d(h.id,parseInt(f.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded text-sm"}),s.jsx("span",{className:"text-[#000000] text-md font-semibold ml-1",children:"w"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>c(h.id,-1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:s.jsx("img",{src:xt.minus,alt:""})}),s.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:h.quantity}),s.jsx("button",{onClick:()=>c(h.id,1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:s.jsx("img",{src:xt.plus,alt:""})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-[#000000] text-md font-semibold",children:[h.totalWattage,"w"]})})]})},h.id))})})}),s.jsx("div",{className:"w-96",children:s.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 flex items-center gap-4 shadow-lg",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Total Output"}),s.jsxs("div",{className:"bg-white rounded-xl px-12 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner ml-auto",children:[s.jsx("span",{className:"text-2xl font-bold",children:i.toLocaleString()}),s.jsx("span",{className:"text-sm font-medium",children:"Watts"})]})]})})]})]})},BL=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],RL=()=>{const[t,e]=L.useState(BL.find(l=>l.id==="1bedroom")?.appliances||[]),n=t.reduce((l,c)=>l+c.totalWattage,0),a=Math.round(n*1.2),i=(l,c)=>{e(d=>d.map(h=>{if(h.id===l){const f=Math.max(0,h.quantity+c);return{...h,quantity:f,totalWattage:h.wattage*f}}return h}))};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Panel Calculator"}),s.jsxs("div",{className:"flex gap-5",children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:s.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:t.map(l=>s.jsx("div",{className:"px-6 py-3",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[s.jsx("div",{className:"text-white bg-[#273E8E] px-2 py-2 rounded-full w-21.5 text-sm font-medium",children:l.name}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>i(l.id,-1),className:"w-8 h-8 flex items-center justify-center transition-colors",children:s.jsx("img",{src:xt.minus,alt:""})}),s.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:l.quantity}),s.jsx("button",{onClick:()=>i(l.id,1),className:"w-8 h-8 flex items-center justify-center  transition-colors",children:s.jsx("img",{src:xt.plus,alt:""})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-black text-md font-semibold",children:[l.totalWattage,"w"]})})]})},l.id))})})}),s.jsx("div",{className:"w-1/3",children:s.jsx("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 shadow-lg",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Total Load"}),s.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[s.jsx("span",{className:"text-2xl font-bold",children:n.toLocaleString()}),s.jsx("span",{className:"text-sm font-medium mt-3",children:"Watts"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Inverter Rating"}),s.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[s.jsx("span",{className:"text-2xl font-bold",children:a.toLocaleString()}),s.jsx("span",{className:"text-sm font-medium mt-3",children:"VA"})]})]})]})})})]})]})},UL=()=>{const[t,e]=L.useState("inverter");return s.jsxs("div",{className:"w-full ",children:[s.jsx("div",{className:"inline-flex bg-white rounded-full p-2 mb-8 border border-[#CDCDCD]",children:TL.map(n=>s.jsx("button",{onClick:()=>e(n.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===n.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:n.name},n.id))}),t==="inverter"&&s.jsx(PL,{}),t==="solar"&&s.jsx(RL,{}),t==="battery"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Battery Estimator"}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Battery Estimator - Coming Soon"})})]}),t==="savings"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Savings Estimator"}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Solar Savings Estimator - Coming Soon"})})]})]})},IL=[{id:"notification",label:"Notification"},{id:"banner",label:"Banner"}],qL=({isOpen:t,onClose:e,onSave:n})=>{const[a,i]=L.useState(null),[l,c]=L.useState(""),d=p=>{const x=p.target.files?.[0];x&&i(x)},h=()=>{a&&l.trim()&&(n(a,l),i(null),c(""),e())},f=()=>{i(null),c(""),e()};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 w-110 max-w-md mx-4 relative",children:[s.jsx("button",{onClick:f,className:"absolute top-4 right-4 cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Upload Banner"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Image"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",id:"banner-upload"}),s.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 mb-3 text-gray-400",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),s.jsx("p",{className:"text-sm text-gray-500",children:a?a.name:"Upload banner image"}),!a&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click to select an image file"})]})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Link"}),s.jsx("input",{type:"url",value:l,onChange:p=>c(p.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),s.jsx("button",{onClick:h,disabled:!a||!l.trim(),className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer",children:"Save"})]})}):null},zL=async t=>await ct(dt.ADMIN.BannersList,"GET",void 0,t),HL=async(t,e)=>await ct(dt.ADMIN.AddBanner,"POST",t,e),$L=async(t,e)=>await ct(dt.ADMIN.DeleteBanner(t),"DELETE",void 0,e),VL=async(t,e,n)=>await ct(dt.ADMIN.UpdateBanner(t),"PUT",e,n),WL="https://troosolar.hmstech.org",GL=`${WL}/storage`,YL=t=>String(t||"").replace(/^\/+/,""),KL=t=>t?`${GL}/${YL(t)}`:"/assets/images/banner.png",QL=({isModalOpen:t=!1,setIsModalOpen:e}={})=>{const[n,a]=L.useState([]),[i,l]=L.useState(null),[c,d]=L.useState(!1),[h,f]=L.useState(null),p=es.get("token"),{data:x,isLoading:w,isError:b,refetch:N}=Ut({queryKey:["all-banners"],queryFn:()=>zL(p||""),enabled:!!p});console.log("getAllBanners response:",x),L.useEffect(()=>{x?.data&&a(x.data.map(T=>{const F=String(T.image||""),$=KL(F),G=T.created_at?new Date(T.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"";return{id:String(T.id),image:$,rawPath:F,dateCreated:G,isSelected:!1}}))},[x?.data]);const S=It({mutationFn:async T=>{const F=await HL(T,p||"");return console.log("addBanner response:",F),F},onSuccess:()=>{N(),e&&e(!1)},onError:T=>{console.log("addBanner error:",T),alert("Failed to add banner.")}}),k=It({mutationFn:async T=>{const F=await $L(T,p||"");return console.log("deleteBanner response:",F),F},onSuccess:()=>{N(),d(!1),f(null)},onError:T=>{console.log("deleteBanner error:",T),alert("Failed to delete banner.")}}),_=It({mutationFn:async({id:T,formData:F})=>{const $=await VL(T,F,p||"");return console.log("updateBanner response:",$),$},onSuccess:()=>{N(),l(null),e&&e(!1)},onError:T=>{console.log("updateBanner error:",T),alert("Failed to update banner.")}}),E=T=>{a(F=>F.map($=>$.id===T?{...$,isSelected:!$.isSelected}:$))},D=T=>{a(F=>F.map($=>({...$,isSelected:T})))},R=T=>{const F=n.find($=>$.id===T);F&&(l(F),e&&e(!0))},I=(T,F)=>{if(i)if(T){const $=new FormData;$.append("image",T),_.mutate({id:i.id,formData:$})}else l(null),e&&e(!1);else if(T){const $=new FormData;$.append("image",T),S.mutate($)}},ne=T=>{const F=n.find($=>$.id===T);F&&(f(F),d(!0))},K=()=>{d(!1),f(null)},B=()=>{h&&k.mutate(h.id)},H=n.length>0&&n.every(T=>T.isSelected),ee=n.some(T=>T.isSelected);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[w?s.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"Loading banners..."}):b?s.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load banners."}):s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:H,ref:T=>{T&&(T.indeterminate=ee&&!H)},onChange:T=>D(T.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Banner Image"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(T=>s.jsxs("tr",{className:"bg-[#F8F8F8] transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:T.isSelected||!1,onChange:()=>E(T.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("td",{className:"px-6 py-4 text-center align-middle",children:s.jsx("div",{className:"flex justify-center items-center w-48 h-20 rounded-lg overflow-hidden border border-gray-200 mx-auto",children:s.jsx("img",{src:T.image,alt:`Banner ${T.id}`,className:"w-full h-full object-cover",onError:F=>{const $=F.target;$.src="/assets/images/banner.png"}})})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:T.dateCreated})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[s.jsx("button",{onClick:()=>R(T.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Banner"}),s.jsx("button",{onClick:()=>ne(T.id),className:"bg-red-500 text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},T.id))})]}),!w&&!b&&n.length===0&&s.jsx("div",{className:"px-6 py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No banners found."})})]}),s.jsx(qL,{isOpen:t||!!i,onClose:()=>{e&&e(!1),l(null)},onSave:I,...i?{image:i.image,modalTitle:"Edit Banner"}:{modalTitle:"New Banner"}}),c&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:s.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[s.jsx("button",{onClick:K,className:"absolute top-4 right-4 text-xl cursor-pointer",children:s.jsx("img",{src:"/assets/images/cross.png",alt:""})}),s.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),s.jsx("p",{className:"mb-8 text-gray-700",children:"Are you sure you want to delete this banner?"}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{onClick:K,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),s.jsx("button",{onClick:B,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})})]})},XL=({isOpen:t,onClose:e,onSave:n,subject:a="",message:i="",modalTitle:l="New Notification"})=>{const[c,d]=L.useState(a),[h,f]=L.useState(i);L.useEffect(()=>{d(a)},[a,t]),L.useEffect(()=>{f(i)},[i,t]);const p=()=>{(l==="Edit Notification"||c.trim())&&h.trim()&&(n(c,h),d(""),f(""),e())},x=()=>{d(""),f(""),e()};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-xl p-8 w-150 max-w-2xl mx-4 relative",children:[s.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-xl cursor-pointer",children:s.jsx("img",{src:xt.cross,alt:""})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:l}),l!=="Edit Notification"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Type subject",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),s.jsx("textarea",{value:h,onChange:w=>f(w.target.value),placeholder:"Type Message",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm resize-none"})]}),s.jsx("button",{onClick:p,className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Save"})]})}):null},ZL=async t=>await ct(dt.ADMIN.NotificationsList,"GET",void 0,t),JL=async(t,e)=>await ct(dt.ADMIN.AddNotification,"POST",t,e),eD=async(t,e)=>await ct(dt.ADMIN.DeleteNotification(t),"DELETE",void 0,e),tD=async(t,e,n)=>await ct(dt.ADMIN.UpdateNotification(t),"PUT",e,n),sD=()=>{const[t,e]=L.useState("notification"),[n,a]=L.useState([]),[i,l]=L.useState(!1),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,b]=L.useState(null),[N,S]=L.useState(1),[k]=L.useState(10),_=es.get("token"),{data:E,isLoading:D,isError:R,refetch:I}=Ut({queryKey:["all-notifications"],queryFn:()=>ZL(_||""),enabled:!!_});L.useEffect(()=>{E?.data&&a(E.data.map(O=>({id:String(O.id),message:O.message,dateCreated:O.created_at?new Date(O.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",isSelected:!1})))},[E?.data]);const ne=It({mutationFn:async({subject:O,message:P})=>await JL({subject:O,message:P},_||""),onSuccess:()=>{I(),l(!1)},onError:()=>{alert("Failed to add notification.")}}),K=It({mutationFn:async O=>await eD(O,_||""),onSuccess:()=>{I()},onError:()=>{alert("Failed to delete notification.")}}),B=It({mutationFn:async({id:O,message:P})=>await tD(O,{title:"",message:P,type:""},_||""),onSuccess:()=>{I(),f(null),l(!1)},onError:()=>{alert("Failed to update notification.")}}),H=O=>{a(P=>P.map(z=>z.id===O?{...z,isSelected:!z.isSelected}:z))},ee=O=>{a(P=>P.map(z=>({...z,isSelected:O})))},T=O=>{const P=n.find(z=>z.id===O);P&&(f(P),l(!0))},F=O=>{const P=n.find(z=>z.id===O);P&&(b(P),x(!0))},$=()=>{w&&(K.mutate(w.id),x(!1),b(null))},G=()=>{x(!1),b(null)},ie=(O,P)=>{h?B.mutate({id:h.id,message:P}):ne.mutate({subject:O,message:P})},Z=n.length>0&&n.every(O=>O.isSelected),re=n.some(O=>O.isSelected),le=Math.ceil(n.length/k),de=(N-1)*k,Y=de+k,ue=n.slice(de,Y);return L.useEffect(()=>{S(1)},[t]),s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"inline-flex bg-white rounded-full p-2 border border-[#CDCDCD]",children:IL.map(O=>s.jsx("button",{onClick:()=>e(O.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===O.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:O.label},O.id))}),s.jsx("button",{onClick:()=>{f(null),t==="notification"?l(!0):d(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:t==="banner"?"New Banner":"New Notification"})]}),t==="notification"?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[D?s.jsx(Ss,{message:"Loading notifications..."}):R?s.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load notifications."}):s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:Z,ref:O=>{O&&(O.indeterminate=re&&!Z)},onChange:O=>ee(O.target.checked),className:"w-4 h-4 text-[#273E8E] bg-[#F8F8F8] border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Notification"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map((O,P)=>s.jsxs("tr",{className:`${P%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:O.isSelected||!1,onChange:()=>H(O.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-800",children:O.message})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:O.dateCreated})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[s.jsx("button",{onClick:()=>T(O.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Notification"}),s.jsx("button",{onClick:()=>F(O.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},O.id))})]}),le>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",de+1," to ",Math.min(Y,n.length)," of ",n.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>S(O=>Math.max(O-1,1)),disabled:N===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,le)},(O,P)=>{let z;return le<=5||N<=3?z=P+1:N>=le-2?z=le-4+P:z=N-2+P,s.jsx("button",{onClick:()=>S(z),className:`px-3 py-2 text-sm font-medium rounded-md border ${N===z?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:z},z)})}),s.jsx("button",{onClick:()=>S(O=>Math.min(O+1,le)),disabled:N===le,className:`px-3 py-2 text-sm font-medium rounded-md border ${N===le?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),!D&&!R&&n.length===0&&s.jsx("div",{className:"px-6 py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No notifications found."})})]}):s.jsx(QL,{isModalOpen:c,setIsModalOpen:d}),s.jsx(XL,{isOpen:i,onClose:()=>{l(!1),f(null)},onSave:ie,...h?{subject:"",message:h.message,modalTitle:"Edit Notification"}:{modalTitle:"New Notification"}}),s.jsx(Mm,{isOpen:p,onClose:G,onConfirm:$,message:"Are you sure you want to delete this notification?"})]})},nD=[{id:"1",categoryName:"Solar Panel",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",categoryName:"Inverter",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1},{id:"3",categoryName:"Batteries",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1}],aD=[{id:"1",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"3",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1}],rD=t=>{const e=new FormData;return e.append("title",t.title),e.append("icon",t.icon),e},iD=async(t,e)=>{const n=rD(t);return await ct(dt.ADMIN.AddCategory,"POST",n,e)},lD=async(t,e)=>await ct(dt.ADMIN.DeleteCategory(t),"DELETE",void 0,e),oD="https://troosolar.hmstech.org/api",Nv=({isOpen:t,onClose:e,onSave:n,editMode:a=!1,editData:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(null),[f,p]=L.useState(""),[x,w]=L.useState(null),[b,N]=L.useState(!1),S=es.get("token");L.useEffect(()=>{a&&i?(c(i.categoryName||""),p(i.status||""),w(i.image||null),h(null),console.log(" Modal opened in edit mode:",{editData:i,categoryName:i.categoryName,status:i.status,imagePreview:i.image})):(c(""),h(null),p(""),w(null),console.log(" Modal opened in add mode  state reset"))},[a,i,t]);const k=I=>{const ne=I.target.files?.[0];if(ne){if(!ne.type.startsWith("image/")){alert("Please select a valid image file");return}if(ne.size>5*1024*1024){alert("Please select an image smaller than 5MB");return}h(ne);const K=URL.createObjectURL(ne);w(K),console.log(" New image selected:",ne)}},_=I=>{I.preventDefault()},E=I=>{I.preventDefault();const ne=I.dataTransfer.files;if(ne.length>0){const K=ne[0];if(K.type.startsWith("image/")){h(K);const B=URL.createObjectURL(K);w(B),console.log(" Image dropped:",K)}else alert("Please drop a valid image file")}},D=async()=>{N(!0);try{if(!a)l&&d&&f&&(console.log(" Adding category:",{title:l,status:f,icon:d.name}),await iD({title:l,icon:d},S||""));else if(i&&l&&f){const I=new FormData;I.append("title",l),I.append("status",f),d&&I.append("icon",d),console.log(" Updating category FormData:",Array.from(I.entries())),await Xs.post(`${oD}/categories/${i.id}/update`,I,{headers:{Authorization:`Bearer ${S}`,Accept:"application/json","Content-Type":"multipart/form-data"}})}await n(l,d,f),c(""),h(null),p(""),w(null),e()}catch(I){console.error("Save error:",I)}finally{N(!1)}},R=()=>{c(""),h(null),p(""),w(null),e()};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Category":"Add Category"}),s.jsx("button",{onClick:R,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),s.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),placeholder:"Type category name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:_,onDrop:E,onClick:()=>document.getElementById("imageUpload")?.click(),children:[x?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:x,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto border-2 border-gray-200"}),s.jsx("button",{onClick:I=>{I.stopPropagation(),h(null),w(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:d?.name}),s.jsx("button",{onClick:I=>{I.stopPropagation(),document.getElementById("imageUpload")?.click()},className:"text-[#273E8E] text-sm font-medium hover:underline",children:"Change Photo"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:s.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-700 font-medium",children:"Upload category photo"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Drag and drop your photo here, or click to browse"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Supports: JPG, PNG, GIF (Max: 5MB)"})]})]}),s.jsx("input",{id:"imageUpload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:k,className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:f,onChange:I=>p(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[s.jsx("option",{value:"",children:"Update Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Pending",children:"Pending"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("button",{onClick:D,disabled:!l.trim()||!f||b,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:b?"Saving...":"Save"})})]})}):null},cD=t=>{const e=new FormData;return e.append("title",t.title),e.append("category_id",t.category_id.toString()),e},dD=async(t,e)=>{const n=cD(t);return await ct(dt.ADMIN.AddBrand,"POST",n,e)},uD=async(t,e,n)=>(console.log("updateBrand called with:",{id:t,payload:e,token:n?"present":"missing"}),await ct(dt.ADMIN.UpdateBrand(t),"PUT",e,n)),hD=async(t,e)=>await ct(dt.ADMIN.DeleteBrand(t),"DELETE",void 0,e),jv=({isOpen:t,onClose:e,onSave:n,editMode:a=!1,editData:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(""),[f,p]=L.useState(""),x=es.get("token"),{data:w,isLoading:b}=Ut({queryKey:["categories"],queryFn:()=>Ym(x||""),enabled:!!x&&t}),N=L.useMemo(()=>w?.data||[],[w]);L.useEffect(()=>{a&&i?(c(i.category||""),h(i.brandName||""),p(i.status||"")):(c(""),h(""),p(""))},[a,i,t]);const S=It({mutationFn:D=>dD({title:D.title,category_id:D.category_id},x||""),onSuccess:()=>{n(l,d,f),c(""),h(""),p(""),e()}}),k=It({mutationFn:D=>uD(D.id,{title:D.title,category_id:D.category_id},x||""),onSuccess:()=>{n(l,d,f),c(""),h(""),p(""),e()}}),_=()=>{if(l.trim()&&d.trim()&&f)if(a&&i){const D={id:i.id,title:d,category_id:l};console.log("Update Brand Payload:",D),console.log("Category Name (ID):",l),console.log("Brand Name:",d),k.mutate(D)}else{const D={title:d,category_id:l};console.log("Add Brand Payload:",D),S.mutate(D)}},E=()=>{c(""),h(""),p(""),e()};return t?s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Brand":"Add Brand"}),s.jsx("button",{onClick:E,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:s.jsx("img",{src:xt.cross,alt:""})})]}),s.jsxs("div",{className:"px-6 py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:l,onChange:D=>c(D.target.value),disabled:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:b?"Loading categories...":"Select category"}),N.map(D=>s.jsx("option",{value:D.id.toString(),children:D.title},D.id))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:b?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}):s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Name"}),s.jsx("input",{type:"text",value:d,onChange:D=>h(D.target.value),placeholder:"Enter brand name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:f,onChange:D=>p(D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Pending",children:"Pending"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("button",{onClick:_,disabled:!l.trim()||!d.trim()||!f,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors cursor-pointer",children:S.isPending||k.isPending?"Saving...":"Save"})})]})}):null},fD="https://troosolar.hmstech.org",mD=()=>{const[t,e]=Iv(),n=t.get("subtab"),[a,i]=L.useState(nD),[l,c]=L.useState(aD),[d,h]=L.useState(n&&["categories","brand"].includes(n)?n:"categories");L.useEffect(()=>{if(d&&d!==n){const tt=t.get("tab")||"product";e({tab:tt,subtab:d})}},[d,e,t,n]),L.useEffect(()=>{n&&["categories","brand"].includes(n)&&n!==d&&h(n)},[n,d]);const[f,p]=L.useState(!1),[x,w]=L.useState(!1),[b,N]=L.useState(!1),[S,k]=L.useState(null),[_,E]=L.useState(!1),[D,R]=L.useState(null),[I,ne]=L.useState(!1),[K,B]=L.useState(null),[H,ee]=L.useState(!1),[T,F]=L.useState(null),[$,G]=L.useState(1),[ie]=L.useState(10),[Z,re]=L.useState(!1),[le,de]=L.useState(""),Y=L.useRef(null),ue=[{value:"",label:"Categories",icon:null},{value:"solar-panels",label:"Solar Panels",icon:"/assets/images/solarpanel.png"},{value:"batteries",label:"Batteries",icon:"/assets/images/batteries.png"},{value:"inverters",label:"Inverters",icon:"/assets/images/inverters.png"},{value:"mttp-chargers",label:"MTTP Chargers",icon:"/assets/images/mttpcharger.png"},{value:"led-bulbs",label:"LED Bulbs",icon:"/assets/images/bulb.png"},{value:"solar-fans",label:"Solar Fans",icon:"/assets/images/solarfans.png"}],O=tt=>{de(tt.value),re(!1)},P=()=>{re(!Z)},z=()=>ue.find(tt=>tt.value===le)||ue[0];L.useEffect(()=>{const tt=mt=>{Y.current&&!Y.current.contains(mt.target)&&re(!1)};return document.addEventListener("mousedown",tt),()=>{document.removeEventListener("mousedown",tt)}},[]);const q=tt=>{i(mt=>mt.map(Ze=>Ze.id===tt?{...Ze,isSelected:!Ze.isSelected}:Ze))},se=tt=>{i(mt=>mt.map(Ze=>({...Ze,isSelected:tt})))},fe=es.get("token"),{data:ye,isLoading:Se,isError:Oe,refetch:He}=Ut({queryKey:["all-categories"],queryFn:()=>Ym(fe||""),enabled:!!fe});L.useEffect(()=>{ye&&ye?.status==="success"&&Array.isArray(ye.data)&&i(ye.data.map(tt=>({id:String(tt.id),categoryName:tt.title,image:tt.icon?`${fD}${tt.icon}`:"/assets/images/category.png",dateCreated:tt.created_at?new Date(tt.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[ye]);const Ie=tt=>{const mt=a.find(Ze=>Ze.id===tt);mt&&(k(mt),N(!0))},Ke=async(tt,mt,Ze)=>{if(mt){const rs=URL.createObjectURL(mt),Xn={id:(a.length+1).toString(),categoryName:tt,image:rs,dateCreated:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"),status:Ze,isSelected:!1};i(Zs=>[...Zs,Xn])}},he=async(tt,mt,Ze)=>{N(!1),k(null),He()},oe=tt=>{c(mt=>mt.map(Ze=>Ze.id===tt?{...Ze,isSelected:!Ze.isSelected}:Ze))},Nt=tt=>{c(mt=>mt.map(Ze=>({...Ze,isSelected:tt})))},{data:at,isLoading:bt,isError:et,refetch:ft}=Ut({queryKey:["all-brands"],queryFn:()=>rg(fe||""),enabled:!!fe});L.useEffect(()=>{at&&at?.status==="success"&&Array.isArray(at.data)&&c(at.data.map(tt=>({id:String(tt.id),brandName:tt.title,category:tt.category_id?String(tt.category_id):"",dateCreated:tt.created_at?new Date(tt.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[at]);const ot=It({mutationFn:tt=>lD(tt,fe||""),onSuccess:()=>{He()}}),yt=tt=>{const mt=a.find(Ze=>Ze.id===tt);mt&&(R(mt),E(!0))},Pe=()=>{D&&(ot.mutate(D.id),E(!1),R(null))},ht=()=>{E(!1),R(null)},Be=It({mutationFn:tt=>hD(tt,fe||""),onSuccess:()=>{ft()}}),Qe=tt=>{const mt=l.find(Ze=>Ze.id===tt);mt&&(B(mt),ne(!0))},je=()=>{K&&(Be.mutate(K.id),ne(!1),B(null))},lt=()=>{ne(!1),B(null)},Ee=tt=>{const mt=l.find(Ze=>Ze.id===tt);mt&&(F(mt),ee(!0))},be=async(tt,mt,Ze)=>{w(!1),ft()},Ue=async(tt,mt,Ze)=>{ee(!1),F(null),ft()},St=a.every(tt=>tt.isSelected),Bt=a.some(tt=>tt.isSelected),ut=l.every(tt=>tt.isSelected),Tt=l.some(tt=>tt.isSelected),os=d==="categories"?a:l,gt=Math.ceil(os.length/ie),Kt=($-1)*ie,Pt=Kt+ie,ks=os.slice(Kt,Pt);return L.useEffect(()=>{G(1)},[d]),s.jsxs("div",{className:"w-full ",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"bg-[#FFFFFF] rounded-full p-2 flex border border-gray-200 cursor-pointer",children:[s.jsx("button",{onClick:()=>h("categories"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${d==="categories"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Categories"}),s.jsx("button",{onClick:()=>h("brand"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${d==="brand"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Brand"})]}),s.jsxs("div",{className:"relative",ref:Y,children:[s.jsxs("button",{onClick:P,className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 flex items-center justify-between min-w-[140px] focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E]",children:[s.jsxs("div",{className:"flex items-center",children:[z().icon&&s.jsx("img",{src:z().icon||"",alt:z().label,className:"w-4 h-4 mr-2 object-contain",onError:tt=>{const mt=tt.target;mt.style.display="none"}}),s.jsx("span",{children:z().label})]}),s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Z&&s.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-y-auto",style:{width:"397px",height:"400px"},children:s.jsx("div",{className:"p-3",children:ue.slice(1).map(tt=>s.jsxs("button",{onClick:()=>O(tt),className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-lg mb-2 last:mb-0 ${le===tt.value?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-transparent"}`,children:[tt.icon&&s.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#BEBEF1] rounded-full ",children:s.jsx("img",{src:tt.icon||"",alt:tt.label,className:"w-12 h-12 object-contain",onError:mt=>{const Ze=mt.target;Ze.style.display="none"}})}),s.jsx("span",{className:"font-medium text-gray-800",children:tt.label})]},tt.value))})})]})]}),s.jsx("button",{onClick:()=>{d==="categories"?p(!0):w(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:d==="categories"?"Add New Category":"Add New Brand"})]}),d==="categories"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[Se?s.jsx(Ss,{message:"Loading categories..."}):Oe?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load categories."}):s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:St,ref:tt=>{tt&&(tt.indeterminate=Bt&&!St)},onChange:tt=>se(tt.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Category Name"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Image"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:ks.map((tt,mt)=>{const Ze=tt;return s.jsxs("tr",{className:`${mt%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:Ze.isSelected||!1,onChange:()=>q(Ze.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ze.categoryName})}),s.jsx("td",{className:"px-6 py-4 flex justify-center items-center",children:s.jsx("div",{className:"w-12 h-12  overflow-hidden ",children:s.jsx("img",{src:Ze.image,alt:`${Ze.categoryName} category`,className:"w-full h-full object-cover",onError:rs=>{const Xn=rs.target;Xn.src="/assets/images/category.png"}})})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:Ze.dateCreated})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ze.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ze.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>Ie(Ze.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),s.jsx("button",{onClick:()=>yt(Ze.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},Ze.id)})})]}),gt>1&&d==="categories"&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",Kt+1," to ",Math.min(Pt,a.length)," of ",a.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>G(tt=>Math.max(tt-1,1)),disabled:$===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${$===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,gt)},(tt,mt)=>{let Ze;return gt<=5||$<=3?Ze=mt+1:$>=gt-2?Ze=gt-4+mt:Ze=$-2+mt,s.jsx("button",{onClick:()=>G(Ze),className:`px-3 py-2 text-sm font-medium rounded-md border ${$===Ze?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Ze},Ze)})}),s.jsx("button",{onClick:()=>G(tt=>Math.min(tt+1,gt)),disabled:$===gt,className:`px-3 py-2 text-sm font-medium rounded-md border ${$===gt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),a.length===0&&s.jsx("div",{className:"px-6 py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No categories found."})}),s.jsx(Mm,{isOpen:_,onClose:ht,onConfirm:Pe,message:"Are you sure you want to delete this category?"})]}),d==="brand"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[bt?s.jsx(Ss,{message:"Loading brands..."}):et?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load brands."}):s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB]",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:ut,ref:tt=>{tt&&(tt.indeterminate=Tt&&!ut)},onChange:tt=>Nt(tt.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Brand Name"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Category"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:ks.map((tt,mt)=>{const Ze=tt;return s.jsxs("tr",{className:`${mt%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("input",{type:"checkbox",checked:Ze.isSelected||!1,onChange:()=>oe(Ze.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ze.brandName})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:Ze.category})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:Ze.dateCreated})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ze.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ze.status})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[s.jsx("button",{onClick:()=>Ee(Ze.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Brand"}),s.jsx("button",{onClick:()=>Qe(Ze.id),className:"bg-[#FF0000] text-white px-8 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},Ze.id)})})]}),gt>1&&d==="brand"&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",Kt+1," to ",Math.min(Pt,l.length)," of ",l.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>G(tt=>Math.max(tt-1,1)),disabled:$===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${$===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,gt)},(tt,mt)=>{let Ze;return gt<=5||$<=3?Ze=mt+1:$>=gt-2?Ze=gt-4+mt:Ze=$-2+mt,s.jsx("button",{onClick:()=>G(Ze),className:`px-3 py-2 text-sm font-medium rounded-md border ${$===Ze?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Ze},Ze)})}),s.jsx("button",{onClick:()=>G(tt=>Math.min(tt+1,gt)),disabled:$===gt,className:`px-3 py-2 text-sm font-medium rounded-md border ${$===gt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),l.length===0&&s.jsx("div",{className:"px-6 py-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No brands found."})}),s.jsx(Mm,{isOpen:I,onClose:lt,onConfirm:je,message:"Are you sure you want to delete this brand?"})]}),s.jsx(Nv,{isOpen:f,onClose:()=>p(!1),onSave:Ke}),s.jsx(Nv,{isOpen:b,onClose:()=>{N(!1),k(null)},onSave:he,editMode:!0,editData:S}),s.jsx(jv,{isOpen:x,onClose:()=>w(!1),onSave:be}),s.jsx(jv,{isOpen:H,onClose:()=>{ee(!1),F(null)},onSave:Ue,editMode:!0,editData:T||void 0})]})},pD=()=>{const[t,e]=Iv(),n=t.get("tab"),a=L.useRef(!1),[i,l]=L.useState(()=>n&&["admins","tools","product","financing","notifications"].includes(n)?n:"admins");L.useEffect(()=>{const d=t.get("tab");i&&d!==i&&(a.current=!0,e({tab:i},{replace:!0}))},[i,e,t]),L.useEffect(()=>{if(a.current){a.current=!1;return}n&&["admins","tools","product","financing","notifications"].includes(n)&&n!==i&&l(n)},[n,i]);const c=[{id:"admins",label:"Admins"},{id:"tools",label:"Tools"},{id:"product",label:"Product"},{id:"financing",label:"Financing Partner"},{id:"notifications",label:"Notifications"}];return s.jsxs("div",{className:"min-[#F5F7FF]  bg-[#F5F7FF]",children:[s.jsx(Un,{}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-semibold mb-8",children:"Settings"}),s.jsx("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:c.map(d=>s.jsxs("button",{onClick:()=>l(d.id),className:`pb-2 cursor-pointer relative ${i===d.id?"text-black font-semibold":"text-[#00000080]"}`,children:[d.label,i===d.id&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]},d.id))}),s.jsxs("div",{className:i==="admins"?"":"px-6",children:[i==="admins"&&s.jsx(EL,{}),i==="tools"&&s.jsx(UL,{}),i==="product"&&s.jsx(mD,{}),i==="financing"&&s.jsx(OL,{}),i==="notifications"&&s.jsx(sD,{})]})]})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),_v=t=>{const e=gD(t);return e.charAt(0).toUpperCase()+e.slice(1)},yN=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),bD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},h)=>L.createElement("svg",{ref:h,...yD,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:yN("lucide",i),...!l&&!bD(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>L.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=(t,e)=>{const n=L.forwardRef(({className:a,...i},l)=>L.createElement(vD,{ref:l,iconNode:e,className:yN(`lucide-${xD(_v(t))}`,`lucide-${t}`,a),...i}));return n.displayName=_v(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ND=vN("eye-off",wD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_D=vN("eye",jD),Za=({type:t="text",id:e,label:n,placeholder:a,value:i,onChange:l,isPassword:c=!1,hidePassword:d=!1,setHidePassword:h,isMobile:f=!1,icon:p})=>s.jsxs("div",{className:f?"":"mb-4",children:[s.jsx("label",{htmlFor:e,className:"block mb-3  text-[16px] text-gray-600",children:n}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?d?"password":"text":t,id:e,placeholder:a,className:"w-full border border-gray-300 bg-white rounded-lg p-3 pr-12  focus:outline-none focus:ring-2 text-[16px] focus:ring-blue-500",value:i,onChange:l}),!c&&p&&(typeof p=="string"?s.jsx("img",{src:p,alt:"",className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5"}):s.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:p})),c&&h&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",onClick:()=>h(!d),children:d?s.jsx(ND,{size:20}):s.jsx(_D,{size:20})})]})]}),SD=()=>{const t=ar(),e=ya(),n=t.pathname==="/login",[a,i]=L.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",code:""}),[l,c]=L.useState(!0),[d,h]=L.useState(null),{mutate:f,isPending:p}=It({mutationFn:N6,onSuccess:b=>{b?.token&&es.set("token",b.token,{expires:7}),h(null),e("/dashboard")},onError:b=>{h(b?.message||"Login failed")}}),x=b=>{const{id:N,value:S}=b.target;i(k=>({...k,[N]:S}))},w=b=>{b.preventDefault(),h(null),a.email&&a.password&&f({email:a.email,password:a.password})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full h-screen sm:flex hidden overflow-clip",children:[s.jsxs("div",{className:"relative w-1/2 overflow-hidden",children:[s.jsx("img",{src:xt.loginImage,alt:"Login Visual",className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("div",{className:"absolute bottom-24 left-12 text-white w-[80%]",children:s.jsxs("p",{className:"text-lg  leading-relaxed",children:["Providing affordable, sustainable and reliable ",s.jsx("br",{}),"solar energy solutions for millions ",s.jsx("br",{}),"of Nigerians"]})}),s.jsxs("div",{className:"absolute bottom-6 left-12 flex gap-4",children:[s.jsx("img",{src:xt.insta,alt:"Instagram",className:"h-10 w-10"}),s.jsx("img",{src:xt.whatsApp,alt:"WhatsApp",className:"h-10 w-10"}),s.jsx("img",{src:xt.twitter,alt:"Twitter",className:"h-10 w-10"}),s.jsx("img",{src:xt.yt,alt:"YouTube",className:"h-10 w-10"})]})]}),s.jsx("div",{className:"w-1/2 bg-[#f5f7ff] flex justify-center items-center",children:s.jsx("div",{className:"w-[90%] max-w-[600px] p-6 bg-white rounded-2xl shadow-lg",children:s.jsxs("form",{className:"space-y-6",onSubmit:w,children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:xt.logo1,alt:"Logo",className:"w-[200px] mx-auto mb-6",loading:"lazy"}),s.jsx("h2",{className:"text-3xl font-semibold",children:n?"Login":"Create an Account"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n?"Login to access your account":"Provide your personal information to help us know you better"})]}),s.jsxs("div",{className:"space-y-4",children:[!n&&s.jsxs(s.Fragment,{children:[s.jsx(Za,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x}),s.jsx(Za,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x})]}),s.jsx(Za,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x}),s.jsx("div",{className:"sm:hidden block",children:!n&&s.jsxs(s.Fragment,{children:[s.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x}),s.jsx(Za,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x}),s.jsx(Za,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x})]})}),s.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x})]}),d&&s.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),s.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-lg transition duration-200 flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?s.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:n?"Login":"Create Account"]})]})})})]}),s.jsxs("div",{className:"w-full min-h-screen sm:hidden block relative",children:[s.jsx("img",{src:xt.loginImageForSm,className:"w-full h-[40vh] object-cover",alt:"Mobile Background"}),s.jsxs("div",{className:"bg-[#273e8e] absolute top-[31vh] w-full rounded-t-4xl shadow-md p-6 text-center mb-6",children:[s.jsx("img",{src:xt.smLogo,alt:"Logo",className:"mx-auto mb-2 w-28"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:n?"Login":"Create an account"}),s.jsx("p",{className:"text-xs text-white",children:n?"Login to access your account":"Provide your personal information to help us know you better"})]}),s.jsxs("form",{className:"space-y-4 p-4 mt-24",onSubmit:w,children:[!n&&s.jsxs(s.Fragment,{children:[s.jsx(Za,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x,isMobile:!0}),s.jsx(Za,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x,isMobile:!0})]}),s.jsx(Za,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x,isMobile:!0}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Za,{id:"phone",label:"Phone Number",placeholder:"Phone Number",type:"tel",value:a.phone,onChange:x,isMobile:!0}),s.jsx(Za,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x,isMobile:!0})]}),s.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x,isMobile:!0}),!n&&s.jsx(Za,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x,isMobile:!0}),d&&s.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),s.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-full flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?s.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:n?"Login":"Create Account"]})]})]})]})},CD=async t=>await ct(dt.ADMIN.AllTickets,"GET",void 0,t),kD=async(t,e)=>await ct(dt.ADMIN.TicketShow(t),"GET",void 0,e),AD=async(t,e,n)=>await ct(dt.ADMIN.ReplyTicket(t),"POST",e,n),ED=async(t,e,n)=>await ct(dt.ADMIN.TicketStatusUpdate(t),"POST",e,n),LD=({isOpen:t,onClose:e,ticket:n,onStatusUpdate:a})=>{const[i,l]=L.useState("Change Status"),[c,d]=L.useState(""),[h,f]=L.useState([]),p=L.useRef(null),x=es.get("token"),w=n?.id,{data:b,isLoading:N,isError:S,refetch:k}=Ut({queryKey:["single-ticket-detail",w],queryFn:()=>kD(w||"",x||""),enabled:t&&!!w&&!!x});L.useEffect(()=>{if(!b?.data)return;const K=b.data.messages.map((B,H)=>({id:H,role:B.sender==="admin"?"admin":"user",text:B.message,at:B.date?B.date.replace(" "," / "):""}));f(K),l(b.data.status.charAt(0).toUpperCase()+b.data.status.slice(1))},[b?.data]),L.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[h.length]),L.useEffect(()=>{if(!t)return;const K=B=>{B.key==="Escape"&&e()};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[t,e]);const _=L.useMemo(()=>({id:b?.data?.ticket_id??n?.id??"",subject:b?.data?.subject??"Loan Issues",firstRepayment:"July 3, 2025",userName:b?.data?.user_name??n?.name??"Unknown",status:b?.data?.status??n?.status??"Pending",date:b?.data?.date??n?.date??""}),[b?.data,n]),E=It({mutationFn:async K=>await AD(_.id,{message:K},x||""),onSuccess:()=>{k(),d("")},onError:()=>{alert("Failed to send message.")}}),D=It({mutationFn:async K=>await ED(_.id,{status:K.toLowerCase()},x||""),onSuccess:()=>{k(),a?.(),console.log("Ticket status updated successfully")},onError:K=>{console.error("Failed to update ticket status:",K),alert("Failed to update ticket status.")}}),R=()=>{const K=c.trim();!K||!_.id||E.mutate(K)},I=K=>{K==="Change Status"||!_.id||(console.log("Updating ticket status to:",K),D.mutate(K))},ne=K=>{K.key==="Enter"&&(K.preventDefault(),R())};return!t||!n?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-end bg-black/30 h-full",onMouseDown:K=>{K.target===K.currentTarget&&e()},children:s.jsxs("div",{className:"bg-[#F7F7F8] rounded-2xl w-full max-w-[480px] shadow-xl relative overflow-hidden h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 bg-white",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Message"})}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx("div",{className:"flex justify-end px-5 pt-3 pb-0",children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white disabled:opacity-50 disabled:cursor-not-allowed pr-8",value:i,onChange:K=>{const B=K.target.value;l(B),I(B)},disabled:D.isPending,children:[s.jsx("option",{children:"Change Status"}),s.jsx("option",{children:"Pending"}),s.jsx("option",{children:"Answered"}),s.jsx("option",{children:"Closed"})]}),D.isPending&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})}),s.jsx("button",{onClick:e,className:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-gray-100","aria-label":"Close",children:s.jsx("img",{src:xt.cross,alt:"",className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"px-5 pt-3 pb-3",children:s.jsx("div",{className:"rounded-xl bg-white border border-gray-200 p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-y-3 text-sm",children:[s.jsx("div",{className:"text-gray-600",children:"Ticket ID"}),s.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.id}),s.jsx("div",{className:"text-gray-600",children:"Subject"}),s.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.subject}),s.jsx("div",{className:"text-gray-600",children:"First Repayment"}),s.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.firstRepayment})]})})}),s.jsx("div",{className:"px-5 pb-3 flex-1 overflow-y-auto",children:N?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading messages..."}):S?s.jsx("div",{className:"text-center text-red-500 py-8",children:"Failed to load messages."}):s.jsx("div",{ref:p,className:"flex flex-col gap-3 mt-1 max-h-full pr-1",children:h.map(K=>s.jsx("div",{className:`flex ${K.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:"flex flex-col max-w-[78%]",children:[s.jsx("div",{className:K.role==="user"?"self-end bg-[#273E8E] text-white px-4 py-2 rounded-2xl rounded-tr-md shadow-sm text-sm":"self-start bg-[#F3F3F3] text-gray-900 px-4 py-2 rounded-2xl rounded-tl-md shadow-sm text-sm",children:K.text}),s.jsx("span",{className:`mt-1 text-[11px] ${K.role==="user"?"self-end text-gray-400":"self-start text-gray-400"}`,children:K.at})]})},K.id))})}),s.jsx("div",{className:"px-5 pb-5 pt-2 bg-white border-t border-gray-200",style:{position:"sticky",bottom:0,zIndex:2},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 border border-[#CDCDCD] rounded-full px-4 py-3 text-sm focus:outline-none",value:c,onChange:K=>d(K.target.value),onKeyDown:ne,disabled:E.isPending}),s.jsx("button",{onClick:R,disabled:!c.trim()||E.isPending,className:"p-2 rounded-full bg-[#273E8E] disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1e3270] transition","aria-label":"Send message",children:s.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:"white",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})})]})})]})})},DD=()=>{const[t,e]=L.useState("All"),[n,a]=L.useState(""),[i,l]=L.useState([]),[c,d]=L.useState(!1),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,b]=L.useState(1),[N]=L.useState(10),S=es.get("token"),k=ni(),{data:_,isLoading:E,isError:D}=Ut({queryKey:["all-tickets"],queryFn:()=>CD(S||""),enabled:!!S}),R=()=>{console.log("Invalidating tickets query to refresh data..."),k.invalidateQueries({queryKey:["all-tickets"]})},I=_?.data?.summary||{total_tickets:0,pending_tickets:0,answered_tickets:0},ne=_?.data?.tickets?.map(ie=>({id:String(ie.ticket_id),name:ie.user_name,productName:ie.subject,amount:"",date:ie.date?.split(" ")[0]||"",time:ie.date?.split(" ")[1]||"",status:ie.status.charAt(0).toUpperCase()+ie.status.slice(1)}))||[],K=ne.filter(ie=>{const Z=t==="All"||ie.status.toLowerCase()===t.toLowerCase(),re=!n||ie.name.toLowerCase().includes(n.toLowerCase())||ie.productName.toLowerCase().includes(n.toLowerCase())||ie.amount.toLowerCase().includes(n.toLowerCase())||ie.date.toLowerCase().includes(n.toLowerCase())||ie.status.toLowerCase().includes(n.toLowerCase());return Z&&re}),B=Math.ceil(K.length/N),H=(w-1)*N,ee=H+N,T=K.slice(H,ee);_r.useEffect(()=>{b(1)},[n,t]);const F=()=>{console.log("Notification clicked")},$=()=>{l(c?[]:ne.map(ie=>ie.id)),d(!c)},G=ie=>{i.includes(ie)?l(i.filter(Z=>Z!==ie)):l([...i,ie])};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:F}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tickets"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:E?s.jsx(Ah,{count:3}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.total_tickets})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.pending_tickets})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Answered"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.answered_tickets})]})]})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tickets Summary"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("All"),children:"All"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Pending"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Pending"),children:"Pending"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Answered"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Answered"),children:"Answered"}),s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Closed"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Closed"),children:"Closed"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search",value:n,onChange:ie=>a(ie.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{children:E?s.jsx(Ss,{message:"Loading tickets..."}):D?s.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load tickets."}):K.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No tickets found."}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:c,onChange:$})}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Ticket Id"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white",children:T.map((ie,Z)=>s.jsxs("tr",{className:`${Z%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:i.includes(ie.id),onChange:()=>G(ie.id)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:ie.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:ie.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:ie.productName}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[ie.date,ie.time?`/${ie.time}`:""]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] border",style:{backgroundColor:ie.status.toLowerCase()==="answered"?"#E6F7FF":ie.status.toLowerCase()==="pending"?"#FFF4E6":ie.status.toLowerCase()==="closed"?"#FFE6E6":"#F5F5F5",color:ie.status.toLowerCase()==="answered"?"#008000":ie.status.toLowerCase()==="pending"?"#FF8C00":ie.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderColor:ie.status.toLowerCase()==="answered"?"#008000":ie.status.toLowerCase()==="pending"?"#FF8C00":ie.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderWidth:"1px",borderStyle:"solid"},children:[s.jsx("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:ie.status.toLowerCase()==="answered"?"#008000":ie.status.toLowerCase()==="pending"?"#FF8C00":ie.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",display:"inline-block"}}),ie.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>{let re=ie;if(_?.data?.tickets){const le=_.data.tickets.find(de=>String(de.ticket_id)===ie.id);le&&(re={...ie,id:String(le.ticket_id),name:le.user_name,productName:le.subject,amount:"",date:le.date?.split(" ")[0]||"",time:le.date?.split(" ")[1]||"",status:le.status.charAt(0).toUpperCase()+le.status.slice(1),ticket_id:le.ticket_id})}x(re),f(!0)},children:"View Details"})})]},ie.id))})]})}),B>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",H+1," to ",Math.min(ee,K.length)," of ",K.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>b(ie=>Math.max(ie-1,1)),disabled:w===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,B)},(ie,Z)=>{let re;return B<=5||w<=3?re=Z+1:w>=B-2?re=B-4+Z:re=w-2+Z,s.jsx("button",{onClick:()=>b(re),className:`px-3 py-2 text-sm font-medium rounded-md border ${w===re?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:re},re)})}),s.jsx("button",{onClick:()=>b(ie=>Math.min(ie+1,B)),disabled:w===B,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===B?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),s.jsx(LD,{isOpen:h,onClose:()=>f(!1),ticket:p,onStatusUpdate:R})]})},MD=({onNotificationClick:t})=>s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),FD=({stats:t,isLoading:e=!1})=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((n,a)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[s.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((n,a)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:s.jsx("img",{src:n.icon,alt:n.label,className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:n.label}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:n.value})]})]},a))}),OD=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:n,setShowMoreActionsDropdown:a,showSortByDropdown:i,setShowSortByDropdown:l,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:b=""})=>{const[N,S]=L.useState(b);L.useEffect(()=>{S(b)},[b]);const k=E=>{S(E.target.value),x&&x(E.target.value),w&&w(c)},_=E=>{d(E),a(!1),w&&w(E)};return s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"relative",ref:t,children:[s.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!n),l(!1)},children:[s.jsx("span",{children:c}),s.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:s.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),n&&s.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:s.jsxs("div",{className:"py-1 ",children:[s.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("More Actions"),children:"More Actions"}),s.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Active"),children:"Active"}),s.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Inactive"),children:"Inactive"})]})})]}),s.jsxs("div",{className:"relative",ref:e,children:[s.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{l(!i),a(!1)},children:[s.jsx("span",{children:h}),s.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:s.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&s.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Sort By"),l(!1)},children:"Sort By"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Alphabetically"),l(!1)},children:"Alphabetically"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Date Registered"),l(!1)},children:"Date Registered"}),s.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Active Users"),l(!1)},children:"Active Users"})]})})]})]}),s.jsx("div",{className:"flex gap-3 mb-3",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:N,onChange:k,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})})]})},TD=({users:t,dotsDropdownRefs:e,openDropdownIndex:n,setOpenDropdownIndex:a,navigate:i,onApproveLoan:l})=>s.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?s.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loan calculations found."}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[s.jsx("th",{className:"p-4 text-center",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),s.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((c,d)=>s.jsxs("tr",{className:`${d%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"checkbox",className:"rounded"})}),s.jsx("td",{className:"p-4 text-center font-medium",children:c.name}),s.jsx("td",{className:"p-4 text-center text-black",children:c.email}),s.jsx("td",{className:"p-4 text-center text-black",children:c.phone}),s.jsx("td",{className:"p-4 text-center text-black",children:c.bvn}),s.jsx("td",{className:"p-4 text-center text-black",children:c.date}),s.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[s.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{l?.(c)},children:"Offer"}),s.jsxs("div",{className:"relative ml-2.5",ref:h=>{e.current[d]=h},children:[s.jsx("img",{className:"cursor-pointer",src:xt.dots,alt:"",onClick:()=>{a(n===d?null:d)}}),n===d&&s.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/loans`),a(null)},children:"View Loans"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/transactions`),a(null)},children:"View Transactions"}),s.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},d))})]})}),PD=()=>{const t=ya(),e=ni(),[n,a]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(!1),[h,f]=L.useState("Sort By"),[p,x]=L.useState(null),w=L.useRef(null),b=L.useRef(null),N=L.useRef([]),[S,k]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),[_,E]=L.useState(!1),[D,R]=L.useState(null),[I,ne]=L.useState({amount:"",duration:""}),K=es.get("token"),{data:B,isLoading:H,isError:ee}=Ut({queryKey:["mono-loan-calculations"],queryFn:()=>OE(K||""),enabled:!!K});console.log("Mono Loan Calculations Data:",B);const T=It({mutationFn:async Ie=>{if(!D?.id)throw new Error("No loan selected");return await Rk(D.id,Ie,K||"")},onSuccess:()=>{console.log("Loan approved successfully"),E(!1),R(null),ne({amount:"",duration:""}),e.invalidateQueries({queryKey:["mono-loan-calculations"]})},onError:Ie=>{console.error("Failed to approve loan:",Ie),alert("Failed to approve loan. Please try again.")}}),F=_r.useMemo(()=>B?.data?.loan_calculations?B.data.loan_calculations.map(Ie=>({id:String(Ie.id),name:`${Ie.user_first_name} ${Ie.user_sur_name}`,email:Ie.user_email,phone:Ie.user_phone,bvn:"",date:Ie.created_at?new Date(Ie.created_at).toLocaleDateString("en-GB"):"",is_active:Ie.status==="pending"?1:0,loanData:{id:Ie.id,user_first_name:Ie.user_first_name,user_sur_name:Ie.user_sur_name,user_email:Ie.user_email,user_phone:Ie.user_phone,loan_amount:Ie.loan_amount,repayment_duration:Ie.repayment_duration,monthly_payment:Ie.monthly_payment,interest_percentage:Ie.interest_percentage}})):[],[B]),$=B?.data?.summary?[{label:"Total Calculations",value:B.data.summary.total_calculations,icon:"/assets/images/Users.png"},{label:"Approved Calculations",value:B.data.summary.approved_calculations,icon:"/assets/images/Users.png"},{label:"Pending Calculations",value:B.data.summary.pending_calculations,icon:"/assets/images/Users.png"}]:uw,G=Ie=>{Ie.loanData&&(R(Ie.loanData),ne({amount:Ie.loanData.loan_amount.toString(),duration:Ie.loanData.repayment_duration.toString()}),E(!0))},ie=Ie=>{if(Ie.preventDefault(),!I.amount||!I.duration){alert("Please fill in all fields");return}T.mutate(I)},Z=()=>{E(!1),R(null),ne({amount:"",duration:""})},[re,le]=L.useState(""),[de,Y]=L.useState("More Actions"),[ue,O]=L.useState(1),[P]=L.useState(10),z=_r.useMemo(()=>{let Ke=F;return de==="Active"?Ke=Ke.filter(he=>he.is_active===1):de==="Inactive"&&(Ke=Ke.filter(he=>he.is_active===0)),re&&(Ke=Ke.filter(he=>he.name.toLowerCase().includes(re.toLowerCase())||he.email.toLowerCase().includes(re.toLowerCase())||he.phone.toLowerCase().includes(re.toLowerCase()))),h!=="Sort By"&&(Ke=[...Ke].sort((he,oe)=>{switch(h){case"Alphabetically":return he.name.localeCompare(oe.name);case"Date Registered":try{const Nt=he.date?new Date(he.date.split("/").reverse().join("-")).getTime():0,at=oe.date?new Date(oe.date.split("/").reverse().join("-")).getTime():0;return isNaN(Nt)&&isNaN(at)?0:isNaN(Nt)?1:isNaN(at)?-1:at-Nt}catch{return 0}case"Active Users":return(oe.is_active||0)-(he.is_active||0);default:return 0}})),Ke},[F,re,de,h]),q=Math.ceil(z.length/P),se=(ue-1)*P,fe=se+P,ye=z.slice(se,fe);L.useEffect(()=>{O(1)},[re,de,h]);const Se=Ie=>{le(Ie)},Oe=Ie=>{Y(Ie)};L.useEffect(()=>{const Ie=Ke=>{w.current&&!w.current.contains(Ke.target)&&l(!1),b.current&&!b.current.contains(Ke.target)&&d(!1),N.current.every(oe=>!oe||!oe.contains(Ke.target))&&x(null)};return document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[]);const He=()=>{console.log("Notification clicked in User Management")};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(MD,{onNotificationClick:He}),s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Loan Approval"}),s.jsx(FD,{stats:$,isLoading:H}),s.jsx("div",{className:"mb-5",children:s.jsx("h1",{className:"font-bold text-2xl",children:"Loan Calculations"})}),s.jsx(OD,{moreActionsRef:w,sortByRef:b,showMoreActionsDropdown:i,setShowMoreActionsDropdown:l,showSortByDropdown:c,setShowSortByDropdown:d,selectedMoreAction:de,setSelectedMoreAction:Y,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:a,onSearch:Se,onAction:Oe,searchTerm:re}),H?s.jsx("div",{className:"py-8 text-center",children:s.jsxs("div",{className:"inline-flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"Loading loan calculations..."})]})}):ee?s.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan calculations."}):s.jsxs(s.Fragment,{children:[s.jsx(TD,{users:ye,dotsDropdownRefs:N,openDropdownIndex:p,setOpenDropdownIndex:x,navigate:t,onApproveLoan:G}),q>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",se+1," to ",Math.min(fe,z.length)," of ",z.length," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>O(Ie=>Math.max(Ie-1,1)),disabled:ue===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${ue===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,q)},(Ie,Ke)=>{let he;return q<=5||ue<=3?he=Ke+1:ue>=q-2?he=q-4+Ke:he=ue-2+Ke,s.jsx("button",{onClick:()=>O(he),className:`px-3 py-2 text-sm font-medium rounded-md border ${ue===he?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:he},he)})}),s.jsx("button",{onClick:()=>O(Ie=>Math.min(Ie+1,q)),disabled:ue===q,className:`px-3 py-2 text-sm font-medium rounded-md border ${ue===q?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),_&&D&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Offer Loan"}),s.jsx("button",{onClick:Z,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[D.user_first_name," ",D.user_sur_name]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:D.user_email}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Loan Details:"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("p",{children:["Amount: ",D.loan_amount?.toLocaleString()]}),s.jsxs("p",{children:["Duration: ",D.repayment_duration," months"]}),s.jsxs("p",{children:["Monthly Payment: ",D.monthly_payment]}),s.jsxs("p",{children:["Interest Rate: ",D.interest_percentage,"%"]})]})]})]}),s.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Amount"}),s.jsx("input",{type:"number",value:I.amount,onChange:Ie=>ne({...I,amount:Ie.target.value}),placeholder:"Enter approved amount",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Duration (months)"}),s.jsx("input",{type:"number",value:I.duration,onChange:Ie=>ne({...I,duration:Ie.target.value}),placeholder:"Enter approved duration",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:T.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${T.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#1f2f7a] cursor-pointer"}`,children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Offering..."]}):"Offer Loan"})]})]})]})})]})},BD=async(t,e)=>{let n=dt.ADMIN.BNPLApplicationsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.customer_type&&a.append("customer_type",e.customer_type),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},RD=async(t,e)=>await ct(dt.ADMIN.BNPLApplicationShow(t),"GET",void 0,e),UD=async(t,e)=>{let n=dt.ADMIN.BNPLGuarantorsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},ID=async(t,e)=>{let n=dt.ADMIN.BuyNowOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},qD=async(t,e)=>await ct(dt.ADMIN.BuyNowOrderShow(t),"GET",void 0,e),zD=async(t,e)=>{let n=dt.ADMIN.BNPLOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},HD=async(t,e)=>await ct(dt.ADMIN.BNPLOrderShow(t),"GET",void 0,e),Sv=async(t,e)=>await ct(dt.ADMIN.OrderSummary(t),"GET",void 0,e),$D=async(t,e)=>await ct(dt.ADMIN.OrderInvoiceDetails(t),"GET",void 0,e),VD=async(t,e)=>{let n=dt.ADMIN.GetCartProducts;if(e){const a=new URLSearchParams;e.category_id&&a.append("category_id",e.category_id.toString()),e.brand_id&&a.append("brand_id",e.brand_id.toString()),e.type&&a.append("type",e.type);const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},WD=async(t,e)=>await ct(dt.ADMIN.GetUserCart(t),"GET",void 0,e),GD=async(t,e)=>{let n=dt.ADMIN.AuditRequestsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.audit_type&&a.append("audit_type",e.audit_type),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},YD=async(t,e)=>await ct(dt.ADMIN.AuditRequestShow(t),"GET",void 0,e),KD=async(t,e)=>{let n=dt.ADMIN.AuditUsersWithRequests;if(e){const a=new URLSearchParams;e.search&&a.append("search",e.search),e.audit_type&&a.append("audit_type",e.audit_type),e.has_pending!==void 0&&a.append("has_pending",e.has_pending.toString()),e.sort_by&&a.append("sort_by",e.sort_by),e.sort_order&&a.append("sort_order",e.sort_order),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(n+=`?${i}`)}return await ct(n,"GET",void 0,t)},QD=async(t,e,n)=>await ct(dt.ADMIN.BNPLApplicationUpdateStatus(t),"PUT",e,n),XD=async(t,e,n)=>await ct(dt.ADMIN.BNPLGuarantorUpdateStatus(t),"PUT",e,n),ZD=async(t,e,n)=>await ct(dt.ADMIN.BuyNowOrderUpdateStatus(t),"PUT",e,n),JD=async(t,e)=>await ct(dt.ADMIN.CreateCustomOrder,"POST",t,e),eM=async(t,e,n)=>await ct(dt.ADMIN.RemoveCartItem(t,e),"DELETE",void 0,n),tM=async(t,e)=>await ct(dt.ADMIN.ClearUserCart(t),"DELETE",void 0,e),sM=async(t,e,n)=>await ct(dt.ADMIN.ResendCartEmail(t),"POST",e,n),nM=async(t,e,n)=>await ct(dt.ADMIN.AuditRequestUpdateStatus(t),"PUT",e,n),aM=()=>{const[t,e]=L.useState("BNPL Applications"),[n,a]=L.useState("All"),[i,l]=L.useState("All"),[c,d]=L.useState(""),[h,f]=L.useState(1),[p]=L.useState(15),[x,w]=L.useState(null),[b,N]=L.useState(!1),[S,k]=L.useState(!1),[_,E]=L.useState("Details"),[D,R]=L.useState(null),[I,ne]=L.useState(null),[K,B]=L.useState(!1),[H,ee]=L.useState(!1),[T,F]=L.useState(!1),[$,G]=L.useState({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),[ie,Z]=L.useState(!1),[re,le]=L.useState(!1),[de,Y]=L.useState(!1),[ue,O]=L.useState(null),[P,z]=L.useState(null),[q,se]=L.useState({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),[fe,ye]=L.useState([]),[Se,Oe]=L.useState("all"),[He,Ie]=L.useState([]),[Ke,he]=L.useState(!1),[oe,Nt]=L.useState({name:"",description:"",price:"",quantity:"1"}),at=es.get("token")||"",bt=ni(),et=()=>{const X={per_page:p,page:h};return n!=="All"&&(X.status=n.toLowerCase()),t==="Audit Requests"&&i!=="All"&&(X.audit_type=i.toLowerCase()),c&&(X.search=c),X},{data:ft,isLoading:ot}=Ut({queryKey:["bnpl-applications",n,c,h],queryFn:()=>BD(at,et()),enabled:t==="BNPL Applications"&&!!at}),{data:yt,isLoading:Pe}=Ut({queryKey:["bnpl-guarantors",n,h],queryFn:()=>UD(at,et()),enabled:t==="BNPL Guarantors"&&!!at}),{data:ht,isLoading:Be}=Ut({queryKey:["buy-now-orders",n,c,h],queryFn:()=>ID(at,et()),enabled:t==="Buy Now Orders"&&!!at}),{data:Qe,isLoading:je}=Ut({queryKey:["bnpl-orders",n,c,h],queryFn:()=>zD(at,et()),enabled:t==="BNPL Orders"&&!!at}),{data:lt,isLoading:Ee}=Ut({queryKey:["audit-requests",n,i,c,h],queryFn:()=>GD(at,et()),enabled:t==="Audit Requests"&&!!at}),{data:be,isLoading:Ue}=Ut({queryKey:["audit-users-with-requests",c,i,n,h],queryFn:()=>KD(at,{search:c||void 0,audit_type:i!=="All Types"?i.toLowerCase().replace(" ","-"):void 0,has_pending:n==="Has Pending"?!0:void 0,sort_by:"last_audit_request_date",sort_order:"desc",per_page:p,page:h}),enabled:t==="Custom Orders"&&!!at}),{data:St,isLoading:Bt}=Ut({queryKey:["cart-products",Se],queryFn:()=>VD(at,{type:Se}),enabled:t==="Custom Orders"&&ie&&!!at}),{data:ut,isLoading:Tt,refetch:os}=Ut({queryKey:["user-cart",ue],queryFn:()=>WD(ue,at),enabled:t==="Custom Orders"&&!!ue&&!!at}),gt=It({mutationFn:async X=>await QD(x.id,X,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["bnpl-applications"]}),k(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),Kt=It({mutationFn:async X=>await XD(x.id,X,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["bnpl-guarantors"]}),k(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),Pt=It({mutationFn:async X=>await ZD(x.id,X,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["buy-now-orders"]}),k(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),ks=It({mutationFn:async X=>await JD(X,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["user-cart"]}),Z(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Ie([]),he(!1),Nt({name:"",description:"",price:"",quantity:"1"}),bt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Custom order created successfully!")},onError:X=>{alert(X?.message||"Failed to create custom order")}}),tt=It({mutationFn:async({userId:X,itemId:$e})=>await eM(X,$e,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["user-cart"]}),os(),bt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Item removed from cart successfully")}}),mt=It({mutationFn:async X=>await tM(X,at),onSuccess:()=>{bt.invalidateQueries({queryKey:["user-cart"]}),os(),bt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Cart cleared successfully")}}),Ze=It({mutationFn:async({userId:X,payload:$e})=>await sM(X,$e,at),onSuccess:()=>{alert("Cart link email sent successfully")}}),rs=It({mutationFn:async X=>await nM(X.id,{status:X.status,admin_notes:X.admin_notes},at),onSuccess:()=>{bt.invalidateQueries({queryKey:["audit-requests"]}),k(!1),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),alert("Audit request status updated successfully!")},onError:X=>{alert(X?.message||"Failed to update audit request status")}}),Xn=async X=>{w(X),E("Details"),R(null),ne(null),F(!1);try{let $e;if(t==="BNPL Applications")$e=await RD(X.id,at);else if(t==="Buy Now Orders"){if($e=await qD(X.id,at),$e.data?.id)try{B(!0);const wt=await Sv($e.data.id,at);R(wt.data)}catch(wt){console.error("Failed to fetch order summary:",wt)}finally{B(!1)}}else if(t==="BNPL Orders"){if($e=await HD(X.id,at),$e.data?.id)try{B(!0);const wt=await Sv($e.data.id,at);R(wt.data)}catch(wt){console.error("Failed to fetch order summary:",wt)}finally{B(!1)}}else t==="Audit Requests"?$e=await YD(X.id,at):$e={data:X};w($e.data),N(!0)}catch($e){console.error("Failed to fetch details:",$e),alert("Failed to load details. Please try again.")}},Zs=async()=>{if(!(!x?.id||H))try{ee(!0),F(!1);const X=await $D(x.id,at);ne(X.data)}catch(X){console.error("Failed to fetch invoice:",X),X?.response?.status===404||X?.status===404?(F(!0),ne(null)):alert("Failed to load invoice details.")}finally{ee(!1)}},Zn=X=>{w(X),G({status:X.status||X.order_status||"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),k(!0)},Aa=()=>{if(!$.status){alert("Please select a status");return}const X={status:$.status};$.admin_notes&&(X.admin_notes=$.admin_notes),$.status==="counter_offer"&&($.counter_offer_min_deposit&&(X.counter_offer_min_deposit=Number($.counter_offer_min_deposit)),$.counter_offer_min_tenor&&(X.counter_offer_min_tenor=Number($.counter_offer_min_tenor))),t==="BNPL Applications"?gt.mutate(X):t==="BNPL Guarantors"?Kt.mutate(X):t==="Buy Now Orders"?Pt.mutate({order_status:$.status,admin_notes:$.admin_notes}):t==="Audit Requests"&&rs.mutate({id:x.id,status:$.status,admin_notes:$.admin_notes})},Rt=()=>{switch(t){case"BNPL Applications":return ft?.data;case"BNPL Guarantors":return yt?.data;case"Buy Now Orders":return ht?.data;case"BNPL Orders":return Qe?.data;case"Audit Requests":return lt?.data;case"Custom Orders":return null;default:return null}},Sn=()=>{switch(t){case"BNPL Applications":return ot;case"BNPL Guarantors":return Pe;case"Buy Now Orders":return Be;case"BNPL Orders":return je;case"Audit Requests":return Ee;case"Custom Orders":return Ue;default:return!1}},xs=X=>{const $e=X.toLowerCase();return $e==="approved"||$e==="delivered"||$e==="completed"?{backgroundColor:"#10B981",color:"white"}:$e==="pending"||$e==="processing"?{backgroundColor:"#F59E0B",color:"white"}:$e==="rejected"||$e==="cancelled"?{backgroundColor:"#EF4444",color:"white"}:$e==="counter_offer"||$e==="shipped"?{backgroundColor:"#3B82F6",color:"white"}:{backgroundColor:"#6B7280",color:"white"}},vt=X=>`${Number(X).toLocaleString()}`,Ms=X=>new Date(X).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),Fs=Rt(),mn=t!=="Custom Orders"?Fs?.data||[]:[],an=t!=="Custom Orders"?Fs?.total||0:be?.data?.pagination?.total||0,$n=Math.ceil(an/p);return L.useEffect(()=>{f(1)},[n,i,c,t]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BNPL & Buy Now Management"})}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:["BNPL Applications","BNPL Guarantors","Buy Now Orders","BNPL Orders","Audit Requests","Custom Orders"].map(X=>s.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t===X?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e(X),children:X},X))})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Sn()?s.jsx(Ah,{count:3}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:s.jsx("img",{src:xt.users,alt:"",className:"w-9 h-9 object-contain"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:an})]})]})})})}),s.jsx("div",{className:"mb-6 bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:n,onChange:X=>a(X.target.value),children:[s.jsx("option",{value:"All",children:"All Status"}),t==="BNPL Applications"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t==="Audit Requests"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),(t==="Audit Requests"||t==="Custom Orders")&&s.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:i,onChange:X=>l(X.target.value),children:[s.jsx("option",{value:"All Types",children:"All Types"}),s.jsx("option",{value:"home-office",children:"Home/Office"}),s.jsx("option",{value:"commercial",children:"Commercial"})]}),t==="Custom Orders"&&s.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:n,onChange:X=>a(X.target.value),children:[s.jsx("option",{value:"All",children:"All Users"}),s.jsx("option",{value:"Has Pending",children:"Has Pending Requests"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:X=>d(X.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),t==="Custom Orders"?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Orders Management"}),be?.data?.data?.length>0&&s.jsx("button",{onClick:()=>Z(!0),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Create Custom Order"})]})}),Ue?s.jsx(Ss,{message:"Loading users with audit requests..."}):be?.data?.data?.length===0?s.jsx("div",{className:"p-12 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No users found"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"There are no users with audit requests at the moment. Users who request audit services will appear here."})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#EBEBEB] border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Phone"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Audit Requests"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status Summary"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Property Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:be?.data?.data?.map((X,$e)=>{const wt=X.audit_requests?.some(qt=>qt.has_property_details),ns=X.audit_requests?.some(qt=>qt.audit_type==="commercial"&&!qt.has_property_details&&qt.status==="pending");return s.jsxs("tr",{className:`${$e%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 hover:bg-gray-50 cursor-pointer`,onClick:async()=>{z(X),O(X.id),Y(!0),os()},children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"font-medium",children:[X.audit_request_count||0," total"]}),X.pending_count>0&&s.jsxs("span",{className:"text-xs text-orange-600",children:[X.pending_count," pending"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[X.approved_count>0&&s.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:[X.approved_count," Approved"]}),X.rejected_count>0&&s.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:[X.rejected_count," Rejected"]}),X.completed_count>0&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[X.completed_count," Completed"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ns?s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:" Needs Details"}):wt?s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:" Details Shared"}):s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:"No Details"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:async qt=>{qt.stopPropagation(),z(X),O(X.id),Y(!0),os()},children:"View Details"})})]},X.id)})})]})}),be?.data?.pagination&&be.data.pagination.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",be.data.pagination.from," to"," ",be.data.pagination.to," of ",be.data.pagination.total," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>f(X=>Math.max(X-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:be.data.pagination.last_page},(X,$e)=>$e+1).slice(Math.max(0,h-2),Math.min(be.data.pagination.last_page,h+3)).map(X=>s.jsx("button",{onClick:()=>f(X),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===X?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:X},X))}),s.jsx("button",{onClick:()=>f(X=>Math.min(X+1,be.data.pagination.last_page)),disabled:h===be.data.pagination.last_page,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===be.data.pagination.last_page?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:Sn()?s.jsx(Ss,{message:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[t==="BNPL Applications"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Loan Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Duration"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),t==="BNPL Guarantors"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Phone"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),t==="Audit Requests"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Property Address"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]})]})}),s.jsx("tbody",{className:"bg-white",children:mn.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No data found"})}):mn.map((X,$e)=>s.jsxs("tr",{className:`${$e%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[t==="BNPL Applications"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:vt(X.loan_amount)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[X.repayment_duration," months"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ms(X.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),s.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]}),t==="BNPL Guarantors"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.full_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ms(X.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:vt(X.total_price)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.order_status),children:X.order_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ms(X.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),s.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]}),t==="Audit Requests"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[s.jsx("span",{className:"capitalize",children:X.audit_type?.replace("-","/")||"N/A"}),X.audit_type==="commercial"&&!X.property_address&&s.jsx("span",{className:"ml-2 text-xs text-orange-600 font-semibold",children:"(Needs Details)"})]}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[X.property_address||s.jsx("span",{className:"text-gray-400 italic",children:"Not provided"}),X.property_state&&s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",X.property_state,")"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ms(X.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),s.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]})]},X.id))})]})}),$n>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-700",children:s.jsxs("span",{children:["Showing ",(h-1)*p+1," to"," ",Math.min(h*p,an)," of ",an," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>f(X=>Math.max(X-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,$n)},(X,$e)=>{let wt;return $n<=5||h<=3?wt=$e+1:h>=$n-2?wt=$n-4+$e:wt=h-2+$e,s.jsx("button",{onClick:()=>f(wt),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===wt?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:wt},wt)})}),s.jsx("button",{onClick:()=>f(X=>Math.min(X+1,$n)),disabled:h===$n,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===$n?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]}),b&&x&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t==="BNPL Applications"?"BNPL Application Details":t==="BNPL Guarantors"?"Guarantor Details":t==="Audit Requests"?"Audit Request Details":"Order Details"}),s.jsx("button",{onClick:()=>{N(!1),w(null),R(null),ne(null),F(!1),E("Details")},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&s.jsx("div",{className:"border-b border-gray-200 mb-4",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:["Details","Summary","Invoice"].map(X=>s.jsx("button",{onClick:()=>{E(X),X==="Invoice"&&!I&&!T&&Zs(),X!=="Invoice"&&F(!1)},className:`py-2 px-1 border-b-2 font-medium text-sm ${_===X?"border-[#273E8E] text-[#273E8E]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:X},X))})}),_==="Details"&&s.jsx("div",{className:"space-y-6",children:t==="Buy Now Orders"||t==="BNPL Orders"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border border-green-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Order Overview"}),s.jsxs("div",{className:"flex items-center gap-2",children:[x.payment_status&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(x.payment_status),children:["Payment: ",x.payment_status]}),x.order_status&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(x.order_status),children:x.order_status})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order ID"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.total_price&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Price"}),s.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:vt(x.total_price)})]}),x.payment_method&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.payment_method})]}),x.created_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ms(x.created_at)})]})]})]}),x.user&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Order Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.total_price&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Price"}),s.jsx("p",{className:"text-lg font-bold text-[#273E8E]",children:vt(x.total_price)})]}),x.payment_method&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.payment_method})]}),x.payment_status&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Status"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.payment_status})]}),x.order_status&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Status"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.order_status})]})]})]}),x.items&&Array.isArray(x.items)&&x.items.length>0&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Order Items (",x.items.length,")"]}),s.jsx("div",{className:"space-y-3",children:x.items.map((X,$e)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:X.name||X.title||`Item ${$e+1}`}),X.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[X.quantity&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Quantity: ",s.jsx("span",{className:"font-medium text-gray-900",children:X.quantity})]}),X.type&&s.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:X.type})]})]}),(X.price||X.unit_price)&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:vt(X.price||X.unit_price)}),X.quantity&&(X.price||X.unit_price)&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Subtotal: ",vt((X.price||X.unit_price)*X.quantity)]})]})]})},$e))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),s.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,$e])=>["id","user","items","total_price","payment_method","payment_status","order_status","created_at","updated_at","user_id"].includes(X)||!$e||$e===null||$e==="null"||typeof $e=="object"||Array.isArray($e)?null:s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),s.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?vt($e):X.includes("date")||X.includes("_at")?Ms($e):String($e)})]},X))})]})]}):t==="BNPL Applications"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Application Overview"}),s.jsx("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-full",style:xs(x.status),children:x.status||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Application ID"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.loan_amount&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Loan Amount"}),s.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:vt(x.loan_amount)})]}),x.repayment_duration&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Repayment Duration"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[x.repayment_duration," months"]})]}),x.created_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Application Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ms(x.created_at)})]})]})]}),x.user&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Loan Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.loan_amount&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Loan Amount"}),s.jsx("p",{className:"text-lg font-bold text-[#273E8E]",children:vt(x.loan_amount)})]}),x.repayment_duration&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Repayment Duration"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.repayment_duration," months"]})]}),x.monthly_payment&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Payment"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:vt(x.monthly_payment)})]}),x.interest_rate&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Interest Rate"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.interest_rate,"%"]})]})]})]}),(x.beneficiary_name||x.beneficiary_email||x.beneficiary_phone||x.beneficiary_relationship)&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Beneficiary Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.beneficiary_name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Name"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_name})]}),x.beneficiary_email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Email"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_email})]}),x.beneficiary_phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Phone"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_phone})]}),x.beneficiary_relationship&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_relationship})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.title_document&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Title Document"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title_document})]}),x.upload_document&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Uploaded Document"}),typeof x.upload_document=="string"&&(x.upload_document.startsWith("http")?s.jsxs("a",{href:x.upload_document,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-[#273E8E] hover:underline flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Document"]}):s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.upload_document}))]}),!x.title_document&&!x.upload_document&&s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No documents uploaded"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),s.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,$e])=>["id","status","loan_amount","repayment_duration","monthly_payment","interest_rate","user","beneficiary_name","beneficiary_email","beneficiary_phone","beneficiary_relationship","title_document","upload_document","created_at","updated_at","guarantors","loan_configuration"].includes(X)||!$e||$e===null||$e==="null"||typeof $e=="object"||Array.isArray($e)?null:s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),s.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?vt($e):String($e)})]},X))})]})]}):t==="Audit Requests"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 border border-purple-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Audit Request Overview"}),s.jsx("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-full",style:xs(x.status),children:x.status||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Request ID"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.audit_type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Audit Type"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.audit_type.replace("-","/")})]}),x.customer_type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer Type"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.customer_type})]}),x.created_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Request Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ms(x.created_at)})]})]})]}),x.user&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),(x.property_address||x.property_state||x.property_floors||x.property_rooms!==void 0||x.is_gated_estate!==void 0)&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Property Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.property_address&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property Address"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_address})]}),x.property_state&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"State"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_state})]}),x.property_floors!==void 0&&x.property_floors!==null&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Floors"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_floors})]}),x.property_rooms!==void 0&&x.property_rooms!==null&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Rooms"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_rooms})]}),x.is_gated_estate!==void 0&&x.is_gated_estate!==null&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Gated Estate"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.is_gated_estate?"Yes":"No"})]}),x.has_property_details!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property Details Status"}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${x.has_property_details?"bg-green-100 text-green-800 border border-green-300":"bg-yellow-100 text-yellow-800 border border-yellow-300"}`,children:x.has_property_details?" Details Shared":" Needs Details"})]})]})]}),x.order_id&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Linked Order"]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order ID"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.order_id]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),s.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,$e])=>["id","status","audit_type","customer_type","user","property_address","property_state","property_floors","property_rooms","is_gated_estate","has_property_details","order_id","created_at","updated_at"].includes(X)||!$e||$e===null||$e==="null"||typeof $e=="object"||Array.isArray($e)?null:s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),s.jsx("span",{className:"text-sm text-gray-900",children:String($e)})]},X))})]})]}):s.jsx("div",{className:"space-y-4",children:Object.entries(x).map(([X,$e])=>typeof $e=="object"&&$e!==null&&!Array.isArray($e)?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-700 capitalize mb-3",children:X.replace(/_/g," ")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries($e).map(([wt,ns])=>s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 capitalize",children:wt.replace(/_/g," ")}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof ns=="object"&&ns!==null?JSON.stringify(ns):ns===null||ns==="null"?"N/A":String(ns)})]},wt))})]},X):Array.isArray($e)?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-700 capitalize mb-3",children:[X.replace(/_/g," ")," (",$e.length,")"]}),s.jsx("div",{className:"space-y-2",children:$e.map((wt,ns)=>s.jsx("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:typeof wt=="object"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(wt).map(([qt,Hs])=>s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 capitalize",children:qt.replace(/_/g," ")}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof Hs=="object"?JSON.stringify(Hs):Hs===null||Hs==="null"?"N/A":String(Hs)})]},qt))}):s.jsx("p",{className:"text-sm text-gray-900",children:String(wt)})},ns))})]},X):$e===null||$e==="null"||$e===""?null:s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),s.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?vt($e):String($e)})]})},X))})}),_==="Summary"&&s.jsx("div",{className:"space-y-4",children:K?s.jsx(Ss,{message:"Loading order summary..."}):D?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Order Number:"}),s.jsx("span",{className:"ml-2 font-medium",children:D.order_number||x.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Price:"}),s.jsx("span",{className:"ml-2 font-medium text-[#273E8E]",children:vt(D.total_price||x.total_price)})]})]})]}),D.items&&D.items.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:D.items.map((X,$e)=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:X.name}),X.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-[#273E8E]",children:vt(X.price)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",X.quantity]})]})]})},$e))})]}),D.appliances&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Appliances"}),s.jsx("p",{className:"text-gray-600",children:D.appliances})]}),D.backup_time&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Backup Time"}),s.jsx("p",{className:"text-gray-600",children:D.backup_time})]})]}):s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No summary data available"})}),_==="Invoice"&&s.jsx("div",{className:"space-y-4",children:H?s.jsx(Ss,{message:"Loading invoice details..."}):I?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Invoice Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Order Number:"}),s.jsx("span",{className:"ml-2 font-medium",children:I.order_number||x.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("span",{className:"ml-2 font-medium text-[#273E8E]",children:vt(I.invoice?.total||I.total||x.total_price)})]})]})]}),I.invoice&&s.jsxs("div",{className:"space-y-4",children:[(I.invoice.solar_inverter||I.invoice.solar_panels||I.invoice.batteries)&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Product Breakdown"}),s.jsxs("div",{className:"space-y-3",children:[I.invoice.solar_inverter&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:I.invoice.solar_inverter.description||"Solar Inverter"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",I.invoice.solar_inverter.quantity]})]}),s.jsx("div",{className:"font-semibold text-[#273E8E]",children:vt(I.invoice.solar_inverter.price)})]})}),I.invoice.solar_panels&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:I.invoice.solar_panels.description||"Solar Panels"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",I.invoice.solar_panels.quantity]})]}),s.jsx("div",{className:"font-semibold text-[#273E8E]",children:vt(I.invoice.solar_panels.price)})]})}),I.invoice.batteries&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:I.invoice.batteries.description||"Batteries"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",I.invoice.batteries.quantity]})]}),s.jsx("div",{className:"font-semibold text-[#273E8E]",children:vt(I.invoice.batteries.price)})]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fees Breakdown"}),s.jsxs("div",{className:"space-y-2 border border-gray-200 rounded-lg p-4",children:[I.invoice.material_cost&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),s.jsx("span",{className:"font-medium",children:vt(I.invoice.material_cost)})]}),I.invoice.installation_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Installation Fee:"}),s.jsx("span",{className:"font-medium",children:vt(I.invoice.installation_fee)})]}),I.invoice.delivery_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),s.jsx("span",{className:"font-medium",children:vt(I.invoice.delivery_fee)})]}),I.invoice.inspection_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inspection Fee:"}),s.jsx("span",{className:"font-medium",children:vt(I.invoice.inspection_fee)})]}),I.invoice.insurance_fee&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Insurance Fee:"}),s.jsx("span",{className:"font-medium",children:vt(I.invoice.insurance_fee)})]}),I.invoice.subtotal&&s.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-200 pt-2 mt-2",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal:"}),s.jsx("span",{className:"font-semibold",children:vt(I.invoice.subtotal)})]}),I.invoice.total&&s.jsxs("div",{className:"flex justify-between text-sm border-t-2 border-[#273E8E] pt-2 mt-2",children:[s.jsx("span",{className:"text-gray-900 font-bold",children:"Total:"}),s.jsx("span",{className:"font-bold text-[#273E8E] text-lg",children:vt(I.invoice.total)})]})]})]})]})]}):T?s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Invoice does not exist"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This order does not have an invoice available."})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx("p",{className:"mb-4",children:"Invoice details not loaded"}),s.jsx("button",{onClick:Zs,className:"bg-[#273E8E] text-white px-4 py-2 rounded-lg hover:bg-[#1e3270] transition-colors",children:"Load Invoice"})]})})]})}),S&&x&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Status"}),s.jsx("button",{onClick:()=>{k(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:$.status,onChange:X=>G({...$,status:X.target.value}),children:[s.jsx("option",{value:"",children:"Select Status"}),t==="BNPL Applications"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t==="Audit Requests"&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]}),$.status==="counter_offer"&&t==="BNPL Applications"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Deposit"}),s.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:$.counter_offer_min_deposit,onChange:X=>G({...$,counter_offer_min_deposit:X.target.value}),placeholder:"Enter minimum deposit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Tenor"}),s.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:$.counter_offer_min_tenor,onChange:X=>G({...$,counter_offer_min_tenor:X.target.value}),placeholder:"Enter minimum tenor (months)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),s.jsx("textarea",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",rows:3,value:$.admin_notes,onChange:X=>G({...$,admin_notes:X.target.value}),placeholder:"Enter admin notes..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{k(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:Aa,disabled:!$.status||gt.isPending||Kt.isPending||Pt.isPending||rs.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${$.status&&!gt.isPending&&!Kt.isPending&&!Pt.isPending&&!rs.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[(gt.isPending||Kt.isPending||Pt.isPending||rs.isPending)&&s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Update Status"]})]})]})}),ie&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Custom Order"}),s.jsx("button",{onClick:()=>{Z(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Ie([]),he(!1),Nt({name:"",description:"",price:"",quantity:"1"})},className:"text-gray-400 hover:text-gray-600",children:s.jsx("img",{src:xt.cross,className:"w-6 h-6",alt:"Close"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select User *"}),s.jsxs("select",{value:q.user_id,onChange:X=>se({...q,user_id:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",required:!0,children:[s.jsx("option",{value:"",children:"Select a user"}),be?.data?.data?.filter(X=>X.audit_requests?.some($e=>$e.has_property_details))?.map(X=>s.jsxs("option",{value:X.id,children:[X.name," - ",X.email]},X.id)),(!be?.data?.data||be.data.data.filter(X=>X.audit_requests?.some($e=>$e.has_property_details)).length===0)&&s.jsx("option",{value:"",disabled:!0,children:"No users with shared property details available"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),s.jsxs("select",{value:q.order_type,onChange:X=>se({...q,order_type:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",required:!0,children:[s.jsx("option",{value:"buy_now",children:"Buy Now"}),s.jsx("option",{value:"bnpl",children:"BNPL"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Products/Bundles"}),s.jsx("div",{className:"flex space-x-2",children:["all","products","bundles"].map(X=>s.jsx("button",{onClick:()=>Oe(X),className:`px-4 py-2 rounded-lg text-sm font-medium ${Se===X?"bg-[#273E8E] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Custom Products/Services"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These will be automatically included in the email message sent to the user"})]}),s.jsxs("button",{type:"button",onClick:()=>he(!0),className:"text-sm text-[#273E8E] hover:text-[#1e3270] font-medium flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Custom Product/Service"]})]}),Ke&&s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Custom Product/Service"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name *"}),s.jsx("input",{type:"text",value:oe.name,onChange:X=>Nt({...oe,name:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"Enter product/service name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),s.jsx("textarea",{value:oe.description,onChange:X=>Nt({...oe,description:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",rows:2,placeholder:"Enter description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price () *"}),s.jsx("input",{type:"number",value:oe.price,onChange:X=>Nt({...oe,price:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"0.00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),s.jsx("input",{type:"number",value:oe.quantity,onChange:X=>Nt({...oe,quantity:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"1",min:"1"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>{he(!1),Nt({name:"",description:"",price:"",quantity:"1"})},className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>{if(!oe.name.trim()){alert("Please enter a name");return}if(!oe.description.trim()){alert("Please enter a description");return}if(!oe.price||parseFloat(oe.price)<=0){alert("Please enter a valid price");return}if(!oe.quantity||parseInt(oe.quantity)<1){alert("Please enter a valid quantity");return}const X={name:oe.name.trim(),description:oe.description.trim(),price:parseFloat(oe.price),quantity:parseInt(oe.quantity)};Ie([...He,X]);const $e=X.price*X.quantity,wt=`

--- Custom Product/Service ---
${X.name}
Description: ${X.description}
Price: ${vt(X.price)} x ${X.quantity} = ${vt($e)}`,ns=q.email_message||"";se({...q,email_message:ns+wt}),Nt({name:"",description:"",price:"",quantity:"1"}),he(!1)},className:"px-4 py-2 text-sm bg-[#273E8E] text-white rounded-lg hover:bg-[#1e3270]",children:"Add"})]})]})]}),He.length>0&&s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Custom Products/Services (Will be included in email):"}),s.jsxs("span",{className:"text-xs text-gray-500 bg-blue-50 px-2 py-1 rounded",children:[He.length," item",He.length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:He.map((X,$e)=>s.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:X.name}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:X.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsx("span",{className:"text-sm font-semibold text-[#273E8E]",children:vt(X.price)}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Qty: ",X.quantity]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",vt(X.price*X.quantity)]})]})]}),s.jsx("button",{type:"button",onClick:()=>{const wt=He.filter((va,ir)=>ir!==$e);Ie(wt);let ns=q.email_message||"";const qt=He[$e],Hs=qt.price*qt.quantity,Us=`

--- Custom Product/Service ---
${qt.name}
Description: ${qt.description}
Price: ${vt(qt.price)} x ${qt.quantity} = ${vt(Hs)}`;if(ns=ns.replace(Us,""),wt.length>0){const va=wt.map(Cn=>{const Ea=Cn.price*Cn.quantity;return`

--- Custom Product/Service ---
${Cn.name}
Description: ${Cn.description}
Price: ${vt(Cn.price)} x ${Cn.quantity} = ${vt(Ea)}`}).join("");ns=ns.split("--- Custom Product/Service ---")[0].trim()+va}else ns=ns.split("--- Custom Product/Service ---")[0].trim();se({...q,email_message:ns})},className:"ml-3 text-red-500 hover:text-red-700",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},$e))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products/Bundles"}),Bt?s.jsx(Ss,{message:"Loading products..."}):s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:s.jsxs("div",{className:"space-y-2",children:[St?.data?.products?.map(X=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:X.title}),s.jsx("p",{className:"text-sm text-gray-600",children:vt(X.discount_price||X.price)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"w-16 px-2 py-1 border rounded text-sm",onChange:$e=>{const wt=parseInt($e.target.value)||1,ns=fe.find(qt=>qt.id===X.id&&qt.type==="product");ye(ns?fe.map(qt=>qt.id===X.id&&qt.type==="product"?{...qt,quantity:wt}:qt):[...fe,{type:"product",id:X.id,quantity:wt}])}}),s.jsx("button",{onClick:()=>{const $e=fe.find(wt=>wt.id===X.id&&wt.type==="product");ye($e?fe.filter(wt=>!(wt.id===X.id&&wt.type==="product")):[...fe,{type:"product",id:X.id,quantity:1}])},className:`px-3 py-1 rounded text-sm ${fe.some($e=>$e.id===X.id&&$e.type==="product")?"bg-red-500 text-white":"bg-[#273E8E] text-white"}`,children:fe.some($e=>$e.id===X.id&&$e.type==="product")?"Remove":"Add"})]})]},`product-${X.id}`)),St?.data?.bundles?.map(X=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:X.title}),s.jsx("p",{className:"text-sm text-gray-600",children:vt(X.discount_price||X.price)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"w-16 px-2 py-1 border rounded text-sm",onChange:$e=>{const wt=parseInt($e.target.value)||1,ns=fe.find(qt=>qt.id===X.id&&qt.type==="bundle");ye(ns?fe.map(qt=>qt.id===X.id&&qt.type==="bundle"?{...qt,quantity:wt}:qt):[...fe,{type:"bundle",id:X.id,quantity:wt}])}}),s.jsx("button",{onClick:()=>{const $e=fe.find(wt=>wt.id===X.id&&wt.type==="bundle");ye($e?fe.filter(wt=>!(wt.id===X.id&&wt.type==="bundle")):[...fe,{type:"bundle",id:X.id,quantity:1}])},className:`px-3 py-1 rounded text-sm ${fe.some($e=>$e.id===X.id&&$e.type==="bundle")?"bg-red-500 text-white":"bg-[#273E8E] text-white"}`,children:fe.some($e=>$e.id===X.id&&$e.type==="bundle")?"Remove":"Add"})]})]},`bundle-${X.id}`))]})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("label",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("input",{type:"checkbox",checked:q.send_email,onChange:X=>se({...q,send_email:X.target.checked}),className:"rounded w-4 h-4 text-[#273E8E] focus:ring-[#273E8E] border-gray-300"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send email link to user"})]})]}),q.send_email&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Email Message (Optional)"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[q.email_message.length,"/1000"]})]}),s.jsx("textarea",{value:q.email_message,onChange:X=>se({...q,email_message:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-4 py-3 text-sm bg-white focus:ring-2 focus:ring-[#273E8E] focus:border-transparent outline-none transition-all resize-none",rows:4,placeholder:"Enter a custom message to include in the email sent to the user. This message will be sent along with the order link...",maxLength:1e3}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This message will be included in the email notification sent to the user when the order is created."})]})]}),fe.length>0&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Selected Order Items:"}),s.jsx("ul",{className:"space-y-1",children:fe.map((X,$e)=>s.jsxs("li",{className:"text-sm text-gray-600",children:[X.type==="product"?"Product":"Bundle"," ID ",X.id," - Qty: ",X.quantity]},$e))})]}),He.length>0&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("h3",{className:"font-medium text-blue-600",children:"Custom Products/Services (Included in Email):"})]}),s.jsx("ul",{className:"space-y-1",children:He.map((X,$e)=>s.jsxs("li",{className:"text-sm text-gray-600",children:[X.name," - ",vt(X.price)," x ",X.quantity," = ",vt(X.price*X.quantity)]},`custom-${$e}`))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>{Z(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Ie([]),he(!1),Nt({name:"",description:"",price:"",quantity:"1"})},className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:()=>{if(!q.user_id){alert("Please select a user");return}if(fe.length===0&&He.length===0){alert("Please select at least one product, bundle, or add a custom product/service");return}ks.mutate({...q,user_id:parseInt(q.user_id),items:fe})},disabled:ks.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270] disabled:opacity-50",children:ks.isPending?"Creating...":"Create Order"})]})]})]})}),de&&P&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Order Request Details"}),s.jsx("button",{onClick:()=>{Y(!1),z(null),O(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("img",{src:xt.cross,className:"w-6 h-6",alt:"Close"})})]}),Tt?s.jsx(Ss,{message:"Loading request details..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.name||`${P.first_name} ${P.sur_name}`})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Phone:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.phone})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"User ID:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.id})]})]})]}),P.audit_requests&&P.audit_requests.length>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Audit Request Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total Requests:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.audit_request_count||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Pending:"}),s.jsx("span",{className:"ml-2 font-medium text-orange-600",children:P.pending_count||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Approved:"}),s.jsx("span",{className:"ml-2 font-medium text-green-600",children:P.approved_count||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Last Request:"}),s.jsx("span",{className:"ml-2 font-medium text-gray-900",children:P.last_audit_request_date?Ms(P.last_audit_request_date):"N/A"})]})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-700 text-sm",children:"Audit Requests:"}),P.audit_requests.map(X=>s.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200 text-xs",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:X.audit_type==="commercial"?"Commercial":"Home/Office"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${X.status==="approved"?"bg-green-100 text-green-800":X.status==="pending"?"bg-orange-100 text-orange-800":X.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:X.status})]}),X.has_property_details?s.jsx("span",{className:"text-green-600 font-medium",children:" Details Shared"}):s.jsx("span",{className:"text-yellow-600 font-medium",children:" Needs Details"})]}),X.has_property_details&&X.property_address&&s.jsxs("div",{className:"text-gray-600 mt-2 bg-green-50 p-2 rounded",children:[s.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Shared Property Details:"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",X.property_address]}),X.property_state&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"State:"})," ",X.property_state]}),X.property_floors&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Floors:"})," ",X.property_floors]}),X.property_rooms&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Rooms:"})," ",X.property_rooms]}),X.is_gated_estate!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Gated Estate:"})," ",X.is_gated_estate?"Yes":"No"]})]})]},X.id))]})]}),ut?.data?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Custom Order Request Details"}),ut.data.cart_items?.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Item"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Quantity"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Subtotal"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ut.data.cart_items.map(X=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:X.itemable?.title||`Item ${X.id}`}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:X.itemable_type?.includes("Product")?"Product":"Bundle"})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:X.quantity}),s.jsx("td",{className:"px-4 py-3 text-sm",children:vt(X.unit_price)}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:vt(X.subtotal)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this item?")&&tt.mutate({userId:ue,itemId:X.id})},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})})]},X.id))})]})}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total Amount:"}),s.jsx("span",{className:"text-lg font-bold text-[#273E8E]",children:vt(ut.data.total_amount||0)})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[P.audit_requests?.some(X=>X.has_property_details)&&s.jsx("button",{onClick:()=>{Y(!1),se({user_id:P.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Z(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}),s.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear the entire cart?")&&mt.mutate(ue)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600",children:"Clear Cart"}),s.jsx("button",{onClick:()=>{const X=prompt("Enter order type (buy_now or bnpl):","buy_now");X&&(X==="buy_now"||X==="bnpl")&&Ze.mutate({userId:ue,payload:{order_type:X}})},className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600",children:"Resend Cart Link"})]})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500 border border-gray-200 rounded-lg",children:[s.jsx("p",{className:"mb-4",children:"This user's cart is currently empty."}),P.audit_requests?.some(X=>X.has_property_details)?s.jsx("button",{onClick:()=>{Y(!1),se({user_id:P.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Z(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}):s.jsx("p",{className:"text-sm text-gray-600",children:"User needs to share property details before items can be added to cart."})]})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500 border border-gray-200 rounded-lg",children:[s.jsx("p",{className:"mb-4",children:"No cart data available for this user."}),P.audit_requests?.some(X=>X.has_property_details)?s.jsx("button",{onClick:()=>{Y(!1),se({user_id:P.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),ye([]),Z(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}):s.jsx("p",{className:"text-sm text-gray-600",children:"User needs to share property details before items can be added to cart."})]})]})]})}),re&&ue&&s.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Cart"}),s.jsx("button",{onClick:()=>{le(!1),O(null)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("img",{src:xt.cross,className:"w-6 h-6",alt:"Close"})})]}),Tt?s.jsx(Ss,{message:"Loading cart..."}):ut?.data?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold",children:ut.data.user?.name||"User"}),s.jsx("p",{className:"text-sm text-gray-600",children:ut.data.user?.email})]}),ut.data.cart_items?.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Item"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Quantity"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Subtotal"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ut.data.cart_items.map(X=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:X.itemable?.title||`Item ${X.id}`}),s.jsx("td",{className:"px-4 py-3 text-sm",children:X.quantity}),s.jsx("td",{className:"px-4 py-3 text-sm",children:vt(X.unit_price)}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:vt(X.subtotal)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this item?")&&tt.mutate({userId:ue,itemId:X.id})},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})})]},X.id))})]})}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),s.jsx("span",{className:"text-lg font-bold text-[#273E8E]",children:vt(ut.data.total_amount||0)})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear the entire cart?")&&mt.mutate(ue)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600",children:"Clear Cart"}),s.jsx("button",{onClick:()=>{const X=prompt("Enter order type (buy_now or bnpl):","buy_now");X&&(X==="buy_now"||X==="bnpl")&&Ze.mutate({userId:ue,payload:{order_type:X}})},className:"px-4 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Resend Cart Link"})]})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cart is empty"})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load cart"})]})})]})})},rM=async t=>await ct(dt.ADMIN.MaterialCategoriesList,"GET",void 0,t),wN=async(t,e)=>{let n=dt.ADMIN.MaterialsList;if(e){const a=new URLSearchParams;e.category_id&&a.append("category_id",e.category_id.toString()),e.is_active!==void 0&&a.append("is_active",e.is_active.toString()),e.search&&a.append("search",e.search),a.toString()&&(n+=`?${a.toString()}`)}return await ct(n,"GET",void 0,t)},iM=async(t,e)=>await ct(dt.ADMIN.MaterialCategoryCreate,"POST",t,e),lM=async(t,e,n)=>await ct(dt.ADMIN.MaterialCategoryUpdate(t),"PUT",e,n),oM=async(t,e)=>await ct(dt.ADMIN.MaterialCategoryDelete(t),"DELETE",void 0,e),cM=async(t,e)=>await ct(dt.ADMIN.MaterialCreate,"POST",t,e),dM=async(t,e,n)=>await ct(dt.ADMIN.MaterialUpdate(t),"PUT",e,n),uM=async(t,e)=>await ct(dt.ADMIN.MaterialDelete(t),"DELETE",void 0,e),hM=()=>{const[t,e]=L.useState("categories"),[n,a]=L.useState(""),[i,l]=L.useState("all"),[c,d]=L.useState("all"),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,b]=L.useState({name:"",code:"",description:"",sort_order:0,is_active:!0}),[N,S]=L.useState(!1),[k,_]=L.useState(null),[E,D]=L.useState({material_category_id:"",name:"",unit:"",warranty:"",rate:"",selling_rate:"",profit:"",sort_order:0,is_active:!0}),[R,I]=L.useState(!1),[ne,K]=L.useState(null),B=es.get("token")||"",H=ni(),{data:ee,isLoading:T,isError:F}=Ut({queryKey:["material-categories"],queryFn:()=>rM(B),enabled:!!B}),{data:$,isLoading:G,isError:ie}=Ut({queryKey:["materials",i,c,n],queryFn:()=>wN(B,{category_id:i!=="all"?i:void 0,is_active:c==="all"?void 0:c==="active",search:n||void 0}),enabled:!!B}),Z=ee?.data||ee||[],re=$?.data||$||[],le=It({mutationFn:he=>iM(he,B),onSuccess:()=>{H.invalidateQueries({queryKey:["material-categories"]}),f(!1),z()}}),de=It({mutationFn:({id:he,data:oe})=>lM(he,oe,B),onSuccess:()=>{H.invalidateQueries({queryKey:["material-categories"]}),f(!1),x(null),z()}}),Y=It({mutationFn:he=>oM(he,B),onSuccess:()=>{H.invalidateQueries({queryKey:["material-categories"]}),I(!1),K(null)},onError:he=>{alert(he?.message||"Failed to delete category. It may have associated materials."),I(!1),K(null)}}),ue=It({mutationFn:he=>cM(he,B),onSuccess:()=>{H.invalidateQueries({queryKey:["materials"]}),S(!1),q()}}),O=It({mutationFn:({id:he,data:oe})=>dM(he,oe,B),onSuccess:()=>{H.invalidateQueries({queryKey:["materials"]}),S(!1),_(null),q()}}),P=It({mutationFn:he=>uM(he,B),onSuccess:()=>{H.invalidateQueries({queryKey:["materials"]}),I(!1),K(null)}}),z=()=>{b({name:"",code:"",description:"",sort_order:0,is_active:!0}),x(null)},q=()=>{D({material_category_id:"",name:"",unit:"",warranty:"",rate:"",selling_rate:"",profit:"",sort_order:0,is_active:!0}),_(null)},se=he=>{he?(x(he),b({name:he.name,code:he.code||"",description:he.description||"",sort_order:he.sort_order,is_active:he.is_active})):z(),f(!0)},fe=he=>{he?(_(he),D({material_category_id:he.material_category_id.toString(),name:he.name,unit:he.unit,warranty:he.warranty?.toString()||"",rate:he.rate,selling_rate:he.selling_rate,profit:he.profit,sort_order:he.sort_order,is_active:he.is_active})):q(),S(!0)},ye=he=>{he.preventDefault();const oe={name:w.name,sort_order:w.sort_order,is_active:w.is_active};w.code&&(oe.code=w.code),w.description&&(oe.description=w.description),p?de.mutate({id:p.id,data:oe}):le.mutate(oe)},Se=he=>{he.preventDefault();const oe={material_category_id:parseInt(E.material_category_id),name:E.name,unit:E.unit,sort_order:E.sort_order,is_active:E.is_active};E.warranty&&(oe.warranty=parseInt(E.warranty)),E.rate&&(oe.rate=parseFloat(E.rate)),E.selling_rate&&(oe.selling_rate=parseFloat(E.selling_rate)),E.profit&&(oe.profit=parseFloat(E.profit)),k?O.mutate({id:k.id,data:oe}):ue.mutate(oe)},Oe=(he,oe,Nt)=>{K({type:he,id:oe,name:Nt}),I(!0)},He=()=>{ne&&(ne.type==="category"?Y.mutate(ne.id):P.mutate(ne.id))},Ie=Z.filter(he=>he.name.toLowerCase().includes(n.toLowerCase())||he.code?.toLowerCase().includes(n.toLowerCase())),Ke=re.filter(he=>he.name.toLowerCase().includes(n.toLowerCase()));return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png"}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Material Management"})}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="categories"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("categories"),children:"Material Categories"}),s.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="materials"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("materials"),children:"Materials"})]})})}),t==="categories"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"relative w-[320px]",children:[s.jsx("input",{type:"text",placeholder:"Search categories...",value:n,onChange:he=>a(he.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-full focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),s.jsx("button",{onClick:()=>se(),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Add Category"})]}),T?s.jsx(Ss,{message:"Loading categories..."}):F?s.jsx("div",{className:"p-8 text-center text-red-500",children:"Failed to load categories. Please try again."}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Code"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Sort Order"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:Ie.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No categories found"})}):Ie.map((he,oe)=>s.jsxs("tr",{className:`${oe%2===0?"bg-[#F8F8F8]":"bg-white"} border-b border-gray-100`,children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:he.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:he.code||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:he.description||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:he.sort_order}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${he.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:he.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>se(he),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Edit"}),s.jsx("button",{onClick:()=>Oe("category",he.id,he.name),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Delete"})]})})]},he.id))})]})})]}),t==="materials"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative w-[320px]",children:[s.jsx("input",{type:"text",placeholder:"Search materials...",value:n,onChange:he=>a(he.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-full focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),s.jsxs("select",{value:i,onChange:he=>l(he.target.value),className:"px-4 py-3.5 border border-[#00000080] rounded-lg text-[15px] bg-white focus:outline-none shadow-[0_2px_6px_rgba(0,0,0,0.05)]",children:[s.jsx("option",{value:"all",children:"All Categories"}),Z.map(he=>s.jsx("option",{value:he.id.toString(),children:he.name},he.id))]}),s.jsxs("select",{value:c,onChange:he=>d(he.target.value),className:"px-4 py-3.5 border border-[#00000080] rounded-lg text-[15px] bg-white focus:outline-none shadow-[0_2px_6px_rgba(0,0,0,0.05)]",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsx("button",{onClick:()=>fe(),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Add Material"})]}),G?s.jsx(Ss,{message:"Loading materials..."}):ie?s.jsx("div",{className:"p-8 text-center text-red-500",children:"Failed to load materials. Please try again."}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1000px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Unit"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Warranty"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Rate"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Selling Rate"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Profit"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:Ke.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No materials found"})}):Ke.map((he,oe)=>s.jsxs("tr",{className:`${oe%2===0?"bg-[#F8F8F8]":"bg-white"} border-b border-gray-100`,children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:he.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:he.category?.name||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:he.unit}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:he.warranty?`${he.warranty} years`:"-"}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",parseFloat(he.rate||"0").toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",parseFloat(he.selling_rate||"0").toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["",parseFloat(he.profit||"0").toLocaleString()]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${he.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:he.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>fe(he),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Edit"}),s.jsx("button",{onClick:()=>Oe("material",he.id,he.name),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Delete"})]})})]},he.id))})]})})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:p?"Edit Category":"Add Category"}),s.jsx("button",{onClick:()=>{f(!1),z()},className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:ye,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:w.name,onChange:he=>b({...w,name:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code"}),s.jsx("input",{type:"text",value:w.code,onChange:he=>b({...w,code:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:w.description,onChange:he=>b({...w,description:he.target.value}),rows:3,className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),s.jsx("input",{type:"number",value:w.sort_order,onChange:he=>b({...w,sort_order:parseInt(he.target.value)||0}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:w.is_active,onChange:he=>b({...w,is_active:he.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),z()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:le.isPending||de.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-full font-medium transition-colors hover:bg-[#1f2f7a] disabled:opacity-50 disabled:cursor-not-allowed",children:le.isPending||de.isPending?"Saving...":p?"Update":"Create"})]})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:k?"Edit Material":"Add Material"}),s.jsx("button",{onClick:()=>{S(!1),q()},className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:Se,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:E.material_category_id,onChange:he=>D({...E,material_category_id:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"",children:"Select Category"}),Z.map(he=>s.jsx("option",{value:he.id,children:he.name},he.id))]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:E.name,onChange:he=>D({...E,name:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Unit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:E.unit,onChange:he=>D({...E,unit:he.target.value}),placeholder:"e.g., Nos, Mtrs",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warranty (years)"}),s.jsx("input",{type:"number",value:E.warranty,onChange:he=>D({...E,warranty:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate"}),s.jsx("input",{type:"number",step:"0.01",value:E.rate,onChange:he=>{const oe=he.target.value,at=(E.selling_rate?parseFloat(E.selling_rate):0)-(parseFloat(oe)||0);D({...E,rate:oe,profit:at>0?at.toFixed(2):""})},className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Rate"}),s.jsx("input",{type:"number",step:"0.01",value:E.selling_rate,onChange:he=>{const oe=he.target.value,Nt=E.rate?parseFloat(E.rate):0,at=parseFloat(oe)-Nt;D({...E,selling_rate:oe,profit:at>0?at.toFixed(2):""})},className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profit"}),s.jsx("input",{type:"number",step:"0.01",value:E.profit,onChange:he=>D({...E,profit:he.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),s.jsx("input",{type:"number",value:E.sort_order,onChange:he=>D({...E,sort_order:parseInt(he.target.value)||0}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:E.is_active,onChange:he=>D({...E,is_active:he.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{S(!1),q()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:ue.isPending||O.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-full font-medium transition-colors hover:bg-[#1f2f7a] disabled:opacity-50 disabled:cursor-not-allowed",children:ue.isPending||O.isPending?"Saving...":k?"Update":"Create"})]})]})]})}),R&&ne&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Delete"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete"," ",s.jsx("strong",{children:ne.name}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{I(!1),K(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:He,disabled:Y.isPending||P.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-full font-medium transition-colors hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending||P.isPending?"Deleting...":"Delete"})]})]})})]})},fM=async(t,e)=>await ct(dt.ADMIN.BundleMaterialsList(t),"GET",void 0,e),mM=async(t,e,n)=>await ct(dt.ADMIN.BundleMaterialAdd(t),"POST",e,n),pM=async(t,e,n,a)=>await ct(dt.ADMIN.BundleMaterialUpdate(t,e),"PUT",n,a),xM=async(t,e,n)=>await ct(dt.ADMIN.BundleMaterialDelete(t,e),"DELETE",void 0,n),gM=()=>{const[t,e]=L.useState(""),[n,a]=L.useState("all"),[i,l]=L.useState(!1),[c,d]=L.useState(null),[h,f]=L.useState({title:"",bundle_type:"Inverter + Battery",total_price:"",discount_price:"",inver_rating:"",total_output:"",total_load:"",description:"",product_model:"",what_is_inside:"",what_it_powers:"",backup_time_description:""}),[p,x]=L.useState(null),[w,b]=L.useState(null),[N,S]=L.useState(!1),[k,_]=L.useState(null),[E,D]=L.useState(!1),[R,I]=L.useState(null),[ne,K]=L.useState(!1),[B,H]=L.useState(null),[ee,T]=L.useState({material_id:"",quantity:""}),[F,$]=L.useState(!1),[G,ie]=L.useState(null),Z=es.get("token")||"",re=ni(),{data:le,isLoading:de,isError:Y}=Ut({queryKey:["bundles",n],queryFn:()=>xN(Z,{bundle_type:n!=="all"?n:void 0}),enabled:!!Z}),ue=le?.data||le||[],{data:O}=Ut({queryKey:["materials"],queryFn:()=>wN(Z),enabled:!!Z&&ne}),P=O?.data||O||[],{data:z,isLoading:q}=Ut({queryKey:["bundle-materials",R?.id],queryFn:()=>fM(R.id,Z),enabled:!!Z&&!!R&&E}),se=z?.data||z||[],fe=It({mutationFn:je=>fN(je,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundles"]}),l(!1),Ke()}}),ye=It({mutationFn:({id:je,data:lt})=>mN(je,lt,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundles"]}),l(!1),d(null),Ke()}}),Se=It({mutationFn:je=>ig(je,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundles"]}),S(!1),_(null)}}),Oe=It({mutationFn:({bundleId:je,data:lt})=>mM(je,lt,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundle-materials"]}),K(!1),Pe()}}),He=It({mutationFn:({bundleId:je,materialId:lt,data:Ee})=>pM(je,lt,Ee,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundle-materials"]}),K(!1),H(null),Pe()}}),Ie=It({mutationFn:({bundleId:je,materialId:lt})=>xM(je,lt,Z),onSuccess:()=>{re.invalidateQueries({queryKey:["bundle-materials"]}),$(!1),ie(null)}}),Ke=()=>{f({title:"",bundle_type:"Inverter + Battery",total_price:"",discount_price:"",inver_rating:"",total_output:"",total_load:"",description:"",product_model:"",what_is_inside:"",what_it_powers:"",backup_time_description:""}),x(null),b(null),d(null)},he=je=>{je?(d(je),f({title:je.title,bundle_type:je.bundle_type,total_price:je.total_price.toString(),discount_price:je.discount_price?.toString()||"",inver_rating:je.inver_rating||"",total_output:je.total_output||"",total_load:je.total_load||"",description:je.detailed_description||"",product_model:je.product_model||"",what_is_inside:je.what_is_inside_bundle_text||"",what_it_powers:je.what_bundle_powers_text||"",backup_time_description:je.backup_time_description||""}),je.featured_image&&b(je.featured_image)):Ke(),l(!0)},oe=je=>{const lt=je.target.files?.[0];if(lt){x(lt);const Ee=new FileReader;Ee.onloadend=()=>{b(Ee.result)},Ee.readAsDataURL(lt)}},Nt=je=>{je.preventDefault();const lt={title:h.title,bundle_type:h.bundle_type,total_price:parseFloat(h.total_price)||0,discount_price:parseFloat(h.discount_price)||0};h.inver_rating&&(lt.inver_rating=h.inver_rating),h.total_output&&(lt.total_output=h.total_output),h.total_load&&(lt.total_load=h.total_load),h.bundle_type==="Inverter + Battery"&&(lt.total_load=null),h.description&&(lt.detailed_description=h.description),h.product_model&&(lt.product_model=h.product_model),h.what_is_inside&&(lt.what_is_inside_bundle_text=h.what_is_inside),h.what_it_powers&&(lt.what_bundle_powers_text=h.what_it_powers),h.backup_time_description&&(lt.backup_time_description=h.backup_time_description),p&&(lt.featured_image=p),c?ye.mutate({id:c.id,data:lt}):fe.mutate(lt)},at=(je,lt)=>{_({id:je,title:lt}),S(!0)},bt=()=>{k&&Se.mutate(k.id)},et=ue.filter(je=>je.title.toLowerCase().includes(t.toLowerCase())||je.bundle_type.toLowerCase().includes(t.toLowerCase())),ft=(je,lt)=>je===0||lt===0?0:Math.round(lt/je*100),ot=je=>{I(je),D(!0)},yt=je=>{je?(H(je),T({material_id:je.material_id.toString(),quantity:je.quantity})):Pe(),K(!0)},Pe=()=>{T({material_id:"",quantity:""}),H(null)},ht=je=>{if(je.preventDefault(),!R)return;const lt={material_id:parseInt(ee.material_id),quantity:parseFloat(ee.quantity)};B?He.mutate({bundleId:R.id,materialId:B.id,data:{quantity:lt.quantity}}):Oe.mutate({bundleId:R.id,data:lt})},Be=je=>{ie({id:je.id,name:je.material.name}),$(!0)},Qe=()=>{!G||!R||Ie.mutate({bundleId:R.id,materialId:G.id})};return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png"}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bundle Management"})}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative w-[320px]",children:[s.jsx("input",{type:"text",placeholder:"Search bundles...",value:t,onChange:je=>e(je.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-full focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),s.jsxs("select",{value:n,onChange:je=>a(je.target.value),className:"px-4 py-3.5 border border-[#00000080] rounded-lg text-[15px] bg-white focus:outline-none shadow-[0_2px_6px_rgba(0,0,0,0.05)]",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"Inverter + Battery",children:"Inverter + Battery"}),s.jsx("option",{value:"Solar+Inverter+Battery",children:"Solar+Inverter+Battery"})]})]}),s.jsx("button",{onClick:()=>he(),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Add Bundle"})]}),de?s.jsx(Ss,{message:"Loading bundles..."}):Y?s.jsx("div",{className:"p-8 text-center text-red-500",children:"Failed to load bundles. Please try again."}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Inverter Rating"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Output"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Load"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Discount Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Discount %"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:et.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No bundles found"})}):et.map((je,lt)=>{const Ee=ft(je.total_price,je.discount_price);return s.jsxs("tr",{className:`${lt%2===0?"bg-[#F8F8F8]":"bg-white"} border-b border-gray-100`,children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:je.title}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${je.bundle_type==="Inverter + Battery"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:je.bundle_type})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.inver_rating||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.total_output||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.total_load||"-"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["",je.total_price.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:je.discount_price>0?s.jsxs("span",{className:"text-green-600",children:["",je.discount_price.toLocaleString()]}):"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ee>0?s.jsxs("span",{className:"text-green-600 font-semibold",children:[Ee,"%"]}):"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>ot(je),className:"bg-[#E8A91D] hover:bg-[#d89a1a] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Materials"}),s.jsx("button",{onClick:()=>he(je),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Edit"}),s.jsx("button",{onClick:()=>at(je.id,je.title),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Delete"})]})})]},je.id)})})]})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Edit Bundle":"Add Bundle"}),s.jsx("button",{onClick:()=>{l(!1),Ke()},className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:Nt,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:h.title,onChange:je=>f({...h,title:je.target.value}),placeholder:"e.g., Y1.2kVA+1.3kWh",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bundle Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:h.bundle_type,onChange:je=>f({...h,bundle_type:je.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"Inverter + Battery",children:"Inverter + Battery"}),s.jsx("option",{value:"Solar+Inverter+Battery",children:"Solar+Inverter+Battery"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Total Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,step:"0.01",value:h.total_price,onChange:je=>f({...h,total_price:je.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price"}),s.jsx("input",{type:"number",step:"0.01",value:h.discount_price,onChange:je=>f({...h,discount_price:je.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inverter Rating"}),s.jsx("input",{type:"text",value:h.inver_rating,onChange:je=>f({...h,inver_rating:je.target.value}),placeholder:"e.g., 1.2 kVA",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Output"}),s.jsx("input",{type:"text",value:h.total_output,onChange:je=>f({...h,total_output:je.target.value}),placeholder:"e.g., 1.3 kWh",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),h.bundle_type==="Solar+Inverter+Battery"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Load (Solar Panel Wattage)"}),s.jsx("input",{type:"text",value:h.total_load,onChange:je=>f({...h,total_load:je.target.value}),placeholder:"e.g., 600 W",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{rows:3,value:h.description,onChange:je=>f({...h,description:je.target.value}),placeholder:"Full description of the bundle and what it powers...",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Model"}),s.jsx("input",{type:"text",value:h.product_model,onChange:je=>f({...h,product_model:je.target.value}),placeholder:"e.g. OG-1P1K2-T - 1.2kVA Yinergy Inverter / GCL 12100 12V 1.3kWh Battery",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What is inside the bundle"}),s.jsx("textarea",{rows:2,value:h.what_is_inside,onChange:je=>f({...h,what_is_inside:je.target.value}),placeholder:"e.g. 1 unit 1.2kVA Inverter, 1 unit 1.3kWh Battery & Installation Materials",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What the bundle will power"}),s.jsx("textarea",{rows:2,value:h.what_it_powers,onChange:je=>f({...h,what_it_powers:je.target.value}),placeholder:"e.g. 610 LED bulbs, 1 LED TV, 1 Decoder, 1 Fan, 1 Laptop, Wi-Fi",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Back-up time description"}),s.jsx("input",{type:"text",value:h.backup_time_description,onChange:je=>f({...h,backup_time_description:je.target.value}),placeholder:"e.g. 19 hours depending on load",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),w&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:w,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),Ke()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:fe.isPending||ye.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-full font-medium transition-colors hover:bg-[#1f2f7a] disabled:opacity-50 disabled:cursor-not-allowed",children:fe.isPending||ye.isPending?"Saving...":c?"Update":"Create"})]})]})]})}),N&&k&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Delete"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete bundle ",s.jsx("strong",{children:k.title}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{S(!1),_(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:bt,disabled:Se.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-full font-medium transition-colors hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Se.isPending?"Deleting...":"Delete"})]})]})}),E&&R&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Manage Materials - ",R.title]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Bundle Type: ",R.bundle_type]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>yt(),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Add Material"}),s.jsx("button",{onClick:()=>{D(!1),I(null)},className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),q?s.jsx(Ss,{message:"Loading materials..."}):s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Material Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Unit"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Quantity"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Warranty"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white",children:se.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No materials found. Add materials to this bundle."})}):se.map((je,lt)=>s.jsxs("tr",{className:`${lt%2===0?"bg-[#F8F8F8]":"bg-white"} border-b border-gray-100`,children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:je.material.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.material.category.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.material.unit}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.quantity}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:je.material.warranty?`${je.material.warranty} years`:"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("button",{onClick:()=>yt(je),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Edit"}),s.jsx("button",{onClick:()=>Be(je),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Remove"})]})})]},je.id))})]})})]})}),ne&&R&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:B?"Edit Material":"Add Material"}),s.jsx("button",{onClick:()=>{K(!1),Pe()},className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:ht,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Material ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:!!B,value:ee.material_id,onChange:je=>T({...ee,material_id:je.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Select Material"}),P.map(je=>s.jsxs("option",{value:je.id,children:[je.name," (",je.category?.name||"N/A",") - ",je.unit]},je.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,step:"0.01",min:"0.01",value:ee.quantity,onChange:je=>T({...ee,quantity:je.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{K(!1),Pe()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:Oe.isPending||He.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-full font-medium transition-colors hover:bg-[#1f2f7a] disabled:opacity-50 disabled:cursor-not-allowed",children:Oe.isPending||He.isPending?"Saving...":B?"Update":"Add"})]})]})]})}),F&&G&&s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Remove"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to remove ",s.jsx("strong",{children:G.name})," from this bundle? This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{$(!1),ie(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Qe,disabled:Ie.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-full font-medium transition-colors hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Ie.isPending?"Removing...":"Remove"})]})]})})]})},bM=()=>{const t=ya();return s.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[s.jsx(Un,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] p-8",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-9xl font-bold text-[#273E8E] mb-4",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go to Dashboard"}),s.jsx("button",{onClick:()=>t(-1),className:"bg-white hover:bg-gray-50 text-[#273E8E] border-2 border-[#273E8E] px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go Back"})]})]})})]})},yM=()=>{const t=ya();return s.jsx("div",{className:"bg-[#F5F7FF] min-h-screen flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-9xl font-bold text-[#273E8E] mb-4",children:"404"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>t("/login"),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go to Login"}),s.jsx("button",{onClick:()=>t(-1),className:"bg-white hover:bg-gray-50 text-[#273E8E] border-2 border-[#273E8E] px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go Back"})]})]})})};function vM({children:t}){const e=es.get("token"),n=ar();return e?s.jsx(s.Fragment,{children:t}):s.jsx(C4,{to:"/login",replace:!0,state:{from:n}})}function wM(){return s.jsx(e3,{basename:"/",children:s.jsxs(E4,{children:[s.jsx(Qs,{path:"login",element:s.jsx(SD,{})}),s.jsxs(Qs,{path:"/",element:s.jsx(vM,{children:s.jsx(S6,{})}),children:[s.jsx(Qs,{index:!0,element:s.jsx(t1,{})}),s.jsx(Qs,{path:"dashboard",element:s.jsx(t1,{})}),s.jsx(Qs,{path:"user-mgt",element:s.jsx(Mk,{})}),s.jsx(Qs,{path:"credit-score",element:s.jsx(GE,{})}),s.jsx(Qs,{path:"loans-mgt",element:s.jsx(KE,{})}),s.jsx(Qs,{path:"loans-approval",element:s.jsx(PD,{})}),s.jsx(Qs,{path:"loans-disbursement",element:s.jsx(tL,{})}),s.jsx(Qs,{path:"transactions",element:s.jsx(nL,{})}),s.jsx(Qs,{path:"balances",element:s.jsx(oL,{})}),s.jsx(Qs,{path:"shop-mgt",element:s.jsx(yL,{})}),s.jsx(Qs,{path:"bnpl-buynow",element:s.jsx(aM,{})}),s.jsx(Qs,{path:"material-mgt",element:s.jsx(hM,{})}),s.jsx(Qs,{path:"bundle-mgt",element:s.jsx(gM,{})}),s.jsx(Qs,{path:"referral-mgt",element:s.jsx(jL,{})}),s.jsx(Qs,{path:"tickets",element:s.jsx(DD,{})}),s.jsx(Qs,{path:"analytics",element:s.jsx(CL,{})}),s.jsx(Qs,{path:"settings",element:s.jsx(pD,{})}),s.jsx(Qs,{path:"user-activity/:id",element:s.jsx(Ok,{})}),s.jsx(Qs,{path:"user-activity/:id/loans",element:s.jsx(BE,{})}),s.jsx(Qs,{path:"user-activity/:id/transactions",element:s.jsx(qE,{})}),s.jsx(Qs,{path:"user-activity/:id/orders",element:s.jsx(VE,{})}),s.jsx(Qs,{path:"*",element:s.jsx(bM,{})})]}),s.jsx(Qs,{path:"*",element:s.jsx(yM,{})})]})})}const NM=new A3({defaultOptions:{queries:{retry:(t,e)=>e?.statusCode===401?!1:t<3}}});Oj.createRoot(document.getElementById("root")).render(s.jsx(L.StrictMode,{children:s.jsx(F3,{client:NM,children:s.jsx(wM,{})})}));export{Rs as _,jM as c,_j as g};
