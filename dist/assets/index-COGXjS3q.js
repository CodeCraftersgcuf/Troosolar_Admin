(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var WD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sp={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function wj(){if(a1)return Hd;a1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:t,type:a,key:c,ref:r!==void 0?r:null,props:o}}return Hd.Fragment=e,Hd.jsx=s,Hd.jsxs=s,Hd}var i1;function Nj(){return i1||(i1=1,sp.exports=wj()),sp.exports}var n=Nj(),np={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function jj(){if(r1)return Kt;r1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function w(X){return X===null||typeof X!="object"?null:(X=x&&X[x]||X["@@iterator"],typeof X=="function"?X:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function C(X,de,D){this.props=X,this.context=de,this.refs=_,this.updater=D||y}C.prototype.isReactComponent={},C.prototype.setState=function(X,de){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,de,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=C.prototype;function L(X,de,D){this.props=X,this.context=de,this.refs=_,this.updater=D||y}var E=L.prototype=new S;E.constructor=L,j(E,C.prototype),E.isPureReactComponent=!0;var P=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function G(X,de,D,W,z,$){return D=$.ref,{$$typeof:t,type:X,key:de,ref:D!==void 0?D:null,props:$}}function U(X,de){return G(X.type,de,void 0,void 0,void 0,X.props)}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function ee(X){var de={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(D){return de[D]})}var T=/\/+/g;function F(X,de){return typeof X=="object"&&X!==null&&X.key!=null?ee(""+X.key):de.toString(36)}function Z(){}function K(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Z,Z):(X.status="pending",X.then(function(de){X.status==="pending"&&(X.status="fulfilled",X.value=de)},function(de){X.status==="pending"&&(X.status="rejected",X.reason=de)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function fe(X,de,D,W,z){var $=typeof X;($==="undefined"||$==="boolean")&&(X=null);var ne=!1;if(X===null)ne=!0;else switch($){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(X.$$typeof){case t:case e:ne=!0;break;case p:return ne=X._init,fe(ne(X._payload),de,D,W,z)}}if(ne)return z=z(X),ne=W===""?"."+F(X,0):W,P(z)?(D="",ne!=null&&(D=ne.replace(T,"$&/")+"/"),fe(z,de,D,"",function(Ne){return Ne})):z!=null&&(I(z)&&(z=U(z,D+(z.key==null||X&&X.key===z.key?"":(""+z.key).replace(T,"$&/")+"/")+ne)),de.push(z)),1;ne=0;var te=W===""?".":W+":";if(P(X))for(var ge=0;ge<X.length;ge++)W=X[ge],$=te+F(W,ge),ne+=fe(W,de,D,$,z);else if(ge=w(X),typeof ge=="function")for(X=ge.call(X),ge=0;!(W=X.next()).done;)W=W.value,$=te+F(W,ge++),ne+=fe(W,de,D,$,z);else if($==="object"){if(typeof X.then=="function")return fe(K(X),de,D,W,z);throw de=String(X),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return ne}function R(X,de,D){if(X==null)return X;var W=[],z=0;return fe(X,W,"","",function($){return de.call(D,$,z++)}),W}function ie(X){if(X._status===-1){var de=X._result;de=de(),de.then(function(D){(X._status===0||X._status===-1)&&(X._status=1,X._result=D)},function(D){(X._status===0||X._status===-1)&&(X._status=2,X._result=D)}),X._status===-1&&(X._status=0,X._result=de)}if(X._status===1)return X._result.default;throw X._result}var re=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function me(){}return Kt.Children={map:R,forEach:function(X,de,D){R(X,function(){de.apply(this,arguments)},D)},count:function(X){var de=0;return R(X,function(){de++}),de},toArray:function(X){return R(X,function(de){return de})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Kt.Component=C,Kt.Fragment=s,Kt.Profiler=r,Kt.PureComponent=L,Kt.StrictMode=a,Kt.Suspense=h,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return V.H.useMemoCache(X)}},Kt.cache=function(X){return function(){return X.apply(null,arguments)}},Kt.cloneElement=function(X,de,D){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var W=j({},X.props),z=X.key,$=void 0;if(de!=null)for(ne in de.ref!==void 0&&($=void 0),de.key!==void 0&&(z=""+de.key),de)!ae.call(de,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&de.ref===void 0||(W[ne]=de[ne]);var ne=arguments.length-2;if(ne===1)W.children=D;else if(1<ne){for(var te=Array(ne),ge=0;ge<ne;ge++)te[ge]=arguments[ge+2];W.children=te}return G(X.type,z,void 0,void 0,$,W)},Kt.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Kt.createElement=function(X,de,D){var W,z={},$=null;if(de!=null)for(W in de.key!==void 0&&($=""+de.key),de)ae.call(de,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(z[W]=de[W]);var ne=arguments.length-2;if(ne===1)z.children=D;else if(1<ne){for(var te=Array(ne),ge=0;ge<ne;ge++)te[ge]=arguments[ge+2];z.children=te}if(X&&X.defaultProps)for(W in ne=X.defaultProps,ne)z[W]===void 0&&(z[W]=ne[W]);return G(X,$,void 0,void 0,null,z)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(X){return{$$typeof:d,render:X}},Kt.isValidElement=I,Kt.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:ie}},Kt.memo=function(X,de){return{$$typeof:f,type:X,compare:de===void 0?null:de}},Kt.startTransition=function(X){var de=V.T,D={};V.T=D;try{var W=X(),z=V.S;z!==null&&z(D,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(me,re)}catch($){re($)}finally{V.T=de}},Kt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Kt.use=function(X){return V.H.use(X)},Kt.useActionState=function(X,de,D){return V.H.useActionState(X,de,D)},Kt.useCallback=function(X,de){return V.H.useCallback(X,de)},Kt.useContext=function(X){return V.H.useContext(X)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(X,de){return V.H.useDeferredValue(X,de)},Kt.useEffect=function(X,de,D){var W=V.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(X,de)},Kt.useId=function(){return V.H.useId()},Kt.useImperativeHandle=function(X,de,D){return V.H.useImperativeHandle(X,de,D)},Kt.useInsertionEffect=function(X,de){return V.H.useInsertionEffect(X,de)},Kt.useLayoutEffect=function(X,de){return V.H.useLayoutEffect(X,de)},Kt.useMemo=function(X,de){return V.H.useMemo(X,de)},Kt.useOptimistic=function(X,de){return V.H.useOptimistic(X,de)},Kt.useReducer=function(X,de,D){return V.H.useReducer(X,de,D)},Kt.useRef=function(X){return V.H.useRef(X)},Kt.useState=function(X){return V.H.useState(X)},Kt.useSyncExternalStore=function(X,de,D){return V.H.useSyncExternalStore(X,de,D)},Kt.useTransition=function(){return V.H.useTransition()},Kt.version="19.1.0",Kt}var o1;function kg(){return o1||(o1=1,np.exports=jj()),np.exports}var O=kg();const yi=vj(O);var ap={exports:{}},$d={},ip={exports:{}},rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function Sj(){return l1||(l1=1,function(t){function e(R,ie){var re=R.length;R.push(ie);e:for(;0<re;){var me=re-1>>>1,X=R[me];if(0<r(X,ie))R[me]=ie,R[re]=X,re=me;else break e}}function s(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var ie=R[0],re=R.pop();if(re!==ie){R[0]=re;e:for(var me=0,X=R.length,de=X>>>1;me<de;){var D=2*(me+1)-1,W=R[D],z=D+1,$=R[z];if(0>r(W,re))z<X&&0>r($,W)?(R[me]=$,R[z]=re,me=z):(R[me]=W,R[D]=re,me=D);else if(z<X&&0>r($,re))R[me]=$,R[z]=re,me=z;else break e}}return ie}function r(R,ie){var re=R.sortIndex-ie.sortIndex;return re!==0?re:R.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,x=null,w=3,y=!1,j=!1,_=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(R){for(var ie=s(f);ie!==null;){if(ie.callback===null)a(f);else if(ie.startTime<=R)a(f),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=s(f)}}function V(R){if(_=!1,P(R),!j)if(s(h)!==null)j=!0,ae||(ae=!0,F());else{var ie=s(f);ie!==null&&fe(V,ie.startTime-R)}}var ae=!1,G=-1,U=5,I=-1;function ee(){return C?!0:!(t.unstable_now()-I<U)}function T(){if(C=!1,ae){var R=t.unstable_now();I=R;var ie=!0;try{e:{j=!1,_&&(_=!1,L(G),G=-1),y=!0;var re=w;try{t:{for(P(R),x=s(h);x!==null&&!(x.expirationTime>R&&ee());){var me=x.callback;if(typeof me=="function"){x.callback=null,w=x.priorityLevel;var X=me(x.expirationTime<=R);if(R=t.unstable_now(),typeof X=="function"){x.callback=X,P(R),ie=!0;break t}x===s(h)&&a(h),P(R)}else a(h);x=s(h)}if(x!==null)ie=!0;else{var de=s(f);de!==null&&fe(V,de.startTime-R),ie=!1}}break e}finally{x=null,w=re,y=!1}ie=void 0}}finally{ie?F():ae=!1}}}var F;if(typeof E=="function")F=function(){E(T)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=T,F=function(){K.postMessage(null)}}else F=function(){S(T,0)};function fe(R,ie){G=S(function(){R(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(R){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var re=w;w=ie;try{return R()}finally{w=re}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(R,ie){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var re=w;w=R;try{return ie()}finally{w=re}},t.unstable_scheduleCallback=function(R,ie,re){var me=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,R={id:p++,callback:ie,priorityLevel:R,startTime:re,expirationTime:X,sortIndex:-1},re>me?(R.sortIndex=re,e(f,R),s(h)===null&&R===s(f)&&(_?(L(G),G=-1):_=!0,fe(V,re-me))):(R.sortIndex=X,e(h,R),j||y||(j=!0,ae||(ae=!0,F()))),R},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(R){var ie=w;return function(){var re=w;w=ie;try{return R.apply(this,arguments)}finally{w=re}}}}(rp)),rp}var c1;function _j(){return c1||(c1=1,ip.exports=Sj()),ip.exports}var op={exports:{}},ma={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function Aj(){if(u1)return ma;u1=1;var t=kg();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ma.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,p)},ma.flushSync=function(h){var f=c.T,p=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=p,a.d.f()}},ma.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},ma.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},ma.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:y}):p==="script"&&a.d.X(h,{crossOrigin:x,integrity:w,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ma.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},ma.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);a.d.L(h,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ma.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},ma.requestFormReset=function(h){a.d.r(h)},ma.unstable_batchedUpdates=function(h,f){return h(f)},ma.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},ma.useFormStatus=function(){return c.H.useHostTransitionStatus()},ma.version="19.1.0",ma}var d1;function Cj(){if(d1)return op.exports;d1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=Aj(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function kj(){if(h1)return $d;h1=1;var t=_j(),e=kg(),s=Cj();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(a(188))}function h(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,m=l;;){var b=u.return;if(b===null)break;var N=b.alternate;if(N===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===u)return d(b),i;if(N===m)return d(b),l;N=N.sibling}throw Error(a(188))}if(u.return!==m.return)u=b,m=N;else{for(var B=!1,J=b.child;J;){if(J===u){B=!0,u=b,m=N;break}if(J===m){B=!0,m=b,u=N;break}J=J.sibling}if(!B){for(J=N.child;J;){if(J===u){B=!0,u=N,m=b;break}if(J===m){B=!0,m=N,u=b;break}J=J.sibling}if(!B)throw Error(a(189))}}if(u.alternate!==m)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function f(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=f(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function K(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case V:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case E:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case P:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return l=i.displayName||null,l!==null?l:K(i.type)||"Memo";case U:l=i._payload,i=i._init;try{return K(i(l))}catch{}}return null}var fe=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},me=[],X=-1;function de(i){return{current:i}}function D(i){0>X||(i.current=me[X],me[X]=null,X--)}function W(i,l){X++,me[X]=i.current,i.current=l}var z=de(null),$=de(null),ne=de(null),te=de(null);function ge(i,l){switch(W(ne,l),W($,i),W(z,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Mb(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Mb(l),i=Fb(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}D(z),W(z,i)}function Ne(){D(z),D($),D(ne)}function Oe(i){i.memoizedState!==null&&W(te,i);var l=z.current,u=Fb(l,i.type);l!==u&&(W($,i),W(z,u))}function Xe(i){$.current===i&&(D(z),D($)),te.current===i&&(D(te),Rd._currentValue=re)}var Re=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,he=t.unstable_shouldYield,Rt=t.unstable_requestPaint,Te=t.unstable_now,et=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,St=t.unstable_LowPriority,xt=t.unstable_IdlePriority,Zt=t.log,Ye=t.unstable_setDisableYieldValue,ct=null,vt=null;function At(i){if(typeof Zt=="function"&&Ye(i),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ct,i)}catch{}}var ye=Math.clz32?Math.clz32:Ht,tt=Math.log,ot=Math.LN2;function Ht(i){return i>>>=0,i===0?32:31-(tt(i)/ot|0)|0}var Yt=256,it=4194304;function kt(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function is(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var b=0,N=i.suspendedLanes,B=i.pingedLanes;i=i.warmLanes;var J=m&134217727;return J!==0?(m=J&~N,m!==0?b=kt(m):(B&=J,B!==0?b=kt(B):u||(u=J&~i,u!==0&&(b=kt(u))))):(J=m&~N,J!==0?b=kt(J):B!==0?b=kt(B):u||(u=m&~i,u!==0&&(b=kt(u)))),b===0?0:l!==0&&l!==b&&(l&N)===0&&(N=b&-b,u=l&-l,N>=u||N===32&&(u&4194048)!==0)?l:b}function jt(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function ze(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var i=Yt;return Yt<<=1,(Yt&4194048)===0&&(Yt=256),i}function st(){var i=it;return it<<=1,(it&62914560)===0&&(it=4194304),i}function Ds(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ss(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ft(i,l,u,m,b,N){var B=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var J=i.entanglements,pe=i.expirationTimes,Le=i.hiddenUpdates;for(u=B&~u;0<u;){var He=31-ye(u),Ge=1<<He;J[He]=0,pe[He]=-1;var De=Le[He];if(De!==null)for(Le[He]=null,He=0;He<De.length;He++){var Me=De[He];Me!==null&&(Me.lane&=-536870913)}u&=~Ge}m!==0&&fs(i,m,0),N!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=N&~(B&~l))}function fs(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-ye(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&4194090}function Dr(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-ye(u),b=1<<m;b&l|i[m]&l&&(i[m]|=l),u&=~b}}function An(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Za(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ja(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:Zb(i.type))}function Et(i,l){var u=ie.p;try{return ie.p=i,l()}finally{ie.p=u}}var qn=Math.random().toString(36).slice(2),Rs="__reactFiber$"+qn,Ms="__reactProps$"+qn,Fn="__reactContainer$"+qn,Us="__reactEvents$"+qn,Cn="__reactListeners$"+qn,On="__reactHandles$"+qn,Mr="__reactResources$"+qn,Da="__reactMarker$"+qn;function va(i){delete i[Rs],delete i[Ms],delete i[Us],delete i[Cn],delete i[On]}function ea(i){var l=i[Rs];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Fn]||u[Rs]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Bb(i);i!==null;){if(u=i[Rs])return u;i=Bb(i)}return l}i=u,u=i.parentNode}return null}function Hn(i){if(i=i[Rs]||i[Fn]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function ta(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function Tn(i){var l=i[Mr];return l||(l=i[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Is(i){i[Da]=!0}var ei=new Set,Fr={};function Ma(i,l){ti(i,l),ti(i+"Capture",l)}function ti(i,l){for(Fr[i]=l,i=0;i<l.length;i++)ei.add(l[i])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Wo={};function Hc(i){return Re.call(Wo,i)?!0:Re.call(qc,i)?!1:Vo.test(i)?Wo[i]=!0:(qc[i]=!0,!1)}function oo(i,l,u){if(Hc(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function sa(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function wa(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}var Go,Yo;function Ji(i){if(Go===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Go=l&&l[1]||"",Yo=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Go+i+Yo}var Ko=!1;function Xo(i,l){if(!i||Ko)return"";Ko=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Me){var De=Me}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Me){De=Me}i.call(Ge.prototype)}}else{try{throw Error()}catch(Me){De=Me}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Me){if(Me&&De&&typeof Me.stack=="string")return[Me.stack,De.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),B=N[0],J=N[1];if(B&&J){var pe=B.split(`
`),Le=J.split(`
`);for(b=m=0;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;for(;b<Le.length&&!Le[b].includes("DetermineComponentFrameRoot");)b++;if(m===pe.length||b===Le.length)for(m=pe.length-1,b=Le.length-1;1<=m&&0<=b&&pe[m]!==Le[b];)b--;for(;1<=m&&0<=b;m--,b--)if(pe[m]!==Le[b]){if(m!==1||b!==1)do if(m--,b--,0>b||pe[m]!==Le[b]){var He=`
`+pe[m].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=m&&0<=b);break}}}finally{Ko=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ji(u):""}function Qo(i){switch(i.tag){case 26:case 27:case 5:return Ji(i.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return Xo(i.type,!1);case 11:return Xo(i.type.render,!1);case 1:return Xo(i.type,!0);case 31:return Ji("Activity");default:return""}}function $c(i){try{var l="";do l+=Qo(i),i=i.return;while(i);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ms(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vl(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Vc(i){var l=Vl(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,N=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(B){m=""+B,N.call(this,B)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Fa(i){i._valueTracker||(i._valueTracker=Vc(i))}function Or(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Vl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function fa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lo=/[\n"\\]/g;function cs(i){return i.replace(lo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function co(i,l,u,m,b,N,B,J){i.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.type=B:i.removeAttribute("type"),l!=null?B==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ms(l)):i.value!==""+ms(l)&&(i.value=""+ms(l)):B!=="submit"&&B!=="reset"||i.removeAttribute("value"),l!=null?Wl(i,B,ms(l)):u!=null?Wl(i,B,ms(u)):m!=null&&i.removeAttribute("value"),b==null&&N!=null&&(i.defaultChecked=!!N),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?i.name=""+ms(J):i.removeAttribute("name")}function Wc(i,l,u,m,b,N,B,J){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),l!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;u=u!=null?""+ms(u):"",l=l!=null?""+ms(l):u,J||l===i.value||(i.value=l),i.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=J?i.checked:!!m,i.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(i.name=B)}function Wl(i,l,u){l==="number"&&fa(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Tr(i,l,u,m){if(i=i.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=l.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ms(u),l=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function si(i,l,u){if(l!=null&&(l=""+ms(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+ms(u):""}function Gl(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(a(92));if(fe(m)){if(1<m.length)throw Error(a(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=ms(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m)}function er(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||Pr.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Gc(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&u[b]!==m&&Zo(i,b,m)}else for(var N in l)l.hasOwnProperty(N)&&Zo(i,N,l[N])}function Yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(i){return Kl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ji=null;function Xl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oa=null,Si=null;function Tt(i){var l=Hn(i);if(l&&(i=l.stateNode)){var u=i[Ms]||null;e:switch(i=l.stateNode,l.type){case"input":if(co(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+cs(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var b=m[Ms]||null;if(!b)throw Error(a(90));co(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&Or(m)}break e;case"textarea":si(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Tr(i,!!u.multiple,l,!1)}}}var Ql=!1;function Yc(i,l,u){if(Ql)return i(l,u);Ql=!0;try{var m=i(l);return m}finally{if(Ql=!1,(Oa!==null||Si!==null)&&(uf(),Oa&&(l=Oa,i=Si,Si=Oa=null,Tt(l),i)))for(l=0;l<i.length;l++)Tt(i[l])}}function uo(i,l){var u=i.stateNode;if(u===null)return null;var m=u[Ms]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(ni)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{ai=!1}var _i=null,Zl=null,tr=null;function Jo(){if(tr)return tr;var i,l=Zl,u=l.length,m,b="value"in _i?_i.value:_i.textContent,N=b.length;for(i=0;i<u&&l[i]===b[i];i++);var B=u-i;for(m=1;m<=B&&l[u-m]===b[N-m];m++);return tr=b.slice(i,1<m?1-m:void 0)}function Ai(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function sr(){return!0}function ho(){return!1}function $n(i){function l(u,m,b,N,B){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=N,this.target=B,this.currentTarget=null;for(var J in i)i.hasOwnProperty(J)&&(u=i[J],this[J]=u?u(N):N[J]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?sr:ho,this.isPropagationStopped=ho,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),l}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=$n(ii),ri=p({},ii,{view:0,detail:0}),fo=$n(ri),mo,Rr,nr,Ci=p({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nr&&(nr&&i.type==="mousemove"?(mo=i.screenX-nr.screenX,Rr=i.screenY-nr.screenY):Rr=mo=0,nr=i),mo)},movementY:function(i){return"movementY"in i?i.movementY:Rr}}),el=$n(Ci),Jl=p({},Ci,{dataTransfer:0}),ja=$n(Jl),ki=p({},ri,{relatedTarget:0}),A=$n(ki),H=p({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),ue=$n(H),xe=p({},ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Se=$n(xe),qe=p({},ii,{data:0}),Ke=$n(qe),pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ot={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $t(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Ot[i])?!!l[i]:!1}function ls(){return $t}var Hs=p({},ri,{key:function(i){if(i.key){var l=pt[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(i){return i.type==="keypress"?Ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),on=$n(Hs),ws=p({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ln=$n(ws),cn=p({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),Pn=$n(cn),ar=p({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ur=$n(ar),Zu=p({},Ci,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=$n(Zu),po=p({},ii,{newState:0,oldState:0}),oi=$n(po),ec=[9,13,27,32],Ir=ni&&"CompositionEvent"in window,Ta=null;ni&&"documentMode"in document&&(Ta=document.documentMode);var kn=ni&&"TextEvent"in window&&!Ta,Ei=ni&&(!Ir||Ta&&8<Ta&&11>=Ta),Li=" ",go=!1;function tl(i,l){switch(i){case"keyup":return ec.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ir=!1;function sl(i,l){switch(i){case"compositionend":return Vn(l);case"keypress":return l.which!==32?null:(go=!0,Li);case"textInput":return i=l.data,i===Li&&go?null:i;default:return null}}function Xc(i,l){if(ir)return i==="compositionend"||!Ir&&tl(i,l)?(i=Jo(),tr=Zl=_i=null,ir=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ei&&l.locale!=="ko"?null:l.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!mn[i.type]:l==="textarea"}function nl(i,l,u,m){Oa?Si?Si.push(m):Si=[m]:Oa=m,l=gf(l,"onChange"),0<l.length&&(u=new Br("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var rr=null,Pa=null;function al(i){Cb(i,0)}function Bn(i){var l=ta(i);if(Or(l))return i}function na(i,l){if(i==="change")return l}var zr=!1;if(ni){var Ba;if(ni){var Di="oninput"in document;if(!Di){var il=document.createElement("div");il.setAttribute("oninput","return;"),Di=typeof il.oninput=="function"}Ba=Di}else Ba=!1;zr=Ba&&(!document.documentMode||9<document.documentMode)}function or(){rr&&(rr.detachEvent("onpropertychange",Ys),Pa=rr=null)}function Ys(i){if(i.propertyName==="value"&&Bn(Pa)){var l=[];nl(l,Pa,i,Xl(i)),Yc(al,l)}}function Ju(i,l,u){i==="focusin"?(or(),rr=l,Pa=u,rr.attachEvent("onpropertychange",Ys)):i==="focusout"&&or()}function Mi(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bn(Pa)}function Fi(i,l){if(i==="click")return Bn(l)}function rl(i,l){if(i==="input"||i==="change")return Bn(l)}function tc(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var En=typeof Object.is=="function"?Object.is:tc;function Oi(i,l){if(En(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Re.call(l,b)||!En(i[b],l[b]))return!1}return!0}function qr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hr(i,l){var u=qr(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=qr(u)}}function Ti(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Ti(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ol(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=fa(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=fa(i.document)}return l}function aa(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Pi=ni&&"documentMode"in document&&11>=document.documentMode,ps=null,Ns=null,Fs=null,$s=!1;function Bi(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$s||ps==null||ps!==fa(m)||(m=ps,"selectionStart"in m&&aa(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fs&&Oi(Fs,m)||(Fs=m,m=gf(Ns,"onSelect"),0<m.length&&(l=new Br("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=ps)))}function Ra(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var ia={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},xo={},ed={};ni&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function $r(i){if(xo[i])return xo[i];if(!ia[i])return i;var l=ia[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in ed)return xo[i]=l[u];return i}var td=$r("animationend"),sd=$r("animationiteration"),nd=$r("animationstart"),Lh=$r("transitionrun"),Dh=$r("transitionstart"),Mh=$r("transitioncancel"),ad=$r("transitionend"),id=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Ua(i,l){id.set(i,l),Ma(l,[i])}var ll=new WeakMap;function _a(i,l){if(typeof i=="object"&&i!==null){var u=ll.get(i);return u!==void 0?u:(l={value:i,source:l,stack:$c(l)},ll.set(i,l),l)}return{value:i,source:l,stack:$c(l)}}var Aa=[],bo=0,Zc=0;function sc(){for(var i=bo,l=Zc=bo=0;l<i;){var u=Aa[l];Aa[l++]=null;var m=Aa[l];Aa[l++]=null;var b=Aa[l];Aa[l++]=null;var N=Aa[l];if(Aa[l++]=null,m!==null&&b!==null){var B=m.pending;B===null?b.next=b:(b.next=B.next,B.next=b),m.pending=b}N!==0&&eu(u,b,N)}}function nc(i,l,u,m){Aa[bo++]=i,Aa[bo++]=l,Aa[bo++]=u,Aa[bo++]=m,Zc|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Jc(i,l,u,m){return nc(i,l,u,m),vo(i)}function yo(i,l){return nc(i,null,null,l),vo(i)}function eu(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var b=!1,N=i.return;N!==null;)N.childLanes|=u,m=N.alternate,m!==null&&(m.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(b=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,b&&l!==null&&(b=31-ye(u),i=N.hiddenUpdates,m=i[b],m===null?i[b]=[l]:m.push(l),l.lane=u|536870912),N):null}function vo(i){if(50<Ld)throw Ld=0,A0=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Ln={};function Ia(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,l,u,m){return new Ia(i,l,u,m)}function cl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ri(i,l){var u=i.alternate;return u===null?(u=Wn(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function ac(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function wo(i,l,u,m,b,N){var B=0;if(m=i,typeof i=="function")cl(i)&&(B=1);else if(typeof i=="string")B=oj(i,u,z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Wn(31,u,l,b),i.elementType=I,i.lanes=N,i;case j:return lr(u.children,b,N,l);case _:B=8,b|=24;break;case C:return i=Wn(12,u,l,b|2),i.elementType=C,i.lanes=N,i;case V:return i=Wn(13,u,l,b),i.elementType=V,i.lanes=N,i;case ae:return i=Wn(19,u,l,b),i.elementType=ae,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case E:B=10;break e;case L:B=9;break e;case P:B=11;break e;case G:B=14;break e;case U:B=16,m=null;break e}B=29,u=Error(a(130,i===null?"null":typeof i,"")),m=null}return l=Wn(B,u,l,b),l.elementType=i,l.type=m,l.lanes=N,l}function lr(i,l,u,m){return i=Wn(7,i,m,l),i.lanes=u,i}function tu(i,l,u){return i=Wn(6,i,null,l),i.lanes=u,i}function ic(i,l,u){return l=Wn(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Vr=[],cr=0,ul=null,su=0,za=[],Ca=0,No=null,ur=1,dr="";function jo(i,l){Vr[cr++]=su,Vr[cr++]=ul,ul=i,su=l}function Fh(i,l,u){za[Ca++]=ur,za[Ca++]=dr,za[Ca++]=No,No=i;var m=ur;i=dr;var b=32-ye(m)-1;m&=~(1<<b),u+=1;var N=32-ye(l)+b;if(30<N){var B=b-b%5;N=(m&(1<<B)-1).toString(32),m>>=B,b-=B,ur=1<<32-ye(l)+b|u<<b|m,dr=N+i}else ur=1<<N|u<<b|m,dr=i}function rc(i){i.return!==null&&(jo(i,1),Fh(i,1,0))}function oc(i){for(;i===ul;)ul=Vr[--cr],Vr[cr]=null,su=Vr[--cr],Vr[cr]=null;for(;i===No;)No=za[--Ca],za[Ca]=null,dr=za[--Ca],za[Ca]=null,ur=za[--Ca],za[Ca]=null}var pn=null,Ks=null,gs=!1,Wr=null,Ui=!1,rd=Error(a(519));function So(i){var l=Error(a(418,""));throw dl(_a(l,i)),rd}function Oh(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[Rs]=i,l[Ms]=m,u){case"dialog":as("cancel",l),as("close",l);break;case"iframe":case"object":case"embed":as("load",l);break;case"video":case"audio":for(u=0;u<Md.length;u++)as(Md[u],l);break;case"source":as("error",l);break;case"img":case"image":case"link":as("error",l),as("load",l);break;case"details":as("toggle",l);break;case"input":as("invalid",l),Wc(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Fa(l);break;case"select":as("invalid",l);break;case"textarea":as("invalid",l),Gl(l,m.value,m.defaultValue,m.children),Fa(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Db(l.textContent,u)?(m.popover!=null&&(as("beforetoggle",l),as("toggle",l)),m.onScroll!=null&&as("scroll",l),m.onScrollEnd!=null&&as("scrollend",l),m.onClick!=null&&(l.onclick=xf),l=!0):l=!1,l||So(i)}function hr(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:pn=pn.return}}function ra(i){if(i!==pn)return!1;if(!gs)return hr(i),gs=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||q0(i.type,i.memoizedProps)),u=!u),u&&Ks&&So(i),hr(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(l===0){Ks=vr(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;i=i.nextSibling}Ks=null}}else l===27?(l=Ks,Cl(i.type)?(i=W0,W0=null,Ks=i):Ks=l):Ks=pn?vr(i.stateNode.nextSibling):null;return!0}function ka(){Ks=pn=null,gs=!1}function Th(){var i=Wr;return i!==null&&(Ha===null?Ha=i:Ha.push.apply(Ha,i),Wr=null),i}function dl(i){Wr===null?Wr=[i]:Wr.push(i)}var Ii=de(null),Dn=null,fr=null;function Gr(i,l,u){W(Ii,l._currentValue),l._currentValue=u}function zi(i){i._currentValue=Ii.current,D(Ii)}function nu(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function au(i,l,u,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var N=b.dependencies;if(N!==null){var B=b.child;N=N.firstContext;e:for(;N!==null;){var J=N;N=b;for(var pe=0;pe<l.length;pe++)if(J.context===l[pe]){N.lanes|=u,J=N.alternate,J!==null&&(J.lanes|=u),nu(N.return,u,i),m||(B=null);break e}N=J.next}}else if(b.tag===18){if(B=b.return,B===null)throw Error(a(341));B.lanes|=u,N=B.alternate,N!==null&&(N.lanes|=u),nu(B,u,i),B=null}else B=b.child;if(B!==null)B.return=b;else for(B=b;B!==null;){if(B===i){B=null;break}if(b=B.sibling,b!==null){b.return=B.return,B=b;break}B=B.return}b=B}}function hl(i,l,u,m){i=null;for(var b=l,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var B=b.alternate;if(B===null)throw Error(a(387));if(B=B.memoizedProps,B!==null){var J=b.type;En(b.pendingProps.value,B.value)||(i!==null?i.push(J):i=[J])}}else if(b===te.current){if(B=b.alternate,B===null)throw Error(a(387));B.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Rd):i=[Rd])}b=b.return}i!==null&&au(l,i,u,m),l.flags|=262144}function iu(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qi(i){Dn=i,fr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function gn(i){return ru(Dn,i)}function Yr(i,l){return Dn===null&&qi(i),ru(i,l)}function ru(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},fr===null){if(i===null)throw Error(a(308));fr=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else fr=fr.next=l;return u}var Qm=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},Ph=t.unstable_scheduleCallback,Zm=t.unstable_NormalPriority,xn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new Qm,data:new Map,refCount:0}}function lc(i){i.refCount--,i.refCount===0&&Ph(Zm,function(){i.controller.abort()})}var cc=null,ld=0,_o=0,mr=null;function Jm(i,l){if(cc===null){var u=cc=[];ld=0,_o=F0(),mr={status:"pending",value:void 0,then:function(m){u.push(m)}}}return ld++,l.then(Bh,Bh),l}function Bh(){if(--ld===0&&cc!==null){mr!==null&&(mr.status="fulfilled");var i=cc;cc=null,_o=0,mr=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function Rh(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var g=R.S;R.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Jm(i,l),g!==null&&g(i,l)};var v=de(null);function k(){var i=v.current;return i!==null?i:zs.pooledCache}function M(i,l){l===null?W(v,v.current):W(v,l.pool)}function q(){var i=k();return i===null?null:{parent:xn._currentValue,pool:i}}var Y=Error(a(460)),Q=Error(a(474)),se=Error(a(542)),oe={then:function(){}};function ce(i){return i=i.status,i==="fulfilled"||i==="rejected"}function be(){}function Ee(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(be,be),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,_e(i),i;default:if(typeof l.status=="string")l.then(be,be);else{if(i=zs,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,_e(i),i}throw le=l,Y}}var le=null;function we(){if(le===null)throw Error(a(459));var i=le;return le=null,i}function _e(i){if(i===Y||i===se)throw Error(a(483))}var Be=!1;function Ce(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ie(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ue(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qe(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ss&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=vo(i),eu(i,null,u),l}return nc(i,m,l,u),vo(i)}function We(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,Dr(i,u)}}function wt(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var B={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?b=N=B:N=N.next=B,u=u.next}while(u!==null);N===null?b=N=l:N=N.next=l}else b=N=l;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var ut=!1;function Ut(){if(ut){var i=mr;if(i!==null)throw i}}function dt(i,l,u,m){ut=!1;var b=i.updateQueue;Be=!1;var N=b.firstBaseUpdate,B=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var pe=J,Le=pe.next;pe.next=null,B===null?N=Le:B.next=Le,B=pe;var He=i.alternate;He!==null&&(He=He.updateQueue,J=He.lastBaseUpdate,J!==B&&(J===null?He.firstBaseUpdate=Le:J.next=Le,He.lastBaseUpdate=pe))}if(N!==null){var Ge=b.baseState;B=0,He=Le=pe=null,J=N;do{var De=J.lane&-536870913,Me=De!==J.lane;if(Me?(ds&De)===De:(m&De)===De){De!==0&&De===_o&&(ut=!0),He!==null&&(He=He.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Bt=i,Dt=J;De=l;var Ls=u;switch(Dt.tag){case 1:if(Bt=Dt.payload,typeof Bt=="function"){Ge=Bt.call(Ls,Ge,De);break e}Ge=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Dt.payload,De=typeof Bt=="function"?Bt.call(Ls,Ge,De):Bt,De==null)break e;Ge=p({},Ge,De);break e;case 2:Be=!0}}De=J.callback,De!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=b.callbacks,Me===null?b.callbacks=[De]:Me.push(De))}else Me={lane:De,tag:J.tag,payload:J.payload,callback:J.callback,next:null},He===null?(Le=He=Me,pe=Ge):He=He.next=Me,B|=De;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;Me=J,J=Me.next,Me.next=null,b.lastBaseUpdate=Me,b.shared.pending=null}}while(!0);He===null&&(pe=Ge),b.baseState=pe,b.firstBaseUpdate=Le,b.lastBaseUpdate=He,N===null&&(b.shared.lanes=0),jl|=B,i.lanes=B,i.memoizedState=Ge}}function es(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function un(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)es(u[i],l)}var Pt=de(null),mt=de(0);function at(i,l){i=Fo,W(mt,i),W(Pt,l),Fo=i|l.baseLanes}function Vs(){W(mt,Fo),W(Pt,Pt.current)}function It(){Fo=mt.current,D(Pt),D(mt)}var Wt=0,gt=null,qt=null,rs=null,Os=!1,sn=!1,nn=!1,Xs=0,Jt=0,os=null,Qs=0;function Lt(){throw Error(a(321))}function bn(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!En(i[u],l[u]))return!1;return!0}function Ea(i,l,u,m,b,N){return Wt=N,gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,R.H=i===null||i.memoizedState===null?dx:hx,nn=!1,N=u(m,b),nn=!1,sn&&(N=oa(l,u,m,b)),Zs(i),N}function Zs(i){R.H=Xh;var l=qt!==null&&qt.next!==null;if(Wt=0,rs=qt=gt=null,Os=!1,Jt=0,os=null,l)throw Error(a(300));i===null||Yn||(i=i.dependencies,i!==null&&iu(i)&&(Yn=!0))}function oa(i,l,u,m){gt=i;var b=0;do{if(sn&&(os=null),Jt=0,sn=!1,25<=b)throw Error(a(301));if(b+=1,rs=qt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}R.H=bN,N=l(u,m)}while(sn);return N}function js(){var i=R.H,l=i.useState()[0];return l=typeof l.then=="function"?Un(l):l,i=i.useState()[0],(qt!==null?qt.memoizedState:null)!==i&&(gt.flags|=1024),l}function an(){var i=Xs!==0;return Xs=0,i}function la(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Rn(i){if(Os){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Os=!1}Wt=0,rs=qt=gt=null,sn=!1,Jt=Xs=0,os=null}function ks(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?gt.memoizedState=rs=i:rs=rs.next=i,rs}function us(){if(qt===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=qt.next;var l=rs===null?gt.memoizedState:rs.next;if(l!==null)rs=l,qt=i;else{if(i===null)throw gt.alternate===null?Error(a(467)):Error(a(310));qt=i,i={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},rs===null?gt.memoizedState=rs=i:rs=rs.next=i}return rs}function Gn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Un(i){var l=Jt;return Jt+=1,os===null&&(os=[]),i=Ee(os,i,l),l=gt,(rs===null?l.memoizedState:rs.next)===null&&(l=l.alternate,R.H=l===null||l.memoizedState===null?dx:hx),i}function ys(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Un(i);if(i.$$typeof===E)return gn(i)}throw Error(a(438,String(i)))}function ca(i){var l=null,u=gt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=gt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Gn(),gt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=ee;return l.index++,u}function yn(i,l){return typeof l=="function"?l(i):l}function Hi(i){var l=us();return li(l,qt,i)}function li(i,l,u){var m=i.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=u;var b=i.baseQueue,N=m.pending;if(N!==null){if(b!==null){var B=b.next;b.next=N.next,N.next=B}l.baseQueue=b=N,m.pending=null}if(N=i.baseState,b===null)i.memoizedState=N;else{l=b.next;var J=B=null,pe=null,Le=l,He=!1;do{var Ge=Le.lane&-536870913;if(Ge!==Le.lane?(ds&Ge)===Ge:(Wt&Ge)===Ge){var De=Le.revertLane;if(De===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ge===_o&&(He=!0);else if((Wt&De)===De){Le=Le.next,De===_o&&(He=!0);continue}else Ge={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},pe===null?(J=pe=Ge,B=N):pe=pe.next=Ge,gt.lanes|=De,jl|=De;Ge=Le.action,nn&&u(N,Ge),N=Le.hasEagerState?Le.eagerState:u(N,Ge)}else De={lane:Ge,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},pe===null?(J=pe=De,B=N):pe=pe.next=De,gt.lanes|=Ge,jl|=Ge;Le=Le.next}while(Le!==null&&Le!==l);if(pe===null?B=N:pe.next=J,!En(N,i.memoizedState)&&(Yn=!0,He&&(u=mr,u!==null)))throw u;i.memoizedState=N,i.baseState=B,i.baseQueue=pe,m.lastRenderedState=N}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function vn(i){var l=us(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,N=l.memoizedState;if(b!==null){u.pending=null;var B=b=b.next;do N=i(N,B.action),B=B.next;while(B!==b);En(N,l.memoizedState)||(Yn=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),u.lastRenderedState=N}return[N,m]}function uc(i,l,u){var m=gt,b=us(),N=gs;if(N){if(u===void 0)throw Error(a(407));u=u()}else u=l();var B=!En((qt||b).memoizedState,u);B&&(b.memoizedState=u,Yn=!0),b=b.queue;var J=fl.bind(null,m,b,i);if(gl(2048,8,J,[i]),b.getSnapshot!==l||B||rs!==null&&rs.memoizedState.tag&1){if(m.flags|=2048,gr(9,mc(),dc.bind(null,m,b,u,l),null),zs===null)throw Error(a(349));N||(Wt&124)!==0||ou(m,l,u)}return u}function ou(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=gt.updateQueue,l===null?(l=Gn(),gt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function dc(i,l,u,m){l.value=u,l.getSnapshot=m,Uh(l)&&Ih(i)}function fl(i,l,u){return u(function(){Uh(l)&&Ih(i)})}function Uh(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!En(i,u)}catch{return!0}}function Ih(i){var l=yo(i,2);l!==null&&mi(l,i,2)}function hc(i){var l=ks();if(typeof i=="function"){var u=i;if(i=u(),nn){At(!0);try{u()}finally{At(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:i},l}function pr(i,l,u,m){return i.baseState=u,li(i,qt,typeof m=="function"?m:yn)}function e0(i,l,u,m,b){if(Kh(i))throw Error(a(485));if(i=l.action,i!==null){var N={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){N.listeners.push(B)}};R.T!==null?u(!0):N.isTransition=!1,m(N),u=l.pending,u===null?(N.next=l.pending=N,zh(l,N)):(N.next=u.next,l.pending=u.next=N)}}function zh(i,l){var u=l.action,m=l.payload,b=i.state;if(l.isTransition){var N=R.T,B={};R.T=B;try{var J=u(b,m),pe=R.S;pe!==null&&pe(B,J),qh(i,l,J)}catch(Le){ml(i,l,Le)}finally{R.T=N}}else try{N=u(b,m),qh(i,l,N)}catch(Le){ml(i,l,Le)}}function qh(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){cd(i,l,m)},function(m){return ml(i,l,m)}):cd(i,l,u)}function cd(i,l,u){l.status="fulfilled",l.value=u,ud(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,zh(i,u)))}function ml(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,ud(l),l=l.next;while(l!==m)}i.action=null}function ud(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function dd(i,l){return l}function fc(i,l){if(gs){var u=zs.formState;if(u!==null){e:{var m=gt;if(gs){if(Ks){t:{for(var b=Ks,N=Ui;b.nodeType!==8;){if(!N){b=null;break t}if(b=vr(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Ks=vr(b.nextSibling),m=b.data==="F!";break e}}So(m)}m=!1}m&&(l=u[0])}}return u=ks(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:l},u.queue=m,u=lx.bind(null,gt,m),m.dispatch=u,m=hc(!1),N=t0.bind(null,gt,!1,m.queue),m=ks(),b={state:l,dispatch:null,action:i,pending:null},m.queue=b,u=e0.bind(null,gt,b,N,u),b.dispatch=u,m.memoizedState=i,[l,u,!1]}function lu(i){var l=us();return pl(l,qt,i)}function pl(i,l,u){if(l=li(i,l,dd)[0],i=Hi(yn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Un(l)}catch(B){throw B===Y?se:B}else m=l;l=us();var b=l.queue,N=b.dispatch;return u!==l.memoizedState&&(gt.flags|=2048,gr(9,mc(),Hh.bind(null,b,u),null)),[m,N,i]}function Hh(i,l){i.action=l}function $h(i){var l=us(),u=qt;if(u!==null)return pl(l,u,i);us(),l=l.memoizedState,u=us();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function gr(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=gt.updateQueue,l===null&&(l=Gn(),gt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function mc(){return{destroy:void 0,resource:void 0}}function cu(){return us().memoizedState}function ci(i,l,u,m){var b=ks();m=m===void 0?null:m,gt.flags|=i,b.memoizedState=gr(1|l,mc(),u,m)}function gl(i,l,u,m){var b=us();m=m===void 0?null:m;var N=b.memoizedState.inst;qt!==null&&m!==null&&bn(m,qt.memoizedState.deps)?b.memoizedState=gr(l,N,u,m):(gt.flags|=i,b.memoizedState=gr(1|l,N,u,m))}function hd(i,l){ci(8390656,8,i,l)}function Vh(i,l){gl(2048,8,i,l)}function fd(i,l){return gl(4,2,i,l)}function Ao(i,l){return gl(4,4,i,l)}function Wh(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function md(i,l,u){u=u!=null?u.concat([i]):null,gl(4,4,Wh.bind(null,l,i),u)}function pd(){}function gd(i,l){var u=us();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&bn(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function Gh(i,l){var u=us();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&bn(l,m[1]))return m[0];if(m=i(),nn){At(!0);try{i()}finally{At(!1)}}return u.memoizedState=[m,l],m}function Co(i,l,u){return u===void 0||(Wt&1073741824)!==0?i.memoizedState=l:(i.memoizedState=u,i=ab(),gt.lanes|=i,jl|=i,u)}function uu(i,l,u,m){return En(u,l)?u:Pt.current!==null?(i=Co(i,u,m),En(i,l)||(Yn=!0),i):(Wt&42)===0?(Yn=!0,i.memoizedState=u):(i=ab(),gt.lanes|=i,jl|=i,l)}function pc(i,l,u,m,b){var N=ie.p;ie.p=N!==0&&8>N?N:8;var B=R.T,J={};R.T=J,t0(i,!1,l,u);try{var pe=b(),Le=R.S;if(Le!==null&&Le(J,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var He=Rh(pe,m);vd(i,l,He,fi(i))}else vd(i,l,m,fi(i))}catch(Ge){vd(i,l,{then:function(){},status:"rejected",reason:Ge},fi())}finally{ie.p=N,R.T=B}}function xr(){}function $i(i,l,u,m){if(i.tag!==5)throw Error(a(476));var b=br(i).queue;pc(i,b,l,re,u===null?xr:function(){return gc(i),u(m)})}function br(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:re},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function gc(i){var l=br(i).next.queue;vd(i,l,{},fi())}function xc(){return gn(Rd)}function xd(){return us().memoizedState}function Yh(){return us().memoizedState}function bd(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=fi();i=Ue(u);var m=Qe(l,i,u);m!==null&&(mi(m,l,u),We(m,l,u)),l={cache:od()},i.payload=l;return}l=l.return}}function yd(i,l,u){var m=fi();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Kh(i)?cx(l,u):(u=Jc(i,l,u,m),u!==null&&(mi(u,i,m),ux(u,l,m)))}function lx(i,l,u){var m=fi();vd(i,l,u,m)}function vd(i,l,u,m){var b={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))cx(l,b);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var B=l.lastRenderedState,J=N(B,u);if(b.hasEagerState=!0,b.eagerState=J,En(J,B))return nc(i,l,b,0),zs===null&&sc(),!1}catch{}finally{}if(u=Jc(i,l,b,m),u!==null)return mi(u,i,m),ux(u,l,m),!0}return!1}function t0(i,l,u,m){if(m={lane:2,revertLane:F0(),action:m,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(l)throw Error(a(479))}else l=Jc(i,u,m,2),l!==null&&mi(l,i,2)}function Kh(i){var l=i.alternate;return i===gt||l!==null&&l===gt}function cx(i,l){sn=Os=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function ux(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,Dr(i,u)}}var Xh={readContext:gn,use:ys,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},dx={readContext:gn,use:ys,useCallback:function(i,l){return ks().memoizedState=[i,l===void 0?null:l],i},useContext:gn,useEffect:hd,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,ci(4194308,4,Wh.bind(null,l,i),u)},useLayoutEffect:function(i,l){return ci(4194308,4,i,l)},useInsertionEffect:function(i,l){ci(4,2,i,l)},useMemo:function(i,l){var u=ks();l=l===void 0?null:l;var m=i();if(nn){At(!0);try{i()}finally{At(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=ks();if(u!==void 0){var b=u(l);if(nn){At(!0);try{u(l)}finally{At(!1)}}}else b=l;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=yd.bind(null,gt,i),[m.memoizedState,i]},useRef:function(i){var l=ks();return i={current:i},l.memoizedState=i},useState:function(i){i=hc(i);var l=i.queue,u=lx.bind(null,gt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:pd,useDeferredValue:function(i,l){var u=ks();return Co(u,i,l)},useTransition:function(){var i=hc(!1);return i=pc.bind(null,gt,i.queue,!0,!1),ks().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=gt,b=ks();if(gs){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),zs===null)throw Error(a(349));(ds&124)!==0||ou(m,l,u)}b.memoizedState=u;var N={value:u,getSnapshot:l};return b.queue=N,hd(fl.bind(null,m,N,i),[i]),m.flags|=2048,gr(9,mc(),dc.bind(null,m,N,u,l),null),u},useId:function(){var i=ks(),l=zs.identifierPrefix;if(gs){var u=dr,m=ur;u=(m&~(1<<32-ye(m)-1)).toString(32)+u,l=""+l+"R"+u,u=Xs++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=Qs++,l=""+l+"r"+u.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:xc,useFormState:fc,useActionState:fc,useOptimistic:function(i){var l=ks();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=t0.bind(null,gt,!0,u),u.dispatch=l,[i,l]},useMemoCache:ca,useCacheRefresh:function(){return ks().memoizedState=bd.bind(null,gt)}},hx={readContext:gn,use:ys,useCallback:gd,useContext:gn,useEffect:Vh,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:Ao,useMemo:Gh,useReducer:Hi,useRef:cu,useState:function(){return Hi(yn)},useDebugValue:pd,useDeferredValue:function(i,l){var u=us();return uu(u,qt.memoizedState,i,l)},useTransition:function(){var i=Hi(yn)[0],l=us().memoizedState;return[typeof i=="boolean"?i:Un(i),l]},useSyncExternalStore:uc,useId:xd,useHostTransitionStatus:xc,useFormState:lu,useActionState:lu,useOptimistic:function(i,l){var u=us();return pr(u,qt,i,l)},useMemoCache:ca,useCacheRefresh:Yh},bN={readContext:gn,use:ys,useCallback:gd,useContext:gn,useEffect:Vh,useImperativeHandle:md,useInsertionEffect:fd,useLayoutEffect:Ao,useMemo:Gh,useReducer:vn,useRef:cu,useState:function(){return vn(yn)},useDebugValue:pd,useDeferredValue:function(i,l){var u=us();return qt===null?Co(u,i,l):uu(u,qt.memoizedState,i,l)},useTransition:function(){var i=vn(yn)[0],l=us().memoizedState;return[typeof i=="boolean"?i:Un(i),l]},useSyncExternalStore:uc,useId:xd,useHostTransitionStatus:xc,useFormState:$h,useActionState:$h,useOptimistic:function(i,l){var u=us();return qt!==null?pr(u,qt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:ca,useCacheRefresh:Yh},du=null,wd=0;function Qh(i){var l=wd;return wd+=1,du===null&&(du=[]),Ee(du,i,l)}function Nd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Zh(i,l){throw l.$$typeof===x?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function fx(i){var l=i._init;return l(i._payload)}function mx(i){function l(je,ve){if(i){var Ae=je.deletions;Ae===null?(je.deletions=[ve],je.flags|=16):Ae.push(ve)}}function u(je,ve){if(!i)return null;for(;ve!==null;)l(je,ve),ve=ve.sibling;return null}function m(je){for(var ve=new Map;je!==null;)je.key!==null?ve.set(je.key,je):ve.set(je.index,je),je=je.sibling;return ve}function b(je,ve){return je=Ri(je,ve),je.index=0,je.sibling=null,je}function N(je,ve,Ae){return je.index=Ae,i?(Ae=je.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(je.flags|=67108866,ve):Ae):(je.flags|=67108866,ve)):(je.flags|=1048576,ve)}function B(je){return i&&je.alternate===null&&(je.flags|=67108866),je}function J(je,ve,Ae,$e){return ve===null||ve.tag!==6?(ve=tu(Ae,je.mode,$e),ve.return=je,ve):(ve=b(ve,Ae),ve.return=je,ve)}function pe(je,ve,Ae,$e){var bt=Ae.type;return bt===j?He(je,ve,Ae.props.children,$e,Ae.key):ve!==null&&(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===U&&fx(bt)===ve.type)?(ve=b(ve,Ae.props),Nd(ve,Ae),ve.return=je,ve):(ve=wo(Ae.type,Ae.key,Ae.props,null,je.mode,$e),Nd(ve,Ae),ve.return=je,ve)}function Le(je,ve,Ae,$e){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=ic(Ae,je.mode,$e),ve.return=je,ve):(ve=b(ve,Ae.children||[]),ve.return=je,ve)}function He(je,ve,Ae,$e,bt){return ve===null||ve.tag!==7?(ve=lr(Ae,je.mode,$e,bt),ve.return=je,ve):(ve=b(ve,Ae),ve.return=je,ve)}function Ge(je,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=tu(""+ve,je.mode,Ae),ve.return=je,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return Ae=wo(ve.type,ve.key,ve.props,null,je.mode,Ae),Nd(Ae,ve),Ae.return=je,Ae;case y:return ve=ic(ve,je.mode,Ae),ve.return=je,ve;case U:var $e=ve._init;return ve=$e(ve._payload),Ge(je,ve,Ae)}if(fe(ve)||F(ve))return ve=lr(ve,je.mode,Ae,null),ve.return=je,ve;if(typeof ve.then=="function")return Ge(je,Qh(ve),Ae);if(ve.$$typeof===E)return Ge(je,Yr(je,ve),Ae);Zh(je,ve)}return null}function De(je,ve,Ae,$e){var bt=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return bt!==null?null:J(je,ve,""+Ae,$e);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return Ae.key===bt?pe(je,ve,Ae,$e):null;case y:return Ae.key===bt?Le(je,ve,Ae,$e):null;case U:return bt=Ae._init,Ae=bt(Ae._payload),De(je,ve,Ae,$e)}if(fe(Ae)||F(Ae))return bt!==null?null:He(je,ve,Ae,$e,null);if(typeof Ae.then=="function")return De(je,ve,Qh(Ae),$e);if(Ae.$$typeof===E)return De(je,ve,Yr(je,Ae),$e);Zh(je,Ae)}return null}function Me(je,ve,Ae,$e,bt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return je=je.get(Ae)||null,J(ve,je,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case w:return je=je.get($e.key===null?Ae:$e.key)||null,pe(ve,je,$e,bt);case y:return je=je.get($e.key===null?Ae:$e.key)||null,Le(ve,je,$e,bt);case U:var ts=$e._init;return $e=ts($e._payload),Me(je,ve,Ae,$e,bt)}if(fe($e)||F($e))return je=je.get(Ae)||null,He(ve,je,$e,bt,null);if(typeof $e.then=="function")return Me(je,ve,Ae,Qh($e),bt);if($e.$$typeof===E)return Me(je,ve,Ae,Yr(ve,$e),bt);Zh(ve,$e)}return null}function Bt(je,ve,Ae,$e){for(var bt=null,ts=null,Ct=ve,Mt=ve=0,Xn=null;Ct!==null&&Mt<Ae.length;Mt++){Ct.index>Mt?(Xn=Ct,Ct=null):Xn=Ct.sibling;var xs=De(je,Ct,Ae[Mt],$e);if(xs===null){Ct===null&&(Ct=Xn);break}i&&Ct&&xs.alternate===null&&l(je,Ct),ve=N(xs,ve,Mt),ts===null?bt=xs:ts.sibling=xs,ts=xs,Ct=Xn}if(Mt===Ae.length)return u(je,Ct),gs&&jo(je,Mt),bt;if(Ct===null){for(;Mt<Ae.length;Mt++)Ct=Ge(je,Ae[Mt],$e),Ct!==null&&(ve=N(Ct,ve,Mt),ts===null?bt=Ct:ts.sibling=Ct,ts=Ct);return gs&&jo(je,Mt),bt}for(Ct=m(Ct);Mt<Ae.length;Mt++)Xn=Me(Ct,je,Mt,Ae[Mt],$e),Xn!==null&&(i&&Xn.alternate!==null&&Ct.delete(Xn.key===null?Mt:Xn.key),ve=N(Xn,ve,Mt),ts===null?bt=Xn:ts.sibling=Xn,ts=Xn);return i&&Ct.forEach(function(Ml){return l(je,Ml)}),gs&&jo(je,Mt),bt}function Dt(je,ve,Ae,$e){if(Ae==null)throw Error(a(151));for(var bt=null,ts=null,Ct=ve,Mt=ve=0,Xn=null,xs=Ae.next();Ct!==null&&!xs.done;Mt++,xs=Ae.next()){Ct.index>Mt?(Xn=Ct,Ct=null):Xn=Ct.sibling;var Ml=De(je,Ct,xs.value,$e);if(Ml===null){Ct===null&&(Ct=Xn);break}i&&Ct&&Ml.alternate===null&&l(je,Ct),ve=N(Ml,ve,Mt),ts===null?bt=Ml:ts.sibling=Ml,ts=Ml,Ct=Xn}if(xs.done)return u(je,Ct),gs&&jo(je,Mt),bt;if(Ct===null){for(;!xs.done;Mt++,xs=Ae.next())xs=Ge(je,xs.value,$e),xs!==null&&(ve=N(xs,ve,Mt),ts===null?bt=xs:ts.sibling=xs,ts=xs);return gs&&jo(je,Mt),bt}for(Ct=m(Ct);!xs.done;Mt++,xs=Ae.next())xs=Me(Ct,je,Mt,xs.value,$e),xs!==null&&(i&&xs.alternate!==null&&Ct.delete(xs.key===null?Mt:xs.key),ve=N(xs,ve,Mt),ts===null?bt=xs:ts.sibling=xs,ts=xs);return i&&Ct.forEach(function(yj){return l(je,yj)}),gs&&jo(je,Mt),bt}function Ls(je,ve,Ae,$e){if(typeof Ae=="object"&&Ae!==null&&Ae.type===j&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:e:{for(var bt=Ae.key;ve!==null;){if(ve.key===bt){if(bt=Ae.type,bt===j){if(ve.tag===7){u(je,ve.sibling),$e=b(ve,Ae.props.children),$e.return=je,je=$e;break e}}else if(ve.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===U&&fx(bt)===ve.type){u(je,ve.sibling),$e=b(ve,Ae.props),Nd($e,Ae),$e.return=je,je=$e;break e}u(je,ve);break}else l(je,ve);ve=ve.sibling}Ae.type===j?($e=lr(Ae.props.children,je.mode,$e,Ae.key),$e.return=je,je=$e):($e=wo(Ae.type,Ae.key,Ae.props,null,je.mode,$e),Nd($e,Ae),$e.return=je,je=$e)}return B(je);case y:e:{for(bt=Ae.key;ve!==null;){if(ve.key===bt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){u(je,ve.sibling),$e=b(ve,Ae.children||[]),$e.return=je,je=$e;break e}else{u(je,ve);break}else l(je,ve);ve=ve.sibling}$e=ic(Ae,je.mode,$e),$e.return=je,je=$e}return B(je);case U:return bt=Ae._init,Ae=bt(Ae._payload),Ls(je,ve,Ae,$e)}if(fe(Ae))return Bt(je,ve,Ae,$e);if(F(Ae)){if(bt=F(Ae),typeof bt!="function")throw Error(a(150));return Ae=bt.call(Ae),Dt(je,ve,Ae,$e)}if(typeof Ae.then=="function")return Ls(je,ve,Qh(Ae),$e);if(Ae.$$typeof===E)return Ls(je,ve,Yr(je,Ae),$e);Zh(je,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ve!==null&&ve.tag===6?(u(je,ve.sibling),$e=b(ve,Ae),$e.return=je,je=$e):(u(je,ve),$e=tu(Ae,je.mode,$e),$e.return=je,je=$e),B(je)):u(je,ve)}return function(je,ve,Ae,$e){try{wd=0;var bt=Ls(je,ve,Ae,$e);return du=null,bt}catch(Ct){if(Ct===Y||Ct===se)throw Ct;var ts=Wn(29,Ct,null,je.mode);return ts.lanes=$e,ts.return=je,ts}finally{}}}var hu=mx(!0),px=mx(!1),Vi=de(null),Kr=null;function xl(i){var l=i.alternate;W(In,In.current&1),W(Vi,i),Kr===null&&(l===null||Pt.current!==null||l.memoizedState!==null)&&(Kr=i)}function gx(i){if(i.tag===22){if(W(In,In.current),W(Vi,i),Kr===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Kr=i)}}else bl()}function bl(){W(In,In.current),W(Vi,Vi.current)}function ko(i){D(Vi),Kr===i&&(Kr=null),D(In)}var In=de(0);function Jh(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||V0(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function s0(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var n0={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=fi(),b=Ue(m);b.payload=l,u!=null&&(b.callback=u),l=Qe(i,b,m),l!==null&&(mi(l,i,m),We(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=fi(),b=Ue(m);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=Qe(i,b,m),l!==null&&(mi(l,i,m),We(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=fi(),m=Ue(u);m.tag=2,l!=null&&(m.callback=l),l=Qe(i,m,u),l!==null&&(mi(l,i,u),We(l,i,u))}};function xx(i,l,u,m,b,N,B){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,B):l.prototype&&l.prototype.isPureReactComponent?!Oi(u,m)||!Oi(b,N):!0}function bx(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&n0.enqueueReplaceState(l,l.state,null)}function bc(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}var ef=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function yx(i){ef(i)}function vx(i){console.error(i)}function wx(i){ef(i)}function tf(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Nx(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function a0(i,l,u){return u=Ue(u),u.tag=3,u.payload={element:null},u.callback=function(){tf(i,l)},u}function jx(i){return i=Ue(i),i.tag=3,i}function Sx(i,l,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var N=m.value;i.payload=function(){return b(N)},i.callback=function(){Nx(l,u,m)}}var B=u.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(i.callback=function(){Nx(l,u,m),typeof b!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function yN(i,l,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&hl(l,u,b,!0),u=Vi.current,u!==null){switch(u.tag){case 13:return Kr===null?k0():u.alternate===null&&dn===0&&(dn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===oe?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),L0(i,m,b)),!1;case 22:return u.flags|=65536,m===oe?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),L0(i,m,b)),!1}throw Error(a(435,u.tag))}return L0(i,m,b),k0(),!1}if(gs)return l=Vi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==rd&&(i=Error(a(422),{cause:m}),dl(_a(i,u)))):(m!==rd&&(l=Error(a(423),{cause:m}),dl(_a(l,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=_a(m,u),b=a0(i.stateNode,m,b),wt(i,b),dn!==4&&(dn=2)),!1;var N=Error(a(520),{cause:m});if(N=_a(N,u),Ed===null?Ed=[N]:Ed.push(N),dn!==4&&(dn=2),l===null)return!0;m=_a(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=a0(u.stateNode,m,i),wt(u,i),!1;case 1:if(l=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Sl===null||!Sl.has(N))))return u.flags|=65536,b&=-b,u.lanes|=b,b=jx(b),Sx(b,i,u,m),wt(u,b),!1}u=u.return}while(u!==null);return!1}var _x=Error(a(461)),Yn=!1;function ua(i,l,u,m){l.child=i===null?px(l,null,u,m):hu(l,i.child,u,m)}function Ax(i,l,u,m,b){u=u.render;var N=l.ref;if("ref"in m){var B={};for(var J in m)J!=="ref"&&(B[J]=m[J])}else B=m;return qi(l),m=Ea(i,l,u,B,N,b),J=an(),i!==null&&!Yn?(la(i,l,b),Eo(i,l,b)):(gs&&J&&rc(l),l.flags|=1,ua(i,l,m,b),l.child)}function Cx(i,l,u,m,b){if(i===null){var N=u.type;return typeof N=="function"&&!cl(N)&&N.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=N,kx(i,l,N,m,b)):(i=wo(u.type,null,m,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,!h0(i,b)){var B=N.memoizedProps;if(u=u.compare,u=u!==null?u:Oi,u(B,m)&&i.ref===l.ref)return Eo(i,l,b)}return l.flags|=1,i=Ri(N,m),i.ref=l.ref,i.return=l,l.child=i}function kx(i,l,u,m,b){if(i!==null){var N=i.memoizedProps;if(Oi(N,m)&&i.ref===l.ref)if(Yn=!1,l.pendingProps=m=N,h0(i,b))(i.flags&131072)!==0&&(Yn=!0);else return l.lanes=i.lanes,Eo(i,l,b)}return i0(i,l,u,m,b)}function Ex(i,l,u){var m=l.pendingProps,b=m.children,N=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=N!==null?N.baseLanes|u:u,i!==null){for(b=l.child=i.child,N=0;b!==null;)N=N|b.lanes|b.childLanes,b=b.sibling;l.childLanes=N&~m}else l.childLanes=0,l.child=null;return Lx(i,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&M(l,N!==null?N.cachePool:null),N!==null?at(l,N):Vs(),gx(l);else return l.lanes=l.childLanes=536870912,Lx(i,l,N!==null?N.baseLanes|u:u,u)}else N!==null?(M(l,N.cachePool),at(l,N),bl(),l.memoizedState=null):(i!==null&&M(l,null),Vs(),bl());return ua(i,l,b,u),l.child}function Lx(i,l,u,m){var b=k();return b=b===null?null:{parent:xn._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&M(l,null),Vs(),gx(l),i!==null&&hl(i,l,m,!0),null}function sf(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function i0(i,l,u,m,b){return qi(l),u=Ea(i,l,u,m,void 0,b),m=an(),i!==null&&!Yn?(la(i,l,b),Eo(i,l,b)):(gs&&m&&rc(l),l.flags|=1,ua(i,l,u,b),l.child)}function Dx(i,l,u,m,b,N){return qi(l),l.updateQueue=null,u=oa(l,m,u,b),Zs(i),m=an(),i!==null&&!Yn?(la(i,l,N),Eo(i,l,N)):(gs&&m&&rc(l),l.flags|=1,ua(i,l,u,N),l.child)}function Mx(i,l,u,m,b){if(qi(l),l.stateNode===null){var N=Ln,B=u.contextType;typeof B=="object"&&B!==null&&(N=gn(B)),N=new u(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=n0,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},Ce(l),B=u.contextType,N.context=typeof B=="object"&&B!==null?gn(B):Ln,N.state=l.memoizedState,B=u.getDerivedStateFromProps,typeof B=="function"&&(s0(l,u,B,m),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(B=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),B!==N.state&&n0.enqueueReplaceState(N,N.state,null),dt(l,m,N,b),Ut(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){N=l.stateNode;var J=l.memoizedProps,pe=bc(u,J);N.props=pe;var Le=N.context,He=u.contextType;B=Ln,typeof He=="object"&&He!==null&&(B=gn(He));var Ge=u.getDerivedStateFromProps;He=typeof Ge=="function"||typeof N.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,He||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J||Le!==B)&&bx(l,N,m,B),Be=!1;var De=l.memoizedState;N.state=De,dt(l,m,N,b),Ut(),Le=l.memoizedState,J||De!==Le||Be?(typeof Ge=="function"&&(s0(l,u,Ge,m),Le=l.memoizedState),(pe=Be||xx(l,u,pe,m,De,Le,B))?(He||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Le),N.props=m,N.state=Le,N.context=B,m=pe):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,Ie(i,l),B=l.memoizedProps,He=bc(u,B),N.props=He,Ge=l.pendingProps,De=N.context,Le=u.contextType,pe=Ln,typeof Le=="object"&&Le!==null&&(pe=gn(Le)),J=u.getDerivedStateFromProps,(Le=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==Ge||De!==pe)&&bx(l,N,m,pe),Be=!1,De=l.memoizedState,N.state=De,dt(l,m,N,b),Ut();var Me=l.memoizedState;B!==Ge||De!==Me||Be||i!==null&&i.dependencies!==null&&iu(i.dependencies)?(typeof J=="function"&&(s0(l,u,J,m),Me=l.memoizedState),(He=Be||xx(l,u,He,m,De,Me,pe)||i!==null&&i.dependencies!==null&&iu(i.dependencies))?(Le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Me,pe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Me,pe)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||B===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Me),N.props=m,N.state=Me,N.context=pe,m=He):(typeof N.componentDidUpdate!="function"||B===i.memoizedProps&&De===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&De===i.memoizedState||(l.flags|=1024),m=!1)}return N=m,sf(i,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,i!==null&&m?(l.child=hu(l,i.child,null,b),l.child=hu(l,null,u,b)):ua(i,l,u,b),l.memoizedState=N.state,i=l.child):i=Eo(i,l,b),i}function Fx(i,l,u,m){return ka(),l.flags|=256,ua(i,l,u,m),l.child}var r0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o0(i){return{baseLanes:i,cachePool:q()}}function l0(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Wi),i}function Ox(i,l,u){var m=l.pendingProps,b=!1,N=(l.flags&128)!==0,B;if((B=N)||(B=i!==null&&i.memoizedState===null?!1:(In.current&2)!==0),B&&(b=!0,l.flags&=-129),B=(l.flags&32)!==0,l.flags&=-33,i===null){if(gs){if(b?xl(l):bl(),gs){var J=Ks,pe;if(pe=J){e:{for(pe=J,J=Ui;pe.nodeType!==8;){if(!J){J=null;break e}if(pe=vr(pe.nextSibling),pe===null){J=null;break e}}J=pe}J!==null?(l.memoizedState={dehydrated:J,treeContext:No!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},pe=Wn(18,null,null,0),pe.stateNode=J,pe.return=l,l.child=pe,pn=l,Ks=null,pe=!0):pe=!1}pe||So(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return V0(J)?l.lanes=32:l.lanes=536870912,null;ko(l)}return J=m.children,m=m.fallback,b?(bl(),b=l.mode,J=nf({mode:"hidden",children:J},b),m=lr(m,b,u,null),J.return=l,m.return=l,J.sibling=m,l.child=J,b=l.child,b.memoizedState=o0(u),b.childLanes=l0(i,B,u),l.memoizedState=r0,m):(xl(l),c0(l,J))}if(pe=i.memoizedState,pe!==null&&(J=pe.dehydrated,J!==null)){if(N)l.flags&256?(xl(l),l.flags&=-257,l=u0(i,l,u)):l.memoizedState!==null?(bl(),l.child=i.child,l.flags|=128,l=null):(bl(),b=m.fallback,J=l.mode,m=nf({mode:"visible",children:m.children},J),b=lr(b,J,u,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,hu(l,i.child,null,u),m=l.child,m.memoizedState=o0(u),m.childLanes=l0(i,B,u),l.memoizedState=r0,l=b);else if(xl(l),V0(J)){if(B=J.nextSibling&&J.nextSibling.dataset,B)var Le=B.dgst;B=Le,m=Error(a(419)),m.stack="",m.digest=B,dl({value:m,source:null,stack:null}),l=u0(i,l,u)}else if(Yn||hl(i,l,u,!1),B=(u&i.childLanes)!==0,Yn||B){if(B=zs,B!==null&&(m=u&-u,m=(m&42)!==0?1:An(m),m=(m&(B.suspendedLanes|u))!==0?0:m,m!==0&&m!==pe.retryLane))throw pe.retryLane=m,yo(i,m),mi(B,i,m),_x;J.data==="$?"||k0(),l=u0(i,l,u)}else J.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=pe.treeContext,Ks=vr(J.nextSibling),pn=l,gs=!0,Wr=null,Ui=!1,i!==null&&(za[Ca++]=ur,za[Ca++]=dr,za[Ca++]=No,ur=i.id,dr=i.overflow,No=l),l=c0(l,m.children),l.flags|=4096);return l}return b?(bl(),b=m.fallback,J=l.mode,pe=i.child,Le=pe.sibling,m=Ri(pe,{mode:"hidden",children:m.children}),m.subtreeFlags=pe.subtreeFlags&65011712,Le!==null?b=Ri(Le,b):(b=lr(b,J,u,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,J=i.child.memoizedState,J===null?J=o0(u):(pe=J.cachePool,pe!==null?(Le=xn._currentValue,pe=pe.parent!==Le?{parent:Le,pool:Le}:pe):pe=q(),J={baseLanes:J.baseLanes|u,cachePool:pe}),b.memoizedState=J,b.childLanes=l0(i,B,u),l.memoizedState=r0,m):(xl(l),u=i.child,i=u.sibling,u=Ri(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(B=l.deletions,B===null?(l.deletions=[i],l.flags|=16):B.push(i)),l.child=u,l.memoizedState=null,u)}function c0(i,l){return l=nf({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function nf(i,l){return i=Wn(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function u0(i,l,u){return hu(l,i.child,null,u),i=c0(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Tx(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),nu(i.return,l,u)}function d0(i,l,u,m,b){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=b)}function Px(i,l,u){var m=l.pendingProps,b=m.revealOrder,N=m.tail;if(ua(i,l,m.children,u),m=In.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tx(i,u,l);else if(i.tag===19)Tx(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(W(In,m),b){case"forwards":for(u=l.child,b=null;u!==null;)i=u.alternate,i!==null&&Jh(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),d0(l,!1,b,u,N);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&Jh(i)===null){l.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}d0(l,!0,u,null,N);break;case"together":d0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Eo(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),jl|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(hl(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=Ri(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ri(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function h0(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&iu(i)))}function vN(i,l,u){switch(l.tag){case 3:ge(l,l.stateNode.containerInfo),Gr(l,xn,i.memoizedState.cache),ka();break;case 27:case 5:Oe(l);break;case 4:ge(l,l.stateNode.containerInfo);break;case 10:Gr(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(xl(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Ox(i,l,u):(xl(l),i=Eo(i,l,u),i!==null?i.sibling:null);xl(l);break;case 19:var b=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(hl(i,l,u,!1),m=(u&l.childLanes)!==0),b){if(m)return Px(i,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),W(In,In.current),m)break;return null;case 22:case 23:return l.lanes=0,Ex(i,l,u);case 24:Gr(l,xn,i.memoizedState.cache)}return Eo(i,l,u)}function Bx(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Yn=!0;else{if(!h0(i,u)&&(l.flags&128)===0)return Yn=!1,vN(i,l,u);Yn=(i.flags&131072)!==0}else Yn=!1,gs&&(l.flags&1048576)!==0&&Fh(l,su,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")cl(m)?(i=bc(m,i),l.tag=1,l=Mx(null,l,m,i,u)):(l.tag=0,l=i0(null,l,m,i,u));else{if(m!=null){if(b=m.$$typeof,b===P){l.tag=11,l=Ax(null,l,m,i,u);break e}else if(b===G){l.tag=14,l=Cx(null,l,m,i,u);break e}}throw l=K(m)||m,Error(a(306,l,""))}}return l;case 0:return i0(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,b=bc(m,l.pendingProps),Mx(i,l,m,b,u);case 3:e:{if(ge(l,l.stateNode.containerInfo),i===null)throw Error(a(387));m=l.pendingProps;var N=l.memoizedState;b=N.element,Ie(i,l),dt(l,m,null,u);var B=l.memoizedState;if(m=B.cache,Gr(l,xn,m),m!==N.cache&&au(l,[xn],u,!0),Ut(),m=B.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:B.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Fx(i,l,m,u);break e}else if(m!==b){b=_a(Error(a(424)),l),dl(b),l=Fx(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ks=vr(i.firstChild),pn=l,gs=!0,Wr=null,Ui=!0,u=px(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ka(),m===b){l=Eo(i,l,u);break e}ua(i,l,m,u)}l=l.child}return l;case 26:return sf(i,l),i===null?(u=zb(l.type,null,l.pendingProps,null))?l.memoizedState=u:gs||(u=l.type,i=l.pendingProps,m=bf(ne.current).createElement(u),m[Rs]=l,m[Ms]=i,ha(m,u,i),Is(m),l.stateNode=m):l.memoizedState=zb(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Oe(l),i===null&&gs&&(m=l.stateNode=Rb(l.type,l.pendingProps,ne.current),pn=l,Ui=!0,b=Ks,Cl(l.type)?(W0=b,Ks=vr(m.firstChild)):Ks=b),ua(i,l,l.pendingProps.children,u),sf(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&gs&&((b=m=Ks)&&(m=YN(m,l.type,l.pendingProps,Ui),m!==null?(l.stateNode=m,pn=l,Ks=vr(m.firstChild),Ui=!1,b=!0):b=!1),b||So(l)),Oe(l),b=l.type,N=l.pendingProps,B=i!==null?i.memoizedProps:null,m=N.children,q0(b,N)?m=null:B!==null&&q0(b,B)&&(l.flags|=32),l.memoizedState!==null&&(b=Ea(i,l,js,null,null,u),Rd._currentValue=b),sf(i,l),ua(i,l,m,u),l.child;case 6:return i===null&&gs&&((i=u=Ks)&&(u=KN(u,l.pendingProps,Ui),u!==null?(l.stateNode=u,pn=l,Ks=null,i=!0):i=!1),i||So(l)),null;case 13:return Ox(i,l,u);case 4:return ge(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=hu(l,null,m,u):ua(i,l,m,u),l.child;case 11:return Ax(i,l,l.type,l.pendingProps,u);case 7:return ua(i,l,l.pendingProps,u),l.child;case 8:return ua(i,l,l.pendingProps.children,u),l.child;case 12:return ua(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,Gr(l,l.type,m.value),ua(i,l,m.children,u),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,qi(l),b=gn(b),m=m(b),l.flags|=1,ua(i,l,m,u),l.child;case 14:return Cx(i,l,l.type,l.pendingProps,u);case 15:return kx(i,l,l.type,l.pendingProps,u);case 19:return Px(i,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},i===null?(u=nf(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Ri(i.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return Ex(i,l,u);case 24:return qi(l),m=gn(xn),i===null?(b=k(),b===null&&(b=zs,N=od(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=u),b=N),l.memoizedState={parent:m,cache:b},Ce(l),Gr(l,xn,b)):((i.lanes&u)!==0&&(Ie(i,l),dt(l,null,null,u),Ut()),b=i.memoizedState,N=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Gr(l,xn,m)):(m=N.cache,Gr(l,xn,m),m!==b.cache&&au(l,[xn],u,!0))),ua(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Lo(i){i.flags|=4}function Rx(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Wb(l)){if(l=Vi.current,l!==null&&((ds&4194048)===ds?Kr!==null:(ds&62914560)!==ds&&(ds&536870912)===0||l!==Kr))throw le=oe,Q;i.flags|=8192}}function af(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?st():536870912,i.lanes|=l,gu|=l)}function jd(i,l){if(!gs)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function rn(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function wN(i,l,u){var m=l.pendingProps;switch(oc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(l),null;case 1:return rn(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),zi(xn),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ra(l)?Lo(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Th())),rn(l),null;case 26:return u=l.memoizedState,i===null?(Lo(l),u!==null?(rn(l),Rx(l,u)):(rn(l),l.flags&=-16777217)):u?u!==i.memoizedState?(Lo(l),rn(l),Rx(l,u)):(rn(l),l.flags&=-16777217):(i.memoizedProps!==m&&Lo(l),rn(l),l.flags&=-16777217),null;case 27:Xe(l),u=ne.current;var b=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Lo(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return rn(l),null}i=z.current,ra(l)?Oh(l):(i=Rb(b,m,u),l.stateNode=i,Lo(l))}return rn(l),null;case 5:if(Xe(l),u=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Lo(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return rn(l),null}if(i=z.current,ra(l))Oh(l);else{switch(b=bf(ne.current),i){case 1:i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?b.createElement(u,{is:m.is}):b.createElement(u)}}i[Rs]=l,i[Ms]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=i;e:switch(ha(i,u,m),u){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Lo(l)}}return rn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Lo(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(i=ne.current,ra(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,b=pn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[Rs]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Db(i.nodeValue,u)),i||So(l)}else i=bf(i).createTextNode(m),i[Rs]=l,l.stateNode=i}return rn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ra(l),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(a(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[Rs]=l}else ka(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),b=!1}else b=Th(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(ko(l),l):(ko(l),null)}if(ko(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,i=i!==null&&i.memoizedState!==null,u){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==b&&(m.flags|=2048)}return u!==i&&u&&(l.child.flags|=8192),af(l,l.updateQueue),rn(l),null;case 4:return Ne(),i===null&&B0(l.stateNode.containerInfo),rn(l),null;case 10:return zi(l.type),rn(l),null;case 19:if(D(In),b=l.memoizedState,b===null)return rn(l),null;if(m=(l.flags&128)!==0,N=b.rendering,N===null)if(m)jd(b,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=Jh(i),N!==null){for(l.flags|=128,jd(b,!1),i=N.updateQueue,l.updateQueue=i,af(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)ac(u,i),u=u.sibling;return W(In,In.current&1|2),l.child}i=i.sibling}b.tail!==null&&Te()>lf&&(l.flags|=128,m=!0,jd(b,!1),l.lanes=4194304)}else{if(!m)if(i=Jh(N),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,af(l,i),jd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!gs)return rn(l),null}else 2*Te()-b.renderingStartTime>lf&&u!==536870912&&(l.flags|=128,m=!0,jd(b,!1),l.lanes=4194304);b.isBackwards?(N.sibling=l.child,l.child=N):(i=b.last,i!==null?i.sibling=N:l.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Te(),l.sibling=null,i=In.current,W(In,m?i&1|2:i&1),l):(rn(l),null);case 22:case 23:return ko(l),It(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(rn(l),l.subtreeFlags&6&&(l.flags|=8192)):rn(l),u=l.updateQueue,u!==null&&af(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&D(v),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),zi(xn),rn(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function NN(i,l){switch(oc(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return zi(xn),Ne(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Xe(l),null;case 13:if(ko(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));ka()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return D(In),null;case 4:return Ne(),null;case 10:return zi(l.type),null;case 22:case 23:return ko(l),It(),i!==null&&D(v),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return zi(xn),null;case 25:return null;default:return null}}function Ux(i,l){switch(oc(l),l.tag){case 3:zi(xn),Ne();break;case 26:case 27:case 5:Xe(l);break;case 4:Ne();break;case 13:ko(l);break;case 19:D(In);break;case 10:zi(l.type);break;case 22:case 23:ko(l),It(),i!==null&&D(v);break;case 24:zi(xn)}}function Sd(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&i)===i){m=void 0;var N=u.create,B=u.inst;m=N(),B.destroy=m}u=u.next}while(u!==b)}}catch(J){Ts(l,l.return,J)}}function yl(i,l,u){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var N=b.next;m=N;do{if((m.tag&i)===i){var B=m.inst,J=B.destroy;if(J!==void 0){B.destroy=void 0,b=l;var pe=u,Le=J;try{Le()}catch(He){Ts(b,pe,He)}}}m=m.next}while(m!==N)}}catch(He){Ts(l,l.return,He)}}function Ix(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{un(l,u)}catch(m){Ts(i,i.return,m)}}}function zx(i,l,u){u.props=bc(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Ts(i,l,m)}}function _d(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(b){Ts(i,l,b)}}function Xr(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Ts(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Ts(i,l,b)}else u.current=null}function qx(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Ts(i,i.return,b)}}function f0(i,l,u){try{var m=i.stateNode;HN(m,i.type,u,l),m[Ms]=l}catch(b){Ts(i,i.return,b)}}function Hx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cl(i.type)||i.tag===4}function m0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function p0(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=xf));else if(m!==4&&(m===27&&Cl(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(p0(i,l,u),i=i.sibling;i!==null;)p0(i,l,u),i=i.sibling}function rf(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Cl(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(rf(i,l,u),i=i.sibling;i!==null;)rf(i,l,u),i=i.sibling}function $x(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);ha(l,m,u),l[Rs]=i,l[Ms]=u}catch(N){Ts(i,i.return,N)}}var Do=!1,wn=!1,g0=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function jN(i,l){if(i=i.containerInfo,I0=Sf,i=ol(i),aa(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var B=0,J=-1,pe=-1,Le=0,He=0,Ge=i,De=null;t:for(;;){for(var Me;Ge!==u||b!==0&&Ge.nodeType!==3||(J=B+b),Ge!==N||m!==0&&Ge.nodeType!==3||(pe=B+m),Ge.nodeType===3&&(B+=Ge.nodeValue.length),(Me=Ge.firstChild)!==null;)De=Ge,Ge=Me;for(;;){if(Ge===i)break t;if(De===u&&++Le===b&&(J=B),De===N&&++He===m&&(pe=B),(Me=Ge.nextSibling)!==null)break;Ge=De,De=Ge.parentNode}Ge=Me}u=J===-1||pe===-1?null:{start:J,end:pe}}else u=null}u=u||{start:0,end:0}}else u=null;for(z0={focusedElem:i,selectionRange:u},Sf=!1,Kn=l;Kn!==null;)if(l=Kn,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Kn=i;else for(;Kn!==null;){switch(l=Kn,N=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=l,b=N.memoizedProps,N=N.memoizedState,m=u.stateNode;try{var Bt=bc(u.type,b,u.elementType===u.type);i=m.getSnapshotBeforeUpdate(Bt,N),m.__reactInternalSnapshotBeforeUpdate=i}catch(Dt){Ts(u,u.return,Dt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)$0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,Kn=i;break}Kn=l.return}}function Wx(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vl(i,u),m&4&&Sd(5,u);break;case 1:if(vl(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(B){Ts(u,u.return,B)}else{var b=bc(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(B){Ts(u,u.return,B)}}m&64&&Ix(u),m&512&&_d(u,u.return);break;case 3:if(vl(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{un(i,l)}catch(B){Ts(u,u.return,B)}}break;case 27:l===null&&m&4&&$x(u);case 26:case 5:vl(i,u),l===null&&m&4&&qx(u),m&512&&_d(u,u.return);break;case 12:vl(i,u);break;case 13:vl(i,u),m&4&&Kx(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=MN.bind(null,u),XN(i,u))));break;case 22:if(m=u.memoizedState!==null||Do,!m){l=l!==null&&l.memoizedState!==null||wn,b=Do;var N=wn;Do=m,(wn=l)&&!N?wl(i,u,(u.subtreeFlags&8772)!==0):vl(i,u),Do=b,wn=N}break;case 30:break;default:vl(i,u)}}function Gx(i){var l=i.alternate;l!==null&&(i.alternate=null,Gx(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&va(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Js=null,qa=!1;function Mo(i,l,u){for(u=u.child;u!==null;)Yx(i,l,u),u=u.sibling}function Yx(i,l,u){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ct,u)}catch{}switch(u.tag){case 26:wn||Xr(u,l),Mo(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wn||Xr(u,l);var m=Js,b=qa;Cl(u.type)&&(Js=u.stateNode,qa=!1),Mo(i,l,u),Od(u.stateNode),Js=m,qa=b;break;case 5:wn||Xr(u,l);case 6:if(m=Js,b=qa,Js=null,Mo(i,l,u),Js=m,qa=b,Js!==null)if(qa)try{(Js.nodeType===9?Js.body:Js.nodeName==="HTML"?Js.ownerDocument.body:Js).removeChild(u.stateNode)}catch(N){Ts(u,l,N)}else try{Js.removeChild(u.stateNode)}catch(N){Ts(u,l,N)}break;case 18:Js!==null&&(qa?(i=Js,Pb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qd(i)):Pb(Js,u.stateNode));break;case 4:m=Js,b=qa,Js=u.stateNode.containerInfo,qa=!0,Mo(i,l,u),Js=m,qa=b;break;case 0:case 11:case 14:case 15:wn||yl(2,u,l),wn||yl(4,u,l),Mo(i,l,u);break;case 1:wn||(Xr(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&zx(u,l,m)),Mo(i,l,u);break;case 21:Mo(i,l,u);break;case 22:wn=(m=wn)||u.memoizedState!==null,Mo(i,l,u),wn=m;break;default:Mo(i,l,u)}}function Kx(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qd(i)}catch(u){Ts(l,l.return,u)}}function SN(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Vx),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Vx),l;default:throw Error(a(435,i.tag))}}function x0(i,l){var u=SN(i);l.forEach(function(m){var b=FN.bind(null,i,m);u.has(m)||(u.add(m),m.then(b,b))})}function ui(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],N=i,B=l,J=B;e:for(;J!==null;){switch(J.tag){case 27:if(Cl(J.type)){Js=J.stateNode,qa=!1;break e}break;case 5:Js=J.stateNode,qa=!1;break e;case 3:case 4:Js=J.stateNode.containerInfo,qa=!0;break e}J=J.return}if(Js===null)throw Error(a(160));Yx(N,B,b),Js=null,qa=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Xx(l,i),l=l.sibling}var yr=null;function Xx(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ui(l,i),di(i),m&4&&(yl(3,i,i.return),Sd(3,i),yl(5,i,i.return));break;case 1:ui(l,i),di(i),m&512&&(wn||u===null||Xr(u,u.return)),m&64&&Do&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=yr;if(ui(l,i),di(i),m&512&&(wn||u===null||Xr(u,u.return)),m&4){var N=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":N=b.getElementsByTagName("title")[0],(!N||N[Da]||N[Rs]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(m),b.head.insertBefore(N,b.querySelector("head > title"))),ha(N,m,u),N[Rs]=i,Is(N),m=N;break e;case"link":var B=$b("link","href",b).get(m+(u.href||""));if(B){for(var J=0;J<B.length;J++)if(N=B[J],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){B.splice(J,1);break t}}N=b.createElement(m),ha(N,m,u),b.head.appendChild(N);break;case"meta":if(B=$b("meta","content",b).get(m+(u.content||""))){for(J=0;J<B.length;J++)if(N=B[J],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){B.splice(J,1);break t}}N=b.createElement(m),ha(N,m,u),b.head.appendChild(N);break;default:throw Error(a(468,m))}N[Rs]=i,Is(N),m=N}i.stateNode=m}else Vb(b,i.type,i.stateNode);else i.stateNode=Hb(b,m,i.memoizedProps);else N!==m?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,m===null?Vb(b,i.type,i.stateNode):Hb(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&f0(i,i.memoizedProps,u.memoizedProps)}break;case 27:ui(l,i),di(i),m&512&&(wn||u===null||Xr(u,u.return)),u!==null&&m&4&&f0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ui(l,i),di(i),m&512&&(wn||u===null||Xr(u,u.return)),i.flags&32){b=i.stateNode;try{er(b,"")}catch(Me){Ts(i,i.return,Me)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,f0(i,b,u!==null?u.memoizedProps:b)),m&1024&&(g0=!0);break;case 6:if(ui(l,i),di(i),m&4){if(i.stateNode===null)throw Error(a(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Me){Ts(i,i.return,Me)}}break;case 3:if(wf=null,b=yr,yr=yf(l.containerInfo),ui(l,i),yr=b,di(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{qd(l.containerInfo)}catch(Me){Ts(i,i.return,Me)}g0&&(g0=!1,Qx(i));break;case 4:m=yr,yr=yf(i.stateNode.containerInfo),ui(l,i),di(i),yr=m;break;case 12:ui(l,i),di(i);break;case 13:ui(l,i),di(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(j0=Te()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,x0(i,m)));break;case 22:b=i.memoizedState!==null;var pe=u!==null&&u.memoizedState!==null,Le=Do,He=wn;if(Do=Le||b,wn=He||pe,ui(l,i),wn=He,Do=Le,di(i),m&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||pe||Do||wn||yc(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){pe=u=l;try{if(N=pe.stateNode,b)B=N.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{J=pe.stateNode;var Ge=pe.memoizedProps.style,De=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;J.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Me){Ts(pe,pe.return,Me)}}}else if(l.tag===6){if(u===null){pe=l;try{pe.stateNode.nodeValue=b?"":pe.memoizedProps}catch(Me){Ts(pe,pe.return,Me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,x0(i,u))));break;case 19:ui(l,i),di(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,x0(i,m)));break;case 30:break;case 21:break;default:ui(l,i),di(i)}}function di(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(Hx(m)){u=m;break}m=m.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,N=m0(i);rf(i,N,b);break;case 5:var B=u.stateNode;u.flags&32&&(er(B,""),u.flags&=-33);var J=m0(i);rf(i,J,B);break;case 3:case 4:var pe=u.stateNode.containerInfo,Le=m0(i);p0(i,Le,pe);break;default:throw Error(a(161))}}catch(He){Ts(i,i.return,He)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Qx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Qx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function vl(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Wx(i,l.alternate,l),l=l.sibling}function yc(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:yl(4,l,l.return),yc(l);break;case 1:Xr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&zx(l,l.return,u),yc(l);break;case 27:Od(l.stateNode);case 26:case 5:Xr(l,l.return),yc(l);break;case 22:l.memoizedState===null&&yc(l);break;case 30:yc(l);break;default:yc(l)}i=i.sibling}}function wl(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=i,N=l,B=N.flags;switch(N.tag){case 0:case 11:case 15:wl(b,N,u),Sd(4,N);break;case 1:if(wl(b,N,u),m=N,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Le){Ts(m,m.return,Le)}if(m=N,b=m.updateQueue,b!==null){var J=m.stateNode;try{var pe=b.shared.hiddenCallbacks;if(pe!==null)for(b.shared.hiddenCallbacks=null,b=0;b<pe.length;b++)es(pe[b],J)}catch(Le){Ts(m,m.return,Le)}}u&&B&64&&Ix(N),_d(N,N.return);break;case 27:$x(N);case 26:case 5:wl(b,N,u),u&&m===null&&B&4&&qx(N),_d(N,N.return);break;case 12:wl(b,N,u);break;case 13:wl(b,N,u),u&&B&4&&Kx(b,N);break;case 22:N.memoizedState===null&&wl(b,N,u),_d(N,N.return);break;case 30:break;default:wl(b,N,u)}l=l.sibling}}function b0(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&lc(u))}function y0(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&lc(i))}function Qr(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Zx(i,l,u,m),l=l.sibling}function Zx(i,l,u,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Qr(i,l,u,m),b&2048&&Sd(9,l);break;case 1:Qr(i,l,u,m);break;case 3:Qr(i,l,u,m),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&lc(i)));break;case 12:if(b&2048){Qr(i,l,u,m),i=l.stateNode;try{var N=l.memoizedProps,B=N.id,J=N.onPostCommit;typeof J=="function"&&J(B,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(pe){Ts(l,l.return,pe)}}else Qr(i,l,u,m);break;case 13:Qr(i,l,u,m);break;case 23:break;case 22:N=l.stateNode,B=l.alternate,l.memoizedState!==null?N._visibility&2?Qr(i,l,u,m):Ad(i,l):N._visibility&2?Qr(i,l,u,m):(N._visibility|=2,fu(i,l,u,m,(l.subtreeFlags&10256)!==0)),b&2048&&b0(B,l);break;case 24:Qr(i,l,u,m),b&2048&&y0(l.alternate,l);break;default:Qr(i,l,u,m)}}function fu(i,l,u,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=i,B=l,J=u,pe=m,Le=B.flags;switch(B.tag){case 0:case 11:case 15:fu(N,B,J,pe,b),Sd(8,B);break;case 23:break;case 22:var He=B.stateNode;B.memoizedState!==null?He._visibility&2?fu(N,B,J,pe,b):Ad(N,B):(He._visibility|=2,fu(N,B,J,pe,b)),b&&Le&2048&&b0(B.alternate,B);break;case 24:fu(N,B,J,pe,b),b&&Le&2048&&y0(B.alternate,B);break;default:fu(N,B,J,pe,b)}l=l.sibling}}function Ad(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,b=m.flags;switch(m.tag){case 22:Ad(u,m),b&2048&&b0(m.alternate,m);break;case 24:Ad(u,m),b&2048&&y0(m.alternate,m);break;default:Ad(u,m)}l=l.sibling}}var Cd=8192;function mu(i){if(i.subtreeFlags&Cd)for(i=i.child;i!==null;)Jx(i),i=i.sibling}function Jx(i){switch(i.tag){case 26:mu(i),i.flags&Cd&&i.memoizedState!==null&&cj(yr,i.memoizedState,i.memoizedProps);break;case 5:mu(i);break;case 3:case 4:var l=yr;yr=yf(i.stateNode.containerInfo),mu(i),yr=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Cd,Cd=16777216,mu(i),Cd=l):mu(i));break;default:mu(i)}}function eb(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function kd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Kn=m,sb(m,i)}eb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tb(i),i=i.sibling}function tb(i){switch(i.tag){case 0:case 11:case 15:kd(i),i.flags&2048&&yl(9,i,i.return);break;case 3:kd(i);break;case 12:kd(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,of(i)):kd(i);break;default:kd(i)}}function of(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Kn=m,sb(m,i)}eb(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:yl(8,l,l.return),of(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,of(l));break;default:of(l)}i=i.sibling}}function sb(i,l){for(;Kn!==null;){var u=Kn;switch(u.tag){case 0:case 11:case 15:yl(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:lc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Kn=m;else e:for(u=i;Kn!==null;){m=Kn;var b=m.sibling,N=m.return;if(Gx(m),m===u){Kn=null;break e}if(b!==null){b.return=N,Kn=b;break e}Kn=N}}}var _N={getCacheForType:function(i){var l=gn(xn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u}},AN=typeof WeakMap=="function"?WeakMap:Map,Ss=0,zs=null,ns=null,ds=0,_s=0,hi=null,Nl=!1,pu=!1,v0=!1,Fo=0,dn=0,jl=0,vc=0,w0=0,Wi=0,gu=0,Ed=null,Ha=null,N0=!1,j0=0,lf=1/0,cf=null,Sl=null,da=0,_l=null,xu=null,bu=0,S0=0,_0=null,nb=null,Ld=0,A0=null;function fi(){if((Ss&2)!==0&&ds!==0)return ds&-ds;if(R.T!==null){var i=_o;return i!==0?i:F0()}return Ja()}function ab(){Wi===0&&(Wi=(ds&536870912)===0||gs?nt():536870912);var i=Vi.current;return i!==null&&(i.flags|=32),Wi}function mi(i,l,u){(i===zs&&(_s===2||_s===9)||i.cancelPendingCommit!==null)&&(yu(i,0),Al(i,ds,Wi,!1)),ss(i,u),((Ss&2)===0||i!==zs)&&(i===zs&&((Ss&2)===0&&(vc|=u),dn===4&&Al(i,ds,Wi,!1)),Zr(i))}function ib(i,l,u){if((Ss&6)!==0)throw Error(a(327));var m=!u&&(l&124)===0&&(l&i.expiredLanes)===0||jt(i,l),b=m?EN(i,l):E0(i,l,!0),N=m;do{if(b===0){pu&&!m&&Al(i,l,0,!1);break}else{if(u=i.current.alternate,N&&!CN(u)){b=E0(i,l,!1),N=!1;continue}if(b===2){if(N=l,i.errorRecoveryDisabledLanes&N)var B=0;else B=i.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){l=B;e:{var J=i;b=Ed;var pe=J.current.memoizedState.isDehydrated;if(pe&&(yu(J,B).flags|=256),B=E0(J,B,!1),B!==2){if(v0&&!pe){J.errorRecoveryDisabledLanes|=N,vc|=N,b=4;break e}N=Ha,Ha=b,N!==null&&(Ha===null?Ha=N:Ha.push.apply(Ha,N))}b=B}if(N=!1,b!==2)continue}}if(b===1){yu(i,0),Al(i,l,0,!0);break}e:{switch(m=i,N=b,N){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Al(m,l,Wi,!Nl);break e;case 2:Ha=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(b=j0+300-Te(),10<b)){if(Al(m,l,Wi,!Nl),is(m,0,!0)!==0)break e;m.timeoutHandle=Ob(rb.bind(null,m,u,Ha,cf,N0,l,Wi,vc,gu,Nl,N,2,-0,0),b);break e}rb(m,u,Ha,cf,N0,l,Wi,vc,gu,Nl,N,0,-0,0)}}break}while(!0);Zr(i)}function rb(i,l,u,m,b,N,B,J,pe,Le,He,Ge,De,Me){if(i.timeoutHandle=-1,Ge=l.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(Bd={stylesheets:null,count:0,unsuspend:lj},Jx(l),Ge=uj(),Ge!==null)){i.cancelPendingCommit=Ge(fb.bind(null,i,l,N,u,m,b,B,J,pe,He,1,De,Me)),Al(i,N,B,!Le);return}fb(i,l,N,u,m,b,B,J,pe)}function CN(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],N=b.getSnapshot;b=b.value;try{if(!En(N(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Al(i,l,u,m){l&=~w0,l&=~vc,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var b=l;0<b;){var N=31-ye(b),B=1<<N;m[N]=-1,b&=~B}u!==0&&fs(i,u,l)}function uf(){return(Ss&6)===0?(Dd(0),!1):!0}function C0(){if(ns!==null){if(_s===0)var i=ns.return;else i=ns,fr=Dn=null,Rn(i),du=null,wd=0,i=ns;for(;i!==null;)Ux(i.alternate,i),i=i.return;ns=null}}function yu(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,VN(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),C0(),zs=i,ns=u=Ri(i.current,null),ds=l,_s=0,hi=null,Nl=!1,pu=jt(i,l),v0=!1,gu=Wi=w0=vc=jl=dn=0,Ha=Ed=null,N0=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var b=31-ye(m),N=1<<b;l|=i[b],m&=~N}return Fo=l,sc(),u}function ob(i,l){gt=null,R.H=Xh,l===Y||l===se?(l=we(),_s=3):l===Q?(l=we(),_s=4):_s=l===_x?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,hi=l,ns===null&&(dn=1,tf(i,_a(l,i.current)))}function lb(){var i=R.H;return R.H=Xh,i===null?Xh:i}function cb(){var i=R.A;return R.A=_N,i}function k0(){dn=4,Nl||(ds&4194048)!==ds&&Vi.current!==null||(pu=!0),(jl&134217727)===0&&(vc&134217727)===0||zs===null||Al(zs,ds,Wi,!1)}function E0(i,l,u){var m=Ss;Ss|=2;var b=lb(),N=cb();(zs!==i||ds!==l)&&(cf=null,yu(i,l)),l=!1;var B=dn;e:do try{if(_s!==0&&ns!==null){var J=ns,pe=hi;switch(_s){case 8:C0(),B=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(l=!0);var Le=_s;if(_s=0,hi=null,vu(i,J,pe,Le),u&&pu){B=0;break e}break;default:Le=_s,_s=0,hi=null,vu(i,J,pe,Le)}}kN(),B=dn;break}catch(He){ob(i,He)}while(!0);return l&&i.shellSuspendCounter++,fr=Dn=null,Ss=m,R.H=b,R.A=N,ns===null&&(zs=null,ds=0,sc()),B}function kN(){for(;ns!==null;)ub(ns)}function EN(i,l){var u=Ss;Ss|=2;var m=lb(),b=cb();zs!==i||ds!==l?(cf=null,lf=Te()+500,yu(i,l)):pu=jt(i,l);e:do try{if(_s!==0&&ns!==null){l=ns;var N=hi;t:switch(_s){case 1:_s=0,hi=null,vu(i,l,N,1);break;case 2:case 9:if(ce(N)){_s=0,hi=null,db(l);break}l=function(){_s!==2&&_s!==9||zs!==i||(_s=7),Zr(i)},N.then(l,l);break e;case 3:_s=7;break e;case 4:_s=5;break e;case 7:ce(N)?(_s=0,hi=null,db(l)):(_s=0,hi=null,vu(i,l,N,7));break;case 5:var B=null;switch(ns.tag){case 26:B=ns.memoizedState;case 5:case 27:var J=ns;if(!B||Wb(B)){_s=0,hi=null;var pe=J.sibling;if(pe!==null)ns=pe;else{var Le=J.return;Le!==null?(ns=Le,df(Le)):ns=null}break t}}_s=0,hi=null,vu(i,l,N,5);break;case 6:_s=0,hi=null,vu(i,l,N,6);break;case 8:C0(),dn=6;break e;default:throw Error(a(462))}}LN();break}catch(He){ob(i,He)}while(!0);return fr=Dn=null,R.H=m,R.A=b,Ss=u,ns!==null?0:(zs=null,ds=0,sc(),dn)}function LN(){for(;ns!==null&&!he();)ub(ns)}function ub(i){var l=Bx(i.alternate,i,Fo);i.memoizedProps=i.pendingProps,l===null?df(i):ns=l}function db(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=Dx(u,l,l.pendingProps,l.type,void 0,ds);break;case 11:l=Dx(u,l,l.pendingProps,l.type.render,l.ref,ds);break;case 5:Rn(l);default:Ux(u,l),l=ns=ac(l,Fo),l=Bx(u,l,Fo)}i.memoizedProps=i.pendingProps,l===null?df(i):ns=l}function vu(i,l,u,m){fr=Dn=null,Rn(l),du=null,wd=0;var b=l.return;try{if(yN(i,b,l,u,ds)){dn=1,tf(i,_a(u,i.current)),ns=null;return}}catch(N){if(b!==null)throw ns=b,N;dn=1,tf(i,_a(u,i.current)),ns=null;return}l.flags&32768?(gs||m===1?i=!0:pu||(ds&536870912)!==0?i=!1:(Nl=i=!0,(m===2||m===9||m===3||m===6)&&(m=Vi.current,m!==null&&m.tag===13&&(m.flags|=16384))),hb(l,i)):df(l)}function df(i){var l=i;do{if((l.flags&32768)!==0){hb(l,Nl);return}i=l.return;var u=wN(l.alternate,l,Fo);if(u!==null){ns=u;return}if(l=l.sibling,l!==null){ns=l;return}ns=l=i}while(l!==null);dn===0&&(dn=5)}function hb(i,l){do{var u=NN(i.alternate,i);if(u!==null){u.flags&=32767,ns=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){ns=i;return}ns=i=u}while(i!==null);dn=6,ns=null}function fb(i,l,u,m,b,N,B,J,pe){i.cancelPendingCommit=null;do hf();while(da!==0);if((Ss&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(N=l.lanes|l.childLanes,N|=Zc,Ft(i,u,N,B,J,pe),i===zs&&(ns=zs=null,ds=0),xu=l,_l=i,bu=u,S0=N,_0=b,nb=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ON(Ze,function(){return bb(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=R.T,R.T=null,b=ie.p,ie.p=2,B=Ss,Ss|=4;try{jN(i,l,u)}finally{Ss=B,ie.p=b,R.T=m}}da=1,mb(),pb(),gb()}}function mb(){if(da===1){da=0;var i=_l,l=xu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=R.T,R.T=null;var m=ie.p;ie.p=2;var b=Ss;Ss|=4;try{Xx(l,i);var N=z0,B=ol(i.containerInfo),J=N.focusedElem,pe=N.selectionRange;if(B!==J&&J&&J.ownerDocument&&Ti(J.ownerDocument.documentElement,J)){if(pe!==null&&aa(J)){var Le=pe.start,He=pe.end;if(He===void 0&&(He=Le),"selectionStart"in J)J.selectionStart=Le,J.selectionEnd=Math.min(He,J.value.length);else{var Ge=J.ownerDocument||document,De=Ge&&Ge.defaultView||window;if(De.getSelection){var Me=De.getSelection(),Bt=J.textContent.length,Dt=Math.min(pe.start,Bt),Ls=pe.end===void 0?Dt:Math.min(pe.end,Bt);!Me.extend&&Dt>Ls&&(B=Ls,Ls=Dt,Dt=B);var je=Hr(J,Dt),ve=Hr(J,Ls);if(je&&ve&&(Me.rangeCount!==1||Me.anchorNode!==je.node||Me.anchorOffset!==je.offset||Me.focusNode!==ve.node||Me.focusOffset!==ve.offset)){var Ae=Ge.createRange();Ae.setStart(je.node,je.offset),Me.removeAllRanges(),Dt>Ls?(Me.addRange(Ae),Me.extend(ve.node,ve.offset)):(Ae.setEnd(ve.node,ve.offset),Me.addRange(Ae))}}}}for(Ge=[],Me=J;Me=Me.parentNode;)Me.nodeType===1&&Ge.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ge.length;J++){var $e=Ge[J];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Sf=!!I0,z0=I0=null}finally{Ss=b,ie.p=m,R.T=u}}i.current=l,da=2}}function pb(){if(da===2){da=0;var i=_l,l=xu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=R.T,R.T=null;var m=ie.p;ie.p=2;var b=Ss;Ss|=4;try{Wx(i,l.alternate,l)}finally{Ss=b,ie.p=m,R.T=u}}da=3}}function gb(){if(da===4||da===3){da=0,Rt();var i=_l,l=xu,u=bu,m=nb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?da=5:(da=0,xu=_l=null,xb(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Sl=null),Za(u),l=l.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ct,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=R.T,b=ie.p,ie.p=2,R.T=null;try{for(var N=i.onRecoverableError,B=0;B<m.length;B++){var J=m[B];N(J.value,{componentStack:J.stack})}}finally{R.T=l,ie.p=b}}(bu&3)!==0&&hf(),Zr(i),b=i.pendingLanes,(u&4194090)!==0&&(b&42)!==0?i===A0?Ld++:(Ld=0,A0=i):Ld=0,Dd(0)}}function xb(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,lc(l)))}function hf(i){return mb(),pb(),gb(),bb()}function bb(){if(da!==5)return!1;var i=_l,l=S0;S0=0;var u=Za(bu),m=R.T,b=ie.p;try{ie.p=32>u?32:u,R.T=null,u=_0,_0=null;var N=_l,B=bu;if(da=0,xu=_l=null,bu=0,(Ss&6)!==0)throw Error(a(331));var J=Ss;if(Ss|=4,tb(N.current),Zx(N,N.current,B,u),Ss=J,Dd(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ct,N)}catch{}return!0}finally{ie.p=b,R.T=m,xb(i,l)}}function yb(i,l,u){l=_a(u,l),l=a0(i.stateNode,l,2),i=Qe(i,l,2),i!==null&&(ss(i,2),Zr(i))}function Ts(i,l,u){if(i.tag===3)yb(i,i,u);else for(;l!==null;){if(l.tag===3){yb(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Sl===null||!Sl.has(m))){i=_a(u,i),u=jx(2),m=Qe(l,u,2),m!==null&&(Sx(u,m,l,i),ss(m,2),Zr(m));break}}l=l.return}}function L0(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new AN;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(u)||(v0=!0,b.add(u),i=DN.bind(null,i,l,u),l.then(i,i))}function DN(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,zs===i&&(ds&u)===u&&(dn===4||dn===3&&(ds&62914560)===ds&&300>Te()-j0?(Ss&2)===0&&yu(i,0):w0|=u,gu===ds&&(gu=0)),Zr(i)}function vb(i,l){l===0&&(l=st()),i=yo(i,l),i!==null&&(ss(i,l),Zr(i))}function MN(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),vb(i,u)}function FN(i,l){var u=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),vb(i,u)}function ON(i,l){return Je(i,l)}var ff=null,wu=null,D0=!1,mf=!1,M0=!1,wc=0;function Zr(i){i!==wu&&i.next===null&&(wu===null?ff=wu=i:wu=wu.next=i),mf=!0,D0||(D0=!0,PN())}function Dd(i,l){if(!M0&&mf){M0=!0;do for(var u=!1,m=ff;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var N=0;else{var B=m.suspendedLanes,J=m.pingedLanes;N=(1<<31-ye(42|i)+1)-1,N&=b&~(B&~J),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,Sb(m,N))}else N=ds,N=is(m,m===zs?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||jt(m,N)||(u=!0,Sb(m,N));m=m.next}while(u);M0=!1}}function TN(){wb()}function wb(){mf=D0=!1;var i=0;wc!==0&&($N()&&(i=wc),wc=0);for(var l=Te(),u=null,m=ff;m!==null;){var b=m.next,N=Nb(m,l);N===0?(m.next=null,u===null?ff=b:u.next=b,b===null&&(wu=u)):(u=m,(i!==0||(N&3)!==0)&&(mf=!0)),m=b}Dd(i)}function Nb(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var B=31-ye(N),J=1<<B,pe=b[B];pe===-1?((J&u)===0||(J&m)!==0)&&(b[B]=ze(J,l)):pe<=l&&(i.expiredLanes|=J),N&=~J}if(l=zs,u=ds,u=is(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(_s===2||_s===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ke(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||jt(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&ke(m),Za(u)){case 2:case 8:u=Ve;break;case 32:u=Ze;break;case 268435456:u=xt;break;default:u=Ze}return m=jb.bind(null,i),u=Je(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&ke(m),i.callbackPriority=2,i.callbackNode=null,2}function jb(i,l){if(da!==0&&da!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(hf()&&i.callbackNode!==u)return null;var m=ds;return m=is(i,i===zs?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(ib(i,m,l),Nb(i,Te()),i.callbackNode!=null&&i.callbackNode===u?jb.bind(null,i):null)}function Sb(i,l){if(hf())return null;ib(i,l,!0)}function PN(){WN(function(){(Ss&6)!==0?Je(Fe,TN):wb()})}function F0(){return wc===0&&(wc=nt()),wc}function _b(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ni(""+i)}function Ab(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function BN(i,l,u,m,b){if(l==="submit"&&u&&u.stateNode===b){var N=_b((b[Ms]||null).action),B=m.submitter;B&&(l=(l=B[Ms]||null)?_b(l.formAction):B.getAttribute("formAction"),l!==null&&(N=l,B=null));var J=new Br("action","action",null,m,b);i.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wc!==0){var pe=B?Ab(b,B):new FormData(b);$i(u,{pending:!0,data:pe,method:b.method,action:N},null,pe)}}else typeof N=="function"&&(J.preventDefault(),pe=B?Ab(b,B):new FormData(b),$i(u,{pending:!0,data:pe,method:b.method,action:N},N,pe))},currentTarget:b}]})}}for(var O0=0;O0<Qc.length;O0++){var T0=Qc[O0],RN=T0.toLowerCase(),UN=T0[0].toUpperCase()+T0.slice(1);Ua(RN,"on"+UN)}Ua(td,"onAnimationEnd"),Ua(sd,"onAnimationIteration"),Ua(nd,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(Lh,"onTransitionRun"),Ua(Dh,"onTransitionStart"),Ua(Mh,"onTransitionCancel"),Ua(ad,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Cb(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var N=void 0;if(l)for(var B=m.length-1;0<=B;B--){var J=m[B],pe=J.instance,Le=J.currentTarget;if(J=J.listener,pe!==N&&b.isPropagationStopped())break e;N=J,b.currentTarget=Le;try{N(b)}catch(He){ef(He)}b.currentTarget=null,N=pe}else for(B=0;B<m.length;B++){if(J=m[B],pe=J.instance,Le=J.currentTarget,J=J.listener,pe!==N&&b.isPropagationStopped())break e;N=J,b.currentTarget=Le;try{N(b)}catch(He){ef(He)}b.currentTarget=null,N=pe}}}}function as(i,l){var u=l[Us];u===void 0&&(u=l[Us]=new Set);var m=i+"__bubble";u.has(m)||(kb(l,i,2,!1),u.add(m))}function P0(i,l,u){var m=0;l&&(m|=4),kb(u,i,m,l)}var pf="_reactListening"+Math.random().toString(36).slice(2);function B0(i){if(!i[pf]){i[pf]=!0,ei.forEach(function(u){u!=="selectionchange"&&(IN.has(u)||P0(u,!1,i),P0(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[pf]||(l[pf]=!0,P0("selectionchange",!1,l))}}function kb(i,l,u,m){switch(Zb(l)){case 2:var b=fj;break;case 8:b=mj;break;default:b=Q0}u=b.bind(null,l,u,i),b=void 0,!ai||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(l,u,{capture:!0,passive:b}):i.addEventListener(l,u,!0):b!==void 0?i.addEventListener(l,u,{passive:b}):i.addEventListener(l,u,!1)}function R0(i,l,u,m,b){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var J=m.stateNode.containerInfo;if(J===b)break;if(B===4)for(B=m.return;B!==null;){var pe=B.tag;if((pe===3||pe===4)&&B.stateNode.containerInfo===b)return;B=B.return}for(;J!==null;){if(B=ea(J),B===null)return;if(pe=B.tag,pe===5||pe===6||pe===26||pe===27){m=N=B;continue e}J=J.parentNode}}m=m.return}Yc(function(){var Le=N,He=Xl(u),Ge=[];e:{var De=id.get(i);if(De!==void 0){var Me=Br,Bt=i;switch(i){case"keypress":if(Ai(u)===0)break e;case"keydown":case"keyup":Me=on;break;case"focusin":Bt="focus",Me=A;break;case"focusout":Bt="blur",Me=A;break;case"beforeblur":case"afterblur":Me=A;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=Pn;break;case td:case sd:case nd:Me=ue;break;case ad:Me=Ur;break;case"scroll":case"scrollend":Me=fo;break;case"wheel":Me=Kc;break;case"copy":case"cut":case"paste":Me=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=ln;break;case"toggle":case"beforetoggle":Me=oi}var Dt=(l&4)!==0,Ls=!Dt&&(i==="scroll"||i==="scrollend"),je=Dt?De!==null?De+"Capture":null:De;Dt=[];for(var ve=Le,Ae;ve!==null;){var $e=ve;if(Ae=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ae===null||je===null||($e=uo(ve,je),$e!=null&&Dt.push(Fd(ve,$e,Ae))),Ls)break;ve=ve.return}0<Dt.length&&(De=new Me(De,Bt,null,u,He),Ge.push({event:De,listeners:Dt}))}}if((l&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",De&&u!==ji&&(Bt=u.relatedTarget||u.fromElement)&&(ea(Bt)||Bt[Fn]))break e;if((Me||De)&&(De=He.window===He?He:(De=He.ownerDocument)?De.defaultView||De.parentWindow:window,Me?(Bt=u.relatedTarget||u.toElement,Me=Le,Bt=Bt?ea(Bt):null,Bt!==null&&(Ls=o(Bt),Dt=Bt.tag,Bt!==Ls||Dt!==5&&Dt!==27&&Dt!==6)&&(Bt=null)):(Me=null,Bt=Le),Me!==Bt)){if(Dt=el,$e="onMouseLeave",je="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Dt=ln,$e="onPointerLeave",je="onPointerEnter",ve="pointer"),Ls=Me==null?De:ta(Me),Ae=Bt==null?De:ta(Bt),De=new Dt($e,ve+"leave",Me,u,He),De.target=Ls,De.relatedTarget=Ae,$e=null,ea(He)===Le&&(Dt=new Dt(je,ve+"enter",Bt,u,He),Dt.target=Ae,Dt.relatedTarget=Ls,$e=Dt),Ls=$e,Me&&Bt)t:{for(Dt=Me,je=Bt,ve=0,Ae=Dt;Ae;Ae=Nu(Ae))ve++;for(Ae=0,$e=je;$e;$e=Nu($e))Ae++;for(;0<ve-Ae;)Dt=Nu(Dt),ve--;for(;0<Ae-ve;)je=Nu(je),Ae--;for(;ve--;){if(Dt===je||je!==null&&Dt===je.alternate)break t;Dt=Nu(Dt),je=Nu(je)}Dt=null}else Dt=null;Me!==null&&Eb(Ge,De,Me,Dt,!1),Bt!==null&&Ls!==null&&Eb(Ge,Ls,Bt,Dt,!0)}}e:{if(De=Le?ta(Le):window,Me=De.nodeName&&De.nodeName.toLowerCase(),Me==="select"||Me==="input"&&De.type==="file")var bt=na;else if(Sa(De))if(zr)bt=rl;else{bt=Mi;var ts=Ju}else Me=De.nodeName,!Me||Me.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Le&&Yl(Le.elementType)&&(bt=na):bt=Fi;if(bt&&(bt=bt(i,Le))){nl(Ge,bt,u,He);break e}ts&&ts(i,De,Le),i==="focusout"&&Le&&De.type==="number"&&Le.memoizedProps.value!=null&&Wl(De,"number",De.value)}switch(ts=Le?ta(Le):window,i){case"focusin":(Sa(ts)||ts.contentEditable==="true")&&(ps=ts,Ns=Le,Fs=null);break;case"focusout":Fs=Ns=ps=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,Bi(Ge,u,He);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":Bi(Ge,u,He)}var Ct;if(Ir)e:{switch(i){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else ir?tl(i,u)&&(Mt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ei&&u.locale!=="ko"&&(ir||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ir&&(Ct=Jo()):(_i=He,Zl="value"in _i?_i.value:_i.textContent,ir=!0)),ts=gf(Le,Mt),0<ts.length&&(Mt=new Ke(Mt,i,null,u,He),Ge.push({event:Mt,listeners:ts}),Ct?Mt.data=Ct:(Ct=Vn(u),Ct!==null&&(Mt.data=Ct)))),(Ct=kn?sl(i,u):Xc(i,u))&&(Mt=gf(Le,"onBeforeInput"),0<Mt.length&&(ts=new Ke("onBeforeInput","beforeinput",null,u,He),Ge.push({event:ts,listeners:Mt}),ts.data=Ct)),BN(Ge,i,Le,u,He)}Cb(Ge,l)})}function Fd(i,l,u){return{instance:i,listener:l,currentTarget:u}}function gf(i,l){for(var u=l+"Capture",m=[];i!==null;){var b=i,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=uo(i,u),b!=null&&m.unshift(Fd(i,b,N)),b=uo(i,l),b!=null&&m.push(Fd(i,b,N))),i.tag===3)return m;i=i.return}return[]}function Nu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Eb(i,l,u,m,b){for(var N=l._reactName,B=[];u!==null&&u!==m;){var J=u,pe=J.alternate,Le=J.stateNode;if(J=J.tag,pe!==null&&pe===m)break;J!==5&&J!==26&&J!==27||Le===null||(pe=Le,b?(Le=uo(u,N),Le!=null&&B.unshift(Fd(u,Le,pe))):b||(Le=uo(u,N),Le!=null&&B.push(Fd(u,Le,pe)))),u=u.return}B.length!==0&&i.push({event:l,listeners:B})}var zN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function Lb(i){return(typeof i=="string"?i:""+i).replace(zN,`
`).replace(qN,"")}function Db(i,l){return l=Lb(l),Lb(i)===l}function xf(){}function Es(i,l,u,m,b,N){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||er(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&er(i,""+m);break;case"className":sa(i,"class",m);break;case"tabIndex":sa(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(i,u,m);break;case"style":Gc(i,m,N);break;case"data":if(l!=="object"){sa(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ni(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(l!=="input"&&Es(i,l,"name",b.name,b,null),Es(i,l,"formEncType",b.formEncType,b,null),Es(i,l,"formMethod",b.formMethod,b,null),Es(i,l,"formTarget",b.formTarget,b,null)):(Es(i,l,"encType",b.encType,b,null),Es(i,l,"method",b.method,b,null),Es(i,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ni(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=xf);break;case"onScroll":m!=null&&as("scroll",i);break;case"onScrollEnd":m!=null&&as("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Ni(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":as("beforetoggle",i),as("toggle",i),oo(i,"popover",m);break;case"xlinkActuate":wa(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":wa(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":wa(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":wa(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":wa(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":wa(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":wa(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":wa(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":wa(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":oo(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Qu.get(u)||u,oo(i,u,m))}}function U0(i,l,u,m,b,N){switch(u){case"style":Gc(i,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof m=="string"?er(i,m):(typeof m=="number"||typeof m=="bigint")&&er(i,""+m);break;case"onScroll":m!=null&&as("scroll",i);break;case"onScrollEnd":m!=null&&as("scrollend",i);break;case"onClick":m!=null&&(i.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),N=i[Ms]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(l,N,b),typeof m=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,b);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):oo(i,u,m)}}}function ha(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":as("error",i),as("load",i);var m=!1,b=!1,N;for(N in u)if(u.hasOwnProperty(N)){var B=u[N];if(B!=null)switch(N){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Es(i,l,N,B,u,null)}}b&&Es(i,l,"srcSet",u.srcSet,u,null),m&&Es(i,l,"src",u.src,u,null);return;case"input":as("invalid",i);var J=N=B=b=null,pe=null,Le=null;for(m in u)if(u.hasOwnProperty(m)){var He=u[m];if(He!=null)switch(m){case"name":b=He;break;case"type":B=He;break;case"checked":pe=He;break;case"defaultChecked":Le=He;break;case"value":N=He;break;case"defaultValue":J=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(a(137,l));break;default:Es(i,l,m,He,u,null)}}Wc(i,N,J,pe,Le,B,b,!1),Fa(i);return;case"select":as("invalid",i),m=B=N=null;for(b in u)if(u.hasOwnProperty(b)&&(J=u[b],J!=null))switch(b){case"value":N=J;break;case"defaultValue":B=J;break;case"multiple":m=J;default:Es(i,l,b,J,u,null)}l=N,u=B,i.multiple=!!m,l!=null?Tr(i,!!m,l,!1):u!=null&&Tr(i,!!m,u,!0);return;case"textarea":as("invalid",i),N=b=m=null;for(B in u)if(u.hasOwnProperty(B)&&(J=u[B],J!=null))switch(B){case"value":m=J;break;case"defaultValue":b=J;break;case"children":N=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(91));break;default:Es(i,l,B,J,u,null)}Gl(i,m,b,N),Fa(i);return;case"option":for(pe in u)if(u.hasOwnProperty(pe)&&(m=u[pe],m!=null))switch(pe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Es(i,l,pe,m,u,null)}return;case"dialog":as("beforetoggle",i),as("toggle",i),as("cancel",i),as("close",i);break;case"iframe":case"object":as("load",i);break;case"video":case"audio":for(m=0;m<Md.length;m++)as(Md[m],i);break;case"image":as("error",i),as("load",i);break;case"details":as("toggle",i);break;case"embed":case"source":case"link":as("error",i),as("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in u)if(u.hasOwnProperty(Le)&&(m=u[Le],m!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Es(i,l,Le,m,u,null)}return;default:if(Yl(l)){for(He in u)u.hasOwnProperty(He)&&(m=u[He],m!==void 0&&U0(i,l,He,m,u,void 0));return}}for(J in u)u.hasOwnProperty(J)&&(m=u[J],m!=null&&Es(i,l,J,m,u,null))}function HN(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,B=null,J=null,pe=null,Le=null,He=null;for(Me in u){var Ge=u[Me];if(u.hasOwnProperty(Me)&&Ge!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":pe=Ge;default:m.hasOwnProperty(Me)||Es(i,l,Me,null,m,Ge)}}for(var De in m){var Me=m[De];if(Ge=u[De],m.hasOwnProperty(De)&&(Me!=null||Ge!=null))switch(De){case"type":N=Me;break;case"name":b=Me;break;case"checked":Le=Me;break;case"defaultChecked":He=Me;break;case"value":B=Me;break;case"defaultValue":J=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(137,l));break;default:Me!==Ge&&Es(i,l,De,Me,m,Ge)}}co(i,B,J,pe,Le,He,N,b);return;case"select":Me=B=J=De=null;for(N in u)if(pe=u[N],u.hasOwnProperty(N)&&pe!=null)switch(N){case"value":break;case"multiple":Me=pe;default:m.hasOwnProperty(N)||Es(i,l,N,null,m,pe)}for(b in m)if(N=m[b],pe=u[b],m.hasOwnProperty(b)&&(N!=null||pe!=null))switch(b){case"value":De=N;break;case"defaultValue":J=N;break;case"multiple":B=N;default:N!==pe&&Es(i,l,b,N,m,pe)}l=J,u=B,m=Me,De!=null?Tr(i,!!u,De,!1):!!m!=!!u&&(l!=null?Tr(i,!!u,l,!0):Tr(i,!!u,u?[]:"",!1));return;case"textarea":Me=De=null;for(J in u)if(b=u[J],u.hasOwnProperty(J)&&b!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Es(i,l,J,null,m,b)}for(B in m)if(b=m[B],N=u[B],m.hasOwnProperty(B)&&(b!=null||N!=null))switch(B){case"value":De=b;break;case"defaultValue":Me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==N&&Es(i,l,B,b,m,N)}si(i,De,Me);return;case"option":for(var Bt in u)if(De=u[Bt],u.hasOwnProperty(Bt)&&De!=null&&!m.hasOwnProperty(Bt))switch(Bt){case"selected":i.selected=!1;break;default:Es(i,l,Bt,null,m,De)}for(pe in m)if(De=m[pe],Me=u[pe],m.hasOwnProperty(pe)&&De!==Me&&(De!=null||Me!=null))switch(pe){case"selected":i.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Es(i,l,pe,De,m,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)De=u[Dt],u.hasOwnProperty(Dt)&&De!=null&&!m.hasOwnProperty(Dt)&&Es(i,l,Dt,null,m,De);for(Le in m)if(De=m[Le],Me=u[Le],m.hasOwnProperty(Le)&&De!==Me&&(De!=null||Me!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,l));break;default:Es(i,l,Le,De,m,Me)}return;default:if(Yl(l)){for(var Ls in u)De=u[Ls],u.hasOwnProperty(Ls)&&De!==void 0&&!m.hasOwnProperty(Ls)&&U0(i,l,Ls,void 0,m,De);for(He in m)De=m[He],Me=u[He],!m.hasOwnProperty(He)||De===Me||De===void 0&&Me===void 0||U0(i,l,He,De,m,Me);return}}for(var je in u)De=u[je],u.hasOwnProperty(je)&&De!=null&&!m.hasOwnProperty(je)&&Es(i,l,je,null,m,De);for(Ge in m)De=m[Ge],Me=u[Ge],!m.hasOwnProperty(Ge)||De===Me||De==null&&Me==null||Es(i,l,Ge,De,m,Me)}var I0=null,z0=null;function bf(i){return i.nodeType===9?i:i.ownerDocument}function Mb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fb(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function q0(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var H0=null;function $N(){var i=window.event;return i&&i.type==="popstate"?i===H0?!1:(H0=i,!0):(H0=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(i){return Tb.resolve(null).then(i).catch(GN)}:Ob;function GN(i){setTimeout(function(){throw i})}function Cl(i){return i==="head"}function Pb(i,l){var u=l,m=0,b=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<m&&8>m){u=m;var B=i.ownerDocument;if(u&1&&Od(B.documentElement),u&2&&Od(B.body),u&4)for(u=B.head,Od(u),B=u.firstChild;B;){var J=B.nextSibling,pe=B.nodeName;B[Da]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||u.removeChild(B),B=J}}if(b===0){i.removeChild(N),qd(l);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:m=u.charCodeAt(0)-48;else m=0;u=N}while(u);qd(l)}function $0(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$0(u),va(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function YN(i,l,u,m){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Da])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function KN(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=vr(i.nextSibling),i===null))return null;return i}function V0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function XN(i,l){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function vr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var W0=null;function Bb(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}function Rb(i,l,u){switch(l=bf(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Od(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);va(i)}var Gi=new Map,Ub=new Set;function yf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Oo=ie.d;ie.d={f:QN,r:ZN,D:JN,C:ej,L:tj,m:sj,X:aj,S:nj,M:ij};function QN(){var i=Oo.f(),l=uf();return i||l}function ZN(i){var l=Hn(i);l!==null&&l.tag===5&&l.type==="form"?gc(l):Oo.r(i)}var ju=typeof document>"u"?null:document;function Ib(i,l,u){var m=ju;if(m&&typeof l=="string"&&l){var b=cs(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),Ub.has(b)||(Ub.add(b),i={rel:i,crossOrigin:u,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),ha(l,"link",i),Is(l),m.head.appendChild(l)))}}function JN(i){Oo.D(i),Ib("dns-prefetch",i,null)}function ej(i,l){Oo.C(i,l),Ib("preconnect",i,l)}function tj(i,l,u){Oo.L(i,l,u);var m=ju;if(m&&i&&l){var b='link[rel="preload"][as="'+cs(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+cs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+cs(u.imageSizes)+'"]')):b+='[href="'+cs(i)+'"]';var N=b;switch(l){case"style":N=Su(i);break;case"script":N=_u(i)}Gi.has(N)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Gi.set(N,i),m.querySelector(b)!==null||l==="style"&&m.querySelector(Td(N))||l==="script"&&m.querySelector(Pd(N))||(l=m.createElement("link"),ha(l,"link",i),Is(l),m.head.appendChild(l)))}}function sj(i,l){Oo.m(i,l);var u=ju;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+cs(m)+'"][href="'+cs(i)+'"]',N=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=_u(i)}if(!Gi.has(N)&&(i=p({rel:"modulepreload",href:i},l),Gi.set(N,i),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Pd(N)))return}m=u.createElement("link"),ha(m,"link",i),Is(m),u.head.appendChild(m)}}}function nj(i,l,u){Oo.S(i,l,u);var m=ju;if(m&&i){var b=Tn(m).hoistableStyles,N=Su(i);l=l||"default";var B=b.get(N);if(!B){var J={loading:0,preload:null};if(B=m.querySelector(Td(N)))J.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Gi.get(N))&&G0(i,u);var pe=B=m.createElement("link");Is(pe),ha(pe,"link",i),pe._p=new Promise(function(Le,He){pe.onload=Le,pe.onerror=He}),pe.addEventListener("load",function(){J.loading|=1}),pe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,vf(B,l,m)}B={type:"stylesheet",instance:B,count:1,state:J},b.set(N,B)}}}function aj(i,l){Oo.X(i,l);var u=ju;if(u&&i){var m=Tn(u).hoistableScripts,b=_u(i),N=m.get(b);N||(N=u.querySelector(Pd(b)),N||(i=p({src:i,async:!0},l),(l=Gi.get(b))&&Y0(i,l),N=u.createElement("script"),Is(N),ha(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function ij(i,l){Oo.M(i,l);var u=ju;if(u&&i){var m=Tn(u).hoistableScripts,b=_u(i),N=m.get(b);N||(N=u.querySelector(Pd(b)),N||(i=p({src:i,async:!0,type:"module"},l),(l=Gi.get(b))&&Y0(i,l),N=u.createElement("script"),Is(N),ha(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function zb(i,l,u,m){var b=(b=ne.current)?yf(b):null;if(!b)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Su(u.href),u=Tn(b).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Su(u.href);var N=Tn(b).hoistableStyles,B=N.get(i);if(B||(b=b.ownerDocument||b,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,B),(N=b.querySelector(Td(i)))&&!N._p&&(B.instance=N,B.state.loading=5),Gi.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Gi.set(i,u),N||rj(b,i,u,B.state))),l&&m===null)throw Error(a(528,""));return B}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=_u(u),u=Tn(b).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Su(i){return'href="'+cs(i)+'"'}function Td(i){return'link[rel="stylesheet"]['+i+"]"}function qb(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function rj(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ha(l,"link",u),Is(l),i.head.appendChild(l))}function _u(i){return'[src="'+cs(i)+'"]'}function Pd(i){return"script[async]"+i}function Hb(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+cs(u.href)+'"]');if(m)return l.instance=m,Is(m),m;var b=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Is(m),ha(m,"style",b),vf(m,u.precedence,i),l.instance=m;case"stylesheet":b=Su(u.href);var N=i.querySelector(Td(b));if(N)return l.state.loading|=4,l.instance=N,Is(N),N;m=qb(u),(b=Gi.get(b))&&G0(m,b),N=(i.ownerDocument||i).createElement("link"),Is(N);var B=N;return B._p=new Promise(function(J,pe){B.onload=J,B.onerror=pe}),ha(N,"link",m),l.state.loading|=4,vf(N,u.precedence,i),l.instance=N;case"script":return N=_u(u.src),(b=i.querySelector(Pd(N)))?(l.instance=b,Is(b),b):(m=u,(b=Gi.get(N))&&(m=p({},u),Y0(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),Is(b),ha(b,"link",m),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,vf(m,u.precedence,i));return l.instance}function vf(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,N=b,B=0;B<m.length;B++){var J=m[B];if(J.dataset.precedence===l)N=J;else if(N!==b)break}N?N.parentNode.insertBefore(i,N.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function G0(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Y0(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var wf=null;function $b(i,l,u){if(wf===null){var m=new Map,b=wf=new Map;b.set(u,m)}else b=wf,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var N=u[b];if(!(N[Da]||N[Rs]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var B=N.getAttribute(l)||"";B=i+B;var J=m.get(B);J?J.push(N):m.set(B,[N])}}return m}function Vb(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function oj(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Wb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Bd=null;function lj(){}function cj(i,l,u){if(Bd===null)throw Error(a(475));var m=Bd;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Su(u.href),N=i.querySelector(Td(b));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=Nf.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=N,Is(N);return}N=i.ownerDocument||i,u=qb(u),(b=Gi.get(b))&&G0(u,b),N=N.createElement("link"),Is(N);var B=N;B._p=new Promise(function(J,pe){B.onload=J,B.onerror=pe}),ha(N,"link",u),l.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Nf.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function uj(){if(Bd===null)throw Error(a(475));var i=Bd;return i.stylesheets&&i.count===0&&K0(i,i.stylesheets),0<i.count?function(l){var u=setTimeout(function(){if(i.stylesheets&&K0(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)K0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jf=null;function K0(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jf=new Map,l.forEach(dj,i),jf=null,Nf.call(i))}function dj(i,l){if(!(l.state.loading&4)){var u=jf.get(i);if(u)var m=u.get(null);else{u=new Map,jf.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var B=b[N];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(u.set(B.dataset.precedence,B),m=B)}m&&u.set(null,m)}b=l.instance,B=b.getAttribute("data-precedence"),N=u.get(B)||m,N===m&&u.set(null,b),u.set(B,b),this.count++,m=Nf.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),N?N.parentNode.insertBefore(b,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var Rd={$$typeof:E,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function hj(i,l,u,m,b,N,B,J){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.hiddenUpdates=Ds(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Gb(i,l,u,m,b,N,B,J,pe,Le,He,Ge){return i=new hj(i,l,u,B,J,pe,Le,Ge),l=1,N===!0&&(l|=24),N=Wn(3,null,null,l),i.current=N,N.stateNode=i,l=od(),l.refCount++,i.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:u,cache:l},Ce(N),i}function Yb(i){return i?(i=Ln,i):Ln}function Kb(i,l,u,m,b,N){b=Yb(b),m.context===null?m.context=b:m.pendingContext=b,m=Ue(l),m.payload={element:u},N=N===void 0?null:N,N!==null&&(m.callback=N),u=Qe(i,m,l),u!==null&&(mi(u,i,l),We(u,i,l))}function Xb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function X0(i,l){Xb(i,l),(i=i.alternate)&&Xb(i,l)}function Qb(i){if(i.tag===13){var l=yo(i,67108864);l!==null&&mi(l,i,67108864),X0(i,67108864)}}var Sf=!0;function fj(i,l,u,m){var b=R.T;R.T=null;var N=ie.p;try{ie.p=2,Q0(i,l,u,m)}finally{ie.p=N,R.T=b}}function mj(i,l,u,m){var b=R.T;R.T=null;var N=ie.p;try{ie.p=8,Q0(i,l,u,m)}finally{ie.p=N,R.T=b}}function Q0(i,l,u,m){if(Sf){var b=Z0(m);if(b===null)R0(i,l,m,_f,u),Jb(i,m);else if(gj(b,i,l,u,m))m.stopPropagation();else if(Jb(i,m),l&4&&-1<pj.indexOf(i)){for(;b!==null;){var N=Hn(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var B=kt(N.pendingLanes);if(B!==0){var J=N;for(J.pendingLanes|=2,J.entangledLanes|=2;B;){var pe=1<<31-ye(B);J.entanglements[1]|=pe,B&=~pe}Zr(N),(Ss&6)===0&&(lf=Te()+500,Dd(0))}}break;case 13:J=yo(N,2),J!==null&&mi(J,N,2),uf(),X0(N,2)}if(N=Z0(m),N===null&&R0(i,l,m,_f,u),N===b)break;b=N}b!==null&&m.stopPropagation()}else R0(i,l,m,null,u)}}function Z0(i){return i=Xl(i),J0(i)}var _f=null;function J0(i){if(_f=null,i=ea(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return _f=i,null}function Zb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Fe:return 2;case Ve:return 8;case Ze:case St:return 32;case xt:return 268435456;default:return 32}default:return 32}}var ep=!1,kl=null,El=null,Ll=null,Ud=new Map,Id=new Map,Dl=[],pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(i,l){switch(i){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":Ud.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(l.pointerId)}}function zd(i,l,u,m,b,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[b]},l!==null&&(l=Hn(l),l!==null&&Qb(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function gj(i,l,u,m,b){switch(l){case"focusin":return kl=zd(kl,i,l,u,m,b),!0;case"dragenter":return El=zd(El,i,l,u,m,b),!0;case"mouseover":return Ll=zd(Ll,i,l,u,m,b),!0;case"pointerover":var N=b.pointerId;return Ud.set(N,zd(Ud.get(N)||null,i,l,u,m,b)),!0;case"gotpointercapture":return N=b.pointerId,Id.set(N,zd(Id.get(N)||null,i,l,u,m,b)),!0}return!1}function e1(i){var l=ea(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,Et(i.priority,function(){if(u.tag===13){var m=fi();m=An(m);var b=yo(u,m);b!==null&&mi(b,u,m),X0(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Af(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Z0(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);ji=m,u.target.dispatchEvent(m),ji=null}else return l=Hn(u),l!==null&&Qb(l),i.blockedOn=u,!1;l.shift()}return!0}function t1(i,l,u){Af(i)&&u.delete(l)}function xj(){ep=!1,kl!==null&&Af(kl)&&(kl=null),El!==null&&Af(El)&&(El=null),Ll!==null&&Af(Ll)&&(Ll=null),Ud.forEach(t1),Id.forEach(t1)}function Cf(i,l){i.blockedOn===l&&(i.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xj)))}var kf=null;function s1(i){kf!==i&&(kf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kf===i&&(kf=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],b=i[l+2];if(typeof m!="function"){if(J0(m||u)===null)continue;break}var N=Hn(u);N!==null&&(i.splice(l,3),l-=3,$i(N,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function qd(i){function l(pe){return Cf(pe,i)}kl!==null&&Cf(kl,i),El!==null&&Cf(El,i),Ll!==null&&Cf(Ll,i),Ud.forEach(l),Id.forEach(l);for(var u=0;u<Dl.length;u++){var m=Dl[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Dl.length&&(u=Dl[0],u.blockedOn===null);)e1(u),u.blockedOn===null&&Dl.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],N=u[m+1],B=b[Ms]||null;if(typeof N=="function")B||s1(u);else if(B){var J=null;if(N&&N.hasAttribute("formAction")){if(b=N,B=N[Ms]||null)J=B.formAction;else if(J0(b)!==null)continue}else J=B.action;typeof J=="function"?u[m+1]=J:(u.splice(m,3),m-=3),s1(u)}}}function tp(i){this._internalRoot=i}Ef.prototype.render=tp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,m=fi();Kb(u,m,i,l,null,null)},Ef.prototype.unmount=tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Kb(i.current,2,null,i,null,null),uf(),l[Fn]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var l=Ja();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Dl.length&&l!==0&&l<Dl[u].priority;u++);Dl.splice(u,0,i),u===0&&e1(i)}};var n1=e.version;if(n1!=="19.1.0")throw Error(a(527,n1,"19.1.0"));ie.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=h(l),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var bj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{ct=Lf.inject(bj),vt=Lf}catch{}}return $d.createRoot=function(i,l){if(!r(i))throw Error(a(299));var u=!1,m="",b=yx,N=vx,B=wx,J=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=Gb(i,1,!1,null,null,u,m,b,N,B,J,null),i[Fn]=l.current,B0(i),new tp(l)},$d.hydrateRoot=function(i,l,u){if(!r(i))throw Error(a(299));var m=!1,b="",N=yx,B=vx,J=wx,pe=null,Le=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(B=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(pe=u.unstable_transitionCallbacks),u.formState!==void 0&&(Le=u.formState)),l=Gb(i,1,!0,l,u??null,m,b,N,B,J,pe,Le),l.context=Yb(null),u=l.current,m=fi(),m=An(m),b=Ue(m),b.callback=null,Qe(u,b,m),u=m,l.current.lanes=u,ss(l,u),Zr(l),i[Fn]=l.current,B0(i),new Ef(l)},$d.version="19.1.0",$d}var f1;function Ej(){if(f1)return ap.exports;f1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=kj(),ap.exports}var Lj=Ej(),Vd={},m1;function Dj(){if(m1)return Vd;m1=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=c,Vd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,y){const j=new o,_=w.length;if(_<2)return j;const C=y?.decode||p;let S=0;do{const L=w.indexOf("=",S);if(L===-1)break;const E=w.indexOf(";",S),P=E===-1?_:E;if(L>P){S=w.lastIndexOf(";",L-1)+1;continue}const V=d(w,S,L),ae=h(w,L,V),G=w.slice(V,ae);if(j[G]===void 0){let U=d(w,L+1,P),I=h(w,P,U);const ee=C(w.slice(U,I));j[G]=ee}S=P+1}while(S<_);return j}function d(w,y,j){do{const _=w.charCodeAt(y);if(_!==32&&_!==9)return y}while(++y<j);return j}function h(w,y,j){for(;y>j;){const _=w.charCodeAt(--y);if(_!==32&&_!==9)return y+1}return j}function f(w,y,j){const _=j?.encode||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=_(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let S=w+"="+C;if(!j)return S;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);S+="; Max-Age="+j.maxAge}if(j.domain){if(!s.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);S+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);S+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);S+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(S+="; HttpOnly"),j.secure&&(S+="; Secure"),j.partitioned&&(S+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return S}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return r.call(w)==="[object Date]"}return Vd}Dj();var p1="popstate";function Mj(t={}){function e(a,r){let{pathname:o,search:c,hash:d}=a.location;return Qp("",{pathname:o,search:c,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(a,r){return typeof r=="string"?r:uh(r)}return Oj(e,s,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fj(){return Math.random().toString(36).substring(2,10)}function g1(t,e){return{usr:t.state,key:t.key,idx:e}}function Qp(t,e,s=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qu(e):e,state:s,key:e&&e.key||a||Fj()}}function uh({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function qu(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function Oj(t,e,s,a={}){let{window:r=document.defaultView,v5Compat:o=!1}=a,c=r.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let C=p(),S=C==null?null:C-f;f=C,h&&h({action:d,location:_.location,delta:S})}function w(C,S){d="PUSH";let L=Qp(_.location,C,S);f=p()+1;let E=g1(L,f),P=_.createHref(L);try{c.pushState(E,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;r.location.assign(P)}o&&h&&h({action:d,location:_.location,delta:1})}function y(C,S){d="REPLACE";let L=Qp(_.location,C,S);f=p();let E=g1(L,f),P=_.createHref(L);c.replaceState(E,"",P),o&&h&&h({action:d,location:_.location,delta:0})}function j(C){return Tj(C)}let _={get action(){return d},get location(){return t(r,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(p1,x),h=C,()=>{r.removeEventListener(p1,x),h=null}},createHref(C){return e(r,C)},createURL:j,encodeLocation(C){let S=j(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:w,replace:y,go(C){return c.go(C)}};return _}function Tj(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),tn(s,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:uh(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function Av(t,e,s="/"){return Pj(t,e,s,!1)}function Pj(t,e,s,a){let r=typeof e=="string"?qu(e):e,o=Ho(r.pathname||"/",s);if(o==null)return null;let c=Cv(t);Bj(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=Yj(o);d=Wj(c[h],f,a)}return d}function Cv(t,e=[],s=[],a=""){let r=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(tn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let f=qo([a,h.relativePath]),p=s.concat(h);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Cv(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:$j(f,o.index),routesMeta:p})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let d of kv(o.path))r(o,c,d)}),e}function kv(t){let e=t.split("/");if(e.length===0)return[];let[s,...a]=e,r=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let c=kv(a.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),r&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Bj(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:Vj(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var Rj=/^:[\w-]+$/,Uj=3,Ij=2,zj=1,qj=10,Hj=-2,x1=t=>t==="*";function $j(t,e){let s=t.split("/"),a=s.length;return s.some(x1)&&(a+=Hj),e&&(a+=Ij),s.filter(r=>!x1(r)).reduce((r,o)=>r+(Rj.test(o)?Uj:o===""?zj:qj),a)}function Vj(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function Wj(t,e,s=!1){let{routesMeta:a}=t,r={},o="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],f=d===a.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=xm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),w=h.route;if(!x&&f&&s&&!a[a.length-1].route.index&&(x=xm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!x)return null;Object.assign(r,x.params),c.push({params:r,pathname:qo([o,x.pathname]),pathnameBase:Zj(qo([o,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(o=qo([o,x.pathnameBase]))}return c}function xm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=Gj(t.path,t.caseSensitive,t.end),r=e.match(s);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:x},w)=>{if(p==="*"){let j=d[w]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const y=d[w];return x&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function Gj(t,e=!1,s=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function Yj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ho(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function Kj(t,e="/"){let{pathname:s,search:a="",hash:r=""}=typeof t=="string"?qu(t):t;return{pathname:s?s.startsWith("/")?s:Xj(s,e):e,search:Jj(a),hash:e4(r)}}function Xj(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function lp(t,e,s,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qj(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Eg(t){let e=Qj(t);return e.map((s,a)=>a===e.length-1?s.pathname:s.pathnameBase)}function Lg(t,e,s,a=!1){let r;typeof t=="string"?r=qu(t):(r={...t},tn(!r.pathname||!r.pathname.includes("?"),lp("?","pathname","search",r)),tn(!r.pathname||!r.pathname.includes("#"),lp("#","pathname","hash",r)),tn(!r.search||!r.search.includes("#"),lp("#","search","hash",r)));let o=t===""||r.pathname==="",c=o?"/":r.pathname,d;if(c==null)d=s;else{let x=e.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),x-=1;r.pathname=w.join("/")}d=x>=0?e[x]:"/"}let h=Kj(r,d),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var qo=t=>t.join("/").replace(/\/\/+/g,"/"),Zj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ev=["POST","PUT","PATCH","DELETE"];new Set(Ev);var s4=["GET",...Ev];new Set(s4);var Hu=O.createContext(null);Hu.displayName="DataRouter";var Tm=O.createContext(null);Tm.displayName="DataRouterState";var Lv=O.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var n4=O.createContext(new Map);n4.displayName="Fetchers";var a4=O.createContext(null);a4.displayName="Await";var Cr=O.createContext(null);Cr.displayName="Navigation";var yh=O.createContext(null);yh.displayName="Location";var Zi=O.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Dg=O.createContext(null);Dg.displayName="RouteError";function i4(t,{relative:e}={}){tn($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=O.useContext(Cr),{hash:r,pathname:o,search:c}=wh(t,{relative:e}),d=o;return s!=="/"&&(d=o==="/"?s:qo([s,o])),a.createHref({pathname:d,search:c,hash:r})}function $u(){return O.useContext(yh)!=null}function vi(){return tn($u(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(yh).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mv(t){O.useContext(Cr).static||O.useLayoutEffect(t)}function wi(){let{isDataRoute:t}=O.useContext(Zi);return t?v4():r4()}function r4(){tn($u(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Hu),{basename:e,navigator:s}=O.useContext(Cr),{matches:a}=O.useContext(Zi),{pathname:r}=vi(),o=JSON.stringify(Eg(a)),c=O.useRef(!1);return Mv(()=>{c.current=!0}),O.useCallback((h,f={})=>{if(Sr(c.current,Dv),!c.current)return;if(typeof h=="number"){s.go(h);return}let p=Lg(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qo([e,p.pathname])),(f.replace?s.replace:s.push)(p,f.state,f)},[e,s,o,r,t])}var o4=O.createContext(null);function l4(t){let e=O.useContext(Zi).outlet;return e&&O.createElement(o4.Provider,{value:t},e)}function vh(){let{matches:t}=O.useContext(Zi),e=t[t.length-1];return e?e.params:{}}function wh(t,{relative:e}={}){let{matches:s}=O.useContext(Zi),{pathname:a}=vi(),r=JSON.stringify(Eg(s));return O.useMemo(()=>Lg(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function c4(t,e){return Fv(t,e)}function Fv(t,e,s,a){tn($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=O.useContext(Cr),{matches:o}=O.useContext(Zi),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";Ov(h,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=vi(),w;if(e){let S=typeof e=="string"?qu(e):e;tn(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),w=S}else w=x;let y=w.pathname||"/",j=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Av(t,{pathname:j});Sr(p||_!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Sr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=m4(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:qo([f,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:qo([f,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,s,a);return e&&C?O.createElement(yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function u4(){let t=y4(),e=t4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),s?O.createElement("pre",{style:r},s):null,c)}var d4=O.createElement(u4,null),h4=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Zi.Provider,{value:this.props.routeContext},O.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f4({routeContext:t,match:e,children:s}){let a=O.useContext(Hu);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Zi.Provider,{value:t},s)}function m4(t,e=[],s=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let r=t,o=s?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);tn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=s,w=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let x,w=!1,y=null,j=null;s&&(x=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||d4,c&&(d<0&&p===0?(Ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):d===p&&(w=!0,j=f.route.hydrateFallbackElement||null)));let _=e.concat(r.slice(0,p+1)),C=()=>{let S;return x?S=y:w?S=j:f.route.Component?S=O.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,O.createElement(f4,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?O.createElement(h4,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function Mg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p4(t){let e=O.useContext(Hu);return tn(e,Mg(t)),e}function g4(t){let e=O.useContext(Tm);return tn(e,Mg(t)),e}function x4(t){let e=O.useContext(Zi);return tn(e,Mg(t)),e}function Fg(t){let e=x4(t),s=e.matches[e.matches.length-1];return tn(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function b4(){return Fg("useRouteId")}function y4(){let t=O.useContext(Dg),e=g4("useRouteError"),s=Fg("useRouteError");return t!==void 0?t:e.errors?.[s]}function v4(){let{router:t}=p4("useNavigate"),e=Fg("useNavigate"),s=O.useRef(!1);return Mv(()=>{s.current=!0}),O.useCallback(async(r,o={})=>{Sr(s.current,Dv),s.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var b1={};function Ov(t,e,s){!e&&!b1[t]&&(b1[t]=!0,Sr(!1,s))}O.memo(w4);function w4({routes:t,future:e,state:s}){return Fv(t,void 0,s,e)}function N4({to:t,replace:e,state:s,relative:a}){tn($u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=O.useContext(Cr);Sr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Zi),{pathname:c}=vi(),d=wi(),h=Lg(t,Eg(o),c,a==="path"),f=JSON.stringify(h);return O.useEffect(()=>{d(JSON.parse(f),{replace:e,state:s,relative:a})},[d,f,a,e,s]),null}function j4(t){return l4(t.context)}function hn(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S4({basename:t="/",children:e=null,location:s,navigationType:a="POP",navigator:r,static:o=!1}){tn(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof s=="string"&&(s=qu(s));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:w="default"}=s,y=O.useMemo(()=>{let j=Ho(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:x,key:w},navigationType:a}},[c,h,f,p,x,w,a]);return Sr(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:O.createElement(Cr.Provider,{value:d},O.createElement(yh.Provider,{children:e,value:y}))}function _4({children:t,location:e}){return c4(Zp(t),e)}function Zp(t,e=[]){let s=[];return O.Children.forEach(t,(a,r)=>{if(!O.isValidElement(a))return;let o=[...e,r];if(a.type===O.Fragment){s.push.apply(s,Zp(a.props.children,o));return}tn(a.type===hn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Zp(a.props.children,o)),s.push(c)}),s}var nm="get",am="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function A4(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function C4(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function k4(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function E4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L4(t,e){return t.button===0&&(!e||e==="_self")&&!E4(t)}var Df=null;function D4(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var M4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(t){return t!=null&&!M4.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):t}function F4(t,e){let s,a,r,o,c;if(C4(t)){let d=t.getAttribute("action");a=d?Ho(d,e):null,s=t.getAttribute("method")||nm,r=cp(t.getAttribute("enctype"))||am,o=new FormData(t)}else if(A4(t)||k4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(a=h?Ho(h,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||nm,r=cp(t.getAttribute("formenctype"))||cp(d.getAttribute("enctype"))||am,o=new FormData(d,t),!D4()){let{name:f,type:p,value:x}=t;if(p==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,x)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=nm,a=null,r=am,c=t}return o&&r==="text/plain"&&(c=o,o=void 0),{action:a,method:s.toLowerCase(),encType:r,formData:o,body:c}}function Og(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function O4(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function P4(t,e,s){let a=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await O4(o,s);return c.links?c.links():[]}return[]}));return I4(a.flat(1).filter(T4).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function y1(t,e,s,a,r,o){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,d=(h,f)=>s[f].pathname!==h.pathname||s[f].route.path?.endsWith("*")&&s[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):o==="data"?e.filter((h,f)=>{let p=a.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function B4(t,e,{includeHydrateFallback:s}={}){return R4(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),s&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function R4(t){return[...new Set(t)]}function U4(t){let e={},s=Object.keys(t).sort();for(let a of s)e[a]=t[a];return e}function I4(t,e){let s=new Set;return new Set(e),t.reduce((a,r)=>{let o=JSON.stringify(U4(r));return s.has(o)||(s.add(o),a.push({key:o,link:r})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z4=new Set([100,101,204,205]);function q4(t,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname="_root.data":e&&Ho(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function Tv(){let t=O.useContext(Hu);return Og(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H4(){let t=O.useContext(Tm);return Og(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tg=O.createContext(void 0);Tg.displayName="FrameworkContext";function Pv(){let t=O.useContext(Tg);return Og(t,"You must render this element inside a <HydratedRouter> element"),t}function $4(t,e){let s=O.useContext(Tg),[a,r]=O.useState(!1),[o,c]=O.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=e,w=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=S=>{S.forEach(L=>{c(L.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),O.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let y=()=>{r(!0)},j=()=>{r(!1),c(!1)};return s?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Wd(d,y),onBlur:Wd(h,j),onMouseEnter:Wd(f,y),onMouseLeave:Wd(p,j),onTouchStart:Wd(x,y)}]:[!1,w,{}]}function Wd(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function V4({page:t,...e}){let{router:s}=Tv(),a=O.useMemo(()=>Av(s.routes,t,s.basename),[s.routes,t,s.basename]);return a?O.createElement(G4,{page:t,matches:a,...e}):null}function W4(t){let{manifest:e,routeModules:s}=Pv(),[a,r]=O.useState([]);return O.useEffect(()=>{let o=!1;return P4(t,e,s).then(c=>{o||r(c)}),()=>{o=!0}},[t,e,s]),a}function G4({page:t,matches:e,...s}){let a=vi(),{manifest:r,routeModules:o}=Pv(),{basename:c}=Tv(),{loaderData:d,matches:h}=H4(),f=O.useMemo(()=>y1(t,e,h,r,a,"data"),[t,e,h,r,a]),p=O.useMemo(()=>y1(t,e,h,r,a,"assets"),[t,e,h,r,a]),x=O.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let j=new Set,_=!1;if(e.forEach(S=>{let L=r.routes[S.route.id];!L||!L.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in d&&o[S.route.id]?.shouldRevalidate||L.hasClientLoader?_=!0:j.add(S.route.id))}),j.size===0)return[];let C=q4(t,c);return _&&j.size>0&&C.searchParams.set("_routes",e.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[c,d,a,r,f,e,t,o]),w=O.useMemo(()=>B4(p,r),[p,r]),y=W4(p);return O.createElement(O.Fragment,null,x.map(j=>O.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),w.map(j=>O.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),y.map(({key:j,link:_})=>O.createElement("link",{key:j,..._})))}function Y4(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.6.3")}catch{}function K4({basename:t,children:e,window:s}){let a=O.useRef();a.current==null&&(a.current=Mj({window:s,v5Compat:!0}));let r=a.current,[o,c]=O.useState({action:r.action,location:r.location}),d=O.useCallback(h=>{O.startTransition(()=>c(h))},[c]);return O.useLayoutEffect(()=>r.listen(d),[r,d]),O.createElement(S4,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bm=O.forwardRef(function({onClick:e,discover:s="render",prefetch:a="none",relative:r,reloadDocument:o,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:x,...w},y){let{basename:j}=O.useContext(Cr),_=typeof f=="string"&&Rv.test(f),C,S=!1;if(typeof f=="string"&&_&&(C=f,Bv))try{let I=new URL(window.location.href),ee=f.startsWith("//")?new URL(I.protocol+f):new URL(f),T=Ho(ee.pathname,j);ee.origin===I.origin&&T!=null?f=T+ee.search+ee.hash:S=!0}catch{Sr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=i4(f,{relative:r}),[E,P,V]=$4(a,w),ae=J4(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:r,viewTransition:x});function G(I){e&&e(I),I.defaultPrevented||ae(I)}let U=O.createElement("a",{...w,...V,href:C||L,onClick:S||o?e:G,ref:Y4(y,P),target:h,"data-discover":!_&&s==="render"?"true":void 0});return E&&!_?O.createElement(O.Fragment,null,U,O.createElement(V4,{page:L})):U});Bm.displayName="Link";var X4=O.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:a="",end:r=!1,style:o,to:c,viewTransition:d,children:h,...f},p){let x=wh(c,{relative:f.relative}),w=vi(),y=O.useContext(Tm),{navigator:j,basename:_}=O.useContext(Cr),C=y!=null&&a3(x)&&d===!0,S=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,L=w.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(L=L.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&_&&(E=Ho(E,_)||E);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let V=L===S||!r&&L.startsWith(S)&&L.charAt(P)==="/",ae=E!=null&&(E===S||!r&&E.startsWith(S)&&E.charAt(S.length)==="/"),G={isActive:V,isPending:ae,isTransitioning:C},U=V?e:void 0,I;typeof a=="function"?I=a(G):I=[a,V?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(G):o;return O.createElement(Bm,{...f,"aria-current":U,className:I,ref:p,style:ee,to:c,viewTransition:d},typeof h=="function"?h(G):h)});X4.displayName="NavLink";var Q4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:a,replace:r,state:o,method:c=nm,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:x,...w},y)=>{let j=s3(),_=n3(d,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",S=typeof d=="string"&&Rv.test(d),L=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,V=P?.getAttribute("formmethod")||c;j(P||E.currentTarget,{fetcherKey:e,method:V,navigate:s,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:x})};return O.createElement("form",{ref:y,method:C,action:_,onSubmit:a?h:L,...w,"data-discover":!S&&t==="render"?"true":void 0})});Q4.displayName="Form";function Z4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(t){let e=O.useContext(Hu);return tn(e,Z4(t)),e}function J4(t,{target:e,replace:s,state:a,preventScrollReset:r,relative:o,viewTransition:c}={}){let d=wi(),h=vi(),f=wh(t,{relative:o});return O.useCallback(p=>{if(L4(p,e)){p.preventDefault();let x=s!==void 0?s:uh(h)===uh(f);d(t,{replace:x,state:a,preventScrollReset:r,relative:o,viewTransition:c})}},[h,d,f,s,a,e,t,r,o,c])}var e3=0,t3=()=>`__${String(++e3)}__`;function s3(){let{router:t}=Uv("useSubmit"),{basename:e}=O.useContext(Cr),s=b4();return O.useCallback(async(a,r={})=>{let{action:o,method:c,encType:d,formData:h,body:f}=F4(a,e);if(r.navigate===!1){let p=r.fetcherKey||t3();await t.fetch(p,s,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,s])}function n3(t,{relative:e}={}){let{basename:s}=O.useContext(Cr),a=O.useContext(Zi);tn(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),o={...wh(t||".",{relative:e})},c=vi();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:qo([s,o.pathname])),uh(o)}function a3(t,e={}){let s=O.useContext(Lv);tn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Uv("useViewTransitionState"),r=wh(t,{relative:e.relative});if(!s.isTransitioning)return!1;let o=Ho(s.currentLocation.pathname,a)||s.currentLocation.pathname,c=Ho(s.nextLocation.pathname,a)||s.nextLocation.pathname;return xm(r.pathname,c)!=null||xm(r.pathname,o)!=null}[...z4];const i3=({name:t,link:e,sub:s=[],isActiveCheck:a,icon:r,onClick:o,menuStatus:c})=>{const d=vi(),[h,f]=O.useState(a);return d.pathname.split("/")[1]==e.split("/")[1]&&console.log("true"),O.useEffect(()=>{f(d.pathname.split("/")[1]==e.split("/")[1]||s.some(p=>d.pathname===p.link||d.pathname.split("/")[1]===e.split("/")[1]))},[d.pathname,e,s]),n.jsx("div",{className:"relative",children:n.jsxs(Bm,{to:e,onClick:o,className:`group  flex items-center py-3 rounded-md transition-all duration-200 mx-4 relative group:
          ${h?"bg-white text-[#273E8E]":"text-gray-400 hover:bg-white hover:text-[#273E8E]"}`,children:[n.jsx("img",{src:r,alt:`${t} icon`,className:`w-10 h-10 ${h?"invert":"group-hover:invert"} `}),!c&&n.jsx("span",{className:"font-medium",children:t}),n.jsx("div",{className:`absolute right-1 top-1/2 h-[40%] bg-[#273E8E] w-1 rounded hidden transform -translate-y-1/2 ${h?"block":"group-hover:block"}`})]})})},lt={logo:"/assets/sidebar/logo.svg",dashboard:"/assets/sidebar/dashboard.svg",usermgt:"/assets/sidebar/userMgt.svg",creditMgt:"/assets/sidebar/credit.svg",Loanmgt:"/assets/sidebar/loan.svg",loansDisbursement:"/assets/sidebar/loanBank.svg",Transactions:"/assets/sidebar/transaction.svg",balance:"/assets/sidebar/balance.svg",ShopMgt:"/assets/sidebar/shopMgt.svg",referral:"/assets/sidebar/referral.svg",tickets:"/assets/sidebar/tickets.svg",analytics:"/assets/sidebar/Analytics.svg",settings:"/assets/sidebar/setting.svg",logout:"/assets/sidebar/SignOut.svg",bell:"/assets/images/bell.svg",dots:"/assets/images/3dots.svg",cross:"/assets/images/cross.svg",arrow:"/assets/images/arrow.svg",users:"/assets/images/Users.png",tick:"/assets/images/tick.svg",minibundle:"/assets/images/minibundle.png",maxibundle:"/assets/images/maxibundle.png",plus:"/assets/images/plus.svg",minus:"/assets/images/minus.svg",Lightning:"/assets/images/Lightning.svg",loginImage:"/assets/images/loginImage.jpg",insta:"/assets/images/insta.png",whatsApp:"/assets/images/whatsApp.png",twitter:"/assets/images/twitter.png",yt:"/assets/images/yt.png",logo1:"/assets/images/logo.png",loginImageForSm:"/assets/images/loginImageForSm.jpg",smLogo:"/assets/images/smLogo.png"},r3=[{name:"Dashboard",link:"/dashboard",icon:lt.dashboard,sublinks:[]},{name:"User Mgt",link:"/user-mgt",icon:lt.usermgt,sublinks:[]},{name:"Credit Score",link:"/credit-score",icon:lt.creditMgt,sublinks:[]},{name:"Initial Loan Applications",link:"/loans-approval",icon:lt.Loanmgt,sublinks:[]},{name:"Loans Mgt",link:"/loans-mgt",icon:lt.Loanmgt,sublinks:[]},{name:"Loans Disbursement",link:"/loans-disbursement",icon:lt.loansDisbursement,sublinks:[]},{name:"Transactions",link:"/transactions",icon:lt.Transactions,sublinks:[]},{name:"Balances",link:"/balances",icon:lt.balance,sublinks:[]},{name:"Shop Mgt",link:"/shop-mgt",icon:lt.ShopMgt,sublinks:[]},{name:"BNPL & Buy Now",link:"/bnpl-buynow",icon:lt.ShopMgt,sublinks:[]},{name:"Referral Mgt",link:"/referral-mgt",icon:lt.referral,sublinks:[]},{name:"Tickets",link:"/tickets",icon:lt.tickets,sublinks:[]},{name:"Analytics",link:"/analytics",icon:lt.analytics,sublinks:[]},{name:"Settings",link:"/settings",icon:lt.settings,sublinks:[]}];var Vu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function La(){}function o3(t,e){return typeof t=="function"?t(e):t}function Jp(t){return typeof t=="number"&&t>=0&&t!==1/0}function Iv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ul(t,e){return typeof t=="function"?t(e):t}function Ki(t,e){return typeof t=="function"?t(e):t}function v1(t,e){const{type:s="all",exact:a,fetchStatus:r,predicate:o,queryKey:c,stale:d}=t;if(c){if(a){if(e.queryHash!==Pg(c,e.options))return!1}else if(!dh(e.queryKey,c))return!1}if(s!=="all"){const h=e.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||r&&r!==e.state.fetchStatus||o&&!o(e))}function w1(t,e){const{exact:s,status:a,predicate:r,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(s){if(Tc(e.options.mutationKey)!==Tc(o))return!1}else if(!dh(e.options.mutationKey,o))return!1}return!(a&&e.state.status!==a||r&&!r(e))}function Pg(t,e){return(e?.queryKeyHashFn||Tc)(t)}function Tc(t){return JSON.stringify(t,(e,s)=>eg(s)?Object.keys(s).sort().reduce((a,r)=>(a[r]=s[r],a),{}):s)}function dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>dh(t[s],e[s])):!1}var l3=Object.prototype.hasOwnProperty;function zv(t,e){if(t===e)return t;const s=N1(t)&&N1(e);if(!s&&!(eg(t)&&eg(e)))return e;const r=(s?t:Object.keys(t)).length,o=s?e:Object.keys(e),c=o.length,d=s?new Array(c):{};let h=0;for(let f=0;f<c;f++){const p=s?f:o[f],x=t[p],w=e[p];if(x===w){d[p]=x,(s?f<r:l3.call(t,p))&&h++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){d[p]=w;continue}const y=zv(x,w);d[p]=y,y===x&&h++}return r===c&&h===r?t:d}function bm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function N1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eg(t){if(!j1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!j1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function j1(t){return Object.prototype.toString.call(t)==="[object Object]"}function c3(t){return new Promise(e=>{setTimeout(e,t)})}function tg(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?zv(t,e):e}function u3(t,e,s=0){const a=[...t,e];return s&&a.length>s?a.slice(1):a}function d3(t,e,s=0){const a=[e,...t];return s&&a.length>s?a.slice(0,-1):a}var Bg=Symbol();function qv(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Bg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Hv(t,e){return typeof t=="function"?t(...e):!!t}var h3=class extends Vu{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Rg=new h3,f3=class extends Vu{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#t}},ym=new f3;function sg(){let t,e;const s=new Promise((r,o)=>{t=r,e=o});s.status="pending",s.catch(()=>{});function a(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{a({status:"fulfilled",value:r}),t(r)},s.reject=r=>{a({status:"rejected",reason:r}),e(r)},s}function m3(t){return Math.min(1e3*2**t,3e4)}function $v(t){return(t??"online")==="online"?ym.isOnline():!0}var ng=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Vv(t){let e=!1,s=0,a;const r=sg(),o=()=>r.status!=="pending",c=_=>{if(!o()){const C=new ng(_);w(C),t.onCancel?.(C)}},d=()=>{e=!0},h=()=>{e=!1},f=()=>Rg.isFocused()&&(t.networkMode==="always"||ym.isOnline())&&t.canRun(),p=()=>$v(t.networkMode)&&t.canRun(),x=_=>{o()||(a?.(),r.resolve(_))},w=_=>{o()||(a?.(),r.reject(_))},y=()=>new Promise(_=>{a=C=>{(o()||f())&&_(C)},t.onPause?.()}).then(()=>{a=void 0,o()||t.onContinue?.()}),j=()=>{if(o())return;let _;const C=s===0?t.initialPromise:void 0;try{_=C??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(x).catch(S=>{if(o())return;const L=t.retry??(Oc?0:3),E=t.retryDelay??m3,P=typeof E=="function"?E(s,S):E,V=L===!0||typeof L=="number"&&s<L||typeof L=="function"&&L(s,S);if(e||!V){w(S);return}s++,t.onFail?.(s,S),c3(P).then(()=>f()?void 0:y()).then(()=>{e?w(S):j()})})};return{promise:r,status:()=>r.status,cancel:c,continue:()=>(a?.(),r),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?j():y().then(j),r)}}var p3=t=>setTimeout(t,0);function g3(){let t=[],e=0,s=d=>{d()},a=d=>{d()},r=p3;const o=d=>{e?t.push(d):r(()=>{s(d)})},c=()=>{const d=t;t=[],d.length&&r(()=>{a(()=>{d.forEach(h=>{s(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{r=d}}}var zn=g3(),Wv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jp(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},x3=class extends Wv{#t;#e;#s;#n;#a;#r;#o;constructor(t){super(),this.#o=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=b3(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const s=tg(this.state.data,t,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(La).catch(La):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ki(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ul(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Iv(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#o?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},r=()=>{const d=qv(this.options,e),f=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(p),p})();return this.#o=!1,this.options.persister?this.options.persister(d,f,this):d(f)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:r};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#a=Vv({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof ng&&d.revert&&this.setState({...this.#e,fetchStatus:"idle"}),s.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#a.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#s.config.onSuccess?.(d,this),this.#s.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof ng){if(d.silent)return this.#a.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#s.config.onError?.(d,this),this.#s.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Gv(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?a:void 0,a;case"error":const r=t.error;return{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Gv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$v(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function b3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,a=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var y3=class extends Vu{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,s){const a=e.queryKey,r=e.queryHash??Pg(a,e);let o=this.get(r);return o||(o=new x3({client:t,queryKey:a,queryHash:r,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>v1(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>v1(t,s)):e}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},v3=class extends Wv{#t;#e;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Yv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#s=Vv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,o)=>{this.#n({type:"failed",failureCount:r,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#n({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:a})}const r=await this.#s.start();return await this.#e.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#e.runNext(this)}}#n(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Yv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var w3=class extends Vu{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,e,s){const a=new v3({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:s});return this.add(a),a}add(t){this.#t.add(t);const e=Mf(t);if(typeof e=="string"){const s=this.#e.get(e);s?s.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Mf(t);if(typeof e=="string"){const s=this.#e.get(e);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Mf(t);if(typeof e=="string"){const a=this.#e.get(e)?.find(r=>r.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=Mf(t);return typeof e=="string"?this.#e.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(s=>w1(e,s))}findAll(t={}){return this.getAll().filter(e=>w1(t,e))}notify(t){zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(La))))}};function Mf(t){return t.options.scope?.id}function S1(t){return{onFetch:(e,s)=>{const a=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const f=async()=>{let p=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},w=qv(e.options,e.fetchOptions),y=async(j,_,C)=>{if(p)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const L=(()=>{const ae={client:e.client,queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};return x(ae),ae})(),E=await w(L),{maxPages:P}=e.options,V=C?d3:u3;return{pages:V(j.pages,E,P),pageParams:V(j.pageParams,_,P)}};if(r&&o.length){const j=r==="backward",_=j?N3:_1,C={pages:o,pageParams:c},S=_(a,C);d=await y(C,S,j)}else{const j=t??o.length;do{const _=h===0?c[0]??a.initialPageParam:_1(a,d);if(h>0&&_==null)break;d=await y(d,_),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=f}}}function _1(t,{pages:e,pageParams:s}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,s[a],s):void 0}function N3(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var j3=class{#t;#e;#s;#n;#a;#r;#o;#i;constructor(t={}){this.#t=t.queryCache||new y3,this.#e=t.mutationCache||new w3,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Rg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=ym.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#t.build(this,e),a=s.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Ul(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:s})=>{const a=s.data;return[e,a]})}setQueryData(t,e,s){const a=this.defaultQueryOptions({queryKey:t}),o=this.#t.get(a.queryHash)?.state.data,c=o3(e,o);if(c!==void 0)return this.#t.build(this,a).setData(c,{...s,manual:!0})}setQueriesData(t,e,s){return zn.batch(()=>this.#t.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;zn.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=this.#t;return zn.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},a=zn.batch(()=>this.#t.findAll(t).map(r=>r.cancel(s)));return Promise.all(a).then(La).catch(La)}invalidateQueries(t,e={}){return zn.batch(()=>(this.#t.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},a=zn.batch(()=>this.#t.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,s);return s.throwOnError||(o=o.catch(La)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(La)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=this.#t.build(this,e);return s.isStaleByTime(Ul(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(La).catch(La)}fetchInfiniteQuery(t){return t.behavior=S1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(La).catch(La)}ensureInfiniteQueryData(t){return t.behavior=S1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ym.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#n.set(Tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],s={};return e.forEach(a=>{dh(t,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(t,e){this.#a.set(Tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],s={};return e.forEach(a=>{dh(t,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Bg&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},S3=class extends Vu{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#o=sg(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#s=void 0;#n=void 0;#a;#r;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),A1(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ag(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ag(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,s=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ki(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),e._defaulted&&!bm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&C1(this.#e,s,this.options,e)&&this.#d(),this.updateResult(),a&&(this.#e!==s||Ki(this.options.enabled,this.#e)!==Ki(e.enabled,this.#e)||Ul(this.options.staleTime,this.#e)!==Ul(e.staleTime,this.#e))&&this.#g();const r=this.#x();a&&(this.#e!==s||Ki(this.options.enabled,this.#e)!==Ki(e.enabled,this.#e)||r!==this.#l)&&this.#b(r)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),s=this.createResult(e,t);return A3(this,s)&&(this.#n=s,this.#r=this.options,this.#a=this.#e.state),s}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),e?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),s=this.#t.getQueryCache().build(this.#t,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#N();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(La)),e}#g(){this.#v();const t=Ul(this.options.staleTime,this.#e);if(Oc||this.#n.isStale||!Jp(t))return;const s=Iv(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#l=t,!(Oc||Ki(this.options.enabled,this.#e)===!1||!Jp(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Rg.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#b(this.#x())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const s=this.#e,a=this.options,r=this.#n,o=this.#a,c=this.#r,h=t!==s?t.state:this.#s,{state:f}=t;let p={...f},x=!1,w;if(e._optimisticResults){const U=this.hasListeners(),I=!U&&A1(t,e),ee=U&&C1(t,s,e,a);(I||ee)&&(p={...p,...Gv(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:j,status:_}=p;w=p.data;let C=!1;if(e.placeholderData!==void 0&&w===void 0&&_==="pending"){let U;r?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(U=r.data,C=!0):U=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,U!==void 0&&(_="success",w=tg(r?.data,U,e),x=!0)}if(e.select&&w!==void 0&&!C)if(r&&w===o?.data&&e.select===this.#p)w=this.#h;else try{this.#p=e.select,w=e.select(w),w=tg(r?.data,w,e),this.#h=w,this.#i=null}catch(U){this.#i=U}this.#i&&(y=this.#i,w=this.#h,j=Date.now(),_="error");const S=p.fetchStatus==="fetching",L=_==="pending",E=_==="error",P=L&&S,V=w!==void 0,G={status:_,fetchStatus:p.fetchStatus,isPending:L,isSuccess:_==="success",isError:E,isInitialLoading:P,isLoading:P,data:w,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:j,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!L,isLoadingError:E&&!V,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:E&&V,isStale:Ug(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Ki(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=T=>{G.status==="error"?T.reject(G.error):G.data!==void 0&&T.resolve(G.data)},I=()=>{const T=this.#o=G.promise=sg();U(T)},ee=this.#o;switch(ee.status){case"pending":t.queryHash===s.queryHash&&U(ee);break;case"fulfilled":(G.status==="error"||G.data!==ee.value)&&I();break;case"rejected":(G.status!=="error"||G.error!==ee.reason)&&I();break}}return G}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#r=this.options,this.#a.data!==void 0&&(this.#f=this.#e),bm(e,t))return;this.#n=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,r=typeof a=="function"?a():a;if(r==="all"||!r&&!this.#m.size)return!0;const o=new Set(r??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(c=>{const d=c;return this.#n[d]!==t[d]&&o.has(d)})};this.#j({listeners:s()})}#N(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(t){zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function _3(t,e){return Ki(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function A1(t,e){return _3(t,e)||t.state.data!==void 0&&ag(t,e,e.refetchOnMount)}function ag(t,e,s){if(Ki(e.enabled,t)!==!1&&Ul(e.staleTime,t)!=="static"){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&Ug(t,e)}return!1}function C1(t,e,s,a){return(t!==e||Ki(a.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ug(t,s)}function Ug(t,e){return Ki(e.enabled,t)!==!1&&t.isStaleByTime(Ul(e.staleTime,t))}function A3(t,e){return!bm(t.getCurrentResult(),e)}var C3=class extends Vu{#t;#e=void 0;#s;#n;constructor(e,s){super(),this.#t=e,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const s=this.options;this.options=this.#t.defaultMutationOptions(e),bm(this.options,s)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&Tc(s.mutationKey)!==Tc(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#r(e)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#r()}mutate(e,s){return this.#n=s,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){const e=this.#s?.state??Yv();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#r(e){zn.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#e.variables,a=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,s,a),this.#n.onSettled?.(e.data,null,s,a)):e?.type==="error"&&(this.#n.onError?.(e.error,s,a),this.#n.onSettled?.(void 0,e.error,s,a))}this.listeners.forEach(s=>{s(this.#e)})})}},Kv=O.createContext(void 0),$o=t=>{const e=O.useContext(Kv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},k3=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Kv.Provider,{value:t,children:e})),Xv=O.createContext(!1),E3=()=>O.useContext(Xv);Xv.Provider;function L3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var D3=O.createContext(L3()),M3=()=>O.useContext(D3),F3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},O3=t=>{O.useEffect(()=>{t.clearReset()},[t])},T3=({result:t,errorResetBoundary:e,throwOnError:s,query:a,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(r&&t.data===void 0||Hv(s,[t.error,a])),P3=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...r)=>s(a(...r)):s(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},B3=(t,e)=>t.isLoading&&t.isFetching&&!e,R3=(t,e)=>t?.suspense&&e.isPending,k1=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function U3(t,e,s){const a=E3(),r=M3(),o=$o(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",P3(c),F3(c,r),O3(r);const d=!o.getQueryCache().get(c.queryHash),[h]=O.useState(()=>new e(o,c)),f=h.getOptimisticResult(c),p=!a&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(x=>{const w=p?h.subscribe(zn.batchCalls(x)):La;return h.updateResult(),w},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),O.useEffect(()=>{h.setOptions(c)},[c,h]),R3(c,f))throw k1(c,h,r);if(T3({result:f,errorResetBoundary:r,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,f),c.experimental_prefetchInRender&&!Oc&&B3(f,a)&&(d?k1(c,h,r):o.getQueryCache().get(c.queryHash)?.promise)?.catch(La).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?f:h.trackResult(f)}function Qt(t,e){return U3(t,S3)}function hs(t,e){const s=$o(),[a]=O.useState(()=>new C3(s,t));O.useEffect(()=>{a.setOptions(t)},[a,t]);const r=O.useSyncExternalStore(O.useCallback(c=>a.subscribe(zn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=O.useCallback((c,d)=>{a.mutate(c,d).catch(La)},[a]);if(r.error&&Hv(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}/*! js-cookie v3.0.5 | MIT */function Ff(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)t[a]=s[a]}return t}var I3={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ig(t,e){function s(r,o,c){if(!(typeof document>"u")){c=Ff({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var h in c)c[h]&&(d+="; "+h,c[h]!==!0&&(d+="="+c[h].split(";")[0]));return document.cookie=r+"="+t.write(o,r)+d}}function a(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var o=document.cookie?document.cookie.split("; "):[],c={},d=0;d<o.length;d++){var h=o[d].split("="),f=h.slice(1).join("=");try{var p=decodeURIComponent(h[0]);if(c[p]=t.read(f,p),r===p)break}catch{}}return r?c[r]:c}}return Object.create({set:s,get:a,remove:function(r,o){s(r,"",Ff({},o,{expires:-1}))},withAttributes:function(r){return ig(this.converter,Ff({},this.attributes,r))},withConverter:function(r){return ig(Ff({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Xt=ig(I3,{path:"/"});function Qv(t,e){return function(){return t.apply(e,arguments)}}const{toString:z3}=Object.prototype,{getPrototypeOf:Ig}=Object,{iterator:Rm,toStringTag:Zv}=Symbol,Um=(t=>e=>{const s=z3.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kr=t=>(t=t.toLowerCase(),e=>Um(e)===t),Im=t=>e=>typeof e===t,{isArray:Wu}=Array,hh=Im("undefined");function Nh(t){return t!==null&&!hh(t)&&t.constructor!==null&&!hh(t.constructor)&&Ya(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jv=kr("ArrayBuffer");function q3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jv(t.buffer),e}const H3=Im("string"),Ya=Im("function"),e5=Im("number"),jh=t=>t!==null&&typeof t=="object",$3=t=>t===!0||t===!1,im=t=>{if(Um(t)!=="object")return!1;const e=Ig(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Zv in t)&&!(Rm in t)},V3=t=>{if(!jh(t)||Nh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W3=kr("Date"),G3=kr("File"),Y3=kr("Blob"),K3=kr("FileList"),X3=t=>jh(t)&&Ya(t.pipe),Q3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ya(t.append)&&((e=Um(t))==="formdata"||e==="object"&&Ya(t.toString)&&t.toString()==="[object FormData]"))},Z3=kr("URLSearchParams"),[J3,eS,tS,sS]=["ReadableStream","Request","Response","Headers"].map(kr),nS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sh(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,r;if(typeof t!="object"&&(t=[t]),Wu(t))for(a=0,r=t.length;a<r;a++)e.call(null,t[a],a,t);else{if(Nh(t))return;const o=s?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let d;for(a=0;a<c;a++)d=o[a],e.call(null,t[d],d,t)}}function t5(t,e){if(Nh(t))return null;e=e.toLowerCase();const s=Object.keys(t);let a=s.length,r;for(;a-- >0;)if(r=s[a],e===r.toLowerCase())return r;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s5=t=>!hh(t)&&t!==Ec;function rg(){const{caseless:t}=s5(this)&&this||{},e={},s=(a,r)=>{const o=t&&t5(e,r)||r;im(e[o])&&im(a)?e[o]=rg(e[o],a):im(a)?e[o]=rg({},a):Wu(a)?e[o]=a.slice():e[o]=a};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&Sh(arguments[a],s);return e}const aS=(t,e,s,{allOwnKeys:a}={})=>(Sh(e,(r,o)=>{s&&Ya(r)?t[o]=Qv(r,s):t[o]=r},{allOwnKeys:a}),t),iS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rS=(t,e,s,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},oS=(t,e,s,a)=>{let r,o,c;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)c=r[o],(!a||a(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=s!==!1&&Ig(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},lS=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const a=t.indexOf(e,s);return a!==-1&&a===s},cS=t=>{if(!t)return null;if(Wu(t))return t;let e=t.length;if(!e5(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},uS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ig(Uint8Array)),dS=(t,e)=>{const a=(t&&t[Rm]).call(t);let r;for(;(r=a.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},hS=(t,e)=>{let s;const a=[];for(;(s=t.exec(e))!==null;)a.push(s);return a},fS=kr("HTMLFormElement"),mS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,r){return a.toUpperCase()+r}),E1=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),pS=kr("RegExp"),n5=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),a={};Sh(s,(r,o)=>{let c;(c=e(r,o,t))!==!1&&(a[o]=c||r)}),Object.defineProperties(t,a)},gS=t=>{n5(t,(e,s)=>{if(Ya(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Ya(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},xS=(t,e)=>{const s={},a=r=>{r.forEach(o=>{s[o]=!0})};return Wu(t)?a(t):a(String(t).split(e)),s},bS=()=>{},yS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function vS(t){return!!(t&&Ya(t.append)&&t[Zv]==="FormData"&&t[Rm])}const wS=t=>{const e=new Array(10),s=(a,r)=>{if(jh(a)){if(e.indexOf(a)>=0)return;if(Nh(a))return a;if(!("toJSON"in a)){e[r]=a;const o=Wu(a)?[]:{};return Sh(a,(c,d)=>{const h=s(c,r+1);!hh(h)&&(o[d]=h)}),e[r]=void 0,o}}return a};return s(t,0)},NS=kr("AsyncFunction"),jS=t=>t&&(jh(t)||Ya(t))&&Ya(t.then)&&Ya(t.catch),a5=((t,e)=>t?setImmediate:e?((s,a)=>(Ec.addEventListener("message",({source:r,data:o})=>{r===Ec&&o===s&&a.length&&a.shift()()},!1),r=>{a.push(r),Ec.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ya(Ec.postMessage)),SS=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||a5,_S=t=>t!=null&&Ya(t[Rm]),Pe={isArray:Wu,isArrayBuffer:Jv,isBuffer:Nh,isFormData:Q3,isArrayBufferView:q3,isString:H3,isNumber:e5,isBoolean:$3,isObject:jh,isPlainObject:im,isEmptyObject:V3,isReadableStream:J3,isRequest:eS,isResponse:tS,isHeaders:sS,isUndefined:hh,isDate:W3,isFile:G3,isBlob:Y3,isRegExp:pS,isFunction:Ya,isStream:X3,isURLSearchParams:Z3,isTypedArray:uS,isFileList:K3,forEach:Sh,merge:rg,extend:aS,trim:nS,stripBOM:iS,inherits:rS,toFlatObject:oS,kindOf:Um,kindOfTest:kr,endsWith:lS,toArray:cS,forEachEntry:dS,matchAll:hS,isHTMLForm:fS,hasOwnProperty:E1,hasOwnProp:E1,reduceDescriptors:n5,freezeMethods:gS,toObjectSet:xS,toCamelCase:mS,noop:bS,toFiniteNumber:yS,findKey:t5,global:Ec,isContextDefined:s5,isSpecCompliantForm:vS,toJSONObject:wS,isAsyncFn:NS,isThenable:jS,setImmediate:a5,asap:SS,isIterable:_S};function Gt(t,e,s,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}Pe.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const i5=Gt.prototype,r5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{r5[t]={value:t}});Object.defineProperties(Gt,r5);Object.defineProperty(i5,"isAxiosError",{value:!0});Gt.from=(t,e,s,a,r,o)=>{const c=Object.create(i5);return Pe.toFlatObject(t,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),Gt.call(c,t.message,e,s,a,r),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const AS=null;function og(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function o5(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function L1(t,e,s){return t?t.concat(e).map(function(r,o){return r=o5(r),!s&&o?"["+r+"]":r}).join(s?".":""):e}function CS(t){return Pe.isArray(t)&&!t.some(og)}const kS=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function zm(t,e,s){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=Pe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,C){return!Pe.isUndefined(C[_])});const a=s.metaTokens,r=s.visitor||p,o=s.dots,c=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(r))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(Pe.isDate(j))return j.toISOString();if(Pe.isBoolean(j))return j.toString();if(!h&&Pe.isBlob(j))throw new Gt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(j)||Pe.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,_,C){let S=j;if(j&&!C&&typeof j=="object"){if(Pe.endsWith(_,"{}"))_=a?_:_.slice(0,-2),j=JSON.stringify(j);else if(Pe.isArray(j)&&CS(j)||(Pe.isFileList(j)||Pe.endsWith(_,"[]"))&&(S=Pe.toArray(j)))return _=o5(_),S.forEach(function(E,P){!(Pe.isUndefined(E)||E===null)&&e.append(c===!0?L1([_],P,o):c===null?_:_+"[]",f(E))}),!1}return og(j)?!0:(e.append(L1(C,_,o),f(j)),!1)}const x=[],w=Object.assign(kS,{defaultVisitor:p,convertValue:f,isVisitable:og});function y(j,_){if(!Pe.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(j),Pe.forEach(j,function(S,L){(!(Pe.isUndefined(S)||S===null)&&r.call(e,S,Pe.isString(L)?L.trim():L,_,w))===!0&&y(S,_?_.concat(L):[L])}),x.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function D1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function zg(t,e){this._pairs=[],t&&zm(t,this,e)}const l5=zg.prototype;l5.append=function(e,s){this._pairs.push([e,s])};l5.toString=function(e){const s=e?function(a){return e.call(this,a,D1)}:D1;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function ES(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function c5(t,e,s){if(!e)return t;const a=s&&s.encode||ES;Pe.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let o;if(r?o=r(e,s):o=Pe.isURLSearchParams(e)?e.toString():new zg(e,s).toString(a),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class M1{constructor(){this.handlers=[]}use(e,s,a){return this.handlers.push({fulfilled:e,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(a){a!==null&&e(a)})}}const u5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LS=typeof URLSearchParams<"u"?URLSearchParams:zg,DS=typeof FormData<"u"?FormData:null,MS=typeof Blob<"u"?Blob:null,FS={isBrowser:!0,classes:{URLSearchParams:LS,FormData:DS,Blob:MS},protocols:["http","https","file","blob","url","data"]},qg=typeof window<"u"&&typeof document<"u",lg=typeof navigator=="object"&&navigator||void 0,OS=qg&&(!lg||["ReactNative","NativeScript","NS"].indexOf(lg.product)<0),TS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PS=qg&&window.location.href||"http://localhost",BS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qg,hasStandardBrowserEnv:OS,hasStandardBrowserWebWorkerEnv:TS,navigator:lg,origin:PS},Symbol.toStringTag,{value:"Module"})),ya={...BS,...FS};function RS(t,e){return zm(t,new ya.classes.URLSearchParams,{visitor:function(s,a,r,o){return ya.isNode&&Pe.isBuffer(s)?(this.append(a,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function US(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IS(t){const e={},s=Object.keys(t);let a;const r=s.length;let o;for(a=0;a<r;a++)o=s[a],e[o]=t[o];return e}function d5(t){function e(s,a,r,o){let c=s[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=o>=s.length;return c=!c&&Pe.isArray(r)?r.length:c,h?(Pe.hasOwnProp(r,c)?r[c]=[r[c],a]:r[c]=a,!d):((!r[c]||!Pe.isObject(r[c]))&&(r[c]=[]),e(s,a,r[c],o)&&Pe.isArray(r[c])&&(r[c]=IS(r[c])),!d)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const s={};return Pe.forEachEntry(t,(a,r)=>{e(US(a),r,s,0)}),s}return null}function zS(t,e,s){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const _h={transitional:u5,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const a=s.getContentType()||"",r=a.indexOf("application/json")>-1,o=Pe.isObject(e);if(o&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return r?JSON.stringify(d5(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return RS(e,this.formSerializer).toString();if((d=Pe.isFileList(e))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return zm(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(s.setContentType("application/json",!1),zS(e)):e}],transformResponse:[function(e){const s=this.transitional||_h.transitional,a=s&&s.forcedJSONParsing,r=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(a&&!this.responseType||r)){const c=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Gt.from(d,Gt.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ya.classes.FormData,Blob:ya.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{_h.headers[t]={}});const qS=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HS=t=>{const e={};let s,a,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),s=c.substring(0,r).trim().toLowerCase(),a=c.substring(r+1).trim(),!(!s||e[s]&&qS[s])&&(s==="set-cookie"?e[s]?e[s].push(a):e[s]=[a]:e[s]=e[s]?e[s]+", "+a:a)}),e},F1=Symbol("internals");function Gd(t){return t&&String(t).trim().toLowerCase()}function rm(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(rm):String(t)}function $S(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)e[a[1]]=a[2];return e}const VS=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function up(t,e,s,a,r){if(Pe.isFunction(a))return a.call(this,e,s);if(r&&(e=s),!!Pe.isString(e)){if(Pe.isString(a))return e.indexOf(a)!==-1;if(Pe.isRegExp(a))return a.test(e)}}function WS(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,a)=>s.toUpperCase()+a)}function GS(t,e){const s=Pe.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(r,o,c){return this[a].call(this,e,r,o,c)},configurable:!0})})}let Ka=class{constructor(e){e&&this.set(e)}set(e,s,a){const r=this;function o(d,h,f){const p=Gd(h);if(!p)throw new Error("header name must be a non-empty string");const x=Pe.findKey(r,p);(!x||r[x]===void 0||f===!0||f===void 0&&r[x]!==!1)&&(r[x||h]=rm(d))}const c=(d,h)=>Pe.forEach(d,(f,p)=>o(f,p,h));if(Pe.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(Pe.isString(e)&&(e=e.trim())&&!VS(e))c(HS(e),s);else if(Pe.isObject(e)&&Pe.isIterable(e)){let d={},h,f;for(const p of e){if(!Pe.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(h=d[f])?Pe.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,s)}else e!=null&&o(s,e,a);return this}get(e,s){if(e=Gd(e),e){const a=Pe.findKey(this,e);if(a){const r=this[a];if(!s)return r;if(s===!0)return $S(r);if(Pe.isFunction(s))return s.call(this,r,a);if(Pe.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Gd(e),e){const a=Pe.findKey(this,e);return!!(a&&this[a]!==void 0&&(!s||up(this,this[a],a,s)))}return!1}delete(e,s){const a=this;let r=!1;function o(c){if(c=Gd(c),c){const d=Pe.findKey(a,c);d&&(!s||up(a,a[d],d,s))&&(delete a[d],r=!0)}}return Pe.isArray(e)?e.forEach(o):o(e),r}clear(e){const s=Object.keys(this);let a=s.length,r=!1;for(;a--;){const o=s[a];(!e||up(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const s=this,a={};return Pe.forEach(this,(r,o)=>{const c=Pe.findKey(a,o);if(c){s[c]=rm(r),delete s[o];return}const d=e?WS(o):String(o).trim();d!==o&&delete s[o],s[d]=rm(r),a[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return Pe.forEach(this,(a,r)=>{a!=null&&a!==!1&&(s[r]=e&&Pe.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const a=new this(e);return s.forEach(r=>a.set(r)),a}static accessor(e){const a=(this[F1]=this[F1]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=Gd(c);a[d]||(GS(r,c),a[d]=!0)}return Pe.isArray(e)?e.forEach(o):o(e),this}};Ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ka.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[s]=a}}});Pe.freezeMethods(Ka);function dp(t,e){const s=this||_h,a=e||s,r=Ka.from(a.headers);let o=a.data;return Pe.forEach(t,function(d){o=d.call(s,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function h5(t){return!!(t&&t.__CANCEL__)}function Gu(t,e,s){Gt.call(this,t??"canceled",Gt.ERR_CANCELED,e,s),this.name="CanceledError"}Pe.inherits(Gu,Gt,{__CANCEL__:!0});function f5(t,e,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):e(new Gt("Request failed with status code "+s.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function YS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KS(t,e){t=t||10;const s=new Array(t),a=new Array(t);let r=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=a[o];c||(c=f),s[r]=h,a[r]=f;let x=o,w=0;for(;x!==r;)w+=s[x++],x=x%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-c<e)return;const y=p&&f-p;return y?Math.round(w*1e3/y):void 0}}function XS(t,e){let s=0,a=1e3/e,r,o;const c=(f,p=Date.now())=>{s=p,r=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const p=Date.now(),x=p-s;x>=a?c(f,p):(r=f,o||(o=setTimeout(()=>{o=null,c(r)},a-x)))},()=>r&&c(r)]}const vm=(t,e,s=3)=>{let a=0;const r=KS(50,250);return XS(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,h=c-a,f=r(h),p=c<=d;a=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:o,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},s)},O1=(t,e)=>{const s=t!=null;return[a=>e[0]({lengthComputable:s,total:t,loaded:a}),e[1]]},T1=t=>(...e)=>Pe.asap(()=>t(...e)),QS=ya.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ya.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ya.origin),ya.navigator&&/(msie|trident)/i.test(ya.navigator.userAgent)):()=>!0,ZS=ya.hasStandardBrowserEnv?{write(t,e,s,a,r,o){const c=[t+"="+encodeURIComponent(e)];Pe.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),Pe.isString(a)&&c.push("path="+a),Pe.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function e6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function m5(t,e,s){let a=!JS(e);return t&&(a||s==!1)?e6(t,e):e}const P1=t=>t instanceof Ka?{...t}:t;function Pc(t,e){e=e||{};const s={};function a(f,p,x,w){return Pe.isPlainObject(f)&&Pe.isPlainObject(p)?Pe.merge.call({caseless:w},f,p):Pe.isPlainObject(p)?Pe.merge({},p):Pe.isArray(p)?p.slice():p}function r(f,p,x,w){if(Pe.isUndefined(p)){if(!Pe.isUndefined(f))return a(void 0,f,x,w)}else return a(f,p,x,w)}function o(f,p){if(!Pe.isUndefined(p))return a(void 0,p)}function c(f,p){if(Pe.isUndefined(p)){if(!Pe.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,x){if(x in e)return a(f,p);if(x in t)return a(void 0,f)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,x)=>r(P1(f),P1(p),x,!0)};return Pe.forEach(Object.keys({...t,...e}),function(p){const x=h[p]||r,w=x(t[p],e[p],p);Pe.isUndefined(w)&&x!==d||(s[p]=w)}),s}const p5=t=>{const e=Pc({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=e;e.headers=c=Ka.from(c),e.url=c5(m5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(Pe.isFormData(s)){if(ya.hasStandardBrowserEnv||ya.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[f,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([f||"multipart/form-data",...p].join("; "))}}if(ya.hasStandardBrowserEnv&&(a&&Pe.isFunction(a)&&(a=a(e)),a||a!==!1&&QS(e.url))){const f=r&&o&&ZS.read(o);f&&c.set(r,f)}return e},t6=typeof XMLHttpRequest<"u",s6=t6&&function(t){return new Promise(function(s,a){const r=p5(t);let o=r.data;const c=Ka.from(r.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r,p,x,w,y,j;function _(){y&&y(),j&&j(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function S(){if(!C)return;const E=Ka.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),V={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:E,config:t,request:C};f5(function(G){s(G),_()},function(G){a(G),_()},V),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(a(new Gt("Request aborted",Gt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){a(new Gt("Network Error",Gt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const V=r.transitional||u5;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),a(new Gt(P,V.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,t,C)),C=null},o===void 0&&c.setContentType(null),"setRequestHeader"in C&&Pe.forEach(c.toJSON(),function(P,V){C.setRequestHeader(V,P)}),Pe.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),d&&d!=="json"&&(C.responseType=r.responseType),f&&([w,j]=vm(f,!0),C.addEventListener("progress",w)),h&&C.upload&&([x,y]=vm(h),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(p=E=>{C&&(a(!E||E.type?new Gu(null,t,C):E),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const L=YS(r.url);if(L&&ya.protocols.indexOf(L)===-1){a(new Gt("Unsupported protocol "+L+":",Gt.ERR_BAD_REQUEST,t));return}C.send(o||null)})},n6=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let a=new AbortController,r;const o=function(f){if(!r){r=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof Gt?p:new Gu(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,o(new Gt(`timeout ${e} of ms exceeded`,Gt.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:h}=a;return h.unsubscribe=()=>Pe.asap(d),h}},a6=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let a=0,r;for(;a<s;)r=a+e,yield t.slice(a,r),a=r},i6=async function*(t,e){for await(const s of r6(t))yield*a6(s,e)},r6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:a}=await e.read();if(s)break;yield a}}finally{await e.cancel()}},B1=(t,e,s,a)=>{const r=i6(t,e);let o=0,c,d=h=>{c||(c=!0,a&&a(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await r.next();if(f){d(),h.close();return}let x=p.byteLength;if(s){let w=o+=x;s(w)}h.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(h){return d(h),r.return()}},{highWaterMark:2})},qm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",g5=qm&&typeof ReadableStream=="function",o6=qm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),x5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},l6=g5&&x5(()=>{let t=!1;const e=new Request(ya.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),R1=64*1024,cg=g5&&x5(()=>Pe.isReadableStream(new Response("").body)),wm={stream:cg&&(t=>t.body)};qm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wm[e]&&(wm[e]=Pe.isFunction(t[e])?s=>s[e]():(s,a)=>{throw new Gt(`Response type '${e}' is not supported`,Gt.ERR_NOT_SUPPORT,a)})})})(new Response);const c6=async t=>{if(t==null)return 0;if(Pe.isBlob(t))return t.size;if(Pe.isSpecCompliantForm(t))return(await new Request(ya.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(t)||Pe.isArrayBuffer(t))return t.byteLength;if(Pe.isURLSearchParams(t)&&(t=t+""),Pe.isString(t))return(await o6(t)).byteLength},u6=async(t,e)=>{const s=Pe.toFiniteNumber(t.getContentLength());return s??c6(e)},d6=qm&&(async t=>{let{url:e,method:s,data:a,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:w}=p5(t);f=f?(f+"").toLowerCase():"text";let y=n6([r,o&&o.toAbortSignal()],c),j;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(h&&l6&&s!=="get"&&s!=="head"&&(C=await u6(p,a))!==0){let V=new Request(e,{method:"POST",body:a,duplex:"half"}),ae;if(Pe.isFormData(a)&&(ae=V.headers.get("content-type"))&&p.setContentType(ae),V.body){const[G,U]=O1(C,vm(T1(h)));a=B1(V.body,R1,G,U)}}Pe.isString(x)||(x=x?"include":"omit");const S="credentials"in Request.prototype;j=new Request(e,{...w,signal:y,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:S?x:void 0});let L=await fetch(j,w);const E=cg&&(f==="stream"||f==="response");if(cg&&(d||E&&_)){const V={};["status","statusText","headers"].forEach(I=>{V[I]=L[I]});const ae=Pe.toFiniteNumber(L.headers.get("content-length")),[G,U]=d&&O1(ae,vm(T1(d),!0))||[];L=new Response(B1(L.body,R1,G,()=>{U&&U(),_&&_()}),V)}f=f||"text";let P=await wm[Pe.findKey(wm,f)||"text"](L,t);return!E&&_&&_(),await new Promise((V,ae)=>{f5(V,ae,{data:P,headers:Ka.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:j})})}catch(S){throw _&&_(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,t,j),{cause:S.cause||S}):Gt.from(S,S&&S.code,t,j)}}),ug={http:AS,xhr:s6,fetch:d6};Pe.forEach(ug,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U1=t=>`- ${t}`,h6=t=>Pe.isFunction(t)||t===null||t===!1,b5={getAdapter:t=>{t=Pe.isArray(t)?t:[t];const{length:e}=t;let s,a;const r={};for(let o=0;o<e;o++){s=t[o];let c;if(a=s,!h6(s)&&(a=ug[(c=String(s)).toLowerCase()],a===void 0))throw new Gt(`Unknown adapter '${c}'`);if(a)break;r[c||"#"+o]=a}if(!a){const o=Object.entries(r).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(U1).join(`
`):" "+U1(o[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:ug};function hp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gu(null,t)}function I1(t){return hp(t),t.headers=Ka.from(t.headers),t.data=dp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),b5.getAdapter(t.adapter||_h.adapter)(t).then(function(a){return hp(t),a.data=dp.call(t,t.transformResponse,a),a.headers=Ka.from(a.headers),a},function(a){return h5(a)||(hp(t),a&&a.response&&(a.response.data=dp.call(t,t.transformResponse,a.response),a.response.headers=Ka.from(a.response.headers))),Promise.reject(a)})}const y5="1.11.0",Hm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hm[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const z1={};Hm.transitional=function(e,s,a){function r(o,c){return"[Axios v"+y5+"] Transitional option '"+o+"'"+c+(a?". "+a:"")}return(o,c,d)=>{if(e===!1)throw new Gt(r(c," has been removed"+(s?" in "+s:"")),Gt.ERR_DEPRECATED);return s&&!z1[c]&&(z1[c]=!0,console.warn(r(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(o,c,d):!0}};Hm.spelling=function(e){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function f6(t,e,s){if(typeof t!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let r=a.length;for(;r-- >0;){const o=a[r],c=e[o];if(c){const d=t[o],h=d===void 0||c(d,o,t);if(h!==!0)throw new Gt("option "+o+" must be "+h,Gt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Gt("Unknown option "+o,Gt.ERR_BAD_OPTION)}}const om={assertOptions:f6,validators:Hm},Jr=om.validators;let Dc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new M1,response:new M1}}async request(e,s){try{return await this._request(e,s)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Pc(this.defaults,s);const{transitional:a,paramsSerializer:r,headers:o}=s;a!==void 0&&om.assertOptions(a,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),r!=null&&(Pe.isFunction(r)?s.paramsSerializer={serialize:r}:om.assertOptions(r,{encode:Jr.function,serialize:Jr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),om.assertOptions(s,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=o&&Pe.merge(o.common,o[s.method]);o&&Pe.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),s.headers=Ka.concat(c,o);const d=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(h=h&&_.synchronous,d.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let p,x=0,w;if(!h){const j=[I1.bind(this),void 0];for(j.unshift(...d),j.push(...f),w=j.length,p=Promise.resolve(s);x<w;)p=p.then(j[x++],j[x++]);return p}w=d.length;let y=s;for(x=0;x<w;){const j=d[x++],_=d[x++];try{y=j(y)}catch(C){_.call(this,C);break}}try{p=I1.call(this,y)}catch(j){return Promise.reject(j)}for(x=0,w=f.length;x<w;)p=p.then(f[x++],f[x++]);return p}getUri(e){e=Pc(this.defaults,e);const s=m5(e.baseURL,e.url,e.allowAbsoluteUrls);return c5(s,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){Dc.prototype[e]=function(s,a){return this.request(Pc(a||{},{method:e,url:s,data:(a||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function s(a){return function(o,c,d){return this.request(Pc(d||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Dc.prototype[e]=s(),Dc.prototype[e+"Form"]=s(!0)});let m6=class v5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const a=this;this.promise.then(r=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](r);a._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{a.subscribe(d),o=d}).then(r);return c.cancel=function(){a.unsubscribe(o)},c},e(function(o,c,d){a.reason||(a.reason=new Gu(o,c,d),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=a=>{e.abort(a)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new v5(function(r){e=r}),cancel:e}}};function p6(t){return function(s){return t.apply(null,s)}}function g6(t){return Pe.isObject(t)&&t.isAxiosError===!0}const dg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dg).forEach(([t,e])=>{dg[e]=t});function w5(t){const e=new Dc(t),s=Qv(Dc.prototype.request,e);return Pe.extend(s,Dc.prototype,e,{allOwnKeys:!0}),Pe.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return w5(Pc(t,r))},s}const qs=w5(_h);qs.Axios=Dc;qs.CanceledError=Gu;qs.CancelToken=m6;qs.isCancel=h5;qs.VERSION=y5;qs.toFormData=zm;qs.AxiosError=Gt;qs.Cancel=qs.CanceledError;qs.all=function(e){return Promise.all(e)};qs.spread=p6;qs.isAxiosError=g6;qs.mergeConfig=Pc;qs.AxiosHeaders=Ka;qs.formToJSON=t=>d5(Pe.isHTMLForm(t)?new FormData(t):t);qs.getAdapter=b5.getAdapter;qs.HttpStatusCode=dg;qs.default=qs;const{Axios:XD,AxiosError:QD,CanceledError:ZD,isCancel:JD,CancelToken:eM,VERSION:tM,all:sM,Cancel:nM,isAxiosError:aM,spread:iM,toFormData:rM,AxiosHeaders:oM,HttpStatusCode:lM,formToJSON:cM,getAdapter:uM,mergeConfig:dM}=qs;class q1 extends Error{data;statusText="";statusCode;constructor(e,s,a,r){super(),this.data=e,this.message=a,this.statusText=s,this.statusCode=r}}const ht=async(t,e,s,a)=>{let r;r={Authorization:a?`Bearer ${a}`:"","Content-Type":"application/json"},s&&s instanceof FormData&&(r["Content-Type"]="multipart/form-data");try{let o;switch(e){case"GET":o=await qs.get(t,{headers:r});break;case"POST":o=await qs.post(t,s,{headers:r});break;case"PUT":o=await qs.put(t,s,{headers:r});break;case"DELETE":o=await qs.delete(t,{headers:r});break;default:throw new Error("Unsupported HTTP method")}return o?.data}catch(o){throw console.log(o),qs.isAxiosError(o)&&o.response?new q1(o.response.data,o.response.data?.status||o.response.statusText,o.response.data?.message||"Something Went wrong",o.response.status):new q1(void 0,"Network or server error occurred","Something went wrong")}},rt="http://localhost:8000/api",ft={ADMIN:{Login:rt+"/admin-login",Logout:rt+"/logout",Dashboard:rt+"/admin/dashboard",UsersList:rt+"/all-users",UserUpdate:t=>`${rt}/update-user/${t}`,UserShow:t=>`${rt}/single-user/${t}`,UpdateUser:rt+"/update-user",AllLoanStatus:rt+"/all-loan-status",FullLoanDetail:t=>`${rt}/full-loan-detail/${t}`,SingleLoanDetail:t=>`${rt}/single-loan-detail/${t}`,AllLoanDistributed:rt+"/all-loan-distributed",LoanDistribute:t=>`${rt}/loan-distributed/${t}`,SingleDocument:t=>`${rt}/single-document/${t}`,SingleBeneficiary:t=>`${rt}/single-beneficiary/${t}`,SendToPartner:t=>`${rt}/send-to-partner/${t}`,LinkAccounts:t=>`${rt}/link-accounts/${t}`,OrdersList:rt+"/orders",OrderShow:t=>`${rt}/orders/${t}`,OrderShowUser:t=>`${rt}/orders/user/${t}`,ProductsList:rt+"/products",ProductCreate:rt+"/products",ProductShow:t=>`${rt}/products/${t}`,ProductUpdate:t=>`${rt}/products/${t}/update`,ProductDelete:t=>`${rt}/products/${t}`,BundleCreate:rt+"/bundles",BundleList:rt+"/bundles",BundleShow:t=>`${rt}/bundles/${t}`,BundleUpdate:t=>`${rt}/bundles/${t}/update`,DeleteBundle:t=>`${rt}/bundles/${t}`,TransactionsList:rt+"/transactions",TransactionShow:t=>`${rt}/transactions/user/${t}`,AllTransaction:rt+"/admin/users",AllBalances:rt+"/all-balances",AllTickets:rt+"/admin/tickets",TicketShow:t=>`${rt}/admin/tickets/${t}`,ReplyTicket:t=>`${rt}/admin/tickets/${t}/reply`,AdminNotificationsCreate:rt+"/admin/notifications",NotificationsList:rt+"/admin/notifications",AddNotification:rt+"/admin/notifications",DeleteNotification:t=>`${rt}/admin/notifications/${t}`,UpdateNotification:t=>`${rt}/admin/notifications/${t}`,BannersList:rt+"/admin/banners",AddBanner:rt+"/admin/banners",DeleteBanner:t=>`${rt}/admin/banners/${t}`,UpdateBanner:t=>`${rt}/admin/banners/${t}`,FinancingPartnersList:rt+"/admin/all-partners",AddFinancingPartner:rt+"/admin/add-partner",DeleteFinancingPartner:t=>`${rt}/admin/delete_partner/${t}`,UpdateFinancingPartner:t=>`${rt}/admin/update-partner/${t}`,CategoriesList:rt+"/categories",AddCategory:rt+"/categories",DeleteCategory:t=>`${rt}/categories/${t}`,UpdateCategory:t=>`${rt}/categories/${t}/update`,BrandsList:rt+"/brands",AddBrand:rt+"/brands",DeleteBrand:t=>`${rt}/brands/${t}`,UpdateBrand:t=>`${rt}/brands/${t}`,BrandById:t=>`${rt}/brands/${t}`,BrandByCategory:t=>`${rt}/categories/${t}/brands`,GetSingleBrandByCategory:(t,e)=>`${rt}/categories/${t}/brands/${e}`,AddUser:rt+"/add-user",Get_User_Kyc_Detail:t=>`${rt}/loan-kyc-details/${t}`,TicketStatusUpdate:t=>`${rt}/admin/tickets/${t}/status`,EditUser:t=>`${rt}/admin/user/edit-user/${t}`,SendToPartnerDetail:t=>`${rt}/admin/send-to-partner/${t}`,MonoLoanCalculation:rt+"/mono-loan-calculations",MonoLoanCalculationApproval:t=>`${rt}/mono-loan/${t}`,LoanGrant:t=>`${rt}/loan-application-grant/${t}`,RepaymentHistory:t=>`${rt}/admin/installments/with-history/${t}`,UpdateOrderStatus:t=>`${rt}/admin/order-update-status/${t}`,BNPLApplicationsList:rt+"/admin/bnpl/applications",BNPLApplicationShow:t=>`${rt}/admin/bnpl/applications/${t}`,BNPLApplicationUpdateStatus:t=>`${rt}/admin/bnpl/applications/${t}/status`,BNPLGuarantorsList:rt+"/admin/bnpl/guarantors",BNPLGuarantorUpdateStatus:t=>`${rt}/admin/bnpl/guarantors/${t}/status`,BuyNowOrdersList:rt+"/admin/orders/buy-now",BuyNowOrderShow:t=>`${rt}/admin/orders/buy-now/${t}`,BuyNowOrderUpdateStatus:t=>`${rt}/admin/orders/buy-now/${t}/status`,BNPLOrdersList:rt+"/admin/orders/bnpl",BNPLOrderShow:t=>`${rt}/admin/orders/bnpl/${t}`}},x6=async t=>await ht(ft.ADMIN.Login,"POST",t),b6=async()=>{const t=Xt.get("token");return await ht(ft.ADMIN.Logout,"POST",{},t)},y6=({setMobileOpen:t})=>{const e=vi(),s=wi(),[a,r]=O.useState("/dashboard"),[o,c]=O.useState(!1);O.useEffect(()=>{r(e.pathname)},[e.pathname]);const{mutate:d,isPending:h}=hs({mutationFn:b6,onSuccess:()=>{Xt.remove("token"),s("/login")},onError:p=>{console.error("Logout failed:",p),Xt.remove("token"),s("/login")}}),f=()=>{d()};return n.jsxs("div",{className:`h-screen pb-10 overflow-auto transition-all duration-300 ${o?"w-[80px]":"w-[300px]"} bg-[#273E8E] text-white`,style:{scrollbarWidth:"thin",scrollbarColor:"white #273E8E"},children:[n.jsx("div",{className:"flex justify-end lg:hidden p-4",children:n.jsx("button",{className:"text-xl cursor-pointer",onClick:()=>t(!1),children:""})}),n.jsxs("div",{className:"flex items-center justify-between px-4",children:[n.jsx(Bm,{to:"/dashboard",children:n.jsx("img",{src:lt.logo,alt:"logo",className:"w-50 h-auto"})}),o&&n.jsx("div",{onClick:()=>c(!1),className:"absolute top-4 left-4 bg-gray-800 p-2 rounded-md",children:n.jsx("i",{className:"bi bi-arrow-left-short text-2xl"})})]}),n.jsx("nav",{className:"",children:n.jsx("ul",{className:"space-y-2",children:r3.map((p,x)=>n.jsx("li",{children:n.jsx(i3,{name:p.name,link:p.link,icon:p.icon,sub:p.sublinks,isActiveCheck:a===p.link,onClick:()=>r(p.link),menuStatus:o})},x))})}),n.jsx("div",{className:" pt-4 border-t-2 border-[#ffffff79] mx-4 mt-4 flex items-center justify-center",children:n.jsxs("button",{onClick:f,disabled:h,className:`flex items-center p-2 py-4 cursor-pointer gap-2 text-white font-bold rounded-lg w-full hover:border hover:border-white ${h?"opacity-60 cursor-not-allowed":""}`,children:[n.jsx("img",{src:lt.logout,alt:"logout",className:"w-6 h-6"}),!o&&n.jsx("span",{children:h?"Logging out...":"Logout"})]})})]})},v6=()=>{const[t,e]=O.useState(!1);return n.jsxs("div",{className:"flex bg-theme-light",children:[n.jsx("div",{className:`fixed lg:static top-0 left-0 z-20 transition-transform transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:w-fit`,children:n.jsx(y6,{setMobileOpen:e})}),n.jsx("div",{className:"w-full h-screen overflow-auto transition-all duration-300 bg-gray-100",children:n.jsx(j4,{})})]})},w6={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Approved loans",data:[1500,1500,1500,1500,1500,1500,1500,1500,1500],backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:[300,300,300,300,300,300,300,300,300],backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:[500,500,500,500,500,500,500,500,500],backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:[200,200,200,200,200,200,200,200,200],backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]},N6=[{title:"Total Users",value:"500",color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:"25",color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:"5",color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:"2,000,000",color:"text-green-600",icon:"/assets/images/loans.png"}],j6=["bg-[#e0e7ff]","bg-[#fee2e2]","bg-[#ede9fe]","bg-[#dcfce7]"],H1=["text-blue-700","text-red-600","text-purple-700","text-green-700"],S6=({stats:t})=>n.jsx("div",{className:"flex w-full gap-6",children:t.map((e,s)=>n.jsxs("div",{className:"flex-1 bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(0,0,0,0.08)] px-6 py-4 flex items-center min-w-[220px]",style:{boxShadow:"0px 4px 16px 0px #E0E7FF"},children:[n.jsx("div",{className:`w-16 h-16 flex items-center justify-center rounded-full ${j6[s]} mr-4`,children:n.jsx("img",{src:e.icon,alt:e.title,className:"w-8 h-8"})}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("span",{className:`text-base font-medium ${H1[s]}`,children:e.title}),n.jsx("span",{className:`text-2xl font-bold ${H1[s]}`,children:e.value})]})]},s))}),_6=({orders:t})=>{const e=wi(),s=()=>{e("/shop-mgt")},a=()=>{e("/shop-mgt")};return n.jsxs("div",{className:"bg-white rounded-lg ",style:{height:420,overflow:"hidden"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#EBEBEB]",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Orders"}),n.jsx("button",{onClick:a,className:"text-blue-600 text-sm hover:underline cursor-pointer",children:"View All"})]}),n.jsx("div",{className:"space-y-3 p-4",style:{height:"350px",overflow:"hidden"},children:t.slice(0,3).map((r,o)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx("img",{src:r.image||"/vite.svg",alt:r.name,className:"w-10 h-10 object-contain",onError:c=>{c.currentTarget.src="/vite.svg"}})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm",children:r.name}),n.jsx("p",{className:"text-blue-900 font-semibold text-base",children:r.price}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Placed by"," ",n.jsx("span",{className:"text-blue-600 underline",children:r.user})]})]})]}),n.jsx("button",{onClick:s,className:"text-white text-sm px-6 cursor-pointer py-2 rounded-full hover:opacity-90 transition font-medium shadow-sm",style:{backgroundColor:"#273E8E"},children:"View More"})]},o))})]})},A6=({users:t})=>{const e=wi(),[s,a]=O.useState(1),[r]=O.useState(10),o=Math.ceil(t.length/r),c=(s-1)*r,d=c+r,h=t.slice(c,d);return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mt-[-35px] font-bold text-black mb-10",children:"Latest Users"}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200",children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] border border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-black font-medium flex justify-center items-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Phone"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"BVN"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Date Registered"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:h.map((f,p)=>n.jsxs("tr",{className:`${p!==h.length-1?"border-b border-gray-100":""} ${p%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap flex justify-center items-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 font-medium text-center",children:f.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.phone}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.bvn}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center justify-end gap-4",children:[n.jsx("button",{className:"text-white px-4 py-2 rounded-full cursor-pointer text-sm font-medium transition hover:opacity-90",style:{backgroundColor:"#273E8E"},onClick:()=>{const x={id:f.id||"N/A",name:f.name||"Unknown User",email:f.email||"unknown@email.com",phone:f.phone||"0000000000",bvn:f.bvn||"00000000000",date:f.date||"01/01/1970"};e(`/user-activity/${f.id}`,{state:x})},children:"View Details"}),n.jsx("button",{className:" w-8 h-8 rounded flex items-center justify-center  cursor-pointer",children:n.jsx("img",{src:lt.dots,alt:""})})]})})]},f.id))})]}),o>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",c+1," to ",Math.min(d,t.length)," of ",t.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>a(f=>Math.max(f-1,1)),disabled:s===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${s===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,o)},(f,p)=>{let x;return o<=5||s<=3?x=p+1:s>=o-2?x=o-4+p:x=s-2+p,n.jsx("button",{onClick:()=>a(x),className:`px-3 py-2 text-sm font-medium rounded-md border ${s===x?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x},x)})}),n.jsx("button",{onClick:()=>a(f=>Math.min(f+1,o)),disabled:s===o,className:`px-3 py-2 text-sm font-medium rounded-md border ${s===o?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})},Jn=({adminName:t="Hi, Admin",adminImage:e="/assets/layout/admin.png",onNotificationClick:s})=>{const a=wi(),r=()=>{s&&s(),a("/settings?tab=notification")};return n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsx("div",{className:"flex justify-end items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"cursor-pointer",onClick:r,children:n.jsx("img",{className:"w-11 h-11",src:lt.bell,alt:""})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:e,alt:"Admin",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"font-medium text-gray-700",children:t})]})]})})})},C6=async t=>await ht(ft.ADMIN.Dashboard,"GET",void 0,t);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ah(t){return t+.5|0}const Tl=(t,e,s)=>Math.max(Math.min(t,s),e);function sh(t){return Tl(Ah(t*2.55),0,255)}function Il(t){return Tl(Ah(t*255),0,255)}function Io(t){return Tl(Ah(t/2.55)/100,0,1)}function $1(t){return Tl(Ah(t*100),0,100)}const Yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hg=[..."0123456789ABCDEF"],k6=t=>hg[t&15],E6=t=>hg[(t&240)>>4]+hg[t&15],Of=t=>(t&240)>>4===(t&15),L6=t=>Of(t.r)&&Of(t.g)&&Of(t.b)&&Of(t.a);function D6(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Yi[t[1]]*17,g:255&Yi[t[2]]*17,b:255&Yi[t[3]]*17,a:e===5?Yi[t[4]]*17:255}:(e===7||e===9)&&(s={r:Yi[t[1]]<<4|Yi[t[2]],g:Yi[t[3]]<<4|Yi[t[4]],b:Yi[t[5]]<<4|Yi[t[6]],a:e===9?Yi[t[7]]<<4|Yi[t[8]]:255})),s}const M6=(t,e)=>t<255?e(t):"";function F6(t){var e=L6(t)?k6:E6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+M6(t.a,e):void 0}const O6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function N5(t,e,s){const a=e*Math.min(s,1-s),r=(o,c=(o+t/30)%12)=>s-a*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function T6(t,e,s){const a=(r,o=(r+t/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[a(5),a(3),a(1)]}function P6(t,e,s){const a=N5(t,1,.5);let r;for(e+s>1&&(r=1/(e+s),e*=r,s*=r),r=0;r<3;r++)a[r]*=1-e-s,a[r]+=e;return a}function B6(t,e,s,a,r){return t===r?(e-s)/a+(e<s?6:0):e===r?(s-t)/a+2:(t-e)/a+4}function Hg(t){const s=t.r/255,a=t.g/255,r=t.b/255,o=Math.max(s,a,r),c=Math.min(s,a,r),d=(o+c)/2;let h,f,p;return o!==c&&(p=o-c,f=d>.5?p/(2-o-c):p/(o+c),h=B6(s,a,r,p,o),h=h*60+.5),[h|0,f||0,d]}function $g(t,e,s,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,a)).map(Il)}function Vg(t,e,s){return $g(N5,t,e,s)}function R6(t,e,s){return $g(P6,t,e,s)}function U6(t,e,s){return $g(T6,t,e,s)}function j5(t){return(t%360+360)%360}function I6(t){const e=O6.exec(t);let s=255,a;if(!e)return;e[5]!==a&&(s=e[6]?sh(+e[5]):Il(+e[5]));const r=j5(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=R6(r,o,c):e[1]==="hsv"?a=U6(r,o,c):a=Vg(r,o,c),{r:a[0],g:a[1],b:a[2],a:s}}function z6(t,e){var s=Hg(t);s[0]=j5(s[0]+e),s=Vg(s),t.r=s[0],t.g=s[1],t.b=s[2]}function q6(t){if(!t)return;const e=Hg(t),s=e[0],a=$1(e[1]),r=$1(e[2]);return t.a<255?`hsla(${s}, ${a}%, ${r}%, ${Io(t.a)})`:`hsl(${s}, ${a}%, ${r}%)`}const V1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function H6(){const t={},e=Object.keys(W1),s=Object.keys(V1);let a,r,o,c,d;for(a=0;a<e.length;a++){for(c=d=e[a],r=0;r<s.length;r++)o=s[r],d=d.replace(o,V1[o]);o=parseInt(W1[c],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let Tf;function $6(t){Tf||(Tf=H6(),Tf.transparent=[0,0,0,0]);const e=Tf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const V6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function W6(t){const e=V6.exec(t);let s=255,a,r,o;if(e){if(e[7]!==a){const c=+e[7];s=e[8]?sh(c):Tl(c*255,0,255)}return a=+e[1],r=+e[3],o=+e[5],a=255&(e[2]?sh(a):Tl(a,0,255)),r=255&(e[4]?sh(r):Tl(r,0,255)),o=255&(e[6]?sh(o):Tl(o,0,255)),{r:a,g:r,b:o,a:s}}}function G6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Io(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Au=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Y6(t,e,s){const a=Au(Io(t.r)),r=Au(Io(t.g)),o=Au(Io(t.b));return{r:Il(fp(a+s*(Au(Io(e.r))-a))),g:Il(fp(r+s*(Au(Io(e.g))-r))),b:Il(fp(o+s*(Au(Io(e.b))-o))),a:t.a+s*(e.a-t.a)}}function Pf(t,e,s){if(t){let a=Hg(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*s,e===0?360:1)),a=Vg(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function S5(t,e){return t&&Object.assign(e||{},t)}function G1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Il(t[3]))):(e=S5(t,{r:0,g:0,b:0,a:1}),e.a=Il(e.a)),e}function K6(t){return t.charAt(0)==="r"?W6(t):I6(t)}class fh{constructor(e){if(e instanceof fh)return e;const s=typeof e;let a;s==="object"?a=G1(e):s==="string"&&(a=D6(e)||$6(e)||K6(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=S5(this._rgb);return e&&(e.a=Io(e.a)),e}set rgb(e){this._rgb=G1(e)}rgbString(){return this._valid?G6(this._rgb):void 0}hexString(){return this._valid?F6(this._rgb):void 0}hslString(){return this._valid?q6(this._rgb):void 0}mix(e,s){if(e){const a=this.rgb,r=e.rgb;let o;const c=s===o?.5:s,d=2*c-1,h=a.a-r.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-f,a.r=255&f*a.r+o*r.r+.5,a.g=255&f*a.g+o*r.g+.5,a.b=255&f*a.b+o*r.b+.5,a.a=c*a.a+(1-c)*r.a,this.rgb=a}return this}interpolate(e,s){return e&&(this._rgb=Y6(this._rgb,e._rgb,s)),this}clone(){return new fh(this.rgb)}alpha(e){return this._rgb.a=Il(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Ah(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pf(this._rgb,2,e),this}darken(e){return Pf(this._rgb,2,-e),this}saturate(e){return Pf(this._rgb,1,e),this}desaturate(e){return Pf(this._rgb,1,-e),this}rotate(e){return z6(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function To(){}const X6=(()=>{let t=0;return()=>t++})();function Bs(t){return t==null}function Zn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function eo(t,e){return Xi(t)?t:e}function vs(t,e){return typeof t>"u"?e:t}const Q6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ws(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function As(t,e,s,a){let r,o,c;if(Zn(t))for(o=t.length,r=0;r<o;r++)e.call(s,t[r],r);else if(bs(t))for(c=Object.keys(t),o=c.length,r=0;r<o;r++)e.call(s,t[c[r]],c[r])}function Nm(t,e){let s,a,r,o;if(!t||!e||t.length!==e.length)return!1;for(s=0,a=t.length;s<a;++s)if(r=t[s],o=e[s],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function jm(t){if(Zn(t))return t.map(jm);if(bs(t)){const e=Object.create(null),s=Object.keys(t),a=s.length;let r=0;for(;r<a;++r)e[s[r]]=jm(t[s[r]]);return e}return t}function _5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Z6(t,e,s,a){if(!_5(t))return;const r=e[t],o=s[t];bs(r)&&bs(o)?mh(r,o,a):e[t]=jm(o)}function mh(t,e,s){const a=Zn(e)?e:[e],r=a.length;if(!bs(t))return t;s=s||{};const o=s.merger||Z6;let c;for(let d=0;d<r;++d){if(c=a[d],!bs(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)o(h[f],t,c,s)}return t}function ih(t,e){return mh(t,e,{merger:J6})}function J6(t,e,s){if(!_5(t))return;const a=e[t],r=s[t];bs(a)&&bs(r)?ih(a,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=jm(r))}const Y1={"":t=>t,x:t=>t.x,y:t=>t.y};function e_(t){const e=t.split("."),s=[];let a="";for(const r of e)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}function t_(t){const e=e_(t);return s=>{for(const a of e){if(a==="")break;s=s&&s[a]}return s}}function Iu(t,e){return(Y1[e]||(Y1[e]=t_(e)))(t)}function Wg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ph=t=>typeof t<"u",Hl=t=>typeof t=="function",K1=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function s_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xa=Math.PI,zl=2*Xa,Sm=Number.POSITIVE_INFINITY,n_=Xa/180,Nr=Xa/2,Nc=Xa/4,X1=Xa*2/3,A5=Math.log10,ql=Math.sign;function lm(t,e,s){return Math.abs(t-e)<s}function Q1(t){const e=Math.round(t);t=lm(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(A5(t))),a=t/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function a_(t){const e=[],s=Math.sqrt(t);let a;for(a=1;a<s;a++)t%a===0&&(e.push(a),e.push(t/a));return s===(s|0)&&e.push(s),e.sort((r,o)=>r-o).pop(),e}function i_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function _m(t){return!i_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function r_(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function o_(t,e,s){let a,r,o;for(a=0,r=t.length;a<r;a++)o=t[a][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Lc(t){return t*(Xa/180)}function l_(t){return t*(180/Xa)}function Z1(t){if(!Xi(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function c_(t,e){const s=e.x-t.x,a=e.y-t.y,r=Math.sqrt(s*s+a*a);let o=Math.atan2(a,s);return o<-.5*Xa&&(o+=zl),{angle:o,distance:r}}function u_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jc(t){return(t%zl+zl)%zl}function d_(t,e,s,a){const r=jc(t),o=jc(e),c=jc(s),d=jc(o-r),h=jc(c-r),f=jc(r-o),p=jc(r-c);return r===o||r===c||a||d>h&&f<p}function jr(t,e,s){return Math.max(e,Math.min(s,t))}function h_(t){return jr(t,-32768,32767)}function Mu(t,e,s,a=1e-6){return t>=Math.min(e,s)-a&&t<=Math.max(e,s)+a}function Gg(t,e,s){s=s||(c=>t[c]<e);let a=t.length-1,r=0,o;for(;a-r>1;)o=r+a>>1,s(o)?r=o:a=o;return{lo:r,hi:a}}const fg=(t,e,s,a)=>Gg(t,s,a?r=>{const o=t[r][e];return o<s||o===s&&t[r+1][e]===s}:r=>t[r][e]<s),f_=(t,e,s)=>Gg(t,s,a=>t[a][e]>=s);function m_(t,e,s){let a=0,r=t.length;for(;a<r&&t[a]<e;)a++;for(;r>a&&t[r-1]>s;)r--;return a>0||r<t.length?t.slice(a,r):t}const C5=["push","pop","shift","splice","unshift"];function p_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),C5.forEach(s=>{const a="_onData"+Wg(s),r=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[a]=="function"&&d[a](...o)}),c}})})}function J1(t,e){const s=t._chartjs;if(!s)return;const a=s.listeners,r=a.indexOf(e);r!==-1&&a.splice(r,1),!(a.length>0)&&(C5.forEach(o=>{delete t[o]}),delete t._chartjs)}function k5(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const E5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function L5(t,e){let s=[],a=!1;return function(...r){s=r,a||(a=!0,E5.call(window,()=>{a=!1,t.apply(e,s)}))}}function g_(t,e){let s;return function(...a){return e?(clearTimeout(s),s=setTimeout(t,e,a)):t.apply(this,a),e}}const D5=t=>t==="start"?"left":t==="end"?"right":"center",xi=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,x_=(t,e,s,a)=>t===(a?"left":"right")?s:t==="center"?(e+s)/2:e,Bf=t=>t===0||t===1,e2=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zl/s)),t2=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*zl/s)+1,rh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Nr)+1,easeOutSine:t=>Math.sin(t*Nr),easeInOutSine:t=>-.5*(Math.cos(Xa*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Bf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Bf(t)?t:e2(t,.075,.3),easeOutElastic:t=>Bf(t)?t:t2(t,.075,.3),easeInOutElastic(t){return Bf(t)?t:t<.5?.5*e2(t*2,.1125,.45):.5+.5*t2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-rh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?rh.easeInBounce(t*2)*.5:rh.easeOutBounce(t*2-1)*.5+.5};function M5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function s2(t){return M5(t)?t:new fh(t)}function mp(t){return M5(t)?t:new fh(t).saturate(.5).darken(.1).hexString()}const b_=["x","y","borderWidth","radius","tension"],y_=["color","borderColor","backgroundColor"];function v_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:y_},numbers:{type:"number",properties:b_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function w_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const n2=new Map;function N_(t,e){e=e||{};const s=t+JSON.stringify(e);let a=n2.get(s);return a||(a=new Intl.NumberFormat(t,e),n2.set(s,a)),a}function F5(t,e,s){return N_(e,s).format(t)}const j_={values(t){return Zn(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const a=this.chart.options.locale;let r,o=t;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=S_(t,s)}const c=A5(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),F5(t,a,h)}};function S_(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var O5={formatters:j_};function __(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bc=Object.create(null),mg=Object.create(null);function oh(t,e){if(!e)return t;const s=e.split(".");for(let a=0,r=s.length;a<r;++a){const o=s[a];t=t[o]||(t[o]=Object.create(null))}return t}function pp(t,e,s){return typeof e=="string"?mh(oh(t,e),s):mh(oh(t,""),e)}class A_{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>mp(r.backgroundColor),this.hoverBorderColor=(a,r)=>mp(r.borderColor),this.hoverColor=(a,r)=>mp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return pp(this,e,s)}get(e){return oh(this,e)}describe(e,s){return pp(mg,e,s)}override(e,s){return pp(Bc,e,s)}route(e,s,a,r){const o=oh(this,e),c=oh(this,a),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[d],f=c[r];return bs(h)?Object.assign({},f,h):vs(h,f)},set(h){this[d]=h}}})}apply(e){e.forEach(s=>s(this))}}var _n=new A_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v_,w_,__]);function C_(t){return!t||Bs(t.size)||Bs(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function a2(t,e,s,a,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,s.push(r)),o>a&&(a=o),a}function Sc(t,e,s){const a=t.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((e-r)*a)/a+r}function i2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function r2(t,e,s,a){T5(t,e,s,a,null)}function T5(t,e,s,a,r){let o,c,d,h,f,p,x,w;const y=e.pointStyle,j=e.rotation,_=e.radius;let C=(j||0)*n_;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(s,a),t.rotate(C),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),y){default:r?t.ellipse(s,a,r/2,_,0,0,zl):t.arc(s,a,_,0,zl),t.closePath();break;case"triangle":p=r?r/2:_,t.moveTo(s+Math.sin(C)*p,a-Math.cos(C)*_),C+=X1,t.lineTo(s+Math.sin(C)*p,a-Math.cos(C)*_),C+=X1,t.lineTo(s+Math.sin(C)*p,a-Math.cos(C)*_),t.closePath();break;case"rectRounded":f=_*.516,h=_-f,c=Math.cos(C+Nc)*h,x=Math.cos(C+Nc)*(r?r/2-f:h),d=Math.sin(C+Nc)*h,w=Math.sin(C+Nc)*(r?r/2-f:h),t.arc(s-x,a-d,f,C-Xa,C-Nr),t.arc(s+w,a-c,f,C-Nr,C),t.arc(s+x,a+d,f,C,C+Nr),t.arc(s-w,a+c,f,C+Nr,C+Xa),t.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*_,p=r?r/2:h,t.rect(s-p,a-h,2*p,2*h);break}C+=Nc;case"rectRot":x=Math.cos(C)*(r?r/2:_),c=Math.cos(C)*_,d=Math.sin(C)*_,w=Math.sin(C)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+w,a-c),t.lineTo(s+x,a+d),t.lineTo(s-w,a+c),t.closePath();break;case"crossRot":C+=Nc;case"cross":x=Math.cos(C)*(r?r/2:_),c=Math.cos(C)*_,d=Math.sin(C)*_,w=Math.sin(C)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c);break;case"star":x=Math.cos(C)*(r?r/2:_),c=Math.cos(C)*_,d=Math.sin(C)*_,w=Math.sin(C)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c),C+=Nc,x=Math.cos(C)*(r?r/2:_),c=Math.cos(C)*_,d=Math.sin(C)*_,w=Math.sin(C)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c);break;case"line":c=r?r/2:Math.cos(C)*_,d=Math.sin(C)*_,t.moveTo(s-c,a-d),t.lineTo(s+c,a+d);break;case"dash":t.moveTo(s,a),t.lineTo(s+Math.cos(C)*(r?r/2:_),a+Math.sin(C)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function P5(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Yg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kg(t){t.restore()}function k_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Bs(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function E_(t,e,s,a,r){if(r.strikethrough||r.underline){const o=t.measureText(a),c=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,f=s+o.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(c,p),t.lineTo(d,p),t.stroke()}}function L_(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Am(t,e,s,a,r,o={}){const c=Zn(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(t.save(),t.font=r.string,k_(t,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&L_(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Bs(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,s,a,o.maxWidth)),t.fillText(f,s,a,o.maxWidth),E_(t,s,a,f,o),a+=Number(r.lineHeight);t.restore()}function Cm(t,e){const{x:s,y:a,w:r,h:o,radius:c}=e;t.arc(s+c.topLeft,a+c.topLeft,c.topLeft,1.5*Xa,Xa,!0),t.lineTo(s,a+o-c.bottomLeft),t.arc(s+c.bottomLeft,a+o-c.bottomLeft,c.bottomLeft,Xa,Nr,!0),t.lineTo(s+r-c.bottomRight,a+o),t.arc(s+r-c.bottomRight,a+o-c.bottomRight,c.bottomRight,Nr,0,!0),t.lineTo(s+r,a+c.topRight),t.arc(s+r-c.topRight,a+c.topRight,c.topRight,0,-Nr,!0),t.lineTo(s+c.topLeft,a)}const D_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,M_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function F_(t,e){const s=(""+t).match(D_);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const O_=t=>+t||0;function B5(t,e){const s={},a=bs(e),r=a?Object.keys(e):e,o=bs(t)?a?c=>vs(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of r)s[c]=O_(o(c));return s}function R5(t){return B5(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ou(t){return B5(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _r(t){const e=R5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ga(t,e){t=t||{},e=e||_n.font;let s=vs(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let a=vs(t.style,e.style);a&&!(""+a).match(M_)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:vs(t.family,e.family),lineHeight:F_(vs(t.lineHeight,e.lineHeight),s),size:s,style:a,weight:vs(t.weight,e.weight),string:""};return r.string=C_(r),r}function Rf(t,e,s,a){let r,o,c;for(r=0,o=t.length;r<o;++r)if(c=t[r],c!==void 0&&c!==void 0)return c}function T_(t,e,s){const{min:a,max:r}=t,o=Q6(e,(r-a)/2),c=(d,h)=>s&&d===0?0:d+h;return{min:c(a,-Math.abs(o)),max:c(r,o)}}function Yu(t,e){return Object.assign(Object.create(t),e)}function Xg(t,e=[""],s,a,r=()=>t[0]){const o=s||t;typeof a>"u"&&(a=q5("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:a,_getTarget:r,override:d=>Xg([d,...t],e,o,a)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return I5(d,h,()=>H_(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return l2(d).includes(h)},ownKeys(d){return l2(d)},set(d,h,f){const p=d._storage||(d._storage=r());return d[h]=p[h]=f,delete d._keys,!0}})}function zu(t,e,s,a){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:U5(t,a),setContext:o=>zu(t,o,s,a),override:o=>zu(t.override(o),e,s,a)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,d){return I5(o,c,()=>B_(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,d){return t[c]=d,delete o[c],!0}})}function U5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:a=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:s,indexable:a,isScriptable:Hl(s)?s:()=>s,isIndexable:Hl(a)?a:()=>a}}const P_=(t,e)=>t?t+Wg(e):e,Qg=(t,e)=>bs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function I5(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=s();return t[e]=a,a}function B_(t,e,s){const{_proxy:a,_context:r,_subProxy:o,_descriptors:c}=t;let d=a[e];return Hl(d)&&c.isScriptable(e)&&(d=R_(e,d,t,s)),Zn(d)&&d.length&&(d=U_(e,d,t,c.isIndexable)),Qg(e,d)&&(d=zu(d,r,o&&o[e],c)),d}function R_(t,e,s,a){const{_proxy:r,_context:o,_subProxy:c,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(o,c||a);return d.delete(t),Qg(t,h)&&(h=Zg(r._scopes,r,t,h)),h}function U_(t,e,s,a){const{_proxy:r,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index<"u"&&a(t))return e[o.index%e.length];if(bs(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=Zg(f,r,t,p);e.push(zu(x,o,c&&c[t],d))}}return e}function z5(t,e,s){return Hl(t)?t(e,s):t}const I_=(t,e)=>t===!0?e:typeof t=="string"?Iu(e,t):void 0;function z_(t,e,s,a,r){for(const o of e){const c=I_(s,o);if(c){t.add(c);const d=z5(c._fallback,s,r);if(typeof d<"u"&&d!==s&&d!==a)return d}else if(c===!1&&typeof a<"u"&&s!==a)return null}return!1}function Zg(t,e,s,a){const r=e._rootScopes,o=z5(e._fallback,s,a),c=[...t,...r],d=new Set;d.add(a);let h=o2(d,c,s,o||s,a);return h===null||typeof o<"u"&&o!==s&&(h=o2(d,c,o,h,a),h===null)?!1:Xg(Array.from(d),[""],r,o,()=>q_(e,s,a))}function o2(t,e,s,a,r){for(;s;)s=z_(t,e,s,a,r);return s}function q_(t,e,s){const a=t._getTarget();e in a||(a[e]={});const r=a[e];return Zn(r)&&bs(s)?s:r||{}}function H_(t,e,s,a){let r;for(const o of e)if(r=q5(P_(o,t),s),typeof r<"u")return Qg(t,r)?Zg(s,a,t,r):r}function q5(t,e){for(const s of e){if(!s)continue;const a=s[t];if(typeof a<"u")return a}}function l2(t){let e=t._keys;return e||(e=t._keys=$_(t._scopes)),e}function $_(t){const e=new Set;for(const s of t)for(const a of Object.keys(s).filter(r=>!r.startsWith("_")))e.add(a);return Array.from(e)}function Jg(){return typeof window<"u"&&typeof document<"u"}function ex(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function km(t,e,s){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[s])):a=t,a}const $m=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function V_(t,e){return $m(t).getPropertyValue(e)}const W_=["top","right","bottom","left"];function Mc(t,e,s){const a={};s=s?"-"+s:"";for(let r=0;r<4;r++){const o=W_[r];a[o]=parseFloat(t[e+"-"+o+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const G_=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Y_(t,e){const s=t.touches,a=s&&s.length?s[0]:t,{offsetX:r,offsetY:o}=a;let c=!1,d,h;if(G_(r,o,t.target))d=r,h=o;else{const f=e.getBoundingClientRect();d=a.clientX-f.left,h=a.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function Ac(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:a}=e,r=$m(s),o=r.boxSizing==="border-box",c=Mc(r,"padding"),d=Mc(r,"border","width"),{x:h,y:f,box:p}=Y_(t,s),x=c.left+(p&&d.left),w=c.top+(p&&d.top);let{width:y,height:j}=e;return o&&(y-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-x)/y*s.width/a),y:Math.round((f-w)/j*s.height/a)}}function K_(t,e,s){let a,r;if(e===void 0||s===void 0){const o=t&&ex(t);if(!o)e=t.clientWidth,s=t.clientHeight;else{const c=o.getBoundingClientRect(),d=$m(o),h=Mc(d,"border","width"),f=Mc(d,"padding");e=c.width-f.width-h.width,s=c.height-f.height-h.height,a=km(d.maxWidth,o,"clientWidth"),r=km(d.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:a||Sm,maxHeight:r||Sm}}const Uf=t=>Math.round(t*10)/10;function X_(t,e,s,a){const r=$m(t),o=Mc(r,"margin"),c=km(r.maxWidth,t,"clientWidth")||Sm,d=km(r.maxHeight,t,"clientHeight")||Sm,h=K_(t,e,s);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const w=Mc(r,"border","width"),y=Mc(r,"padding");f-=y.width+w.width,p-=y.height+w.height}return f=Math.max(0,f-o.width),p=Math.max(0,a?f/a:p-o.height),f=Uf(Math.min(f,c,h.maxWidth)),p=Uf(Math.min(p,d,h.maxHeight)),f&&!p&&(p=Uf(f/2)),(e!==void 0||s!==void 0)&&a&&h.height&&p>h.height&&(p=h.height,f=Uf(Math.floor(p*a))),{width:f,height:p}}function c2(t,e,s){const a=e||1,r=Math.floor(t.height*a),o=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||c.height!==r||c.width!==o?(t.currentDevicePixelRatio=a,c.height=r,c.width=o,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const Q_=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Jg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function u2(t,e){const s=V_(t,e),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const Z_=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,a){return s-a},leftForLtr(s,a){return s-a}}},J_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Tu(t,e,s){return t?Z_(e,s):J_()}function H5(t,e){let s,a;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=a)}function $5(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function If(t,e,s){return t.options.clip?t[s]:e[s]}function e8(t,e){const{xScale:s,yScale:a}=t;return s&&a?{left:If(s,e,"left"),right:If(s,e,"right"),top:If(a,e,"top"),bottom:If(a,e,"bottom")}:e}function t8(t,e){const s=e._clip;if(s.disabled)return!1;const a=e8(e,t.chartArea);return{left:s.left===!1?0:a.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:a.right+(s.right===!0?0:s.right),top:s.top===!1?0:a.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:a.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class s8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,a,r){const o=s.listeners[r],c=s.duration;o.forEach(d=>d({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(a-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=E5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const o=a.items;let c=o.length-1,d=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),d=!0):(o[c]=o[o.length-1],o.pop());d&&(r.draw(),this._notify(r,a,e,"progress")),o.length||(a.running=!1,this._notify(r,a,e,"complete"),a.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let a=s.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,a)),a}listen(e,s,a){this._getAnims(e).listeners[s].push(a)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const a=s.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ro=new s8;const d2="transparent",n8={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const a=s2(t||d2),r=a.valid&&s2(e||d2);return r&&r.valid?r.mix(a,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class a8{constructor(e,s,a,r){const o=s[a];r=Rf([e.to,r,o,e.from]);const c=Rf([e.from,o,r]);this._active=!0,this._fn=e.fn||n8[e.type||typeof c],this._easing=rh[e.easing]||rh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=a,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,s,a){if(this._active){this._notify(!1);const r=this._target[this._prop],o=a-this._start,c=this._duration-o;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Rf([e.to,s,r,e.from]),this._from=Rf([e.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,a=this._duration,r=this._prop,o=this._from,c=this._loop,d=this._to;let h;if(this._active=o!==d&&(c||s<a),!this._active){this._target[r]=d,this._notify(!0);return}if(s<0){this._target[r]=o;return}h=s/a%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,a)=>{e.push({res:s,rej:a})})}_notify(e){const s=e?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][s]()}}class V5{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!bs(e))return;const s=Object.keys(_n.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!bs(o))return;const c={};for(const d of s)c[d]=o[d];(Zn(o.properties)&&o.properties||[r]).forEach(d=>{(d===r||!a.has(d))&&a.set(d,c)})})}_animateOptions(e,s){const a=s.options,r=r8(e,a);if(!r)return[];const o=this._createAnimations(r,a);return a.$shared&&i8(e.options.$animations,a).then(()=>{e.options=a},()=>{}),o}_createAnimations(e,s){const a=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(s),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,s));continue}const p=s[f];let x=o[f];const w=a.get(f);if(x)if(w&&x.active()){x.update(w,p,d);continue}else x.cancel();if(!w||!w.duration){e[f]=p;continue}o[f]=x=new a8(w,e,f,p),r.push(x)}return r}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const a=this._createAnimations(e,s);if(a.length)return Ro.add(this._chart,a),!0}}function i8(t,e){const s=[],a=Object.keys(e);for(let r=0;r<a.length;r++){const o=t[a[r]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function r8(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function h2(t,e){const s=t&&t.options||{},a=s.reverse,r=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:a?o:r,end:a?r:o}}function o8(t,e,s){if(s===!1)return!1;const a=h2(t,s),r=h2(e,s);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function l8(t){let e,s,a,r;return bs(t)?(e=t.top,s=t.right,a=t.bottom,r=t.left):e=s=a=r=t,{top:e,right:s,bottom:a,left:r,disabled:t===!1}}function W5(t,e){const s=[],a=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=a.length;r<o;++r)s.push(a[r].index);return s}function f2(t,e,s,a={}){const r=t.keys,o=a.mode==="single";let c,d,h,f;if(e===null)return;let p=!1;for(c=0,d=r.length;c<d;++c){if(h=+r[c],h===s){if(p=!0,a.all)continue;break}f=t.values[h],Xi(f)&&(o||e===0||ql(e)===ql(f))&&(e+=f)}return!p&&!a.all?0:e}function c8(t,e){const{iScale:s,vScale:a}=e,r=s.axis==="x"?"x":"y",o=a.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[r]:p,[o]:t[p]};return d}function gp(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function u8(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function d8(t){const{min:e,max:s,minDefined:a,maxDefined:r}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function h8(t,e,s){const a=t[e]||(t[e]={});return a[s]||(a[s]={})}function m2(t,e,s,a){for(const r of e.getMatchingVisibleMetas(a).reverse()){const o=t[r.index];if(s&&o>0||!s&&o<0)return r.index}return null}function p2(t,e){const{chart:s,_cachedMeta:a}=t,r=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=a,h=o.axis,f=c.axis,p=u8(o,c,a),x=e.length;let w;for(let y=0;y<x;++y){const j=e[y],{[h]:_,[f]:C}=j,S=j._stacks||(j._stacks={});w=S[f]=h8(r,p,_),w[d]=C,w._top=m2(w,c,!0,a.type),w._bottom=m2(w,c,!1,a.type);const L=w._visualValues||(w._visualValues={});L[d]=C}}function xp(t,e){const s=t.scales;return Object.keys(s).filter(a=>s[a].axis===e).shift()}function f8(t,e){return Yu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function m8(t,e,s){return Yu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Yd(t,e){const s=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[a]===void 0||o[a][s]===void 0)return;delete o[a][s],o[a]._visualValues!==void 0&&o[a]._visualValues[s]!==void 0&&delete o[a]._visualValues[s]}}}const bp=t=>t==="reset"||t==="none",g2=(t,e)=>e?t:Object.assign({},t),p8=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:W5(s,!0),values:null};class G5{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),r=(x,w,y,j)=>x==="x"?w:x==="r"?j:y,o=s.xAxisID=vs(a.xAxisID,xp(e,"x")),c=s.yAxisID=vs(a.yAxisID,xp(e,"y")),d=s.rAxisID=vs(a.rAxisID,xp(e,"r")),h=s.indexAxis,f=s.iAxisID=r(h,o,c,d),p=s.vAxisID=r(h,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&J1(this._data,this),e._stacked&&Yd(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(bs(s)){const r=this._cachedMeta;this._data=c8(s,r)}else if(a!==s){if(a){J1(a,this);const r=this._cachedMeta;Yd(r),r._parsed=[]}s&&Object.isExtensible(s)&&p_(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const o=s._stacked;s._stacked=gp(s.vScale,s),s.stack!==a.stack&&(r=!0,Yd(s),s.stack=a.stack),this._resyncElements(e),(r||o!==s._stacked)&&(p2(this,s._parsed),s._stacked=gp(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:a,_data:r}=this,{iScale:o,_stacked:c}=a,d=o.axis;let h=e===0&&s===r.length?!0:a._sorted,f=e>0&&a._parsed[e-1],p,x,w;if(this._parsing===!1)a._parsed=r,a._sorted=!0,w=r;else{Zn(r[e])?w=this.parseArrayData(a,r,e,s):bs(r[e])?w=this.parseObjectData(a,r,e,s):w=this.parsePrimitiveData(a,r,e,s);const y=()=>x[d]===null||f&&x[d]<f[d];for(p=0;p<s;++p)a._parsed[p+e]=x=w[p],h&&(y()&&(h=!1),f=x);a._sorted=h}c&&p2(this,w)}parsePrimitiveData(e,s,a,r){const{iScale:o,vScale:c}=e,d=o.axis,h=c.axis,f=o.getLabels(),p=o===c,x=new Array(r);let w,y,j;for(w=0,y=r;w<y;++w)j=w+a,x[w]={[d]:p||o.parse(f[j],j),[h]:c.parse(s[j],j)};return x}parseArrayData(e,s,a,r){const{xScale:o,yScale:c}=e,d=new Array(r);let h,f,p,x;for(h=0,f=r;h<f;++h)p=h+a,x=s[p],d[h]={x:o.parse(x[0],p),y:c.parse(x[1],p)};return d}parseObjectData(e,s,a,r){const{xScale:o,yScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,x,w,y;for(p=0,x=r;p<x;++p)w=p+a,y=s[w],f[p]={x:o.parse(Iu(y,d),w),y:c.parse(Iu(y,h),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const r=this.chart,o=this._cachedMeta,c=s[e.axis],d={keys:W5(r,!0),values:s._stacks[e.axis]._visualValues};return f2(d,c,o.index,{mode:a})}updateRangeFromParsed(e,s,a,r){const o=a[s.axis];let c=o===null?NaN:o;const d=r&&a._stacks[s.axis];r&&d&&(r.values=d,c=f2(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const a=this._cachedMeta,r=a._parsed,o=a._sorted&&e===a.iScale,c=r.length,d=this._getOtherScale(e),h=p8(s,a,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=d8(d);let w,y;function j(){y=r[w];const _=y[d.axis];return!Xi(y[e.axis])||p>_||x<_}for(w=0;w<c&&!(!j()&&(this.updateRangeFromParsed(f,e,y,h),o));++w);if(o){for(w=c-1;w>=0;--w)if(!j()){this.updateRangeFromParsed(f,e,y,h);break}}return f}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let r,o,c;for(r=0,o=s.length;r<o;++r)c=s[r][e.axis],Xi(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,r=s.vScale,o=this.getParsed(e);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=l8(vs(this.options.clip,o8(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,a=this._cachedMeta,r=a.data||[],o=s.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||r.length-d,f=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(e,o,d,h),p=d;p<d+h;++p){const x=r[p];x.hidden||(x.active&&f?c.push(x):x.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,s){const a=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=m8(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=f8(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=a,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const r=s==="active",o=this._cachedDataOpts,c=e+"-"+s,d=o[c],h=this.enableOptionSharing&&ph(a);if(d)return g2(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),p),y=Object.keys(_n.elements[e]),j=()=>this.getContext(a,r,s),_=f.resolveNamedOptions(w,y,j,x);return _.$shared&&(_.$shared=h,o[c]=Object.freeze(g2(_,h))),_}_resolveAnimations(e,s,a){const r=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let h;if(r.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,s),w=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(w,this.getContext(e,a,s))}const f=new V5(r,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||bp(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const a=this.resolveDataElementOptions(e,s),r=this._sharedOptions,o=this.getSharedOptions(a),c=this.includeOptions(s,o)||o!==r;return this.updateSharedOptions(o,s,a),{sharedOptions:o,includeOptions:c}}updateElement(e,s,a,r){bp(r)?Object.assign(e,a):this._resolveAnimations(s,r).update(e,a)}updateSharedOptions(e,s,a){e&&!bp(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,r){e.active=r;const o=this.getStyle(s,r);this._resolveAnimations(s,a,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const r=a.length,o=s.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,s,a=!0){const r=this._cachedMeta,o=r.data,c=e+s;let d;const h=f=>{for(f.length+=s,d=f.length-1;d>=c;d--)f[d]=f[d-s]};for(h(o),d=e;d<c;++d)o[d]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,s),a&&this.updateElements(o,e,s,"reset")}updateElements(e,s,a,r){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(e,s);a._stacked&&Yd(a,r)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,r]=e;this[s](a,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function g8(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let a=[];for(let r=0,o=s.length;r<o;r++)a=a.concat(s[r].controller.getAllParsedValues(t));t._cache.$bar=k5(a.sort((r,o)=>r-o))}return t._cache.$bar}function x8(t){const e=t.iScale,s=g8(e,t.type);let a=e._length,r,o,c,d;const h=()=>{c===32767||c===-32768||(ph(d)&&(a=Math.min(a,Math.abs(c-d)||a)),d=c)};for(r=0,o=s.length;r<o;++r)c=e.getPixelForValue(s[r]),h();for(d=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),h();return a}function b8(t,e,s,a){const r=s.barThickness;let o,c;return Bs(r)?(o=e.min*s.categoryPercentage,c=s.barPercentage):(o=r*a,c=1),{chunk:o/a,ratio:c,start:e.pixels[t]-o/2}}function y8(t,e,s,a){const r=e.pixels,o=r[t];let c=t>0?r[t-1]:null,d=t<r.length-1?r[t+1]:null;const h=s.categoryPercentage;c===null&&(c=o-(d===null?e.end-e.start:d-o)),d===null&&(d=o+o-c);const f=o-(o-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/a,ratio:s.barPercentage,start:f}}function v8(t,e,s,a){const r=s.parse(t[0],a),o=s.parse(t[1],a),c=Math.min(r,o),d=Math.max(r,o);let h=c,f=d;Math.abs(c)>Math.abs(d)&&(h=d,f=c),e[s.axis]=f,e._custom={barStart:h,barEnd:f,start:r,end:o,min:c,max:d}}function Y5(t,e,s,a){return Zn(t)?v8(t,e,s,a):e[s.axis]=s.parse(t,a),e}function x2(t,e,s,a){const r=t.iScale,o=t.vScale,c=r.getLabels(),d=r===o,h=[];let f,p,x,w;for(f=s,p=s+a;f<p;++f)w=e[f],x={},x[r.axis]=d||r.parse(c[f],f),h.push(Y5(w,x,o,f));return h}function yp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function w8(t,e,s){return t!==0?ql(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function N8(t){let e,s,a,r,o;return t.horizontal?(e=t.base>t.x,s="left",a="right"):(e=t.base<t.y,s="bottom",a="top"),e?(r="end",o="start"):(r="start",o="end"),{start:s,end:a,reverse:e,top:r,bottom:o}}function j8(t,e,s,a){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:f,bottom:p}=N8(t);r==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===a?r=f:(s._bottom||0)===a?r=p:(o[b2(p,c,d,h)]=!0,r=f)),o[b2(r,c,d,h)]=!0,t.borderSkipped=o}function b2(t,e,s,a){return a?(t=S8(t,e,s),t=y2(t,s,e)):t=y2(t,e,s),t}function S8(t,e,s){return t===e?s:t===s?e:t}function y2(t,e,s){return t==="start"?e:t==="end"?s:t}function _8(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class A8 extends G5{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,a,r){return x2(e,s,a,r)}parseArrayData(e,s,a,r){return x2(e,s,a,r)}parseObjectData(e,s,a,r){const{iScale:o,vScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=o.axis==="x"?d:h,p=c.axis==="x"?d:h,x=[];let w,y,j,_;for(w=a,y=a+r;w<y;++w)_=s[w],j={},j[o.axis]=o.parse(Iu(_,f),w),x.push(Y5(Iu(_,p),j,c,w));return x}updateRangeFromParsed(e,s,a,r){super.updateRangeFromParsed(e,s,a,r);const o=a._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:r}=s,o=this.getParsed(e),c=o._custom,d=yp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+a.getLabelForValue(o[a.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),f=d.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:w}=this._getSharedOptions(s,r);for(let y=s;y<s+a;y++){const j=this.getParsed(y),_=o||Bs(j[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,p),S=(j._stacks||{})[d.axis],L={horizontal:f,base:_.base,enableBorderRadius:!S||yp(j._custom)||c===S._top||c===S._bottom,x:f?_.head:C.center,y:f?C.center:_.head,height:f?C.size:Math.abs(_.size),width:f?Math.abs(_.size):C.size};w&&(L.options=x||this.resolveDataElementOptions(y,e[y].active?"active":r));const E=L.options||e[y].options;j8(L,E,S,c),_8(L,E,p.ratio),this.updateElement(e[y],y,L,r)}}_getStacks(e,s){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=a.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(s),h=d&&d[a.axis],f=p=>{const x=p._parsed.find(y=>y[a.axis]===h),w=x&&x[p.vScale.axis];if(Bs(w)||isNaN(w))return!0};for(const p of r)if(!(s!==void 0&&f(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[vs(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,a){const r=this._getStacks(e,a),o=s!==void 0?r.indexOf(s):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,r=[];let o,c;for(o=0,c=s.data.length;o<c;++o)r.push(a.getPixelForValue(this.getParsed(o)[a.axis],o));const d=e.barThickness;return{min:d||x8(s),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a,index:r},options:{base:o,minBarLength:c}}=this,d=o||0,h=this.getParsed(e),f=h._custom,p=yp(f);let x=h[s.axis],w=0,y=a?this.applyStack(s,h,a):x,j,_;y!==x&&(w=y-x,y=x),p&&(x=f.barStart,y=f.barEnd-f.barStart,x!==0&&ql(x)!==ql(f.barEnd)&&(w=0),w+=x);const C=!Bs(o)&&!p?o:w;let S=s.getPixelForValue(C);if(this.chart.getDataVisibility(e)?j=s.getPixelForValue(w+y):j=S,_=j-S,Math.abs(_)<c){_=w8(_,s,d)*c,x===d&&(S-=_/2);const L=s.getPixelForDecimal(0),E=s.getPixelForDecimal(1),P=Math.min(L,E),V=Math.max(L,E);S=Math.max(Math.min(S,V),P),j=S+_,a&&!p&&(h._stacks[s.axis]._visualValues[r]=s.getValueForPixel(j)-s.getValueForPixel(S))}if(S===s.getPixelForValue(d)){const L=ql(_)*s.getLineWidthForValue(d)/2;S+=L,_-=L}return{size:_,base:S,head:j,center:j+_/2}}_calculateBarIndexPixels(e,s){const a=s.scale,r=this.options,o=r.skipNull,c=vs(r.maxBarThickness,1/0);let d,h;const f=this._getAxisCount();if(s.grouped){const p=o?this._getStackCount(e):s.stackCount,x=r.barThickness==="flex"?y8(e,s,r,p*f):b8(e,s,r,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(vs(w,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+y;d=x.start+x.chunk*j+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else d=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(c,s.min*s.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,r=a.length;let o=0;for(;o<r;++o)this.getParsed(o)[s.axis]!==null&&!a[o].hidden&&a[o].draw(this._ctx)}}function _c(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tx{static override(e){Object.assign(tx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return _c()}parse(){return _c()}format(){return _c()}add(){return _c()}diff(){return _c()}startOf(){return _c()}endOf(){return _c()}}var C8={_date:tx};function k8(t,e,s,a){const{controller:r,data:o,_sorted:c}=t,d=r._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&o.length){const f=d._reversePixels?f_:fg;if(a){if(r._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const w=f(o,e,s-x),y=f(o,e,s+x);return{lo:w.lo,hi:y.hi}}}}else{const p=f(o,e,s);if(h){const{vScale:x}=r._cachedMeta,{_parsed:w}=t,y=w.slice(0,p.lo+1).reverse().findIndex(_=>!Bs(_[x.axis]));p.lo-=Math.max(0,y);const j=w.slice(p.hi).findIndex(_=>!Bs(_[x.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function Vm(t,e,s,a,r){const o=t.getSortedVisibleDatasetMetas(),c=s[e];for(let d=0,h=o.length;d<h;++d){const{index:f,data:p}=o[d],{lo:x,hi:w}=k8(o[d],e,c,r);for(let y=x;y<=w;++y){const j=p[y];j.skip||a(j,f,y)}}}function E8(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(a,r){const o=e?Math.abs(a.x-r.x):0,c=s?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function vp(t,e,s,a,r){const o=[];return!r&&!t.isPointInArea(e)||Vm(t,s,e,function(d,h,f){!r&&!P5(d,t.chartArea,0)||d.inRange(e.x,e.y,a)&&o.push({element:d,datasetIndex:h,index:f})},!0),o}function L8(t,e,s,a){let r=[];function o(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],a),{angle:x}=c_(c,{x:e.x,y:e.y});d_(x,f,p)&&r.push({element:c,datasetIndex:d,index:h})}return Vm(t,s,e,o),r}function D8(t,e,s,a,r,o){let c=[];const d=E8(s);let h=Number.POSITIVE_INFINITY;function f(p,x,w){const y=p.inRange(e.x,e.y,r);if(a&&!y)return;const j=p.getCenterPoint(r);if(!(!!o||t.isPointInArea(j))&&!y)return;const C=d(e,j);C<h?(c=[{element:p,datasetIndex:x,index:w}],h=C):C===h&&c.push({element:p,datasetIndex:x,index:w})}return Vm(t,s,e,f),c}function wp(t,e,s,a,r,o){return!o&&!t.isPointInArea(e)?[]:s==="r"&&!a?L8(t,e,s,r):D8(t,e,s,a,r,o)}function v2(t,e,s,a,r){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return Vm(t,s,e,(h,f,p)=>{h[c]&&h[c](e[s],r)&&(o.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(e.x,e.y,r))}),a&&!d?[]:o}var M8={modes:{index(t,e,s,a){const r=Ac(e,t),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?vp(t,r,o,a,c):wp(t,r,o,!1,a,c),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,x=f.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:p})}),h):[]},dataset(t,e,s,a){const r=Ac(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?vp(t,r,o,a,c):wp(t,r,o,!1,a,c);if(d.length>0){const h=d[0].datasetIndex,f=t.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(t,e,s,a){const r=Ac(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return vp(t,r,o,a,c)},nearest(t,e,s,a){const r=Ac(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return wp(t,r,o,s.intersect,a,c)},x(t,e,s,a){const r=Ac(e,t);return v2(t,r,"x",s.intersect,a)},y(t,e,s,a){const r=Ac(e,t);return v2(t,r,"y",s.intersect,a)}}};const K5=["left","top","right","bottom"];function Kd(t,e){return t.filter(s=>s.pos===e)}function w2(t,e){return t.filter(s=>K5.indexOf(s.pos)===-1&&s.box.axis===e)}function Xd(t,e){return t.sort((s,a)=>{const r=e?a:s,o=e?s:a;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function F8(t){const e=[];let s,a,r,o,c,d;for(s=0,a=(t||[]).length;s<a;++s)r=t[s],{position:o,options:{stack:c,stackWeight:d=1}}=r,e.push({index:s,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:d});return e}function O8(t){const e={};for(const s of t){const{stack:a,pos:r,stackWeight:o}=s;if(!a||!K5.includes(r))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function T8(t,e){const s=O8(t),{vBoxMaxWidth:a,hBoxMaxHeight:r}=e;let o,c,d;for(o=0,c=t.length;o<c;++o){d=t[o];const{fullSize:h}=d.box,f=s[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*a:h&&e.availableWidth,d.height=r):(d.width=a,d.height=p?p*r:h&&e.availableHeight)}return s}function P8(t){const e=F8(t),s=Xd(e.filter(f=>f.box.fullSize),!0),a=Xd(Kd(e,"left"),!0),r=Xd(Kd(e,"right")),o=Xd(Kd(e,"top"),!0),c=Xd(Kd(e,"bottom")),d=w2(e,"x"),h=w2(e,"y");return{fullSize:s,leftAndTop:a.concat(o),rightAndBottom:r.concat(h).concat(c).concat(d),chartArea:Kd(e,"chartArea"),vertical:a.concat(r).concat(h),horizontal:o.concat(c).concat(d)}}function N2(t,e,s,a){return Math.max(t[s],e[s])+Math.max(t[a],e[a])}function X5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function B8(t,e,s,a){const{pos:r,box:o}=s,c=t.maxPadding;if(!bs(r)){s.size&&(t[r]-=s.size);const x=a[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?o.height:o.width),s.size=x.size/x.count,t[r]+=s.size}o.getPadding&&X5(c,o.getPadding());const d=Math.max(0,e.outerWidth-N2(c,t,"left","right")),h=Math.max(0,e.outerHeight-N2(c,t,"top","bottom")),f=d!==t.w,p=h!==t.h;return t.w=d,t.h=h,s.horizontal?{same:f,other:p}:{same:p,other:f}}function R8(t){const e=t.maxPadding;function s(a){const r=Math.max(e[a]-t[a],0);return t[a]+=r,r}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function U8(t,e){const s=e.maxPadding;function a(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],s[c])}),o}return a(t?["left","right"]:["top","bottom"])}function nh(t,e,s,a){const r=[];let o,c,d,h,f,p;for(o=0,c=t.length,f=0;o<c;++o){d=t[o],h=d.box,h.update(d.width||e.w,d.height||e.h,U8(d.horizontal,e));const{same:x,other:w}=B8(e,s,d,a);f|=x&&r.length,p=p||w,h.fullSize||r.push(d)}return f&&nh(r,e,s,a)||p}function zf(t,e,s,a,r){t.top=s,t.left=e,t.right=e+a,t.bottom=s+r,t.width=a,t.height=r}function j2(t,e,s,a){const r=s.padding;let{x:o,y:c}=e;for(const d of t){const h=d.box,f=a[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const x=e.w*p,w=f.size||h.height;ph(f.start)&&(c=f.start),h.fullSize?zf(h,r.left,c,s.outerWidth-r.right-r.left,w):zf(h,e.left+f.placed,c,x,w),f.start=c,f.placed+=x,c=h.bottom}else{const x=e.h*p,w=f.size||h.width;ph(f.start)&&(o=f.start),h.fullSize?zf(h,o,r.top,w,s.outerHeight-r.bottom-r.top):zf(h,o,e.top+f.placed,w,x),f.start=o,f.placed+=x,o=h.right}}e.x=o,e.y=c}var Pl={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,a){if(!t)return;const r=_r(t.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(s-r.height,0),d=P8(t.boxes),h=d.vertical,f=d.horizontal;As(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=h.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),w=Object.assign({},r);X5(w,_r(a));const y=Object.assign({maxPadding:w,w:o,h:c,x:r.left,y:r.top},r),j=T8(h.concat(f),x);nh(d.fullSize,y,x,j),nh(h,y,x,j),nh(f,y,x,j)&&nh(h,y,x,j),R8(y),j2(d.leftAndTop,y,x,j),y.x+=y.w,y.y+=y.h,j2(d.rightAndBottom,y,x,j),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},As(d.chartArea,_=>{const C=_.box;Object.assign(C,t.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class Q5{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,a){}removeEventListener(e,s,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,a,r){return s=Math.max(0,s||e.width),a=a||e.height,{width:s,height:Math.max(0,r?Math.floor(s/r):a)}}isAttached(e){return!0}updateConfig(e){}}class I8 extends Q5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cm="$chartjs",z8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},S2=t=>t===null||t==="";function q8(t,e){const s=t.style,a=t.getAttribute("height"),r=t.getAttribute("width");if(t[cm]={initial:{height:a,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",S2(r)){const o=u2(t,"width");o!==void 0&&(t.width=o)}if(S2(a))if(t.style.height==="")t.height=t.width/(e||2);else{const o=u2(t,"height");o!==void 0&&(t.height=o)}return t}const Z5=Q_?{passive:!0}:!1;function H8(t,e,s){t&&t.addEventListener(e,s,Z5)}function $8(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Z5)}function V8(t,e){const s=z8[t.type]||t.type,{x:a,y:r}=Ac(t,e);return{type:s,chart:e,native:t,x:a!==void 0?a:null,y:r!==void 0?r:null}}function Em(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function W8(t,e,s){const a=t.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Em(d.addedNodes,a),c=c&&!Em(d.removedNodes,a);c&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function G8(t,e,s){const a=t.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||Em(d.removedNodes,a),c=c&&!Em(d.addedNodes,a);c&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const gh=new Map;let _2=0;function J5(){const t=window.devicePixelRatio;t!==_2&&(_2=t,gh.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function Y8(t,e){gh.size||window.addEventListener("resize",J5),gh.set(t,e)}function K8(t){gh.delete(t),gh.size||window.removeEventListener("resize",J5)}function X8(t,e,s){const a=t.canvas,r=a&&ex(a);if(!r)return;const o=L5((d,h)=>{const f=r.clientWidth;s(d,h),f<r.clientWidth&&s()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(r),Y8(t,o),c}function Np(t,e,s){s&&s.disconnect(),e==="resize"&&K8(t)}function Q8(t,e,s){const a=t.canvas,r=L5(o=>{t.ctx!==null&&s(V8(o,t))},t);return H8(a,e,r),r}class Z8 extends Q5{acquireContext(e,s){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(q8(e,s),a):null}releaseContext(e){const s=e.canvas;if(!s[cm])return!1;const a=s[cm].initial;["height","width"].forEach(o=>{const c=a[o];Bs(c)?s.removeAttribute(o):s.setAttribute(o,c)});const r=a.style||{};return Object.keys(r).forEach(o=>{s.style[o]=r[o]}),s.width=s.width,delete s[cm],!0}addEventListener(e,s,a){this.removeEventListener(e,s);const r=e.$proxies||(e.$proxies={}),c={attach:W8,detach:G8,resize:X8}[s]||Q8;r[s]=c(e,s,a)}removeEventListener(e,s){const a=e.$proxies||(e.$proxies={}),r=a[s];if(!r)return;({attach:Np,detach:Np,resize:Np}[s]||$8)(e,s,r),a[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,a,r){return X_(e,s,a,r)}isAttached(e){const s=e&&ex(e);return!!(s&&s.isConnected)}}function J8(t){return!Jg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?I8:Z8}class Ch{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}hasValue(){return _m(this.x)&&_m(this.y)}getProps(e,s){const a=this.$animations;if(!s||!a)return this;const r={};return e.forEach(o=>{r[o]=a[o]&&a[o].active()?a[o]._to:this[o]}),r}}function eA(t,e){const s=t.options.ticks,a=tA(t),r=Math.min(s.maxTicksLimit||a,a),o=s.major.enabled?nA(e):[],c=o.length,d=o[0],h=o[c-1],f=[];if(c>r)return aA(e,f,o,c/r),f;const p=sA(o,e,r);if(c>0){let x,w;const y=c>1?Math.round((h-d)/(c-1)):null;for(qf(e,f,p,Bs(y)?0:d-y,d),x=0,w=c-1;x<w;x++)qf(e,f,p,o[x],o[x+1]);return qf(e,f,p,h,Bs(y)?e.length:h+y),f}return qf(e,f,p),f}function tA(t){const e=t.options.offset,s=t._tickSize(),a=t._length/s+(e?0:1),r=t._maxLength/s;return Math.floor(Math.min(a,r))}function sA(t,e,s){const a=iA(t),r=e.length/s;if(!a)return Math.max(r,1);const o=a_(a);for(let c=0,d=o.length-1;c<d;c++){const h=o[c];if(h>r)return h}return Math.max(r,1)}function nA(t){const e=[];let s,a;for(s=0,a=t.length;s<a;s++)t[s].major&&e.push(s);return e}function aA(t,e,s,a){let r=0,o=s[0],c;for(a=Math.ceil(a),c=0;c<t.length;c++)c===o&&(e.push(t[c]),r++,o=s[r*a])}function qf(t,e,s,a,r){const o=vs(a,0),c=Math.min(vs(r,t.length),t.length);let d=0,h,f,p;for(s=Math.ceil(s),r&&(h=r-a,s=h/Math.floor(h/s)),p=o;p<0;)d++,p=Math.round(o+d*s);for(f=Math.max(o,0);f<c;f++)f===p&&(e.push(t[f]),d++,p=Math.round(o+d*s))}function iA(t){const e=t.length;let s,a;if(e<2)return!1;for(a=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==a)return!1;return a}const rA=t=>t==="left"?"right":t==="right"?"left":t,A2=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,C2=(t,e)=>Math.min(e||t,t);function k2(t,e){const s=[],a=t.length/e,r=t.length;let o=0;for(;o<r;o+=a)s.push(t[Math.floor(o)]);return s}function oA(t,e,s){const a=t.ticks.length,r=Math.min(e,a-1),o=t._startPixel,c=t._endPixel,d=1e-6;let h=t.getPixelForTick(r),f;if(!(s&&(a===1?f=Math.max(h-o,c-h):e===0?f=(t.getPixelForTick(1)-h)/2:f=(h-t.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<o-d||h>c+d)))return h}function lA(t,e){As(t,s=>{const a=s.gc,r=a.length/2;let o;if(r>e){for(o=0;o<r;++o)delete s.data[a[o]];a.splice(0,r)}})}function Qd(t){return t.drawTicks?t.tickLength:0}function E2(t,e){if(!t.display)return 0;const s=Ga(t.font,e),a=_r(t.padding);return(Zn(t.text)?t.text.length:1)*s.lineHeight+a.height}function cA(t,e){return Yu(t,{scale:e,type:"scale"})}function uA(t,e,s){return Yu(t,{tick:s,index:e,type:"tick"})}function dA(t,e,s){let a=D5(t);return(s&&e!=="right"||!s&&e==="right")&&(a=rA(a)),a}function hA(t,e,s,a){const{top:r,left:o,bottom:c,right:d,chart:h}=t,{chartArea:f,scales:p}=h;let x=0,w,y,j;const _=c-r,C=d-o;if(t.isHorizontal()){if(y=xi(a,o,d),bs(s)){const S=Object.keys(s)[0],L=s[S];j=p[S].getPixelForValue(L)+_-e}else s==="center"?j=(f.bottom+f.top)/2+_-e:j=A2(t,s,e);w=d-o}else{if(bs(s)){const S=Object.keys(s)[0],L=s[S];y=p[S].getPixelForValue(L)-C+e}else s==="center"?y=(f.left+f.right)/2-C+e:y=A2(t,s,e);j=xi(a,c,r),x=s==="left"?-Nr:Nr}return{titleX:y,titleY:j,maxWidth:w,rotation:x}}class Ku extends Ch{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:a,_suggestedMax:r}=this;return e=eo(e,Number.POSITIVE_INFINITY),s=eo(s,Number.NEGATIVE_INFINITY),a=eo(a,Number.POSITIVE_INFINITY),r=eo(r,Number.NEGATIVE_INFINITY),{min:eo(e,a),max:eo(s,r),minDefined:Xi(e),maxDefined:Xi(s)}}getMinMax(e){let{min:s,max:a,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:s,max:a};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,e),r||(s=Math.min(s,c.min)),o||(a=Math.max(a,c.max));return s=o&&s>a?a:s,a=r&&s>a?s:a,{min:eo(s,eo(a,s)),max:eo(a,eo(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ws(this.options.beforeUpdate,[this])}update(e,s,a){const{beginAtZero:r,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T_(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?k2(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=eA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,a;this.isHorizontal()?(s=this.left,a=this.right):(s=this.top,a=this.bottom,e=!e),this._startPixel=s,this._endPixel=a,this._reversePixels=e,this._length=a-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ws(this.options.afterUpdate,[this])}beforeSetDimensions(){Ws(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ws(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ws(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ws(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let a,r,o;for(a=0,r=e.length;a<r;a++)o=e[a],o.label=Ws(s.callback,[o.value,a,e],this)}afterTickToLabelConversion(){Ws(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ws(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,a=C2(this.ticks.length,e.ticks.maxTicksLimit),r=s.minRotation||0,o=s.maxRotation;let c=r,d,h,f;if(!this._isVisible()||!s.display||r>=o||a<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),x=p.widest.width,w=p.highest.height,y=jr(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/a:y/(a-1),x+6>d&&(d=y/(a-(e.offset?.5:1)),h=this.maxHeight-Qd(e.grid)-s.padding-E2(e.title,this.chart.options.font),f=Math.sqrt(x*x+w*w),c=l_(Math.min(Math.asin(jr((p.highest.height+6)/d,-1,1)),Math.asin(jr(h/f,-1,1))-Math.asin(jr(w/f,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ws(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ws(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:a,title:r,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=E2(r,s.options.font);if(d?(e.width=this.maxWidth,e.height=Qd(o)+h):(e.height=this.maxHeight,e.width=Qd(o)+h),a.display&&this.ticks.length){const{first:f,last:p,widest:x,highest:w}=this._getLabelSizes(),y=a.padding*2,j=Lc(this.labelRotation),_=Math.cos(j),C=Math.sin(j);if(d){const S=a.mirror?0:C*x.width+_*w.height;e.height=Math.min(this.maxHeight,e.height+S+y)}else{const S=a.mirror?0:_*x.width+C*w.height;e.width=Math.min(this.maxWidth,e.width+S+y)}this._calculatePadding(f,p,C,_)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,a,r){const{ticks:{align:o,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,y=0;h?f?(w=r*e.width,y=a*s.height):(w=a*e.height,y=r*s.width):o==="start"?y=s.width:o==="end"?w=e.width:o!=="inner"&&(w=e.width/2,y=s.width/2),this.paddingLeft=Math.max((w-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-x+c)*this.width/(this.width-x),0)}else{let p=s.height/2,x=e.height/2;o==="start"?(p=0,x=e.height):o==="end"&&(p=s.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ws(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,a;for(s=0,a=e.length;s<a;s++)Bs(e[s].label)&&(e.splice(s,1),a--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let a=this.ticks;s<a.length&&(a=k2(a,s)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,a){const{ctx:r,_longestTextCache:o}=this,c=[],d=[],h=Math.floor(s/C2(s,a));let f=0,p=0,x,w,y,j,_,C,S,L,E,P,V;for(x=0;x<s;x+=h){if(j=e[x].label,_=this._resolveTickFontOptions(x),r.font=C=_.string,S=o[C]=o[C]||{data:{},gc:[]},L=_.lineHeight,E=P=0,!Bs(j)&&!Zn(j))E=a2(r,S.data,S.gc,E,j),P=L;else if(Zn(j))for(w=0,y=j.length;w<y;++w)V=j[w],!Bs(V)&&!Zn(V)&&(E=a2(r,S.data,S.gc,E,V),P+=L);c.push(E),d.push(P),f=Math.max(E,f),p=Math.max(P,p)}lA(o,s);const ae=c.indexOf(f),G=d.indexOf(p),U=I=>({width:c[I]||0,height:d[I]||0});return{first:U(0),last:U(s-1),widest:U(ae),highest:U(G),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return h_(this._alignToPixels?Sc(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const a=s[e];return a.$context||(a.$context=uA(this.getContext(),e,a))}return this.$context||(this.$context=cA(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Lc(this.labelRotation),a=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,d=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*a>d*r?d/a:h/r:h*r<d*a?h/a:d/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,a=this.chart,r=this.options,{grid:o,position:c,border:d}=r,h=o.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),w=Qd(o),y=[],j=d.setContext(this.getContext()),_=j.display?j.width:0,C=_/2,S=function(R){return Sc(a,R,_)};let L,E,P,V,ae,G,U,I,ee,T,F,Z;if(c==="top")L=S(this.bottom),G=this.bottom-w,I=L-C,T=S(e.top)+C,Z=e.bottom;else if(c==="bottom")L=S(this.top),T=e.top,Z=S(e.bottom)-C,G=L+C,I=this.top+w;else if(c==="left")L=S(this.right),ae=this.right-w,U=L-C,ee=S(e.left)+C,F=e.right;else if(c==="right")L=S(this.left),ee=e.left,F=S(e.right)-C,ae=L+C,U=this.left+w;else if(s==="x"){if(c==="center")L=S((e.top+e.bottom)/2+.5);else if(bs(c)){const R=Object.keys(c)[0],ie=c[R];L=S(this.chart.scales[R].getPixelForValue(ie))}T=e.top,Z=e.bottom,G=L+C,I=G+w}else if(s==="y"){if(c==="center")L=S((e.left+e.right)/2);else if(bs(c)){const R=Object.keys(c)[0],ie=c[R];L=S(this.chart.scales[R].getPixelForValue(ie))}ae=L-C,U=ae-w,ee=e.left,F=e.right}const K=vs(r.ticks.maxTicksLimit,x),fe=Math.max(1,Math.ceil(x/K));for(E=0;E<x;E+=fe){const R=this.getContext(E),ie=o.setContext(R),re=d.setContext(R),me=ie.lineWidth,X=ie.color,de=re.dash||[],D=re.dashOffset,W=ie.tickWidth,z=ie.tickColor,$=ie.tickBorderDash||[],ne=ie.tickBorderDashOffset;P=oA(this,E,h),P!==void 0&&(V=Sc(a,P,me),f?ae=U=ee=F=V:G=I=T=Z=V,y.push({tx1:ae,ty1:G,tx2:U,ty2:I,x1:ee,y1:T,x2:F,y2:Z,width:me,color:X,borderDash:de,borderDashOffset:D,tickWidth:W,tickColor:z,tickBorderDash:$,tickBorderDashOffset:ne}))}return this._ticksLength=x,this._borderValue=L,y}_computeLabelItems(e){const s=this.axis,a=this.options,{position:r,ticks:o}=a,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:x}=o,w=Qd(a.grid),y=w+p,j=x?-p:y,_=-Lc(this.labelRotation),C=[];let S,L,E,P,V,ae,G,U,I,ee,T,F,Z="middle";if(r==="top")ae=this.bottom-j,G=this._getXAxisLabelAlignment();else if(r==="bottom")ae=this.top+j,G=this._getXAxisLabelAlignment();else if(r==="left"){const fe=this._getYAxisLabelAlignment(w);G=fe.textAlign,V=fe.x}else if(r==="right"){const fe=this._getYAxisLabelAlignment(w);G=fe.textAlign,V=fe.x}else if(s==="x"){if(r==="center")ae=(e.top+e.bottom)/2+y;else if(bs(r)){const fe=Object.keys(r)[0],R=r[fe];ae=this.chart.scales[fe].getPixelForValue(R)+y}G=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")V=(e.left+e.right)/2-y;else if(bs(r)){const fe=Object.keys(r)[0],R=r[fe];V=this.chart.scales[fe].getPixelForValue(R)}G=this._getYAxisLabelAlignment(w).textAlign}s==="y"&&(h==="start"?Z="top":h==="end"&&(Z="bottom"));const K=this._getLabelSizes();for(S=0,L=d.length;S<L;++S){E=d[S],P=E.label;const fe=o.setContext(this.getContext(S));U=this.getPixelForTick(S)+o.labelOffset,I=this._resolveTickFontOptions(S),ee=I.lineHeight,T=Zn(P)?P.length:1;const R=T/2,ie=fe.color,re=fe.textStrokeColor,me=fe.textStrokeWidth;let X=G;c?(V=U,G==="inner"&&(S===L-1?X=this.options.reverse?"left":"right":S===0?X=this.options.reverse?"right":"left":X="center"),r==="top"?f==="near"||_!==0?F=-T*ee+ee/2:f==="center"?F=-K.highest.height/2-R*ee+ee:F=-K.highest.height+ee/2:f==="near"||_!==0?F=ee/2:f==="center"?F=K.highest.height/2-R*ee:F=K.highest.height-T*ee,x&&(F*=-1),_!==0&&!fe.showLabelBackdrop&&(V+=ee/2*Math.sin(_))):(ae=U,F=(1-T)*ee/2);let de;if(fe.showLabelBackdrop){const D=_r(fe.backdropPadding),W=K.heights[S],z=K.widths[S];let $=F-D.top,ne=0-D.left;switch(Z){case"middle":$-=W/2;break;case"bottom":$-=W;break}switch(G){case"center":ne-=z/2;break;case"right":ne-=z;break;case"inner":S===L-1?ne-=z:S>0&&(ne-=z/2);break}de={left:ne,top:$,width:z+D.width,height:W+D.height,color:fe.backdropColor}}C.push({label:P,font:I,textOffset:F,options:{rotation:_,color:ie,strokeColor:re,strokeWidth:me,textAlign:X,textBaseline:Z,translation:[V,ae],backdrop:de}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Lc(this.labelRotation))return e==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:a,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),d=e+o,h=c.widest.width;let f,p;return s==="left"?r?(p=this.right+o,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p=this.left)):s==="right"?r?(p=this.left+o,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:a,top:r,width:o,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(a,r,o,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const s=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const d=(h,f,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(f.x,f.y),a.stroke(),a.restore())};if(s.display)for(o=0,c=r.length;o<c;++o){const h=r[o];s.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:a,grid:r}}=this,o=a.setContext(this.getContext()),c=a.display?o.width:0;if(!c)return;const d=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,x,w;this.isHorizontal()?(f=Sc(e,this.left,c)-c/2,p=Sc(e,this.right,d)+d/2,x=w=h):(x=Sc(e,this.top,c)-c/2,w=Sc(e,this.bottom,d)+d/2,f=p=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(f,x),s.lineTo(p,w),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&Yg(a,r);const o=this.getLabelItems(e);for(const c of o){const d=c.options,h=c.font,f=c.label,p=c.textOffset;Am(a,f,0,p,h,d)}r&&Kg(a)}drawTitle(){const{ctx:e,options:{position:s,title:a,reverse:r}}=this;if(!a.display)return;const o=Ga(a.font),c=_r(a.padding),d=a.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||bs(s)?(h+=c.bottom,Zn(a.text)&&(h+=o.lineHeight*(a.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:x,rotation:w}=hA(this,h,s,d);Am(e,a.text,0,0,o,{color:a.color,maxWidth:x,rotation:w,textAlign:dA(d,s,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,a=vs(e.grid&&e.grid.z,-1),r=vs(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ku.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[a]===this.id&&(!e||d.type===e)&&r.push(d)}return r}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Ga(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hf{constructor(e,s,a){this.type=e,this.scope=s,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let a;pA(s)&&(a=this.register(s));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,fA(e,c,a),this.override&&_n.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,a=e.id,r=this.scope;a in s&&delete s[a],r&&a in _n[r]&&(delete _n[r][a],this.override&&delete Bc[a])}}function fA(t,e,s){const a=mh(Object.create(null),[s?_n.get(s):{},_n.get(e),t.defaults]);_n.set(e,a),t.defaultRoutes&&mA(e,t.defaultRoutes),t.descriptors&&_n.describe(e,t.descriptors)}function mA(t,e){Object.keys(e).forEach(s=>{const a=s.split("."),r=a.pop(),o=[t].concat(a).join("."),c=e[s].split("."),d=c.pop(),h=c.join(".");_n.route(o,r,h,d)})}function pA(t){return"id"in t&&"defaults"in t}class gA{constructor(){this.controllers=new Hf(G5,"datasets",!0),this.elements=new Hf(Ch,"elements"),this.plugins=new Hf(Object,"plugins"),this.scales=new Hf(Ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,a){[...s].forEach(r=>{const o=a||this._getRegistryForType(r);a||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):As(r,c=>{const d=a||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,s,a){const r=Wg(e);Ws(a["before"+r],[],a),s[e](a),Ws(a["after"+r],[],a)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const a=this._typedRegistries[s];if(a.isForType(e))return a}return this.plugins}_get(e,s,a){const r=s.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return r}}var ao=new gA;class xA{constructor(){this._init=[]}notify(e,s,a,r){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,s,a);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,s,a,r){r=r||{};for(const o of e){const c=o.plugin,d=c[a],h=[s,r,o.options];if(Ws(d,h,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Bs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const a=e&&e.config,r=vs(a.options&&a.options.plugins,{}),o=bA(a);return r===!1&&!s?[]:vA(e,o,r,s)}_notifyStateChanges(e){const s=this._oldCache||[],a=this._cache,r=(o,c)=>o.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(r(s,a),e,"stop"),this._notify(r(a,s),e,"start")}}function bA(t){const e={},s=[],a=Object.keys(ao.plugins.items);for(let o=0;o<a.length;o++)s.push(ao.getPlugin(a[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function yA(t,e){return!e&&t===!1?null:t===!0?{}:t}function vA(t,{plugins:e,localIds:s},a,r){const o=[],c=t.getContext();for(const d of e){const h=d.id,f=yA(a[h],r);f!==null&&o.push({plugin:d,options:wA(t.config,{plugin:d,local:s[h]},f,c)})}return o}function wA(t,{plugin:e,local:s},a,r){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(a,o);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pg(t,e){const s=_n.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function NA(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function jA(t,e){return t===e?"_index_":"_value_"}function L2(t){if(t==="x"||t==="y"||t==="r")return t}function SA(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gg(t,...e){if(L2(t))return t;for(const s of e){const a=s.axis||SA(s.position)||t.length>1&&L2(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function D2(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function _A(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(s.length)return D2(t,"x",s[0])||D2(t,"y",s[0])}return{}}function AA(t,e){const s=Bc[t.type]||{scales:{}},a=e.scales||{},r=pg(t.type,e),o=Object.create(null);return Object.keys(a).forEach(c=>{const d=a[c];if(!bs(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=gg(c,d,_A(c,t),_n.scales[d.type]),f=jA(h,r),p=s.scales||{};o[c]=ih(Object.create(null),[{axis:h},d,p[h],p[f]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,h=c.indexAxis||pg(d,e),p=(Bc[d]||{}).scales||{};Object.keys(p).forEach(x=>{const w=NA(x,h),y=c[w+"AxisID"]||w;o[y]=o[y]||Object.create(null),ih(o[y],[{axis:w},a[y],p[x]])})}),Object.keys(o).forEach(c=>{const d=o[c];ih(d,[_n.scales[d.type],_n.scale])}),o}function ew(t){const e=t.options||(t.options={});e.plugins=vs(e.plugins,{}),e.scales=AA(t,e)}function tw(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function CA(t){return t=t||{},t.data=tw(t.data),ew(t),t}const M2=new Map,sw=new Set;function $f(t,e){let s=M2.get(t);return s||(s=e(),M2.set(t,s),sw.add(s)),s}const Zd=(t,e,s)=>{const a=Iu(e,s);a!==void 0&&t.add(a)};class kA{constructor(e){this._config=CA(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=tw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ew(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $f(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return $f(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return $f(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,a=this.type;return $f(`${a}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const a=this._scopeCache;let r=a.get(e);return(!r||s)&&(r=new Map,a.set(e,r)),r}getOptionScopes(e,s,a){const{options:r,type:o}=this,c=this._cachedScopes(e,a),d=c.get(s);if(d)return d;const h=new Set;s.forEach(p=>{e&&(h.add(e),p.forEach(x=>Zd(h,e,x))),p.forEach(x=>Zd(h,r,x)),p.forEach(x=>Zd(h,Bc[o]||{},x)),p.forEach(x=>Zd(h,_n,x)),p.forEach(x=>Zd(h,mg,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),sw.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:e,type:s}=this;return[e,Bc[s]||{},_n.datasets[s]||{},{type:s},_n,mg]}resolveNamedOptions(e,s,a,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=F2(this._resolverCache,e,r);let h=c;if(LA(c,s)){o.$shared=!1,a=Hl(a)?a():a;const f=this.createResolver(e,a,d);h=zu(c,a,f)}for(const f of s)o[f]=h[f];return o}createResolver(e,s,a=[""],r){const{resolver:o}=F2(this._resolverCache,e,a);return bs(s)?zu(o,s,void 0,r):o}}function F2(t,e,s){let a=t.get(e);a||(a=new Map,t.set(e,a));const r=s.join();let o=a.get(r);return o||(o={resolver:Xg(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},a.set(r,o)),o}const EA=t=>bs(t)&&Object.getOwnPropertyNames(t).some(e=>Hl(t[e]));function LA(t,e){const{isScriptable:s,isIndexable:a}=U5(t);for(const r of e){const o=s(r),c=a(r),d=(c||o)&&t[r];if(o&&(Hl(d)||EA(d))||c&&Zn(d))return!0}return!1}var DA="4.5.0";const MA=["top","bottom","left","right","chartArea"];function O2(t,e){return t==="top"||t==="bottom"||MA.indexOf(t)===-1&&e==="x"}function T2(t,e){return function(s,a){return s[t]===a[t]?s[e]-a[e]:s[t]-a[t]}}function P2(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Ws(s&&s.onComplete,[t],e)}function FA(t){const e=t.chart,s=e.options.animation;Ws(s&&s.onProgress,[t],e)}function nw(t){return Jg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const um={},B2=t=>{const e=nw(t);return Object.values(um).filter(s=>s.canvas===e).pop()};function OA(t,e,s){const a=Object.keys(t);for(const r of a){const o=+r;if(o>=e){const c=t[r];delete t[r],(s>0||o>e)&&(t[o+s]=c)}}}function TA(t,e,s,a){return!s||t.type==="mouseout"?null:a?e:t}let Wm=class{static defaults=_n;static instances=um;static overrides=Bc;static registry=ao;static version=DA;static getChart=B2;static register(...e){ao.add(...e),R2()}static unregister(...e){ao.remove(...e),R2()}constructor(e,s){const a=this.config=new kA(s),r=nw(e),o=B2(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||J8(r)),this.platform.updateConfig(a);const d=this.platform.acquireContext(r,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=X6(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g_(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],um[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ro.listen(this,"complete",P2),Ro.listen(this,"progress",FA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:a,height:r,_aspectRatio:o}=this;return Bs(e)?s&&o?o:r?a/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ao}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():c2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return i2(this.canvas,this.ctx),this}stop(){return Ro.stop(this),this}resize(e,s){Ro.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const a=this.options,r=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,s,o),d=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,c2(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Ws(a.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};As(s,(a,r)=>{a.id=r})}buildOrUpdateScales(){const e=this.options,s=e.scales,a=this.scales,r=Object.keys(a).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],h=gg(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),As(o,c=>{const d=c.options,h=d.id,f=gg(h,d),p=vs(d.type,c.dtype);(d.position===void 0||O2(d.position,f)!==O2(c.dposition))&&(d.position=c.dposition),r[h]=!0;let x=null;if(h in a&&a[h].type===p)x=a[h];else{const w=ao.getScale(p);x=new w({id:h,type:p,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(d,e)}),As(r,(c,d)=>{c||delete a[d]}),As(a,c=>{Pl.configure(this,c,c.options),Pl.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,a=e.length;if(e.sort((r,o)=>r.index-o.index),a>s){for(let r=s;r<a;++r)this._destroyDatasetMeta(r);e.splice(s,a-s)}this._sortedMetasets=e.slice(0).sort(T2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((a,r)=>{s.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=s.length;a<r;a++){const o=s[a];let c=this.getDatasetMeta(a);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=d,c.indexAxis=o.indexAxis||pg(d,this.options),c.order=o.order||0,c.index=a,c.label=""+o.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const h=ao.getController(d),{datasetElementType:f,dataElementType:p}=_n.datasets[d];Object.assign(h,{dataElementType:ao.getElement(p),datasetElementType:f&&ao.getElement(f)}),c.controller=new h(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){As(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const a=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:x}=this.getDatasetMeta(f),w=!r&&o.indexOf(x)===-1;x.buildOrUpdateElements(w),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),r||As(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T2("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){As(this.scales,e=>{Pl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!K1(s,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:o}of s){const c=a==="_removeElements"?-o:o;OA(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,a=o=>new Set(e.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),r=a(0);for(let o=1;o<s;o++)if(!K1(r,a(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pl.update(this,this.width,this.height,e);const s=this.chartArea,a=s.width<=0||s.height<=0;this._layers=[],As(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,a=this.data.datasets.length;s<a;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,a=this.data.datasets.length;s<a;++s)this._updateDataset(s,Hl(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const a=this.getDatasetMeta(e),r={meta:a,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ro.has(this)?this.attached&&!Ro.running(this)&&Ro.start(this):(this.draw(),P2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,a=[];let r,o;for(r=0,o=s.length;r<o;++r){const c=s[r];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,a={meta:e,index:e.index,cancelable:!0},r=t8(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Yg(s,r),e.controller.draw(),r&&Kg(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return P5(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,a,r){const o=M8.modes[s];return typeof o=="function"?o(this,e,a,r):[]}getDatasetMeta(e){const s=this.data.datasets[e],a=this._metasets;let r=a.filter(o=>o&&o._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=Yu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!s.hidden}setDatasetVisibility(e,s){const a=this.getDatasetMeta(e);a.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,a){const r=a?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);ph(s)?(o.data[s].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(o,{visible:a}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ro.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),i2(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete um[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,a=(o,c)=>{s.addEventListener(this,o,c),e[o]=c},r=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};As(this.options.events,o=>a(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,a=(h,f)=>{s.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(s.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{r("attach",d),this.attached=!0,this.resize(),a("resize",o),a("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),a("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){As(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},As(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,a){const r=a?"set":"remove";let o,c,d,h;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){c=e[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],a=e.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!Nm(a,s)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,s))}notifyPlugins(e,s,a){return this._plugins.notify(this,e,s,a)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,a){const r=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=o(s,e),d=a?e:o(e,s);c.length&&this.updateHoverStyle(c,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,s){const a={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;const o=this._handleEvent(e,s,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(o||a.changed)&&this.render(),this}_handleEvent(e,s,a){const{_active:r=[],options:o}=this,c=s,d=this._getActiveElements(e,r,a,c),h=s_(e),f=TA(e,this._lastEvent,a,h);a&&(this._lastEvent=null,Ws(o.onHover,[e,d,this],this),h&&Ws(o.onClick,[e,d,this],this));const p=!Nm(d,r);return(p||s)&&(this._active=d,this._updateHoverStyles(d,r,s)),this._lastEvent=f,p}_getActiveElements(e,s,a,r){if(e.type==="mouseout")return[];if(!a)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function R2(){return As(Wm.instances,t=>t._plugins.invalidate())}function aw(t,e){const{x:s,y:a,base:r,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let d,h,f,p,x;return t.horizontal?(x=c/2,d=Math.min(s,r),h=Math.max(s,r),f=a-x,p=a+x):(x=o/2,d=s-x,h=s+x,f=Math.min(a,r),p=Math.max(a,r)),{left:d,top:f,right:h,bottom:p}}function Bl(t,e,s,a){return t?0:jr(e,s,a)}function PA(t,e,s){const a=t.options.borderWidth,r=t.borderSkipped,o=R5(a);return{t:Bl(r.top,o.top,0,s),r:Bl(r.right,o.right,0,e),b:Bl(r.bottom,o.bottom,0,s),l:Bl(r.left,o.left,0,e)}}function BA(t,e,s){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Ou(r),c=Math.min(e,s),d=t.borderSkipped,h=a||bs(r);return{topLeft:Bl(!h||d.top||d.left,o.topLeft,0,c),topRight:Bl(!h||d.top||d.right,o.topRight,0,c),bottomLeft:Bl(!h||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Bl(!h||d.bottom||d.right,o.bottomRight,0,c)}}function RA(t){const e=aw(t),s=e.right-e.left,a=e.bottom-e.top,r=PA(t,s/2,a/2),o=BA(t,s/2,a/2);return{outer:{x:e.left,y:e.top,w:s,h:a,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:s-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function jp(t,e,s,a){const r=e===null,o=s===null,d=t&&!(r&&o)&&aw(t,a);return d&&(r||Mu(e,d.left,d.right))&&(o||Mu(s,d.top,d.bottom))}function UA(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function IA(t,e){t.rect(e.x,e.y,e.w,e.h)}function Sp(t,e,s={}){const a=t.x!==s.x?-e:0,r=t.y!==s.y?-e:0,o=(t.x+t.w!==s.x+s.w?e:0)-a,c=(t.y+t.h!==s.y+s.h?e:0)-r;return{x:t.x+a,y:t.y+r,w:t.w+o,h:t.h+c,radius:t.radius}}class zA extends Ch{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:a,backgroundColor:r}}=this,{inner:o,outer:c}=RA(this),d=UA(c.radius)?Cm:IA;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),d(e,Sp(c,s,o)),e.clip(),d(e,Sp(o,-s,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),d(e,Sp(o,s)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,s,a){return jp(this,e,s,a)}inXRange(e,s){return jp(this,e,null,s)}inYRange(e,s){return jp(this,null,e,s)}getCenterPoint(e){const{x:s,y:a,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+r)/2:s,y:o?a:(a+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const U2=(t,e)=>{let{boxHeight:s=e,boxWidth:a=e}=t;return t.usePointStyle&&(s=Math.min(s,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(e,s)}},qA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class I2 extends Ch{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,a){this.maxWidth=e,this.maxHeight=s,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Ws(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(a=>e.filter(a,this.chart.data))),e.sort&&(s=s.sort((a,r)=>e.sort(a,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,r=Ga(a.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=U2(a,o);let f,p;s.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,r,d,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,s,a,r){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+d;let x=e;o.textAlign="left",o.textBaseline="middle";let w=-1,y=-p;return this.legendItems.forEach((j,_)=>{const C=a+s/2+o.measureText(j.text).width;(_===0||f[f.length-1]+C+2*d>c)&&(x+=p,f[f.length-(_>0?0:1)]=0,y+=p,w++),h[_]={left:0,top:y,row:w,width:C,height:r},f[f.length-1]+=C+d}),x}_fitCols(e,s,a,r){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-e;let x=d,w=0,y=0,j=0,_=0;return this.legendItems.forEach((C,S)=>{const{itemWidth:L,itemHeight:E}=HA(a,s,o,C,r);S>0&&y+E+2*d>p&&(x+=w+d,f.push({width:w,height:y}),j+=w+d,_++,w=y=0),h[S]={left:j,top:y,col:_,width:L,height:E},w=Math.max(w,L),y+=E+d}),x+=w,f.push({width:w,height:y}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:a,labels:{padding:r},rtl:o}}=this,c=Tu(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=xi(a,this.left+r,this.right-this.lineWidths[d]);for(const f of s)d!==f.row&&(d=f.row,h=xi(a,this.left+r,this.right-this.lineWidths[d])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+r}else{let d=0,h=xi(a,this.top+e+r,this.bottom-this.columnSizes[d].height);for(const f of s)f.col!==d&&(d=f.col,h=xi(a,this.top+e+r,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yg(e,this),this._draw(),Kg(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:a,ctx:r}=this,{align:o,labels:c}=e,d=_n.color,h=Tu(e.rtl,this.left,this.width),f=Ga(c.font),{padding:p}=c,x=f.size,w=x/2;let y;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:j,boxHeight:_,itemHeight:C}=U2(c,x),S=function(ae,G,U){if(isNaN(j)||j<=0||isNaN(_)||_<0)return;r.save();const I=vs(U.lineWidth,1);if(r.fillStyle=vs(U.fillStyle,d),r.lineCap=vs(U.lineCap,"butt"),r.lineDashOffset=vs(U.lineDashOffset,0),r.lineJoin=vs(U.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=vs(U.strokeStyle,d),r.setLineDash(vs(U.lineDash,[])),c.usePointStyle){const ee={radius:_*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:I},T=h.xPlus(ae,j/2),F=G+w;T5(r,ee,T,F,c.pointStyleWidth&&j)}else{const ee=G+Math.max((x-_)/2,0),T=h.leftForLtr(ae,j),F=Ou(U.borderRadius);r.beginPath(),Object.values(F).some(Z=>Z!==0)?Cm(r,{x:T,y:ee,w:j,h:_,radius:F}):r.rect(T,ee,j,_),r.fill(),I!==0&&r.stroke()}r.restore()},L=function(ae,G,U){Am(r,U.text,ae,G+C/2,f,{strikethrough:U.hidden,textAlign:h.textAlign(U.textAlign)})},E=this.isHorizontal(),P=this._computeTitleHeight();E?y={x:xi(o,this.left+p,this.right-a[0]),y:this.top+p+P,line:0}:y={x:this.left+p,y:xi(o,this.top+P+p,this.bottom-s[0].height),line:0},H5(this.ctx,e.textDirection);const V=C+p;this.legendItems.forEach((ae,G)=>{r.strokeStyle=ae.fontColor,r.fillStyle=ae.fontColor;const U=r.measureText(ae.text).width,I=h.textAlign(ae.textAlign||(ae.textAlign=c.textAlign)),ee=j+w+U;let T=y.x,F=y.y;h.setWidth(this.width),E?G>0&&T+ee+p>this.right&&(F=y.y+=V,y.line++,T=y.x=xi(o,this.left+p,this.right-a[y.line])):G>0&&F+V>this.bottom&&(T=y.x=T+s[y.line].width+p,y.line++,F=y.y=xi(o,this.top+P+p,this.bottom-s[y.line].height));const Z=h.x(T);if(S(Z,F,ae),T=x_(I,T+j+w,E?T+ee:this.right,e.rtl),L(h.x(T),F,ae),E)y.x+=ee+p;else if(typeof ae.text!="string"){const K=f.lineHeight;y.y+=iw(ae,K)+p}else y.y+=V}),$5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,a=Ga(s.font),r=_r(s.padding);if(!s.display)return;const o=Tu(e.rtl,this.left,this.width),c=this.ctx,d=s.position,h=a.size/2,f=r.top+h;let p,x=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,x=xi(e.align,x,this.right-w);else{const j=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);p=f+xi(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const y=xi(d,x,x+w);c.textAlign=o.textAlign(D5(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=a.string,Am(c,s.text,y,p,a)}_computeTitleHeight(){const e=this.options.title,s=Ga(e.font),a=_r(e.padding);return e.display?s.lineHeight+a.height:0}_getLegendItemAt(e,s){let a,r,o;if(Mu(e,this.left,this.right)&&Mu(s,this.top,this.bottom)){for(o=this.legendHitBoxes,a=0;a<o.length;++a)if(r=o[a],Mu(e,r.left,r.left+r.width)&&Mu(s,r.top,r.top+r.height))return this.legendItems[a]}return null}handleEvent(e){const s=this.options;if(!WA(e.type,s))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=qA(r,a);r&&!o&&Ws(s.onLeave,[e,r,this],this),this._hoveredItem=a,a&&!o&&Ws(s.onHover,[e,a,this],this)}else a&&Ws(s.onClick,[e,a,this],this)}}function HA(t,e,s,a,r){const o=$A(a,t,e,s),c=VA(r,a,e.lineHeight);return{itemWidth:o,itemHeight:c}}function $A(t,e,s,a){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+s.size/2+a.measureText(r).width}function VA(t,e,s){let a=t;return typeof e.text!="string"&&(a=iw(e,s)),a}function iw(t,e){const s=t.text?t.text.length:0;return e*s}function WA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var GA={id:"legend",_element:I2,start(t,e,s){const a=t.legend=new I2({ctx:t.ctx,options:s,chart:t});Pl.configure(t,a,s),Pl.addBox(t,a)},stop(t){Pl.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const a=t.legend;Pl.configure(t,a,s),a.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const a=e.datasetIndex,r=s.chart;r.isDatasetVisible(a)?(r.hide(a),e.hidden=!0):(r.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:r,color:o,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),p=_r(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:a||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const ah={average(t){if(!t.length)return!1;let e,s,a=new Set,r=0,o=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();a.add(h.x),r+=h.y,++o}}return o===0||a.size===0?!1:{x:[...a].reduce((d,h)=>d+h)/a.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let s=e.x,a=e.y,r=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=t.length;o<c;++o){const h=t[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=u_(e,f);p<r&&(r=p,d=h)}}if(d){const h=d.tooltipPosition();s=h.x,a=h.y}return{x:s,y:a}}};function so(t,e){return e&&(Zn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Uo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YA(t,e){const{element:s,datasetIndex:a,index:r}=e,o=t.getDatasetMeta(a).controller,{label:c,value:d}=o.getLabelAndValue(r);return{chart:t,label:c,parsed:o.getParsed(r),raw:t.data.datasets[a].data[r],formattedValue:d,dataset:o.getDataset(),dataIndex:r,datasetIndex:a,element:s}}function z2(t,e){const s=t.chart.ctx,{body:a,footer:r,title:o}=t,{boxWidth:c,boxHeight:d}=e,h=Ga(e.bodyFont),f=Ga(e.titleFont),p=Ga(e.footerFont),x=o.length,w=r.length,y=a.length,j=_r(e.padding);let _=j.height,C=0,S=a.reduce((P,V)=>P+V.before.length+V.lines.length+V.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,x&&(_+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),S){const P=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;_+=y*P+(S-y)*h.lineHeight+(S-1)*e.bodySpacing}w&&(_+=e.footerMarginTop+w*p.lineHeight+(w-1)*e.footerSpacing);let L=0;const E=function(P){C=Math.max(C,s.measureText(P).width+L)};return s.save(),s.font=f.string,As(t.title,E),s.font=h.string,As(t.beforeBody.concat(t.afterBody),E),L=e.displayColors?c+2+e.boxPadding:0,As(a,P=>{As(P.before,E),As(P.lines,E),As(P.after,E)}),L=0,s.font=p.string,As(t.footer,E),s.restore(),C+=j.width,{width:C,height:_}}function KA(t,e){const{y:s,height:a}=e;return s<a/2?"top":s>t.height-a/2?"bottom":"center"}function XA(t,e,s,a){const{x:r,width:o}=a,c=s.caretSize+s.caretPadding;if(t==="left"&&r+o+c>e.width||t==="right"&&r-o-c<0)return!0}function QA(t,e,s,a){const{x:r,width:o}=s,{width:c,chartArea:{left:d,right:h}}=t;let f="center";return a==="center"?f=r<=(d+h)/2?"left":"right":r<=o/2?f="left":r>=c-o/2&&(f="right"),XA(f,t,e,s)&&(f="center"),f}function q2(t,e,s){const a=s.yAlign||e.yAlign||KA(t,s);return{xAlign:s.xAlign||e.xAlign||QA(t,e,s,a),yAlign:a}}function ZA(t,e){let{x:s,width:a}=t;return e==="right"?s-=a:e==="center"&&(s-=a/2),s}function JA(t,e,s){let{y:a,height:r}=t;return e==="top"?a+=s:e==="bottom"?a-=r+s:a-=r/2,a}function H2(t,e,s,a){const{caretSize:r,caretPadding:o,cornerRadius:c}=t,{xAlign:d,yAlign:h}=s,f=r+o,{topLeft:p,topRight:x,bottomLeft:w,bottomRight:y}=Ou(c);let j=ZA(e,d);const _=JA(e,h,f);return h==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(p,w)+r:d==="right"&&(j+=Math.max(x,y)+r),{x:jr(j,0,a.width-e.width),y:jr(_,0,a.height-e.height)}}function Vf(t,e,s){const a=_r(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function $2(t){return so([],Uo(t))}function eC(t,e,s){return Yu(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function V2(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const rw={beforeTitle:To,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,a=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return s[e.dataIndex]}return""},afterTitle:To,beforeBody:To,beforeLabel:To,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Bs(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:To,afterBody:To,beforeFooter:To,footer:To,afterFooter:To};function $a(t,e,s,a){const r=t[e].call(s,a);return typeof r>"u"?rw[e].call(s,a):r}class W2 extends Ch{static positioners=ah;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&s.options.animation&&a.animations,o=new V5(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=eC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,r=$a(a,"beforeTitle",this,e),o=$a(a,"title",this,e),c=$a(a,"afterTitle",this,e);let d=[];return d=so(d,Uo(r)),d=so(d,Uo(o)),d=so(d,Uo(c)),d}getBeforeBody(e,s){return $2($a(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:a}=s,r=[];return As(e,o=>{const c={before:[],lines:[],after:[]},d=V2(a,o);so(c.before,Uo($a(d,"beforeLabel",this,o))),so(c.lines,$a(d,"label",this,o)),so(c.after,Uo($a(d,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,s){return $2($a(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:a}=s,r=$a(a,"beforeFooter",this,e),o=$a(a,"footer",this,e),c=$a(a,"afterFooter",this,e);let d=[];return d=so(d,Uo(r)),d=so(d,Uo(o)),d=so(d,Uo(c)),d}_createItems(e){const s=this._active,a=this.chart.data,r=[],o=[],c=[];let d=[],h,f;for(h=0,f=s.length;h<f;++h)d.push(YA(this.chart,s[h]));return e.filter&&(d=d.filter((p,x,w)=>e.filter(p,x,w,a))),e.itemSort&&(d=d.sort((p,x)=>e.itemSort(p,x,a))),As(d,p=>{const x=V2(e.callbacks,p);r.push($a(x,"labelColor",this,p)),o.push($a(x,"labelPointStyle",this,p)),c.push($a(x,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(e,s){const a=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const d=ah[a.position].call(this,r,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const h=this._size=z2(this,a),f=Object.assign({},d,h),p=q2(this.chart,a,f),x=H2(a,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,a,r){const o=this.getCaretPosition(e,a,r);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,a){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:d}=a,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=Ou(d),{x:w,y}=e,{width:j,height:_}=s;let C,S,L,E,P,V;return o==="center"?(P=y+_/2,r==="left"?(C=w,S=C-c,E=P+c,V=P-c):(C=w+j,S=C+c,E=P-c,V=P+c),L=C):(r==="left"?S=w+Math.max(h,p)+c:r==="right"?S=w+j-Math.max(f,x)-c:S=this.caretX,o==="top"?(E=y,P=E-c,C=S-c,L=S+c):(E=y+_,P=E+c,C=S+c,L=S-c),V=E),{x1:C,x2:S,x3:L,y1:E,y2:P,y3:V}}drawTitle(e,s,a){const r=this.title,o=r.length;let c,d,h;if(o){const f=Tu(a.rtl,this.x,this.width);for(e.x=Vf(this,a.titleAlign,a),s.textAlign=f.textAlign(a.titleAlign),s.textBaseline="middle",c=Ga(a.titleFont),d=a.titleSpacing,s.fillStyle=a.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(r[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,h+1===o&&(e.y+=a.titleMarginBottom-d)}}_drawColorBox(e,s,a,r,o){const c=this.labelColors[a],d=this.labelPointStyles[a],{boxHeight:h,boxWidth:f}=o,p=Ga(o.bodyFont),x=Vf(this,"left",o),w=r.x(x),y=h<p.lineHeight?(p.lineHeight-h)/2:0,j=s.y+y;if(o.usePointStyle){const _={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},C=r.leftForLtr(w,f)+f/2,S=j+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,r2(e,_,C,S),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,r2(e,_,C,S)}else{e.lineWidth=bs(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const _=r.leftForLtr(w,f),C=r.leftForLtr(r.xPlus(w,1),f-2),S=Ou(c.borderRadius);Object.values(S).some(L=>L!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Cm(e,{x:_,y:j,w:f,h,radius:S}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Cm(e,{x:C,y:j+1,w:f-2,h:h-2,radius:S}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,j,f,h),e.strokeRect(_,j,f,h),e.fillStyle=c.backgroundColor,e.fillRect(C,j+1,f-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=a,x=Ga(a.bodyFont);let w=x.lineHeight,y=0;const j=Tu(a.rtl,this.x,this.width),_=function(U){s.fillText(U,j.x(e.x+y),e.y+w/2),e.y+=w+o},C=j.textAlign(c);let S,L,E,P,V,ae,G;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=Vf(this,C,a),s.fillStyle=a.bodyColor,As(this.beforeBody,_),y=d&&C!=="right"?c==="center"?f/2+p:f+2+p:0,P=0,ae=r.length;P<ae;++P){for(S=r[P],L=this.labelTextColors[P],s.fillStyle=L,As(S.before,_),E=S.lines,d&&E.length&&(this._drawColorBox(s,e,P,j,a),w=Math.max(x.lineHeight,h)),V=0,G=E.length;V<G;++V)_(E[V]),w=x.lineHeight;As(S.after,_)}y=0,w=x.lineHeight,As(this.afterBody,_),e.y-=o}drawFooter(e,s,a){const r=this.footer,o=r.length;let c,d;if(o){const h=Tu(a.rtl,this.x,this.width);for(e.x=Vf(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=h.textAlign(a.footerAlign),s.textBaseline="middle",c=Ga(a.footerFont),s.fillStyle=a.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(r[d],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,s,a,r){const{xAlign:o,yAlign:c}=this,{x:d,y:h}=e,{width:f,height:p}=a,{topLeft:x,topRight:w,bottomLeft:y,bottomRight:j}=Ou(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(d+x,h),c==="top"&&this.drawCaret(e,s,a,r),s.lineTo(d+f-w,h),s.quadraticCurveTo(d+f,h,d+f,h+w),c==="center"&&o==="right"&&this.drawCaret(e,s,a,r),s.lineTo(d+f,h+p-j),s.quadraticCurveTo(d+f,h+p,d+f-j,h+p),c==="bottom"&&this.drawCaret(e,s,a,r),s.lineTo(d+y,h+p),s.quadraticCurveTo(d,h+p,d,h+p-y),c==="center"&&o==="left"&&this.drawCaret(e,s,a,r),s.lineTo(d,h+x),s.quadraticCurveTo(d,h,d+x,h),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,a=this.$animations,r=a&&a.x,o=a&&a.y;if(r||o){const c=ah[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=z2(this,e),h=Object.assign({},c,this._size),f=q2(s,e,h),p=H2(e,h,f,s);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=_r(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=a,this.drawBackground(o,e,r,s),H5(e,s.textDirection),o.y+=c.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),$5(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,r=e.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),o=!Nm(a,r),c=this._positionChanged(r,s);(o||c)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,a=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,s,a),d=this._positionChanged(c,e),h=s||!Nm(c,o)||d;return h&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_getActiveElements(e,s,a,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,a);return o.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:a,caretY:r,options:o}=this,c=ah[o.position].call(this,e,s);return c!==!1&&(a!==c.x||r!==c.y)}}var tC={id:"tooltip",_element:W2,positioners:ah,afterInit(t,e,s){s&&(t.tooltip=new W2({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sC=(t,e,s,a)=>(typeof e=="string"?(s=t.push(e)-1,a.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function nC(t,e,s,a){const r=t.indexOf(e);if(r===-1)return sC(t,e,s,a);const o=t.lastIndexOf(e);return r!==o?s:r}const aC=(t,e)=>t===null?null:jr(Math.round(t),0,e);function G2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class iC extends Ku{static id="category";static defaults={ticks:{callback:G2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const a=this.getLabels();for(const{index:r,label:o}of s)a[r]===o&&a.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Bs(e))return null;const a=this.getLabels();return s=isFinite(s)&&a[s]===e?s:nC(a,e,vs(s,e),this._addedLabels),aC(s,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),s||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const e=this.min,s=this.max,a=this.options.offset,r=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=s;c++)r.push({value:c});return r}getLabelForValue(e){return G2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function rC(t,e){const s=[],{bounds:r,step:o,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:x,includeBounds:w}=t,y=o||1,j=p-1,{min:_,max:C}=e,S=!Bs(c),L=!Bs(d),E=!Bs(f),P=(C-_)/(x+1);let V=Q1((C-_)/j/y)*y,ae,G,U,I;if(V<1e-14&&!S&&!L)return[{value:_},{value:C}];I=Math.ceil(C/V)-Math.floor(_/V),I>j&&(V=Q1(I*V/j/y)*y),Bs(h)||(ae=Math.pow(10,h),V=Math.ceil(V*ae)/ae),r==="ticks"?(G=Math.floor(_/V)*V,U=Math.ceil(C/V)*V):(G=_,U=C),S&&L&&o&&r_((d-c)/o,V/1e3)?(I=Math.round(Math.min((d-c)/V,p)),V=(d-c)/I,G=c,U=d):E?(G=S?c:G,U=L?d:U,I=f-1,V=(U-G)/I):(I=(U-G)/V,lm(I,Math.round(I),V/1e3)?I=Math.round(I):I=Math.ceil(I));const ee=Math.max(Z1(V),Z1(G));ae=Math.pow(10,Bs(h)?ee:h),G=Math.round(G*ae)/ae,U=Math.round(U*ae)/ae;let T=0;for(S&&(w&&G!==c?(s.push({value:c}),G<c&&T++,lm(Math.round((G+T*V)*ae)/ae,c,Y2(c,P,t))&&T++):G<c&&T++);T<I;++T){const F=Math.round((G+T*V)*ae)/ae;if(L&&F>d)break;s.push({value:F})}return L&&w&&U!==d?s.length&&lm(s[s.length-1].value,d,Y2(d,P,t))?s[s.length-1].value=d:s.push({value:d}):(!L||U===d)&&s.push({value:U}),s}function Y2(t,e,{horizontal:s,minRotation:a}){const r=Lc(a),o=(s?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class oC extends Ku{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Bs(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:r,max:o}=this;const c=h=>r=s?r:h,d=h=>o=a?o:h;if(e){const h=ql(r),f=ql(o);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);d(o+h),e||c(r-h)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:a}=e,r;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=rC(r,o);return e.bounds==="ticks"&&o_(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const r=(a-s)/Math.max(e.length-1,1)/2;s-=r,a+=r}this._startValue=s,this._endValue=a,this._valueRange=a-s}getLabelForValue(e){return F5(e,this.chart.options.locale,this.options.ticks.format)}}class lC extends oC{static id="linear";static defaults={ticks:{callback:O5.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Xi(e)?e:0,this.max=Xi(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,a=Lc(this.options.ticks.minRotation),r=(e?Math.sin(a):Math.cos(a))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Gm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wa=Object.keys(Gm);function K2(t,e){return t-e}function X2(t,e){if(Bs(e))return null;const s=t._adapter,{parser:a,round:r,isoWeekday:o}=t._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),Xi(c)||(c=typeof a=="string"?s.parse(c,a):s.parse(c)),c===null?null:(r&&(c=r==="week"&&(_m(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,r)),+c)}function Q2(t,e,s,a){const r=Wa.length;for(let o=Wa.indexOf(t);o<r-1;++o){const c=Gm[Wa[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(d*c.size))<=a)return Wa[o]}return Wa[r-1]}function cC(t,e,s,a,r){for(let o=Wa.length-1;o>=Wa.indexOf(s);o--){const c=Wa[o];if(Gm[c].common&&t._adapter.diff(r,a,c)>=e-1)return c}return Wa[s?Wa.indexOf(s):0]}function uC(t){for(let e=Wa.indexOf(t)+1,s=Wa.length;e<s;++e)if(Gm[Wa[e]].common)return Wa[e]}function Z2(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:a,hi:r}=Gg(s,e),o=s[a]>=e?s[a]:s[r];t[o]=!0}}function dC(t,e,s,a){const r=t._adapter,o=+r.startOf(e[0].value,a),c=e[e.length-1].value;let d,h;for(d=o;d<=c;d=+r.add(d,1,a))h=s[d],h>=0&&(e[h].major=!0);return e}function J2(t,e,s){const a=[],r={},o=e.length;let c,d;for(c=0;c<o;++c)d=e[c],r[d]=c,a.push({value:d,major:!1});return o===0||!s?a:dC(t,a,r,s)}class ey extends Ku{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const a=e.time||(e.time={}),r=this._adapter=new C8._date(e.adapters.date);r.init(s),ih(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:X2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!d&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Xi(r)&&!isNaN(r)?r:+s.startOf(Date.now(),a),o=Xi(o)&&!isNaN(o)?o:+s.endOf(Date.now(),a)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,d=m_(r,o,c);return this._unit=s.unit||(a.autoSkip?Q2(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):cC(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:uC(this._unit),this.initOffsets(r),e.reverse&&d.reverse(),J2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,a=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?s=1-r:s=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?a=o:a=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=jr(s,0,c),a=jr(a,0,c),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,r=this.options,o=r.time,c=o.unit||Q2(o.minUnit,s,a,this._getLabelCapacity(s)),d=vs(r.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=_m(h)||h===!0,p={};let x=s,w,y;if(f&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,f?"day":c),e.diff(a,s,c)>1e5*d)throw new Error(s+" and "+a+" are too far apart with stepSize of "+d+" "+c);const j=r.ticks.source==="data"&&this.getDataTimestamps();for(w=x,y=0;w<a;w=+e.add(w,d,c),y++)Z2(p,w,j);return(w===a||r.bounds==="ticks"||y===1)&&Z2(p,w,j),Object.keys(p).sort(K2).map(_=>+_)}getLabelForValue(e){const s=this._adapter,a=this.options.time;return a.tooltipFormat?s.format(e,a.tooltipFormat):s.format(e,a.displayFormats.datetime)}format(e,s){const r=this.options.time.displayFormats,o=this._unit,c=s||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,s,a,r){const o=this.options,c=o.ticks.callback;if(c)return Ws(c,[e,s,a],this);const d=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],x=f&&d[f],w=a[s],y=f&&x&&w&&w.major;return this._adapter.format(e,r||(y?x:p))}generateTickLabels(e){let s,a,r;for(s=0,a=e.length;s<a;++s)r=e[s],r.label=this._tickFormatFunction(r.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,r=Lc(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(r),c=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:a*o+d*c,h:a*c+d*o}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,r=a[s.unit]||a.millisecond,o=this._tickFormatFunction(e,0,J2(this,[e],this._majorUnit),r),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,a;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,a=r.length;s<a;++s)e=e.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const r=this.getLabels();for(s=0,a=r.length;s<a;++s)e.push(X2(this,r[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return k5(e.sort(K2))}}function Wf(t,e,s){let a=0,r=t.length-1,o,c,d,h;s?(e>=t[a].pos&&e<=t[r].pos&&({lo:a,hi:r}=fg(t,"pos",e)),{pos:o,time:d}=t[a],{pos:c,time:h}=t[r]):(e>=t[a].time&&e<=t[r].time&&({lo:a,hi:r}=fg(t,"time",e)),{time:o,pos:d}=t[a],{time:c,pos:h}=t[r]);const f=c-o;return f?d+(h-d)*(e-o)/f:d}class fM extends ey{static id="timeseries";static defaults=ey.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Wf(s,this.min),this._tableRange=Wf(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:a}=this,r=[],o=[];let c,d,h,f,p;for(c=0,d=e.length;c<d;++c)f=e[c],f>=s&&f<=a&&r.push(f);if(r.length<2)return[{time:s,pos:0},{time:a,pos:1}];for(c=0,d=r.length;c<d;++c)p=r[c+1],h=r[c-1],f=r[c],Math.round((p+h)/2)!==f&&o.push({time:f,pos:c/(d-1)});return o}_generate(){const e=this.min,s=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(s)||a.length===1)&&a.push(s),a.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),a=this.getLabelTimestamps();return s.length&&a.length?e=this.normalize(s.concat(a)):e=s.length?s:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Wf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return Wf(this._table,a*this._tableRange+this._minPos,!0)}}const ow="label";function ty(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hC(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function lw(t,e){t.labels=e}function cw(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ow;const a=[];t.datasets=e.map(r=>{const o=t.datasets.find(c=>c[s]===r[s]);return!o||!r.data||a.includes(o)?{...r}:(a.push(o),Object.assign(o,r),o)})}function fC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ow;const s={labels:[],datasets:[]};return lw(s,t.labels),cw(s,t.datasets,e),s}function mC(t,e){const{height:s=150,width:a=300,redraw:r=!1,datasetIdKey:o,type:c,data:d,options:h,plugins:f=[],fallbackContent:p,updateMode:x,...w}=t,y=O.useRef(null),j=O.useRef(null),_=()=>{y.current&&(j.current=new Wm(y.current,{type:c,data:fC(d,o),options:h&&{...h},plugins:f}),ty(e,j.current))},C=()=>{ty(e,null),j.current&&(j.current.destroy(),j.current=null)};return O.useEffect(()=>{!r&&j.current&&h&&hC(j.current,h)},[r,h]),O.useEffect(()=>{!r&&j.current&&lw(j.current.config.data,d.labels)},[r,d.labels]),O.useEffect(()=>{!r&&j.current&&d.datasets&&cw(j.current.config.data,d.datasets,o)},[r,d.datasets]),O.useEffect(()=>{j.current&&(r?(C(),setTimeout(_)):j.current.update(x))},[r,h,d.labels,d.datasets,x]),O.useEffect(()=>{j.current&&(C(),setTimeout(_))},[c]),O.useEffect(()=>(_(),()=>C()),[]),yi.createElement("canvas",{ref:y,role:"img",height:s,width:a,...w},p)}const pC=O.forwardRef(mC);function gC(t,e){return Wm.register(e),O.forwardRef((s,a)=>yi.createElement(pC,{...s,ref:a,type:t}))}const xC=gC("bar",A8);Wm.register(zA,iC,lC,GA,tC);const bC=t=>{if(!t||!Array.isArray(t.datasets))return 1600;let e=0;return t.datasets.forEach(s=>{const a=Math.max(...s.data.map(r=>Number(r)));a>e&&(e=a)}),Math.ceil((e+100)/500)*100||500},sy=()=>{const t=Xt.get("token"),{data:e,isLoading:s,isError:a}=Qt({queryKey:["admin-dashboard"],queryFn:()=>C6(t||""),enabled:!!t}),r="https://troosolar.hmstech.org",o=e?.data?.counts?[{title:"Total Users",value:String(e.data.counts.total_users),color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:String(e.data.counts.total_loans),color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:String(e.data.counts.total_orders),color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:`${e.data.counts.loan_amount}`,color:"text-green-600",icon:"/assets/images/loans.png"}]:N6,c=e?.data?.chart?{labels:e.data.chart.map(x=>x.month),datasets:[{label:"Approved loans",data:e.data.chart.map(x=>Number(x.approved_loan)),backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:e.data.chart.map(x=>Number(x.pending_loan)),backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:e.data.chart.map(x=>Number(x.overdue_loan)),backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:e.data.chart.map(x=>Number(x.orders)),backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]}:w6,d=bC(c),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",align:"start",labels:{boxWidth:12,boxHeight:12,padding:15,font:{size:12}}}},layout:{padding:{bottom:10,top:10,left:10,right:10}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},y:{beginAtZero:!0,max:d,grid:{display:!1},ticks:{font:{size:12},stepSize:500,callback:function(x){return x===0?"0":x}}}}},f=e?.data?.latest_orders?e.data.latest_orders.slice(0,3).map(x=>({name:x.product,price:`${x.total_price}`,user:x.customer,image:`${r}${x.product_image}`})):[],p=e?.data?.latest_users?e.data.latest_users.slice(0,3).map(x=>({id:x.user_id,name:x.name,email:x.email,phone:x.phone,bvn:"",date:x.created_at})):[];return console.log("latestUsers",p),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),s?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading dashboard..."}):a?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load dashboard data."}):n.jsx(S6,{stats:o}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"bg-white shadow-md rounded-lg p-4 lg:col-span-7",style:{height:420},children:c&&Array.isArray(c.labels)&&Array.isArray(c.datasets)?n.jsx("div",{style:{height:"380px"},children:n.jsx(xC,{data:c,options:h})}):n.jsx("div",{className:"text-center text-gray-400",children:"Chart data not available"})}),n.jsx("div",{className:"lg:col-span-5",style:{height:480},children:n.jsx(_6,{orders:f})})]}),n.jsx(A6,{users:p})]})]})},yC=[{id:"1",name:"Germandon Abudu",email:"abcde1@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"2",name:"Chiara Lawson",email:"abcde2@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"3",name:"Anita Becker",email:"abcde3@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"4",name:"Rasheedat Bello",email:"abcde4@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"5",name:"Adewale Ade",email:"abcde5@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"6",name:"Janet Ariel",email:"abcde6@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"}],uw=[{label:"Total Users",value:500,icon:"/assets/images/Users.png"},{label:"New Users",value:100,icon:"/assets/images/Users.png"},{label:"Users with Loans",value:20,icon:"/assets/images/Users.png"}],vC=({onNotificationClick:t})=>n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),wC=({stats:t,isLoading:e=!1})=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("img",{src:s.icon,alt:s.label,className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:s.label}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:s.value})]})]},a))}),NC=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:s,setShowMoreActionsDropdown:a,showSortByDropdown:r,setShowSortByDropdown:o,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:y=""})=>{const[j,_]=O.useState(y);O.useEffect(()=>{_(y)},[y]);const C=L=>{_(L.target.value),x&&x(L.target.value),w&&w(c)},S=L=>{d(L),a(!1),w&&w(L)};return n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"relative",ref:t,children:[n.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!s),o(!1)},children:[n.jsx("span",{children:c}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s&&n.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1 ",children:[n.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("More Actions"),children:"More Actions"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("Active"),children:"Active"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("Inactive"),children:"Inactive"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{p(!0)},children:"Add new user"})]})})]}),n.jsxs("div",{className:"relative",ref:e,children:[n.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{o(!r),a(!1)},children:[n.jsx("span",{children:h}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Sort By"),children:"Sort By"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Alphabetically"),children:"Alphabetically"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Date Registered"),children:"Date Registered"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Active Users"),children:"Active Users"})]})})]})]}),n.jsxs("div",{className:"flex gap-3 mb-3",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-semibold",onClick:()=>p(!0),children:"Add new user"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:j,onChange:C,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})]})]})},jC=({users:t,dotsDropdownRefs:e,openDropdownIndex:s,setOpenDropdownIndex:a,navigate:r})=>n.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No users found."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((o,c)=>n.jsxs("tr",{className:`${c%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"p-4 text-center font-medium",children:o.name}),n.jsx("td",{className:"p-4 text-center text-black",children:o.email}),n.jsx("td",{className:"p-4 text-center text-black",children:o.phone}),n.jsx("td",{className:"p-4 text-center text-black",children:o.bvn}),n.jsx("td",{className:"p-4 text-center text-black",children:o.date}),n.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{r(`/user-activity/${o.id}`)},children:"View Details"}),n.jsxs("div",{className:"relative ml-2.5",ref:d=>{e.current[c]=d},children:[n.jsx("img",{className:"cursor-pointer",src:lt.dots,alt:"",onClick:()=>{a(s===c?null:c)}}),s===c&&n.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${o.id}/loans`),a(null)},children:"View Loans"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${o.id}/transactions`),a(null)},children:"View Transactions"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${o.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},c))})]})}),dw=async(t,e)=>await ht(ft.ADMIN.AddUser,"POST",t,e),SC=async(t,e,s)=>await ht(ft.ADMIN.EditUser(t),"POST",e,s),_C=async(t,e)=>await ht(ft.ADMIN.UpdateUser,"POST",t,e),AC=({setShowAddModal:t,onUserAdded:e,newUser:s,handleInputChange:a})=>{const[r,o]=O.useState(""),[c,d]=O.useState(!1),h=Xt.get("token"),f=hs({mutationFn:w=>dw(w,h||""),onSuccess:()=>{o(""),d(!1),t(!1),a({target:{name:"name",value:""}}),a({target:{name:"email",value:""}}),a({target:{name:"phone",value:""}}),a({target:{name:"bvn",value:""}}),e&&e()},onError:w=>{console.log("Add User Error:",w);let y="Failed to add user. Please try again.";if(w&&typeof w=="object"&&"message"in w){const j=w;y=j.message||y,j.data&&typeof j.data=="object"&&(j.data.message?y=j.data.message:j.data.error?y=j.data.error:j.data.errors&&Array.isArray(j.data.errors)&&(y=j.data.errors.join(", ")))}console.log("Final error message:",y),o(y),d(!0)}}),p=w=>{if(w.preventDefault(),o(""),d(!1),!s.name||!s.email||!s.phone||!s.bvn||!s.password){o("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){o("Please enter a valid email address");return}f.mutate({first_name:s.name,email:s.email,phone:s.phone,bvn:s.bvn,password:s.password})},x=s.name&&s.email&&s.phone&&s.bvn&&s.password;return n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{o(""),d(!1),t(!1)}}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New User"}),n.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{o(""),d(!1),t(!1)},children:n.jsx("img",{src:lt.cross,alt:"",className:"w-8 h-8"})})]}),r&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:n.jsx("p",{className:"font-medium",children:r})}),n.jsxs("form",{onSubmit:p,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:s.name,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:s.email,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:s.password,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:s.phone,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:s.bvn,onChange:a})]}),n.jsx("button",{type:"submit",disabled:!x||f.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${x&&!f.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:f.isPending?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]})},hw=async t=>await ht(ft.ADMIN.UsersList,"GET",void 0,t),fw=async(t,e)=>await ht(ft.ADMIN.UserShow(t),"GET",void 0,e),CC=()=>{const t=wi(),e=$o(),[s,a]=O.useState(!1),[r]=O.useState(yC),[o,c]=O.useState(!1),[d,h]=O.useState(!1),[f,p]=O.useState("Sort By"),[x,w]=O.useState(null),y=O.useRef(null),j=O.useRef(null),_=O.useRef([]),[C,S]=O.useState({name:"",email:"",phone:"",bvn:"",password:""}),L=Xt.get("token"),{data:E,isLoading:P,isError:V}=Qt({queryKey:["all-users"],queryFn:()=>hw(L||""),enabled:!!L}),ae=yi.useMemo(()=>E?.data?.["all users data"]?E.data["all users data"].map($=>({id:String($.id),name:`${$.first_name} ${$.sur_name}`,email:$.email,phone:$.phone,bvn:$.bvn||"",date:$.created_at?new Date($.created_at).toLocaleDateString("en-GB"):"",is_active:$.is_active})):[],[E]),G=E?.data?[{label:"Total Users",value:E.data.total_users,icon:"/assets/images/Users.png"},{label:"New Users",value:E.data["new user"],icon:"/assets/images/Users.png"},{label:"Users with Loans",value:E.data["user with loan balance"],icon:"/assets/images/Users.png"}]:uw,[U,I]=O.useState(""),[ee,T]=O.useState("More Actions"),[F,Z]=O.useState(1),[K]=O.useState(10),fe=yi.useMemo(()=>{let ne=ae.length>0?ae:r;return ee==="Active"?ne=ne.filter(te=>te.is_active===1):ee==="Inactive"&&(ne=ne.filter(te=>te.is_active===0)),U&&(ne=ne.filter(te=>te.name.toLowerCase().includes(U.toLowerCase())||te.email.toLowerCase().includes(U.toLowerCase())||te.phone.toLowerCase().includes(U.toLowerCase()))),ne},[ae,r,U,ee]),R=Math.ceil(fe.length/K),ie=(F-1)*K,re=ie+K,me=fe.slice(ie,re);O.useEffect(()=>{Z(1)},[U,ee]);const X=$=>{I($)},de=$=>{T($)};O.useEffect(()=>{const $=ne=>{y.current&&!y.current.contains(ne.target)&&c(!1),j.current&&!j.current.contains(ne.target)&&h(!1),_.current.every(ge=>!ge||!ge.contains(ne.target))&&w(null)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const D=$=>{const{name:ne,value:te}=$.target;S(ge=>({...ge,[ne]:te}))},W=()=>{console.log("Notification clicked in User Management")},z=()=>{e.invalidateQueries({queryKey:["all-users"]})};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(vC,{onNotificationClick:W}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"User Management"}),n.jsx(wC,{stats:G,isLoading:P}),n.jsx("div",{className:"mb-5",children:n.jsx("h1",{className:"font-bold text-2xl",children:"Users"})}),n.jsx(NC,{moreActionsRef:y,sortByRef:j,showMoreActionsDropdown:o,setShowMoreActionsDropdown:c,showSortByDropdown:d,setShowSortByDropdown:h,selectedMoreAction:ee,setSelectedMoreAction:T,selectedSortBy:f,setSelectedSortBy:p,setShowAddModal:a,onSearch:X,onAction:de,searchTerm:U}),P?n.jsx("div",{className:"py-8 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500",children:"Loading users..."})]})}):V?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load users."}):n.jsxs(n.Fragment,{children:[n.jsx(jC,{users:me,dotsDropdownRefs:_,openDropdownIndex:x,setOpenDropdownIndex:w,navigate:t}),R>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(re,fe.length)," of ",fe.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Z($=>Math.max($-1,1)),disabled:F===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,R)},($,ne)=>{let te;return R<=5||F<=3?te=ne+1:F>=R-2?te=R-4+ne:te=F-2+ne,n.jsx("button",{onClick:()=>Z(te),className:`px-3 py-2 text-sm font-medium rounded-md border ${F===te?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:te},te)})}),n.jsx("button",{onClick:()=>Z($=>Math.min($+1,R)),disabled:F===R,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===R?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),s&&n.jsx(AC,{showAddModal:s,setShowAddModal:a,onUserAdded:z,newUser:C,handleInputChange:D})]})},Mn=({message:t="Loading...",size:e="md",className:s=""})=>{const a={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},r={sm:"text-sm",md:"text-lg",lg:"text-xl"};return n.jsx("div",{className:`py-16 text-center ${s}`,children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:`animate-spin rounded-full border-b-2 border-[#273E8E] ${a[e]}`}),n.jsx("span",{className:`ml-3 text-gray-500 ${r[e]}`,children:t})]})})},kC=t=>{const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear().toString().slice(-2),o=e.getHours().toString().padStart(2,"0"),c=e.getMinutes().toString().padStart(2,"0"),d=e.getHours()>=12?"PM":"AM";return`${s}-${a}-${r}/${o}:${c}${d}`},EC=()=>{const{id:t}=vh(),e=wi(),s=vi(),a=Xt.get("token"),{data:r,isLoading:o}=Qt({queryKey:["single-user",t],queryFn:()=>fw(t||"",a||""),enabled:!!t&&!!a,staleTime:5*60*1e3});console.log("Single User API Data:",r);const c=O.useMemo(()=>r?.data?{id:String(r.data.id),name:`${r.data.first_name} ${r.data.sur_name}`,email:r.data.email,phone:r.data.phone,bvn:r.data.bvn||"",date:r.data.created_at?new Date(r.data.created_at).toLocaleDateString("en-GB"):""}:null,[r]),d=O.useMemo(()=>r?.data?.activitys?r.data.activitys.map(ae=>({activity:ae.activity,date:kC(ae.created_at)})):[],[r]),[h,f]=O.useState(!1),[p,x]=O.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",referral:""}),[w,y]=O.useState(!1),[j,_]=O.useState(null),[C,S]=O.useState(null);yi.useEffect(()=>{c&&r?.data&&x({firstName:r.data.first_name||"",surname:r.data.sur_name||"",email:r.data.email||"",phone:r.data.phone||"",bvn:r.data.bvn||"",password:"",referral:r.data.refferal_code||""})},[c,r]);const L=hs({mutationFn:async ae=>await SC(c?.id||"",ae,a||""),onSuccess:()=>{y(!0),setTimeout(()=>{y(!1),f(!1),_(null),S(null)},1200)},onError:ae=>{console.error("Failed to update user:",ae),alert("Failed to update user profile. Please try again.")}}),E=ae=>{if(ae.preventDefault(),!c?.id)return;const G=new FormData;p.firstName&&G.append("first_name",p.firstName),p.surname&&G.append("sur_name",p.surname),p.email&&G.append("email",p.email),p.phone&&G.append("phone",p.phone),p.bvn&&G.append("bvn",p.bvn),p.password&&G.append("password",p.password),p.referral&&G.append("referral",p.referral),j&&(console.log("Adding image to FormData:",j.name,j.type,j.size),G.append("profile_picture",j)),console.log("FormData contents:");for(let[U,I]of G.entries())console.log(U,I);L.mutate(G)},P=ae=>{const G=ae.target.files?.[0];if(G){_(G);const U=new FileReader;U.onload=I=>{S(I.target?.result)},U.readAsDataURL(G)}},V=()=>{console.log("Notification clicked in User Activity")};return o?n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen flex items-center justify-center",children:n.jsx(Mn,{message:"Loading user details..."})}):c?n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:V}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:c.name}),n.jsxs("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:[n.jsxs("button",{className:`pb-2 cursor-pointer relative ${!s.pathname.includes("/loans")&&!s.pathname.includes("/transactions")&&!s.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}`),children:["Activity",!s.pathname.includes("/loans")&&!s.pathname.includes("/transactions")&&!s.pathname.includes("/orders")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/loans")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/loans`),children:["Loans",s.pathname.includes("/loans")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/transactions")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/transactions`),children:["Transactions",s.pathname.includes("/transactions")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/orders`),children:["Orders",s.pathname.includes("/orders")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-2xl shadow-lg p-8 flex gap-8 items-center mb-8",children:[n.jsxs("div",{className:"flex flex-col items-center w-60 rounded-lg p-5",style:{background:"linear-gradient(162.4deg, rgba(93, 114, 194, 0.7) 12.04%, rgba(255, 165, 0, 0.35) 97.58%)",border:"1px solid",borderImageSource:"linear-gradient(146.63deg, #D1D1FF 3.6%, #FFA126 97.96%)",borderImageSlice:1},children:[n.jsxs("div",{className:"w-32 h-32 rounded-full object-cover border-4 border-white mb-4 overflow-hidden flex items-center justify-center bg-gray-200",children:[r?.data?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${r.data.profile_picture}`,alt:c.name,className:"w-full h-full object-cover",onError:ae=>{ae.currentTarget.style.display="none",ae.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center text-white text-lg font-semibold ${r?.data?.profile_picture?"hidden":""}`,children:c.name.split(" ").map(ae=>ae[0]).join("").toUpperCase()})]}),n.jsx("div",{className:"text-white text-xl font-semibold mb-1",children:c.name}),n.jsx("div",{className:"text-[#FFFFFF80] text-sm mb-10",children:c.email}),n.jsx("button",{className:"bg-white cursor-pointer text-gray-800 px-14 py-2 rounded-full font-semibold shadow",onClick:()=>f(!0),children:"Edit Profile"}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end items-stretch backdrop-blur-sm bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-l-3xl shadow-xl w-full max-w-lg h-screen p-6 relative flex flex-col",children:[o&&n.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading user data..."})]})}),n.jsx("button",{className:"absolute cursor-pointer top-4 right-4 w-8 h-8 flex items-center justify-center",onClick:()=>f(!1),children:n.jsx("img",{src:lt.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Edit Profile"}),n.jsx("div",{className:"flex justify-center mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-300 overflow-hidden flex items-center justify-center",children:[C?n.jsx("img",{src:C,alt:"Profile preview",className:"w-full h-full object-cover"}):r?.data?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${r.data.profile_picture}`,alt:"Profile",className:"w-full h-full object-cover",onError:ae=>{ae.currentTarget.style.display="none",ae.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center text-gray-500 text-xs ${C||r?.data?.profile_picture?"hidden":""}`,children:"No Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),n.jsxs("form",{className:"flex-1 flex flex-col justify-between",onSubmit:E,children:[n.jsxs("div",{className:"space-y-3 flex-1",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your first name",value:p.firstName,onChange:ae=>x(G=>({...G,firstName:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your surname",value:p.surname,onChange:ae=>x(G=>({...G,surname:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your email address",value:p.email,onChange:ae=>x(G=>({...G,email:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your phone number",value:p.phone,onChange:ae=>x(G=>({...G,phone:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"BVN"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"BVN Number",value:p.bvn,onChange:ae=>x(G=>({...G,bvn:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Password"}),n.jsx("input",{type:"password",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Password",value:p.password,onChange:ae=>x(G=>({...G,password:ae.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Referral Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Referral Code (Optional)",value:p.referral,onChange:ae=>x(G=>({...G,referral:ae.target.value}))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("button",{type:"submit",disabled:L.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white text-sm py-3 rounded-full font-medium hover:bg-blue-700 transition-colors flex items-center justify-center ${L.isPending?"opacity-50 cursor-not-allowed":""}`,children:L.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"}),w&&n.jsx("div",{className:"text-green-600 text-center font-semibold mt-2",children:"Profile updated!"})]})]})]})})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-x-12 gap-y-4 text-white text-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Surname"}),n.jsx("div",{children:c.name.split(" ")[1]||c.name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Password"}),n.jsx("div",{children:"**********"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"First Name"}),n.jsx("div",{children:c.name.split(" ")[0]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Referral Code"}),n.jsx("div",{children:"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Email Address"}),n.jsx("div",{children:c.email})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"BVN"}),n.jsx("div",{children:c.bvn})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Phone Number"}),n.jsx("div",{children:c.phone})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Activity"}),n.jsx("div",{className:"flex items-center mb-5",children:n.jsx("select",{className:"border border-[#00000080] rounded-lg px-4 bg-white py-2 text-sm cursor-pointer",children:n.jsx("option",{children:"More Actions"})})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"text-md",children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 w-12",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("th",{className:"p-4 text-left",children:"Activity"}),n.jsx("th",{className:"p-4 text-left",children:"Date"})]})}),n.jsx("tbody",{children:d.length>0?d.map((ae,G)=>n.jsxs("tr",{className:`${G%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("td",{className:"p-4",children:ae.activity}),n.jsx("td",{className:"p-4",children:ae.date})]},G)):n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-500",children:"No activities found for this user."})})})]})})]})]})]}):n.jsx("div",{className:"p-8 text-xl",children:"User not found"})},mw=async(t,e)=>await ht(ft.ADMIN.Get_User_Kyc_Detail(t),"GET",void 0,e),LC=({isOpen:t,onClose:e,user:s,onSendToPartner:a})=>{const[r,o]=O.useState("personal"),[c,d]=O.useState("document"),h=Xt.get("token"),{data:f,isLoading:p,isError:x}=Qt({queryKey:["user-kyc-detail",s.id],queryFn:()=>mw(s.id,h||""),enabled:!!h&&!!s.id&&t});console.log("KYC API Data:",f);const w=U=>{const I=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return I[(U-1)%I.length]},y=U=>{const I=["Spouse","Sibling","Parent","Child","Friend","Relative"];return I[(U-1)%I.length]},j=U=>{const I=["150,000","200,000","100,000","300,000","250,000"];return I[(U-1)%I.length]},_=U=>{const I=["6 months","12 months","18 months","24 months"];return I[(U-1)%I.length]},[C,S]=O.useState({firstName:s?.name?.split(" ")[0]||"",surname:s?.name?.split(" ")[1]||"",email:s?.email||"",phone:s?.phone||"",bvn:s?.bvn||""}),[L,E]=O.useState({accountNumber:"",bankName:"",accountName:""}),[P,V]=O.useState({selectedDocument:"",beneficiaryName:"",beneficiaryRelationship:"",beneficiaryEmail:"",beneficiaryPhone:"",loanAmount:"",repaymentDuration:""});O.useEffect(()=>{if(t&&s){const U=parseInt(s?.id||"1");S({firstName:s?.name?.split(" ")[0]||"",surname:s?.name?.split(" ")[1]||"",email:s?.email||"",phone:s?.phone||"",bvn:s?.bvn||""}),E({accountNumber:`123456${U.toString().padStart(4,"0")}`,bankName:w(U),accountName:s?.name||""}),V({selectedDocument:"Driver's License",beneficiaryName:`Beneficiary ${U}`,beneficiaryRelationship:y(U),beneficiaryEmail:`beneficiary${U}@email.com`,beneficiaryPhone:`+234${U.toString().padStart(10,"0")}`,loanAmount:j(U),repaymentDuration:_(U)})}},[t,s]);const ae=()=>{const U=`user_credit_${s?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(U,JSON.stringify(L)),alert("Credit check details saved successfully!")},G=()=>{const U=`user_kyc_${s?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(U,JSON.stringify(P)),alert("KYC details saved successfully!")};return t?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-0",onClick:e}),n.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:a,children:"Send to Partner"}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:e,children:n.jsx("img",{src:lt.cross,alt:""})})]})]}),n.jsxs("div",{className:"flex border-b px-5",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${r==="personal"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>o("personal"),children:"Personal Details"}),n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${r==="credit"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>o("credit"),children:"Credit Check"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${r==="kyc"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>o("kyc"),children:"KYC Details"})]}),r==="personal"&&n.jsx("div",{className:"p-5",children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading personal details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load personal details."})}):f?.data?.user?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.first_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.sur_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.email||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.phone||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.user_code||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referral Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.refferal_code||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Status"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.is_active?"Active":"Inactive",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No personal data available."})})}),r==="credit"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:L.accountNumber,onChange:U=>E({...L,accountNumber:U.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:L.bankName,onChange:U=>E({...L,bankName:U.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:L.accountName,onChange:U=>E({...L,accountName:U.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:ae,children:"Save"})]}),r==="kyc"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-80",children:[n.jsx("button",{onClick:()=>{d("document")},className:`text-sm py-2.5 px-3  cursor-pointer ${c==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),n.jsx("button",{onClick:()=>{d("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${c==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),n.jsx("button",{onClick:()=>{d("loanDetails")},className:`text-sm py-2 px-3  cursor-pointer ${c==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),c==="document"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading document details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load document details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document Type"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.title_document||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),f.data.loan_application.upload_document?n.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#6B7280",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.data.loan_application.title_document||"Document"}),n.jsx("p",{className:"text-xs text-gray-500",children:f.data.loan_application.upload_document})]})]}),n.jsx("a",{href:`https://troosolar.hmstech.org/${f.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No document data available."})})}),c==="beneficiary"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading beneficiary details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load beneficiary details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_relationship||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_email||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_phone||"N/A",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No beneficiary data available."})})}),c==="loanDetails"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading loan details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load loan details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.loan_amount?`${f.data.loan_application.loan_amount.toLocaleString()}`:"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.repayment_duration?`${f.data.loan_application.repayment_duration} months`:"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Application Status"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.status||"Pending",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Created Date"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.created_at?new Date(f.data.loan_application.created_at).toLocaleDateString():"N/A",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No loan details available."})})}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:G,children:"Save"})]})]})]})}):null},DC=async(t,e,s)=>await ht(ft.ADMIN.LoanGrant(t),"POST",e,s),MC=async(t,e,s)=>await ht(ft.ADMIN.SendToPartnerDetail(t),"POST",e,s),FC=async(t,e,s)=>await ht(ft.ADMIN.MonoLoanCalculationApproval(t),"POST",e,s),OC=({isOpen:t,onClose:e,loanId:s,amount:a,onDisburse:r})=>{const[o,c]=O.useState(""),[d,h]=O.useState(!1),[f,p]=O.useState(a.replace(/[^\d]/g,"")),[x,w]=O.useState(!1),y=Xt.get("token"),j=[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Rejected",label:"Rejected"},{value:"active",label:"Active"}],_=hs({mutationFn:async()=>await DC(s,{distribute_amount:Number(f),status:o},y||""),onSuccess:L=>{r&&r(s,o),e(),c(""),h(!1),p(""),w(!1),alert(L?.message||"Loan disbursed successfully!")},onError:L=>{w(!1),alert(L?.message||"Failed to disburse loan.")}}),C=()=>{o&&f&&(w(!0),_.mutate())},S=()=>{e(),c(""),h(!1),p(a.replace(/[^\d]/g,"")),w(!1)};return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-start justify-end sm:justify-end p-0 sm:p-6",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-white/30",onClick:S}),n.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl shadow-xl z-10 w-full h-full sm:w-[500px] sm:h-auto sm:max-w-[90vw] boder border-[#CDCDCD]",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Loan Disbursement"}),n.jsx("button",{onClick:S,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to disburse"}),n.jsx("input",{type:"number",value:f,onChange:L=>p(L.target.value.replace(/[^\d]/g,"")),min:0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 font-medium",placeholder:"Enter amount",disabled:x})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>h(!d),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-left flex items-center justify-between hover:border-gray-400 transition-colors cursor-pointer",disabled:x,children:[n.jsx("span",{className:o?"text-gray-900":"text-gray-500",children:o||"Change status"}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 ",children:j.map(L=>n.jsx("button",{onClick:()=>{c(L.value),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg cursor-pointer",disabled:x,children:L.label},L.value))})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-gray-200",children:[n.jsx("button",{onClick:S,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors cursor-pointer",disabled:x,children:"Cancel"}),n.jsx("button",{onClick:C,disabled:!o||!f||x,className:`px-6 py-2 rounded-full font-medium transition-colors cursor-pointer ${o&&f&&!x?"bg-[#273E8E] text-white hover:bg-[#1e2f6b]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?"Processing...":"Disburse"})]})]})]}):null},TC="modulepreload",PC=function(t){return"/"+t},ny={},_p=function(e,s,a){let r=Promise.resolve();if(s&&s.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");r=h(s.map(f=>{if(f=PC(f),f in ny)return;ny[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":TC,p||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((y,j)=>{w.addEventListener("load",y),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}var Ar=Uint8Array,bi=Uint16Array,sx=Int32Array,nx=new Ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ax=new Ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ay=new Ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pw=function(t,e){for(var s=new bi(31),a=0;a<31;++a)s[a]=e+=1<<t[a-1];for(var r=new sx(s[30]),a=1;a<30;++a)for(var o=s[a];o<s[a+1];++o)r[o]=o-s[a]<<5|a;return{b:s,r}},gw=pw(nx,2),BC=gw.b,xg=gw.r;BC[28]=258,xg[258]=28;var RC=pw(ax,0),iy=RC.r,bg=new bi(32768);for(var Gs=0;Gs<32768;++Gs){var Fl=(Gs&43690)>>1|(Gs&21845)<<1;Fl=(Fl&52428)>>2|(Fl&13107)<<2,Fl=(Fl&61680)>>4|(Fl&3855)<<4,bg[Gs]=((Fl&65280)>>8|(Fl&255)<<8)>>1}var lh=function(t,e,s){for(var a=t.length,r=0,o=new bi(e);r<a;++r)t[r]&&++o[t[r]-1];var c=new bi(e);for(r=1;r<e;++r)c[r]=c[r-1]+o[r-1]<<1;var d;if(s){d=new bi(1<<e);var h=15-e;for(r=0;r<a;++r)if(t[r])for(var f=r<<4|t[r],p=e-t[r],x=c[t[r]-1]++<<p,w=x|(1<<p)-1;x<=w;++x)d[bg[x]>>h]=f}else for(d=new bi(a),r=0;r<a;++r)t[r]&&(d[r]=bg[c[t[r]-1]++]>>15-t[r]);return d},Rc=new Ar(288);for(var Gs=0;Gs<144;++Gs)Rc[Gs]=8;for(var Gs=144;Gs<256;++Gs)Rc[Gs]=9;for(var Gs=256;Gs<280;++Gs)Rc[Gs]=7;for(var Gs=280;Gs<288;++Gs)Rc[Gs]=8;var Lm=new Ar(32);for(var Gs=0;Gs<32;++Gs)Lm[Gs]=5;var UC=lh(Rc,9,0),IC=lh(Lm,5,0),xw=function(t){return(t+7)/8|0},zC=function(t,e,s){return(s==null||s>t.length)&&(s=t.length),new Ar(t.subarray(e,s))},Po=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8},Jd=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8,t[a+2]|=s>>16},Ap=function(t,e){for(var s=[],a=0;a<t.length;++a)t[a]&&s.push({s:a,f:t[a]});var r=s.length,o=s.slice();if(!r)return{t:yw,l:0};if(r==1){var c=new Ar(s[0].s+1);return c[s[0].s]=1,{t:c,l:1}}s.sort(function(V,ae){return V.f-ae.f}),s.push({s:-1,f:25001});var d=s[0],h=s[1],f=0,p=1,x=2;for(s[0]={s:-1,f:d.f+h.f,l:d,r:h};p!=r-1;)d=s[s[f].f<s[x].f?f++:x++],h=s[f!=p&&s[f].f<s[x].f?f++:x++],s[p++]={s:-1,f:d.f+h.f,l:d,r:h};for(var w=o[0].s,a=1;a<r;++a)o[a].s>w&&(w=o[a].s);var y=new bi(w+1),j=yg(s[p-1],y,0);if(j>e){var a=0,_=0,C=j-e,S=1<<C;for(o.sort(function(ae,G){return y[G.s]-y[ae.s]||ae.f-G.f});a<r;++a){var L=o[a].s;if(y[L]>e)_+=S-(1<<j-y[L]),y[L]=e;else break}for(_>>=C;_>0;){var E=o[a].s;y[E]<e?_-=1<<e-y[E]++-1:++a}for(;a>=0&&_;--a){var P=o[a].s;y[P]==e&&(--y[P],++_)}j=e}return{t:new Ar(y),l:j}},yg=function(t,e,s){return t.s==-1?Math.max(yg(t.l,e,s+1),yg(t.r,e,s+1)):e[t.s]=s},ry=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new bi(++e),a=0,r=t[0],o=1,c=function(h){s[a++]=h},d=1;d<=e;++d)if(t[d]==r&&d!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=t[d]}return{c:s.subarray(0,a),n:e}},eh=function(t,e){for(var s=0,a=0;a<e.length;++a)s+=t[a]*e[a];return s},bw=function(t,e,s){var a=s.length,r=xw(e+2);t[r]=a&255,t[r+1]=a>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var o=0;o<a;++o)t[r+o+4]=s[o];return(r+4+a)*8},oy=function(t,e,s,a,r,o,c,d,h,f,p){Po(e,p++,s),++r[256];for(var x=Ap(r,15),w=x.t,y=x.l,j=Ap(o,15),_=j.t,C=j.l,S=ry(w),L=S.c,E=S.n,P=ry(_),V=P.c,ae=P.n,G=new bi(19),U=0;U<L.length;++U)++G[L[U]&31];for(var U=0;U<V.length;++U)++G[V[U]&31];for(var I=Ap(G,7),ee=I.t,T=I.l,F=19;F>4&&!ee[ay[F-1]];--F);var Z=f+5<<3,K=eh(r,Rc)+eh(o,Lm)+c,fe=eh(r,w)+eh(o,_)+c+14+3*F+eh(G,ee)+2*G[16]+3*G[17]+7*G[18];if(h>=0&&Z<=K&&Z<=fe)return bw(e,p,t.subarray(h,h+f));var R,ie,re,me;if(Po(e,p,1+(fe<K)),p+=2,fe<K){R=lh(w,y,0),ie=w,re=lh(_,C,0),me=_;var X=lh(ee,T,0);Po(e,p,E-257),Po(e,p+5,ae-1),Po(e,p+10,F-4),p+=14;for(var U=0;U<F;++U)Po(e,p+3*U,ee[ay[U]]);p+=3*F;for(var de=[L,V],D=0;D<2;++D)for(var W=de[D],U=0;U<W.length;++U){var z=W[U]&31;Po(e,p,X[z]),p+=ee[z],z>15&&(Po(e,p,W[U]>>5&127),p+=W[U]>>12)}}else R=UC,ie=Rc,re=IC,me=Lm;for(var U=0;U<d;++U){var $=a[U];if($>255){var z=$>>18&31;Jd(e,p,R[z+257]),p+=ie[z+257],z>7&&(Po(e,p,$>>23&31),p+=nx[z]);var ne=$&31;Jd(e,p,re[ne]),p+=me[ne],ne>3&&(Jd(e,p,$>>5&8191),p+=ax[ne])}else Jd(e,p,R[$]),p+=ie[$]}return Jd(e,p,R[256]),p+ie[256]},qC=new sx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yw=new Ar(0),HC=function(t,e,s,a,r,o){var c=o.z||t.length,d=new Ar(a+c+5*(1+Math.ceil(c/7e3))+r),h=d.subarray(a,d.length-r),f=o.l,p=(o.r||0)&7;if(e){p&&(h[0]=o.r>>3);for(var x=qC[e-1],w=x>>13,y=x&8191,j=(1<<s)-1,_=o.p||new bi(32768),C=o.h||new bi(j+1),S=Math.ceil(s/3),L=2*S,E=function(ke){return(t[ke]^t[ke+1]<<S^t[ke+2]<<L)&j},P=new sx(25e3),V=new bi(288),ae=new bi(32),G=0,U=0,I=o.i||0,ee=0,T=o.w||0,F=0;I+2<c;++I){var Z=E(I),K=I&32767,fe=C[Z];if(_[K]=fe,C[Z]=K,T<=I){var R=c-I;if((G>7e3||ee>24576)&&(R>423||!f)){p=oy(t,h,0,P,V,ae,U,ee,F,I-F,p),ee=G=U=0,F=I;for(var ie=0;ie<286;++ie)V[ie]=0;for(var ie=0;ie<30;++ie)ae[ie]=0}var re=2,me=0,X=y,de=K-fe&32767;if(R>2&&Z==E(I-de))for(var D=Math.min(w,R)-1,W=Math.min(32767,I),z=Math.min(258,R);de<=W&&--X&&K!=fe;){if(t[I+re]==t[I+re-de]){for(var $=0;$<z&&t[I+$]==t[I+$-de];++$);if($>re){if(re=$,me=de,$>D)break;for(var ne=Math.min(de,$-2),te=0,ie=0;ie<ne;++ie){var ge=I-de+ie&32767,Ne=_[ge],Oe=ge-Ne&32767;Oe>te&&(te=Oe,fe=ge)}}}K=fe,fe=_[K],de+=K-fe&32767}if(me){P[ee++]=268435456|xg[re]<<18|iy[me];var Xe=xg[re]&31,Re=iy[me]&31;U+=nx[Xe]+ax[Re],++V[257+Xe],++ae[Re],T=I+re,++G}else P[ee++]=t[I],++V[t[I]]}}for(I=Math.max(I,T);I<c;++I)P[ee++]=t[I],++V[t[I]];p=oy(t,h,f,P,V,ae,U,ee,F,I-F,p),f||(o.r=p&7|h[p/8|0]<<3,p-=7,o.h=C,o.p=_,o.i=I,o.w=T)}else{for(var I=o.w||0;I<c+f;I+=65535){var Je=I+65535;Je>=c&&(h[p/8|0]=f,Je=c),p=bw(h,p+1,t.subarray(I,Je))}o.i=c}return zC(d,0,a+xw(p)+r)},vw=function(){var t=1,e=0;return{p:function(s){for(var a=t,r=e,o=s.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)r+=a+=s[c];a=(a&65535)+15*(a>>16),r=(r&65535)+15*(r>>16)}t=a,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$C=function(t,e,s,a,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Ar(o.length+t.length);c.set(o),c.set(t,o.length),t=c,r.w=o.length}return HC(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,s,a,r)},ww=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},VC=function(t,e){var s=e.level,a=s==0?0:s<6?1:s==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=vw();r.p(e.dictionary),ww(t,2,r.d())}};function vg(t,e){e||(e={});var s=vw();s.p(t);var a=$C(t,e,e.dictionary?6:2,4);return VC(a,e),ww(a,a.length-4,s.d()),a}var WC=typeof TextDecoder<"u"&&new TextDecoder,GC=0;try{WC.decode(yw,{stream:!0}),GC=1}catch{}function YC(t){if(Array.isArray(t))return t}function KC(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,r,o,c,d=[],h=!0,f=!1;try{if(o=(s=s.call(t)).next,e!==0)for(;!(h=(a=o.call(s)).done)&&(d.push(a.value),d.length!==e);h=!0);}catch(p){f=!0,r=p}finally{try{if(!h&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(f)throw r}}return d}}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,a=Array(e);s<e;s++)a[s]=t[s];return a}function XC(t,e){if(t){if(typeof t=="string")return ly(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ly(t,e):void 0}}function QC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cy(t,e){return YC(t)||KC(t,e)||XC(t,e)||QC()}function uy(t,e="utf8"){return new TextDecoder(e).decode(t)}const ZC=new TextEncoder;function JC(t){return ZC.encode(t)}const ek=1024*8,tk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Cp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ix{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=ek,s={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const r=s.offset?s.offset>>>0:0,o=e.byteLength-r;let c=r;(ArrayBuffer.isView(e)||e instanceof ix)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+r),e=e.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,r=new Uint8Array(a);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,s){const a=Cp[s].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+a);if(this.littleEndian===tk&&s!=="uint8"&&s!=="int8"){const d=new Uint8Array(this.buffer.slice(r,r+a));d.reverse();const h=new Cp[s](d.buffer);return this.offset+=a,h.reverse(),h}const c=new Cp[s](o);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let s="";for(let a=0;a<e;a++)s+=this.readChar();return s}readUtf8(e=1){return uy(this.readBytes(e))}decodeText(e=1,s="utf8"){return uy(this.readBytes(e),s)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let s=0;s<e.length;s++)this._data.setUint8(this.offset++,e[s]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let s=0;s<e.length;s++)this.writeUint8(e.charCodeAt(s));return this}writeUtf8(e){return this.writeBytes(JC(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xu(t){let e=t.length;for(;--e>=0;)t[e]=0}const sk=3,nk=258,Nw=29,ak=256,ik=ak+1+Nw,jw=30,rk=512,ok=new Array((ik+2)*2);Xu(ok);const lk=new Array(jw*2);Xu(lk);const ck=new Array(rk);Xu(ck);const uk=new Array(nk-sk+1);Xu(uk);const dk=new Array(Nw);Xu(dk);const hk=new Array(jw);Xu(hk);const fk=(t,e,s,a)=>{let r=t&65535|0,o=t>>>16&65535|0,c=0;for(;s!==0;){c=s>2e3?2e3:s,s-=c;do r=r+e[a++]|0,o=o+r|0;while(--c);r%=65521,o%=65521}return r|o<<16|0};var wg=fk;const mk=()=>{let t,e=[];for(var s=0;s<256;s++){t=s;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[s]=t}return e},pk=new Uint32Array(mk()),gk=(t,e,s,a)=>{const r=pk,o=a+s;t^=-1;for(let c=a;c<o;c++)t=t>>>8^r[(t^e[c])&255];return t^-1};var to=gk,Ng={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Sw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bk=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const s=e.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)xk(s,a)&&(t[a]=s[a])}}return t},yk=t=>{let e=0;for(let a=0,r=t.length;a<r;a++)e+=t[a].length;const s=new Uint8Array(e);for(let a=0,r=0,o=t.length;a<o;a++){let c=t[a];s.set(c,r),r+=c.length}return s},_w={assign:bk,flattenChunks:yk};let Aw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Aw=!1}const xh=new Uint8Array(256);for(let t=0;t<256;t++)xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xh[254]=xh[254]=1;var vk=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,s,a,r,o,c=t.length,d=0;for(r=0;r<c;r++)s=t.charCodeAt(r),(s&64512)===55296&&r+1<c&&(a=t.charCodeAt(r+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),r++)),d+=s<128?1:s<2048?2:s<65536?3:4;for(e=new Uint8Array(d),o=0,r=0;o<d;r++)s=t.charCodeAt(r),(s&64512)===55296&&r+1<c&&(a=t.charCodeAt(r+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),r++)),s<128?e[o++]=s:s<2048?(e[o++]=192|s>>>6,e[o++]=128|s&63):s<65536?(e[o++]=224|s>>>12,e[o++]=128|s>>>6&63,e[o++]=128|s&63):(e[o++]=240|s>>>18,e[o++]=128|s>>>12&63,e[o++]=128|s>>>6&63,e[o++]=128|s&63);return e};const wk=(t,e)=>{if(e<65534&&t.subarray&&Aw)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let s="";for(let a=0;a<e;a++)s+=String.fromCharCode(t[a]);return s};var Nk=(t,e)=>{const s=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,r;const o=new Array(s*2);for(r=0,a=0;a<s;){let c=t[a++];if(c<128){o[r++]=c;continue}let d=xh[c];if(d>4){o[r++]=65533,a+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&a<s;)c=c<<6|t[a++]&63,d--;if(d>1){o[r++]=65533;continue}c<65536?o[r++]=c:(c-=65536,o[r++]=55296|c>>10&1023,o[r++]=56320|c&1023)}return wk(o,r)},jk=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let s=e-1;for(;s>=0&&(t[s]&192)===128;)s--;return s<0||s===0?e:s+xh[t[s]]>e?s:e},jg={string2buf:vk,buf2string:Nk,utf8border:jk};function Sk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _k=Sk;const Gf=16209,Ak=16191;var Ck=function(e,s){let a,r,o,c,d,h,f,p,x,w,y,j,_,C,S,L,E,P,V,ae,G,U,I,ee;const T=e.state;a=e.next_in,I=e.input,r=a+(e.avail_in-5),o=e.next_out,ee=e.output,c=o-(s-e.avail_out),d=o+(e.avail_out-257),h=T.dmax,f=T.wsize,p=T.whave,x=T.wnext,w=T.window,y=T.hold,j=T.bits,_=T.lencode,C=T.distcode,S=(1<<T.lenbits)-1,L=(1<<T.distbits)-1;e:do{j<15&&(y+=I[a++]<<j,j+=8,y+=I[a++]<<j,j+=8),E=_[y&S];t:for(;;){if(P=E>>>24,y>>>=P,j-=P,P=E>>>16&255,P===0)ee[o++]=E&65535;else if(P&16){V=E&65535,P&=15,P&&(j<P&&(y+=I[a++]<<j,j+=8),V+=y&(1<<P)-1,y>>>=P,j-=P),j<15&&(y+=I[a++]<<j,j+=8,y+=I[a++]<<j,j+=8),E=C[y&L];s:for(;;){if(P=E>>>24,y>>>=P,j-=P,P=E>>>16&255,P&16){if(ae=E&65535,P&=15,j<P&&(y+=I[a++]<<j,j+=8,j<P&&(y+=I[a++]<<j,j+=8)),ae+=y&(1<<P)-1,ae>h){e.msg="invalid distance too far back",T.mode=Gf;break e}if(y>>>=P,j-=P,P=o-c,ae>P){if(P=ae-P,P>p&&T.sane){e.msg="invalid distance too far back",T.mode=Gf;break e}if(G=0,U=w,x===0){if(G+=f-P,P<V){V-=P;do ee[o++]=w[G++];while(--P);G=o-ae,U=ee}}else if(x<P){if(G+=f+x-P,P-=x,P<V){V-=P;do ee[o++]=w[G++];while(--P);if(G=0,x<V){P=x,V-=P;do ee[o++]=w[G++];while(--P);G=o-ae,U=ee}}}else if(G+=x-P,P<V){V-=P;do ee[o++]=w[G++];while(--P);G=o-ae,U=ee}for(;V>2;)ee[o++]=U[G++],ee[o++]=U[G++],ee[o++]=U[G++],V-=3;V&&(ee[o++]=U[G++],V>1&&(ee[o++]=U[G++]))}else{G=o-ae;do ee[o++]=ee[G++],ee[o++]=ee[G++],ee[o++]=ee[G++],V-=3;while(V>2);V&&(ee[o++]=ee[G++],V>1&&(ee[o++]=ee[G++]))}}else if((P&64)===0){E=C[(E&65535)+(y&(1<<P)-1)];continue s}else{e.msg="invalid distance code",T.mode=Gf;break e}break}}else if((P&64)===0){E=_[(E&65535)+(y&(1<<P)-1)];continue t}else if(P&32){T.mode=Ak;break e}else{e.msg="invalid literal/length code",T.mode=Gf;break e}break}}while(a<r&&o<d);V=j>>3,a-=V,j-=V<<3,y&=(1<<j)-1,e.next_in=a,e.next_out=o,e.avail_in=a<r?5+(r-a):5-(a-r),e.avail_out=o<d?257+(d-o):257-(o-d),T.hold=y,T.bits=j};const Cu=15,dy=852,hy=592,fy=0,kp=1,my=2,kk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ek=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Lk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Mk=(t,e,s,a,r,o,c,d)=>{const h=d.bits;let f=0,p=0,x=0,w=0,y=0,j=0,_=0,C=0,S=0,L=0,E,P,V,ae,G,U=null,I;const ee=new Uint16Array(Cu+1),T=new Uint16Array(Cu+1);let F=null,Z,K,fe;for(f=0;f<=Cu;f++)ee[f]=0;for(p=0;p<a;p++)ee[e[s+p]]++;for(y=h,w=Cu;w>=1&&ee[w]===0;w--);if(y>w&&(y=w),w===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<w&&ee[x]===0;x++);for(y<x&&(y=x),C=1,f=1;f<=Cu;f++)if(C<<=1,C-=ee[f],C<0)return-1;if(C>0&&(t===fy||w!==1))return-1;for(T[1]=0,f=1;f<Cu;f++)T[f+1]=T[f]+ee[f];for(p=0;p<a;p++)e[s+p]!==0&&(c[T[e[s+p]]++]=p);if(t===fy?(U=F=c,I=20):t===kp?(U=kk,F=Ek,I=257):(U=Lk,F=Dk,I=0),L=0,p=0,f=x,G=o,j=y,_=0,V=-1,S=1<<y,ae=S-1,t===kp&&S>dy||t===my&&S>hy)return 1;for(;;){Z=f-_,c[p]+1<I?(K=0,fe=c[p]):c[p]>=I?(K=F[c[p]-I],fe=U[c[p]-I]):(K=96,fe=0),E=1<<f-_,P=1<<j,x=P;do P-=E,r[G+(L>>_)+P]=Z<<24|K<<16|fe|0;while(P!==0);for(E=1<<f-1;L&E;)E>>=1;if(E!==0?(L&=E-1,L+=E):L=0,p++,--ee[f]===0){if(f===w)break;f=e[s+c[p]]}if(f>y&&(L&ae)!==V){for(_===0&&(_=y),G+=x,j=f-_,C=1<<j;j+_<w&&(C-=ee[j+_],!(C<=0));)j++,C<<=1;if(S+=1<<j,t===kp&&S>dy||t===my&&S>hy)return 1;V=L&ae,r[V]=y<<24|j<<16|G-o|0}}return L!==0&&(r[G+L]=f-_<<24|64<<16|0),d.bits=y,0};var ch=Mk;const Fk=0,Cw=1,kw=2,{Z_FINISH:py,Z_BLOCK:Ok,Z_TREES:Yf,Z_OK:Uc,Z_STREAM_END:Tk,Z_NEED_DICT:Pk,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:Ew,Z_MEM_ERROR:Lw,Z_BUF_ERROR:Bk,Z_DEFLATED:gy}=Sw,Ym=16180,xy=16181,by=16182,yy=16183,vy=16184,wy=16185,Ny=16186,jy=16187,Sy=16188,_y=16189,Dm=16190,Bo=16191,Ep=16192,Ay=16193,Lp=16194,Cy=16195,ky=16196,Ey=16197,Ly=16198,Kf=16199,Xf=16200,Dy=16201,My=16202,Fy=16203,Oy=16204,Ty=16205,Dp=16206,Py=16207,By=16208,en=16209,Dw=16210,Mw=16211,Rk=852,Uk=592,Ik=15,zk=Ik,Ry=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ic=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ym||e.mode>Mw?1:0},Fw=t=>{if(Ic(t))return Qi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ym,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Rk),e.distcode=e.distdyn=new Int32Array(Uk),e.sane=1,e.back=-1,Uc},Ow=t=>{if(Ic(t))return Qi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Fw(t)},Tw=(t,e)=>{let s;if(Ic(t))return Qi;const a=t.state;return e<0?(s=0,e=-e):(s=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qi:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=s,a.wbits=e,Ow(t))},Pw=(t,e)=>{if(!t)return Qi;const s=new qk;t.state=s,s.strm=t,s.window=null,s.mode=Ym;const a=Tw(t,e);return a!==Uc&&(t.state=null),a},Hk=t=>Pw(t,zk);let Uy=!0,Mp,Fp;const $k=t=>{if(Uy){Mp=new Int32Array(512),Fp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ch(Cw,t.lens,0,288,Mp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ch(kw,t.lens,0,32,Fp,0,t.work,{bits:5}),Uy=!1}t.lencode=Mp,t.lenbits=9,t.distcode=Fp,t.distbits=5},Bw=(t,e,s,a)=>{let r;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(s-o.wsize,s),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>a&&(r=a),o.window.set(e.subarray(s-a,s-a+r),o.wnext),a-=r,a?(o.window.set(e.subarray(s-a,s),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},Vk=(t,e)=>{let s,a,r,o,c,d,h,f,p,x,w,y,j,_,C=0,S,L,E,P,V,ae,G,U;const I=new Uint8Array(4);let ee,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ic(t)||!t.output||!t.input&&t.avail_in!==0)return Qi;s=t.state,s.mode===Bo&&(s.mode=Ep),c=t.next_out,r=t.output,h=t.avail_out,o=t.next_in,a=t.input,d=t.avail_in,f=s.hold,p=s.bits,x=d,w=h,U=Uc;e:for(;;)switch(s.mode){case Ym:if(s.wrap===0){s.mode=Ep;break}for(;p<16;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(s.wrap&2&&f===35615){s.wbits===0&&(s.wbits=15),s.check=0,I[0]=f&255,I[1]=f>>>8&255,s.check=to(s.check,I,2,0),f=0,p=0,s.mode=xy;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",s.mode=en;break}if((f&15)!==gy){t.msg="unknown compression method",s.mode=en;break}if(f>>>=4,p-=4,G=(f&15)+8,s.wbits===0&&(s.wbits=G),G>15||G>s.wbits){t.msg="invalid window size",s.mode=en;break}s.dmax=1<<s.wbits,s.flags=0,t.adler=s.check=1,s.mode=f&512?_y:Bo,f=0,p=0;break;case xy:for(;p<16;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(s.flags=f,(s.flags&255)!==gy){t.msg="unknown compression method",s.mode=en;break}if(s.flags&57344){t.msg="unknown header flags set",s.mode=en;break}s.head&&(s.head.text=f>>8&1),s.flags&512&&s.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,s.check=to(s.check,I,2,0)),f=0,p=0,s.mode=by;case by:for(;p<32;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.head&&(s.head.time=f),s.flags&512&&s.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,s.check=to(s.check,I,4,0)),f=0,p=0,s.mode=yy;case yy:for(;p<16;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.head&&(s.head.xflags=f&255,s.head.os=f>>8),s.flags&512&&s.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,s.check=to(s.check,I,2,0)),f=0,p=0,s.mode=vy;case vy:if(s.flags&1024){for(;p<16;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.length=f,s.head&&(s.head.extra_len=f),s.flags&512&&s.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,s.check=to(s.check,I,2,0)),f=0,p=0}else s.head&&(s.head.extra=null);s.mode=wy;case wy:if(s.flags&1024&&(y=s.length,y>d&&(y=d),y&&(s.head&&(G=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(o,o+y),G)),s.flags&512&&s.wrap&4&&(s.check=to(s.check,a,y,o)),d-=y,o+=y,s.length-=y),s.length))break e;s.length=0,s.mode=Ny;case Ny:if(s.flags&2048){if(d===0)break e;y=0;do G=a[o+y++],s.head&&G&&s.length<65536&&(s.head.name+=String.fromCharCode(G));while(G&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=to(s.check,a,y,o)),d-=y,o+=y,G)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=jy;case jy:if(s.flags&4096){if(d===0)break e;y=0;do G=a[o+y++],s.head&&G&&s.length<65536&&(s.head.comment+=String.fromCharCode(G));while(G&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=to(s.check,a,y,o)),d-=y,o+=y,G)break e}else s.head&&(s.head.comment=null);s.mode=Sy;case Sy:if(s.flags&512){for(;p<16;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(s.wrap&4&&f!==(s.check&65535)){t.msg="header crc mismatch",s.mode=en;break}f=0,p=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),t.adler=s.check=0,s.mode=Bo;break;case _y:for(;p<32;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}t.adler=s.check=Ry(f),f=0,p=0,s.mode=Dm;case Dm:if(s.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,s.hold=f,s.bits=p,Pk;t.adler=s.check=1,s.mode=Bo;case Bo:if(e===Ok||e===Yf)break e;case Ep:if(s.last){f>>>=p&7,p-=p&7,s.mode=Dp;break}for(;p<3;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}switch(s.last=f&1,f>>>=1,p-=1,f&3){case 0:s.mode=Ay;break;case 1:if($k(s),s.mode=Kf,e===Yf){f>>>=2,p-=2;break e}break;case 2:s.mode=ky;break;case 3:t.msg="invalid block type",s.mode=en}f>>>=2,p-=2;break;case Ay:for(f>>>=p&7,p-=p&7;p<32;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",s.mode=en;break}if(s.length=f&65535,f=0,p=0,s.mode=Lp,e===Yf)break e;case Lp:s.mode=Cy;case Cy:if(y=s.length,y){if(y>d&&(y=d),y>h&&(y=h),y===0)break e;r.set(a.subarray(o,o+y),c),d-=y,o+=y,h-=y,c+=y,s.length-=y;break}s.mode=Bo;break;case ky:for(;p<14;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(s.nlen=(f&31)+257,f>>>=5,p-=5,s.ndist=(f&31)+1,f>>>=5,p-=5,s.ncode=(f&15)+4,f>>>=4,p-=4,s.nlen>286||s.ndist>30){t.msg="too many length or distance symbols",s.mode=en;break}s.have=0,s.mode=Ey;case Ey:for(;s.have<s.ncode;){for(;p<3;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.lens[F[s.have++]]=f&7,f>>>=3,p-=3}for(;s.have<19;)s.lens[F[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,ee={bits:s.lenbits},U=ch(Fk,s.lens,0,19,s.lencode,0,s.work,ee),s.lenbits=ee.bits,U){t.msg="invalid code lengths set",s.mode=en;break}s.have=0,s.mode=Ly;case Ly:for(;s.have<s.nlen+s.ndist;){for(;C=s.lencode[f&(1<<s.lenbits)-1],S=C>>>24,L=C>>>16&255,E=C&65535,!(S<=p);){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(E<16)f>>>=S,p-=S,s.lens[s.have++]=E;else{if(E===16){for(T=S+2;p<T;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(f>>>=S,p-=S,s.have===0){t.msg="invalid bit length repeat",s.mode=en;break}G=s.lens[s.have-1],y=3+(f&3),f>>>=2,p-=2}else if(E===17){for(T=S+3;p<T;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}f>>>=S,p-=S,G=0,y=3+(f&7),f>>>=3,p-=3}else{for(T=S+7;p<T;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}f>>>=S,p-=S,G=0,y=11+(f&127),f>>>=7,p-=7}if(s.have+y>s.nlen+s.ndist){t.msg="invalid bit length repeat",s.mode=en;break}for(;y--;)s.lens[s.have++]=G}}if(s.mode===en)break;if(s.lens[256]===0){t.msg="invalid code -- missing end-of-block",s.mode=en;break}if(s.lenbits=9,ee={bits:s.lenbits},U=ch(Cw,s.lens,0,s.nlen,s.lencode,0,s.work,ee),s.lenbits=ee.bits,U){t.msg="invalid literal/lengths set",s.mode=en;break}if(s.distbits=6,s.distcode=s.distdyn,ee={bits:s.distbits},U=ch(kw,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,ee),s.distbits=ee.bits,U){t.msg="invalid distances set",s.mode=en;break}if(s.mode=Kf,e===Yf)break e;case Kf:s.mode=Xf;case Xf:if(d>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,s.hold=f,s.bits=p,Ck(t,w),c=t.next_out,r=t.output,h=t.avail_out,o=t.next_in,a=t.input,d=t.avail_in,f=s.hold,p=s.bits,s.mode===Bo&&(s.back=-1);break}for(s.back=0;C=s.lencode[f&(1<<s.lenbits)-1],S=C>>>24,L=C>>>16&255,E=C&65535,!(S<=p);){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(L&&(L&240)===0){for(P=S,V=L,ae=E;C=s.lencode[ae+((f&(1<<P+V)-1)>>P)],S=C>>>24,L=C>>>16&255,E=C&65535,!(P+S<=p);){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}f>>>=P,p-=P,s.back+=P}if(f>>>=S,p-=S,s.back+=S,s.length=E,L===0){s.mode=Ty;break}if(L&32){s.back=-1,s.mode=Bo;break}if(L&64){t.msg="invalid literal/length code",s.mode=en;break}s.extra=L&15,s.mode=Dy;case Dy:if(s.extra){for(T=s.extra;p<T;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.length+=f&(1<<s.extra)-1,f>>>=s.extra,p-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=My;case My:for(;C=s.distcode[f&(1<<s.distbits)-1],S=C>>>24,L=C>>>16&255,E=C&65535,!(S<=p);){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if((L&240)===0){for(P=S,V=L,ae=E;C=s.distcode[ae+((f&(1<<P+V)-1)>>P)],S=C>>>24,L=C>>>16&255,E=C&65535,!(P+S<=p);){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}f>>>=P,p-=P,s.back+=P}if(f>>>=S,p-=S,s.back+=S,L&64){t.msg="invalid distance code",s.mode=en;break}s.offset=E,s.extra=L&15,s.mode=Fy;case Fy:if(s.extra){for(T=s.extra;p<T;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}s.offset+=f&(1<<s.extra)-1,f>>>=s.extra,p-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){t.msg="invalid distance too far back",s.mode=en;break}s.mode=Oy;case Oy:if(h===0)break e;if(y=w-h,s.offset>y){if(y=s.offset-y,y>s.whave&&s.sane){t.msg="invalid distance too far back",s.mode=en;break}y>s.wnext?(y-=s.wnext,j=s.wsize-y):j=s.wnext-y,y>s.length&&(y=s.length),_=s.window}else _=r,j=c-s.offset,y=s.length;y>h&&(y=h),h-=y,s.length-=y;do r[c++]=_[j++];while(--y);s.length===0&&(s.mode=Xf);break;case Ty:if(h===0)break e;r[c++]=s.length,h--,s.mode=Xf;break;case Dp:if(s.wrap){for(;p<32;){if(d===0)break e;d--,f|=a[o++]<<p,p+=8}if(w-=h,t.total_out+=w,s.total+=w,s.wrap&4&&w&&(t.adler=s.check=s.flags?to(s.check,r,w,c-w):wg(s.check,r,w,c-w)),w=h,s.wrap&4&&(s.flags?f:Ry(f))!==s.check){t.msg="incorrect data check",s.mode=en;break}f=0,p=0}s.mode=Py;case Py:if(s.wrap&&s.flags){for(;p<32;){if(d===0)break e;d--,f+=a[o++]<<p,p+=8}if(s.wrap&4&&f!==(s.total&4294967295)){t.msg="incorrect length check",s.mode=en;break}f=0,p=0}s.mode=By;case By:U=Tk;break e;case en:U=Ew;break e;case Dw:return Lw;case Mw:default:return Qi}return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=d,s.hold=f,s.bits=p,(s.wsize||w!==t.avail_out&&s.mode<en&&(s.mode<Dp||e!==py))&&Bw(t,t.output,t.next_out,w-t.avail_out),x-=t.avail_in,w-=t.avail_out,t.total_in+=x,t.total_out+=w,s.total+=w,s.wrap&4&&w&&(t.adler=s.check=s.flags?to(s.check,r,w,t.next_out-w):wg(s.check,r,w,t.next_out-w)),t.data_type=s.bits+(s.last?64:0)+(s.mode===Bo?128:0)+(s.mode===Kf||s.mode===Lp?256:0),(x===0&&w===0||e===py)&&U===Uc&&(U=Bk),U},Wk=t=>{if(Ic(t))return Qi;let e=t.state;return e.window&&(e.window=null),t.state=null,Uc},Gk=(t,e)=>{if(Ic(t))return Qi;const s=t.state;return(s.wrap&2)===0?Qi:(s.head=e,e.done=!1,Uc)},Yk=(t,e)=>{const s=e.length;let a,r,o;return Ic(t)||(a=t.state,a.wrap!==0&&a.mode!==Dm)?Qi:a.mode===Dm&&(r=1,r=wg(r,e,s,0),r!==a.check)?Ew:(o=Bw(t,e,s,s),o?(a.mode=Dw,Lw):(a.havedict=1,Uc))};var Kk=Ow,Xk=Tw,Qk=Fw,Zk=Hk,Jk=Pw,e7=Vk,t7=Wk,s7=Gk,n7=Yk,a7="pako inflate (from Nodeca project)",zo={inflateReset:Kk,inflateReset2:Xk,inflateResetKeep:Qk,inflateInit:Zk,inflateInit2:Jk,inflate:e7,inflateEnd:t7,inflateGetHeader:s7,inflateSetDictionary:n7,inflateInfo:a7};function i7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var r7=i7;const Rw=Object.prototype.toString,{Z_NO_FLUSH:o7,Z_FINISH:l7,Z_OK:bh,Z_STREAM_END:Op,Z_NEED_DICT:Tp,Z_STREAM_ERROR:c7,Z_DATA_ERROR:Iy,Z_MEM_ERROR:u7}=Sw;function kh(t){this.options=_w.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _k,this.strm.avail_out=0;let s=zo.inflateInit2(this.strm,e.windowBits);if(s!==bh)throw new Error(Ng[s]);if(this.header=new r7,zo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=jg.string2buf(e.dictionary):Rw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(s=zo.inflateSetDictionary(this.strm,e.dictionary),s!==bh)))throw new Error(Ng[s])}kh.prototype.push=function(t,e){const s=this.strm,a=this.options.chunkSize,r=this.options.dictionary;let o,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?l7:o7,Rw.call(t)==="[object ArrayBuffer]"?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),o=zo.inflate(s,c),o===Tp&&r&&(o=zo.inflateSetDictionary(s,r),o===bh?o=zo.inflate(s,c):o===Iy&&(o=Tp));s.avail_in>0&&o===Op&&s.state.wrap>0&&t[s.next_in]!==0;)zo.inflateReset(s),o=zo.inflate(s,c);switch(o){case c7:case Iy:case Tp:case u7:return this.onEnd(o),this.ended=!0,!1}if(d=s.avail_out,s.next_out&&(s.avail_out===0||o===Op))if(this.options.to==="string"){let h=jg.utf8border(s.output,s.next_out),f=s.next_out-h,p=jg.buf2string(s.output,h);s.next_out=f,s.avail_out=a-f,f&&s.output.set(s.output.subarray(h,h+f),0),this.onData(p)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(o===bh&&d===0)){if(o===Op)return o=zo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};kh.prototype.onData=function(t){this.chunks.push(t)};kh.prototype.onEnd=function(t){t===bh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_w.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function d7(t,e){const s=new kh(e);if(s.push(t),s.err)throw s.msg||Ng[s.err];return s.result}var h7=kh,f7=d7,m7={Inflate:h7,inflate:f7};const{Inflate:p7,inflate:g7}=m7;var zy=p7,x7=g7;const Uw=[];for(let t=0;t<256;t++){let e=t;for(let s=0;s<8;s++)e&1?e=3988292384^e>>>1:e=e>>>1;Uw[t]=e}const qy=4294967295;function b7(t,e,s){let a=t;for(let r=0;r<s;r++)a=Uw[(a^e[r])&255]^a>>>8;return a}function y7(t,e){return(b7(qy,t,e)^qy)>>>0}function Hy(t,e,s){const a=t.readUint32(),r=y7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==a)throw new Error(`CRC mismatch for chunk ${s}. Expected ${a}, found ${r}`)}function Iw(t,e,s){for(let a=0;a<s;a++)e[a]=t[a]}function zw(t,e,s,a){let r=0;for(;r<a;r++)e[r]=t[r];for(;r<s;r++)e[r]=t[r]+e[r-a]&255}function qw(t,e,s,a){let r=0;if(s.length===0)for(;r<a;r++)e[r]=t[r];else for(;r<a;r++)e[r]=t[r]+s[r]&255}function Hw(t,e,s,a,r){let o=0;if(s.length===0){for(;o<r;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+(e[o-r]>>1)&255}else{for(;o<r;o++)e[o]=t[o]+(s[o]>>1)&255;for(;o<a;o++)e[o]=t[o]+(e[o-r]+s[o]>>1)&255}}function $w(t,e,s,a,r){let o=0;if(s.length===0){for(;o<r;o++)e[o]=t[o];for(;o<a;o++)e[o]=t[o]+e[o-r]&255}else{for(;o<r;o++)e[o]=t[o]+s[o]&255;for(;o<a;o++)e[o]=t[o]+v7(e[o-r],s[o],s[o-r])&255}}function v7(t,e,s){const a=t+e-s,r=Math.abs(a-t),o=Math.abs(a-e),c=Math.abs(a-s);return r<=o&&r<=c?t:o<=c?e:s}function w7(t,e,s,a,r,o){switch(t){case 0:Iw(e,s,r);break;case 1:zw(e,s,r,o);break;case 2:qw(e,s,a,r);break;case 3:Hw(e,s,a,r,o);break;case 4:$w(e,s,a,r,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const N7=new Uint16Array([255]),j7=new Uint8Array(N7.buffer),S7=j7[0]===255;function _7(t){const{data:e,width:s,height:a,channels:r,depth:o}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*r,h=new Uint8Array(a*s*d);let f=0;for(let p=0;p<7;p++){const x=c[p],w=Math.ceil((s-x.x)/x.xStep),y=Math.ceil((a-x.y)/x.yStep);if(w<=0||y<=0)continue;const j=w*d,_=new Uint8Array(j);for(let C=0;C<y;C++){const S=e[f++],L=e.subarray(f,f+j);f+=j;const E=new Uint8Array(j);w7(S,L,E,_,j,d),_.set(E);for(let P=0;P<w;P++){const V=x.x+P*x.xStep,ae=x.y+C*x.yStep;if(!(V>=s||ae>=a))for(let G=0;G<d;G++)h[(ae*s+V)*d+G]=E[P*d+G]}}}if(o===16){const p=new Uint16Array(h.buffer);if(S7)for(let x=0;x<p.length;x++)p[x]=A7(p[x]);return p}else return h}function A7(t){return(t&255)<<8|t>>8&255}const C7=new Uint16Array([255]),k7=new Uint8Array(C7.buffer),E7=k7[0]===255,L7=new Uint8Array(0);function $y(t){const{data:e,width:s,height:a,channels:r,depth:o}=t,c=Math.ceil(o/8)*r,d=Math.ceil(o/8*r*s),h=new Uint8Array(a*d);let f=L7,p=0,x,w;for(let y=0;y<a;y++){switch(x=e.subarray(p+1,p+1+d),w=h.subarray(y*d,(y+1)*d),e[p]){case 0:Iw(x,w,d);break;case 1:zw(x,w,d,c);break;case 2:qw(x,w,f,d);break;case 3:Hw(x,w,f,d,c);break;case 4:$w(x,w,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=w,p+=d+1}if(o===16){const y=new Uint16Array(h.buffer);if(E7)for(let j=0;j<y.length;j++)y[j]=D7(y[j]);return y}else return h}function D7(t){return(t&255)<<8|t>>8&255}const dm=Uint8Array.of(137,80,78,71,13,10,26,10);function Vy(t){if(!M7(t.readBytes(dm.length)))throw new Error("wrong PNG signature")}function M7(t){if(t.length<dm.length)return!1;for(let e=0;e<dm.length;e++)if(t[e]!==dm[e])return!1;return!0}const F7="tEXt",O7=0,Vw=new TextDecoder("latin1");function T7(t){if(B7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const P7=/^[\u0000-\u00FF]*$/;function B7(t){if(!P7.test(t))throw new Error("invalid latin1 text")}function R7(t,e,s){const a=Ww(e);t[a]=U7(e,s-a.length-1)}function Ww(t){for(t.mark();t.readByte()!==O7;);const e=t.offset;t.reset();const s=Vw.decode(t.readBytes(e-t.offset-1));return t.skip(1),T7(s),s}function U7(t,e){return Vw.decode(t.readBytes(e))}const pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pp={UNKNOWN:-1,DEFLATE:0},Wy={UNKNOWN:-1,ADAPTIVE:0},Bp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qf={NONE:0,BACKGROUND:1,PREVIOUS:2},Rp={SOURCE:0,OVER:1};class I7 extends ix{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,s={}){super(e);const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new zy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pp.UNKNOWN,this._filterMethod=Wy.UNKNOWN,this._interlaceMethod=Bp.UNKNOWN,this._colorType=pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Vy(this);!this._end;){const e=this.readUint32(),s=this.readChars(4);this.decodeChunk(e,s)}return this.decodeImage(),this._png}decodeApng(){for(Vy(this);!this._end;){const e=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(e,s)}return this.decodeApngImage(),this._apng}decodeChunk(e,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case F7:R7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?Hy(this,e+4,s):this.skip(4)}decodeApngChunk(e,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,s),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?Hy(this,e+4,s):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=z7(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case pi.GREYSCALE:a=1;break;case pi.TRUECOLOUR:a=3;break;case pi.INDEXED_COLOUR:a=1;break;case pi.GREYSCALE_ALPHA:a=2;break;case pi.TRUECOLOUR_ALPHA:a=4;break;case pi.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const s=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let r=0;r<s;r++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const s=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let s=e,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case pi.GREYSCALE:case pi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let s=0;s<e/2;s++)this._transparency[s]=this.readUint16();break}case pi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let s=0;for(;s<e;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case pi.UNKNOWN:case pi.GREYSCALE_ALPHA:case pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const s=Ww(this),a=this.readUint8();if(a!==Pp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const r=this.readBytes(e-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:x7(r)}}decodepHYs(){const e=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const s={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=$y({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(a,r,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(e,s,a){switch(e.disposeOp){case Qf.NONE:break;case Qf.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){const c=(r*e.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case Qf.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,s){const a=1<<this._png.depth,r=(o,c)=>{const d=((o+s.yOffset)*this._png.width+s.xOffset+c)*this._png.channels,h=(o*s.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(s.blendOp){case Rp.SOURCE:for(let o=0;o<s.height;o++)for(let c=0;c<s.width;c++){const{index:d,frameIndex:h}=r(o,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=s.data[h+f]}break;case Rp.OVER:for(let o=0;o<s.height;o++)for(let c=0;c<s.width;c++){const{index:d,frameIndex:h}=r(o,c);for(let f=0;f<this._png.channels;f++){const p=s.data[h+this._png.channels-1]/a,x=f%(this._png.channels-1)===0?1:s.data[h+f],w=Math.floor(p*x+(1-p)*e.data[d+f]);e.data[d+f]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Wy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Bp.NO_INTERLACE)this._png.data=$y({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Bp.ADAM7)this._png.data=_7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,s=this._frames.at(-1);s?s.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qf.NONE,blendOp:Rp.SOURCE,data:e}),this._inflator=new zy,this._writingDataChunks=!1}}function z7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Gy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Gy||(Gy={}));function q7(t,e){return new I7(t,e).decode()}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Up(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var Ps={log:Up,warn:function(t){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):Up.call(null,arguments))},error:function(t){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):Up(t))}};function Ip(t,e,s){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Cc(a.response,e,s)},a.onerror=function(){Ps.error("could not download file")},a.send()}function Yy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Cc=zt.saveAs||((typeof window>"u"?"undefined":Cs(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,s){var a=zt.URL||zt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?Yy(r.href)?Ip(t,e,s):Zf(r,r.target="_blank"):Zf(r)):(r.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(r.href)},4e4),setTimeout(function(){Zf(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t=="string")if(Yy(t))Ip(t,e,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){Zf(a)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:Cs(o)!=="object"&&(Ps.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,s),e)}:function(t,e,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Ip(t,e,s);var r=t.type==="application/octet-stream",o=/constructor/i.test(zt.HTMLElement)||zt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o)&&(typeof FileReader>"u"?"undefined":Cs(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=p:location=p,a=null},d.readAsDataURL(t)}else{var h=zt.URL||zt.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Gw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<s.length;a++){var r=s[a].re,o=s[a].process,c=r.exec(t);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var hm=zt.atob.bind(zt),Ky=zt.btoa.bind(zt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zp(t,e){var s=t[0],a=t[1],r=t[2],o=t[3];s=pa(s,a,r,o,e[0],7,-680876936),o=pa(o,s,a,r,e[1],12,-389564586),r=pa(r,o,s,a,e[2],17,606105819),a=pa(a,r,o,s,e[3],22,-1044525330),s=pa(s,a,r,o,e[4],7,-176418897),o=pa(o,s,a,r,e[5],12,1200080426),r=pa(r,o,s,a,e[6],17,-1473231341),a=pa(a,r,o,s,e[7],22,-45705983),s=pa(s,a,r,o,e[8],7,1770035416),o=pa(o,s,a,r,e[9],12,-1958414417),r=pa(r,o,s,a,e[10],17,-42063),a=pa(a,r,o,s,e[11],22,-1990404162),s=pa(s,a,r,o,e[12],7,1804603682),o=pa(o,s,a,r,e[13],12,-40341101),r=pa(r,o,s,a,e[14],17,-1502002290),s=ga(s,a=pa(a,r,o,s,e[15],22,1236535329),r,o,e[1],5,-165796510),o=ga(o,s,a,r,e[6],9,-1069501632),r=ga(r,o,s,a,e[11],14,643717713),a=ga(a,r,o,s,e[0],20,-373897302),s=ga(s,a,r,o,e[5],5,-701558691),o=ga(o,s,a,r,e[10],9,38016083),r=ga(r,o,s,a,e[15],14,-660478335),a=ga(a,r,o,s,e[4],20,-405537848),s=ga(s,a,r,o,e[9],5,568446438),o=ga(o,s,a,r,e[14],9,-1019803690),r=ga(r,o,s,a,e[3],14,-187363961),a=ga(a,r,o,s,e[8],20,1163531501),s=ga(s,a,r,o,e[13],5,-1444681467),o=ga(o,s,a,r,e[2],9,-51403784),r=ga(r,o,s,a,e[7],14,1735328473),s=xa(s,a=ga(a,r,o,s,e[12],20,-1926607734),r,o,e[5],4,-378558),o=xa(o,s,a,r,e[8],11,-2022574463),r=xa(r,o,s,a,e[11],16,1839030562),a=xa(a,r,o,s,e[14],23,-35309556),s=xa(s,a,r,o,e[1],4,-1530992060),o=xa(o,s,a,r,e[4],11,1272893353),r=xa(r,o,s,a,e[7],16,-155497632),a=xa(a,r,o,s,e[10],23,-1094730640),s=xa(s,a,r,o,e[13],4,681279174),o=xa(o,s,a,r,e[0],11,-358537222),r=xa(r,o,s,a,e[3],16,-722521979),a=xa(a,r,o,s,e[6],23,76029189),s=xa(s,a,r,o,e[9],4,-640364487),o=xa(o,s,a,r,e[12],11,-421815835),r=xa(r,o,s,a,e[15],16,530742520),s=ba(s,a=xa(a,r,o,s,e[2],23,-995338651),r,o,e[0],6,-198630844),o=ba(o,s,a,r,e[7],10,1126891415),r=ba(r,o,s,a,e[14],15,-1416354905),a=ba(a,r,o,s,e[5],21,-57434055),s=ba(s,a,r,o,e[12],6,1700485571),o=ba(o,s,a,r,e[3],10,-1894986606),r=ba(r,o,s,a,e[10],15,-1051523),a=ba(a,r,o,s,e[1],21,-2054922799),s=ba(s,a,r,o,e[8],6,1873313359),o=ba(o,s,a,r,e[15],10,-30611744),r=ba(r,o,s,a,e[6],15,-1560198380),a=ba(a,r,o,s,e[13],21,1309151649),s=ba(s,a,r,o,e[4],6,-145523070),o=ba(o,s,a,r,e[11],10,-1120210379),r=ba(r,o,s,a,e[2],15,718787259),a=ba(a,r,o,s,e[9],21,-343485551),t[0]=Rl(s,t[0]),t[1]=Rl(a,t[1]),t[2]=Rl(r,t[2]),t[3]=Rl(o,t[3])}function Km(t,e,s,a,r,o){return e=Rl(Rl(e,t),Rl(a,o)),Rl(e<<r|e>>>32-r,s)}function pa(t,e,s,a,r,o,c){return Km(e&s|~e&a,t,e,r,o,c)}function ga(t,e,s,a,r,o,c){return Km(e&a|s&~a,t,e,r,o,c)}function xa(t,e,s,a,r,o,c){return Km(e^s^a,t,e,r,o,c)}function ba(t,e,s,a,r,o,c){return Km(s^(e|~a),t,e,r,o,c)}function Yw(t){var e,s=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zp(a,H7(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(zp(a,r),e=0;e<16;e++)r[e]=0;return r[14]=8*s,zp(a,r),a}function H7(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}var Xy="0123456789abcdef".split("");function $7(t){for(var e="",s=0;s<4;s++)e+=Xy[t>>8*s+4&15]+Xy[t>>8*s&15];return e}function V7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Sg(t){return Yw(t).map(V7).join("")}var W7=function(t){for(var e=0;e<t.length;e++)t[e]=$7(t[e]);return t.join("")}(Yw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rl(t,e){if(W7){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _g(t,e){var s,a,r,o;if(t!==s){for(var c=(r=t,o=1+(256/t.length|0),new Array(o+1).join(r)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var p=d[h];f=(f+p+c.charCodeAt(h))%256,d[h]=d[f],d[f]=p}s=t,a=d}else d=a;var x=e.length,w=0,y=0,j="";for(h=0;h<x;h++)y=(y+(p=d[w=(w+1)%256]))%256,d[w]=d[y],d[y]=p,c=d[(d[w]+d[y])%256],j+=String.fromCharCode(e.charCodeAt(h)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Qy={print:4,modify:8,copy:16,"annot-forms":32};function Lu(t,e,s,a){this.v=1,this.r=2;var r=192;t.forEach(function(d){if(Qy.perm!==void 0)throw new Error("Invalid permission: "+d);r+=Qy[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^r)),this.encryptionKey=Sg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=_g(this.encryptionKey,this.padding)}function Du(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",s=t.length,a=0;a<s;a++){var r=t.charCodeAt(a);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[a]}return e}function Zy(t){if(Cs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(s,a,r){if(r=r||!1,typeof s!="string"||typeof a!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(s)||(e[s]={});var o=Math.random().toString(35);return e[s][o]=[a,!!r],o},this.unsubscribe=function(s){for(var a in e)if(e[a][s])return delete e[a][s],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(s){if(e.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[s]){var c=e[s][o];try{c[0].apply(t,a)}catch(d){zt.console&&Ps.error("jsPDF PubSub Error",d.message,d)}c[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mm(t){if(!(this instanceof Mm))return new Mm(t);var e="opacity,stroke-opacity".split(",");for(var s in t)t.hasOwnProperty(s)&&e.indexOf(s)>=0&&(this[s]=t[s]);this.id="",this.objectNumber=-1}function Kw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kc(t,e,s,a,r){if(!(this instanceof kc))return new kc(t,e,s,a,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=s,Kw.call(this,a,r)}function Fu(t,e,s,a,r){if(!(this instanceof Fu))return new Fu(t,e,s,a,r);this.boundingBox=t,this.xStep=e,this.yStep=s,this.stream="",this.cloneIndex=0,Kw.call(this,a,r)}function _t(t){var e,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],r=arguments[2],o=arguments[3],c=[],d=1,h=16,f="S",p=null;Cs(t=t||{})==="object"&&(s=t.orientation,a=t.unit||a,r=t.format||r,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),a=a||"mm",s=(""+(s||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=Zy;var j="1.3",_=y.__private__.getPdfVersion=function(){return j};y.__private__.setPdfVersion=function(A){j=A};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var S=y.__private__.getPageFormat=function(A){return C[A]};r=r||"a4";var L="compat",E="advanced",P=L;function V(){this.saveGraphicsState(),he(new Et(tt,0,0,-tt,0,ja()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),f="n",P=E}function ae(){this.restoreGraphicsState(),f="S",P=L}var G=y.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};y.advancedAPI=function(A){var H=P===L;return H&&V.call(this),typeof A!="function"||(A(this),H&&ae.call(this)),this},y.compatAPI=function(A){var H=P===E;return H&&ae.call(this),typeof A!="function"||(A(this),H&&V.call(this)),this},y.isAdvancedAPI=function(){return P===E};var U,I=function(A){if(P!==E)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=y.roundToPrecision=y.__private__.roundToPrecision=function(A,H){var ue=e||H;if(isNaN(A)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ue).replace(/0+$/,"")};U=y.hpf=y.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(A,16)};var T=y.f2=y.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return ee(A,2)},F=y.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return ee(A,3)},Z=y.scale=y.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return P===L?A*tt:P===E?A:void 0},K=function(A){return Z(function(H){return P===L?ja()-H:P===E?H:void 0}(A))};y.__private__.setPrecision=y.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var fe,R="00000000000000000000000000000000",ie=y.__private__.getFileId=function(){return R},re=y.__private__.setFileId=function(A){return R=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(cs=new Lu(p.userPermissions,p.userPassword,p.ownerPassword,R)),R};y.setFileId=function(A){return re(A),this},y.getFileId=function(){return ie()};var me=y.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),ue=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),Se=Math.abs(H%60),qe=[ue,z(xe),"'",z(Se),"'"].join("");return["D:",A.getFullYear(),z(A.getMonth()+1),z(A.getDate()),z(A.getHours()),z(A.getMinutes()),z(A.getSeconds()),qe].join("")},X=y.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),ue=parseInt(A.substr(6,2),10)-1,xe=parseInt(A.substr(8,2),10),Se=parseInt(A.substr(10,2),10),qe=parseInt(A.substr(12,2),10),Ke=parseInt(A.substr(14,2),10);return new Date(H,ue,xe,Se,qe,Ke,0)},de=y.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=me(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return fe=H},D=y.__private__.getCreationDate=function(A){var H=fe;return A==="jsDate"&&(H=X(fe)),H};y.setCreationDate=function(A){return de(A),this},y.getCreationDate=function(A){return D(A)};var W,z=y.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},$=y.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ne=0,te=[],ge=[],Ne=0,Oe=[],Xe=[],Re=!1,Je=ge;y.__private__.setCustomOutputDestination=function(A){Re=!0,Je=A};var ke=function(A){Re||(Je=A)};y.__private__.resetCustomOutputDestination=function(){Re=!1,Je=ge};var he=y.__private__.out=function(A){return A=A.toString(),Ne+=A.length+1,Je.push(A),Je},Rt=y.__private__.write=function(A){return he(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Te=y.__private__.getArrayBuffer=function(A){for(var H=A.length,ue=new ArrayBuffer(H),xe=new Uint8Array(ue);H--;)xe[H]=A.charCodeAt(H);return ue},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return et};var Fe=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(A){return Fe=P===E?A/tt:A,this};var Ve,Ze=y.__private__.getFontSize=y.getFontSize=function(){return P===L?Fe:Fe*tt},St=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(A){return St=A,this},y.__private__.getR2L=y.getR2L=function(){return St};var xt,Zt=y.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Ve=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Ve=A}else Ve=parseInt(A,10)};y.__private__.getZoomMode=function(){return Ve};var Ye,ct=y.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');xt=A};y.__private__.getPageMode=function(){return xt};var vt=y.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ye=A};y.__private__.getLayoutMode=function(){return Ye},y.__private__.setDisplayMode=y.setDisplayMode=function(A,H,ue){return Zt(A),vt(H),ct(ue),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(A){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[A]},y.__private__.getDocumentProperties=function(){return At},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(A){for(var H in At)At.hasOwnProperty(H)&&A[H]&&(At[H]=A[H]);return this},y.__private__.setDocumentProperty=function(A,H){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[A]=H};var ye,tt,ot,Ht,Yt,it={},kt={},is=[],jt={},ze={},nt={},st={},Ds=null,ss=0,Ft=[],fs=new Zy(y),Dr=t.hotfixes||[],An={},Za={},Ja=[],Et=function A(H,ue,xe,Se,qe,Ke){if(!(this instanceof A))return new A(H,ue,xe,Se,qe,Ke);isNaN(H)&&(H=1),isNaN(ue)&&(ue=0),isNaN(xe)&&(xe=0),isNaN(Se)&&(Se=1),isNaN(qe)&&(qe=0),isNaN(Ke)&&(Ke=0),this._matrix=[H,ue,xe,Se,qe,Ke]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(A)},Et.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,ue=A.sx*this.shy+A.shy*this.sy,xe=A.shx*this.sx+A.sy*this.shx,Se=A.shx*this.shy+A.sy*this.sy,qe=A.tx*this.sx+A.ty*this.shx+this.tx,Ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new Et(H,ue,xe,Se,qe,Ke)},Et.prototype.decompose=function(){var A=this.sx,H=this.shy,ue=this.shx,xe=this.sy,Se=this.tx,qe=this.ty,Ke=Math.sqrt(A*A+H*H),pt=(A/=Ke)*ue+(H/=Ke)*xe;ue-=A*pt,xe-=H*pt;var Nt=Math.sqrt(ue*ue+xe*xe);return pt/=Nt,A*(xe/=Nt)<H*(ue/=Nt)&&(A=-A,H=-H,pt=-pt,Ke=-Ke),{scale:new Et(Ke,0,0,Nt,0,0),translate:new Et(1,0,0,1,Se,qe),rotate:new Et(A,H,-H,A,0,0),skew:new Et(1,0,pt,1,0,0)}},Et.prototype.toString=function(A){return this.join(" ")},Et.prototype.inversed=function(){var A=this.sx,H=this.shy,ue=this.shx,xe=this.sy,Se=this.tx,qe=this.ty,Ke=1/(A*xe-H*ue),pt=xe*Ke,Nt=-H*Ke,Ot=-ue*Ke,$t=A*Ke;return new Et(pt,Nt,Ot,$t,-pt*Se-Ot*qe,-Nt*Se-$t*qe)},Et.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,ue=A.x*this.shy+A.y*this.sy+this.ty;return new fo(H,ue)},Et.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),ue=this.applyToPoint(new fo(A.x+A.w,A.y+A.h));return new mo(H.x,H.y,ue.x-H.x,ue.y-H.y)},Et.prototype.clone=function(){var A=this.sx,H=this.shy,ue=this.shx,xe=this.sy,Se=this.tx,qe=this.ty;return new Et(A,H,ue,xe,Se,qe)},y.Matrix=Et;var qn=y.matrixMult=function(A,H){return H.multiply(A)},Rs=new Et(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Rs;var Ms=function(A,H){if(!ze[A]){var ue=(H instanceof kc?"Sh":"P")+(Object.keys(jt).length+1).toString(10);H.id=ue,ze[A]=ue,jt[ue]=H,fs.publish("addPattern",H)}};y.ShadingPattern=kc,y.TilingPattern=Fu,y.addShadingPattern=function(A,H){return I("addShadingPattern()"),Ms(A,H),this},y.beginTilingPattern=function(A){I("beginTilingPattern()"),nr(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},y.endTilingPattern=function(A,H){I("endTilingPattern()"),H.stream=Xe[W].join(`
`),Ms(A,H),fs.publish("endTilingPattern",H),Ja.pop().restore()};var Fn,Us=y.__private__.newObject=function(){var A=Cn();return On(A,!0),A},Cn=y.__private__.newObjectDeferred=function(){return ne++,te[ne]=function(){return Ne},ne},On=function(A,H){return H=typeof H=="boolean"&&H,te[A]=Ne,H&&he(A+" 0 obj"),A},Mr=y.__private__.newAdditionalObject=function(){var A={objId:Cn(),content:""};return Oe.push(A),A},Da=Cn(),va=Cn(),ea=y.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ue=parseFloat(H[0]);H=[ue,ue,ue,"r"]}for(var xe="#",Se=0;Se<3;Se++)xe+=("0"+Math.floor(255*parseFloat(H[Se])).toString(16)).slice(-2);return xe},Hn=y.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var ue=A.ch1,xe=A.ch2,Se=A.ch3,qe=A.ch4,Ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var pt=new Gw(ue);if(pt.ok)ue=pt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Nt=parseInt(ue.substr(1),16);ue=Nt>>16&255,xe=Nt>>8&255,Se=255&Nt}if(xe===void 0||qe===void 0&&ue===xe&&xe===Se)H=typeof ue=="string"?ue+" "+Ke[0]:A.precision===2?T(ue/255)+" "+Ke[0]:F(ue/255)+" "+Ke[0];else if(qe===void 0||Cs(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Ke[1]].join(" ");H=typeof ue=="string"?[ue,xe,Se,Ke[1]].join(" "):A.precision===2?[T(ue/255),T(xe/255),T(Se/255),Ke[1]].join(" "):[F(ue/255),F(xe/255),F(Se/255),Ke[1]].join(" ")}else H=typeof ue=="string"?[ue,xe,Se,qe,Ke[2]].join(" "):A.precision===2?[T(ue),T(xe),T(Se),T(qe),Ke[2]].join(" "):[F(ue),F(xe),F(Se),F(qe),Ke[2]].join(" ");return H},ta=y.__private__.getFilters=function(){return c},Tn=y.__private__.putStream=function(A){var H=(A=A||{}).data||"",ue=A.filters||ta(),xe=A.alreadyAppliedFilters||[],Se=A.addLength1||!1,qe=H.length,Ke=A.objectId,pt=function(ln){return ln};if(p!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(pt=cs.encryptor(Ke,0));var Nt={};ue===!0&&(ue=["FlateEncode"]);var Ot=A.additionalKeyValues||[],$t=(Nt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(H,ue):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Nt.data.length!==0&&(Ot.push({key:"Length",value:Nt.data.length}),Se===!0&&Ot.push({key:"Length1",value:qe})),$t.length!=0)if($t.split("/").length-1==1)Ot.push({key:"Filter",value:$t});else{Ot.push({key:"Filter",value:"["+$t+"]"});for(var ls=0;ls<Ot.length;ls+=1)if(Ot[ls].key==="DecodeParms"){for(var Hs=[],on=0;on<Nt.reverseChain.split("/").length-1;on+=1)Hs.push("null");Hs.push(Ot[ls].value),Ot[ls].value="["+Hs.join(" ")+"]"}}he("<<");for(var ws=0;ws<Ot.length;ws++)he("/"+Ot[ws].key+" "+Ot[ws].value);he(">>"),Nt.data.length!==0&&(he("stream"),he(pt(Nt.data)),he("endstream"))},Is=y.__private__.putPage=function(A){var H=A.number,ue=A.data,xe=A.objId,Se=A.contentsObjId;On(xe,!0),he("<</Type /Page"),he("/Parent "+A.rootDictionaryObjId+" 0 R"),he("/Resources "+A.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(U(A.mediaBox.bottomLeftX))+" "+parseFloat(U(A.mediaBox.bottomLeftY))+" "+U(A.mediaBox.topRightX)+" "+U(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&he("/CropBox ["+U(A.cropBox.bottomLeftX)+" "+U(A.cropBox.bottomLeftY)+" "+U(A.cropBox.topRightX)+" "+U(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&he("/BleedBox ["+U(A.bleedBox.bottomLeftX)+" "+U(A.bleedBox.bottomLeftY)+" "+U(A.bleedBox.topRightX)+" "+U(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&he("/TrimBox ["+U(A.trimBox.bottomLeftX)+" "+U(A.trimBox.bottomLeftY)+" "+U(A.trimBox.topRightX)+" "+U(A.trimBox.topRightY)+"]"),A.artBox!==null&&he("/ArtBox ["+U(A.artBox.bottomLeftX)+" "+U(A.artBox.bottomLeftY)+" "+U(A.artBox.topRightX)+" "+U(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&he("/UserUnit "+A.userUnit),fs.publish("putPage",{objId:xe,pageContext:Ft[H],pageNumber:H,page:ue}),he("/Contents "+Se+" 0 R"),he(">>"),he("endobj");var qe=ue.join(`
`);return P===E&&(qe+=`
Q`),On(Se,!0),Tn({data:qe,filters:ta(),objectId:Se}),he("endobj"),xe},ei=y.__private__.putPages=function(){var A,H,ue=[];for(A=1;A<=ss;A++)Ft[A].objId=Cn(),Ft[A].contentsObjId=Cn();for(A=1;A<=ss;A++)ue.push(Is({number:A,data:Xe[A],objId:Ft[A].objId,contentsObjId:Ft[A].contentsObjId,mediaBox:Ft[A].mediaBox,cropBox:Ft[A].cropBox,bleedBox:Ft[A].bleedBox,trimBox:Ft[A].trimBox,artBox:Ft[A].artBox,userUnit:Ft[A].userUnit,rootDictionaryObjId:Da,resourceDictionaryObjId:va}));On(Da,!0),he("<</Type /Pages");var xe="/Kids [";for(H=0;H<ss;H++)xe+=ue[H]+" 0 R ";he(xe+"]"),he("/Count "+ss),he(">>"),he("endobj"),fs.publish("postPutPages")},Fr=function(A){fs.publish("putFont",{font:A,out:he,newObject:Us,putStream:Tn}),A.isAlreadyPutted!==!0&&(A.objectNumber=Us(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Du(A.postScriptName)),he("/Subtype /Type1"),typeof A.encoding=="string"&&he("/Encoding /"+A.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},Ma=function(A){A.objectNumber=Us();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[U(A.x),U(A.y),U(A.x+A.width),U(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ue=A.pages[1].join(`
`);Tn({data:ue,additionalKeyValues:H,objectId:A.objectNumber}),he("endobj")},ti=function(A,H){H||(H=21);var ue=Us(),xe=function(Ke,pt){var Nt,Ot=[],$t=1/(pt-1);for(Nt=0;Nt<1;Nt+=$t)Ot.push(Nt);if(Ot.push(1),Ke[0].offset!=0){var ls={offset:0,color:Ke[0].color};Ke.unshift(ls)}if(Ke[Ke.length-1].offset!=1){var Hs={offset:1,color:Ke[Ke.length-1].color};Ke.push(Hs)}for(var on="",ws=0,ln=0;ln<Ot.length;ln++){for(Nt=Ot[ln];Nt>Ke[ws+1].offset;)ws++;var cn=Ke[ws].offset,Pn=(Nt-cn)/(Ke[ws+1].offset-cn),ar=Ke[ws].color,Ur=Ke[ws+1].color;on+=$(Math.round((1-Pn)*ar[0]+Pn*Ur[0]).toString(16))+$(Math.round((1-Pn)*ar[1]+Pn*Ur[1]).toString(16))+$(Math.round((1-Pn)*ar[2]+Pn*Ur[2]).toString(16))}return on.trim()}(A.colors,H),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+H+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tn({data:xe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),he("endobj"),A.objectNumber=Us(),he("<< /ShadingType "+A.type),he("/ColorSpace /DeviceRGB");var qe="/Coords ["+U(parseFloat(A.coords[0]))+" "+U(parseFloat(A.coords[1]))+" ";A.type===2?qe+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3])):qe+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3]))+" "+U(parseFloat(A.coords[4]))+" "+U(parseFloat(A.coords[5])),he(qe+="]"),A.matrix&&he("/Matrix ["+A.matrix.toString()+"]"),he("/Function "+ue+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},Vo=function(A,H){var ue=Cn(),xe=Us();H.push({resourcesOid:ue,objectOid:xe}),A.objectNumber=xe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+A.boundingBox.map(U).join(" ")+"]"}),Se.push({key:"XStep",value:U(A.xStep)}),Se.push({key:"YStep",value:U(A.yStep)}),Se.push({key:"Resources",value:ue+" 0 R"}),A.matrix&&Se.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Tn({data:A.stream,additionalKeyValues:Se,objectId:A.objectNumber}),he("endobj")},qc=function(A){for(var H in A.objectNumber=Us(),he("<<"),A)switch(H){case"opacity":he("/ca "+T(A[H]));break;case"stroke-opacity":he("/CA "+T(A[H]))}he(">>"),he("endobj")},Wo=function(A){On(A.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in he("/Font <<"),it)it.hasOwnProperty(H)&&(x===!1||x===!0&&w.hasOwnProperty(H))&&he("/"+H+" "+it[H].objectNumber+" 0 R");he(">>")}(),function(){if(Object.keys(jt).length>0){for(var H in he("/Shading <<"),jt)jt.hasOwnProperty(H)&&jt[H]instanceof kc&&jt[H].objectNumber>=0&&he("/"+H+" "+jt[H].objectNumber+" 0 R");fs.publish("putShadingPatternDict"),he(">>")}}(),function(H){if(Object.keys(jt).length>0){for(var ue in he("/Pattern <<"),jt)jt.hasOwnProperty(ue)&&jt[ue]instanceof y.TilingPattern&&jt[ue].objectNumber>=0&&jt[ue].objectNumber<H&&he("/"+ue+" "+jt[ue].objectNumber+" 0 R");fs.publish("putTilingPatternDict"),he(">>")}}(A.objectOid),function(){if(Object.keys(nt).length>0){var H;for(H in he("/ExtGState <<"),nt)nt.hasOwnProperty(H)&&nt[H].objectNumber>=0&&he("/"+H+" "+nt[H].objectNumber+" 0 R");fs.publish("putGStateDict"),he(">>")}}(),function(){for(var H in he("/XObject <<"),An)An.hasOwnProperty(H)&&An[H].objectNumber>=0&&he("/"+H+" "+An[H].objectNumber+" 0 R");fs.publish("putXobjectDict"),he(">>")}(),he(">>"),he("endobj")},Hc=function(A){kt[A.fontName]=kt[A.fontName]||{},kt[A.fontName][A.fontStyle]=A.id},oo=function(A,H,ue,xe,Se){var qe={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:ue,encoding:xe,isStandardFont:Se||!1,metadata:{}};return fs.publish("addFont",{font:qe,instance:this}),it[qe.id]=qe,Hc(qe),qe.id},sa=y.__private__.pdfEscape=y.pdfEscape=function(A,H){return function(ue,xe){var Se,qe,Ke,pt,Nt,Ot,$t,ls,Hs;if(Ke=(xe=xe||{}).sourceEncoding||"Unicode",Nt=xe.outputEncoding,(xe.autoencode||Nt)&&it[ye].metadata&&it[ye].metadata[Ke]&&it[ye].metadata[Ke].encoding&&(pt=it[ye].metadata[Ke].encoding,!Nt&&it[ye].encoding&&(Nt=it[ye].encoding),!Nt&&pt.codePages&&(Nt=pt.codePages[0]),typeof Nt=="string"&&(Nt=pt[Nt]),Nt)){for($t=!1,Ot=[],Se=0,qe=ue.length;Se<qe;Se++)(ls=Nt[ue.charCodeAt(Se)])?Ot.push(String.fromCharCode(ls)):Ot.push(ue[Se]),Ot[Se].charCodeAt(0)>>8&&($t=!0);ue=Ot.join("")}for(Se=ue.length;$t===void 0&&Se!==0;)ue.charCodeAt(Se-1)>>8&&($t=!0),Se--;if(!$t)return ue;for(Ot=xe.noBOM?[]:[254,255],Se=0,qe=ue.length;Se<qe;Se++){if((Hs=(ls=ue.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(Hs),Ot.push(ls-(Hs<<8))}return String.fromCharCode.apply(void 0,Ot)}(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wa=y.__private__.beginPage=function(A){Xe[++ss]=[],Ft[ss]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ji(ss),ke(Xe[W])},Go=function(A,H){var ue,xe,Se;switch(s=H||s,typeof A=="string"&&(ue=S(A.toLowerCase()),Array.isArray(ue)&&(xe=ue[0],Se=ue[1])),Array.isArray(A)&&(xe=A[0]*tt,Se=A[1]*tt),isNaN(xe)&&(xe=r[0],Se=r[1]),(xe>14400||Se>14400)&&(Ps.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Se=Math.min(14400,Se)),r=[xe,Se],s.substr(0,1)){case"l":Se>xe&&(r=[Se,xe]);break;case"p":xe>Se&&(r=[Se,xe])}wa(r),Ql(Si),he(tr),ii!==0&&he(ii+" J"),Br!==0&&he(Br+" j"),fs.publish("addPage",{pageNumber:ss})},Yo=function(A){A>0&&A<=ss&&(Xe.splice(A,1),Ft.splice(A,1),ss--,W>ss&&(W=ss),this.setPage(W))},Ji=function(A){A>0&&A<=ss&&(W=A)},Ko=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Xe.length-1},Xo=function(A,H,ue){var xe,Se=void 0;return ue=ue||{},A=A!==void 0?A:it[ye].fontName,H=H!==void 0?H:it[ye].fontStyle,xe=A.toLowerCase(),kt[xe]!==void 0&&kt[xe][H]!==void 0?Se=kt[xe][H]:kt[A]!==void 0&&kt[A][H]!==void 0?Se=kt[A][H]:ue.disableWarning===!1&&Ps.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),Se||ue.noFallback||(Se=kt.times[H])==null&&(Se=kt.times.normal),Se},Qo=y.__private__.putInfo=function(){var A=Us(),H=function(xe){return xe};for(var ue in p!==null&&(H=cs.encryptor(A,0)),he("<<"),he("/Producer ("+sa(H("jsPDF "+_t.version))+")"),At)At.hasOwnProperty(ue)&&At[ue]&&he("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+sa(H(At[ue]))+")");he("/CreationDate ("+sa(H(fe))+")"),he(">>"),he("endobj")},$c=y.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||Da;switch(Us(),he("<<"),he("/Type /Catalog"),he("/Pages "+H+" 0 R"),Ve||(Ve="fullwidth"),Ve){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ve;ue.substr(ue.length-1)==="%"&&(Ve=parseInt(Ve)/100),typeof Ve=="number"&&he("/OpenAction [3 0 R /XYZ null null "+T(Ve)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}xt&&he("/PageMode /"+xt),fs.publish("putCatalog"),he(">>"),he("endobj")},ms=y.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ne+1)),he("/Root "+ne+" 0 R"),he("/Info "+(ne-1)+" 0 R"),p!==null&&he("/Encrypt "+cs.oid+" 0 R"),he("/ID [ <"+R+"> <"+R+"> ]"),he(">>")},Vl=y.__private__.putHeader=function(){he("%PDF-"+j),he("%")},Vc=y.__private__.putXRef=function(){var A="0000000000";he("xref"),he("0 "+(ne+1)),he("0000000000 65535 f ");for(var H=1;H<=ne;H++)typeof te[H]=="function"?he((A+te[H]()).slice(-10)+" 00000 n "):te[H]!==void 0?he((A+te[H]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Fa=y.__private__.buildDocument=function(){var A;ne=0,Ne=0,ge=[],te=[],Oe=[],Da=Cn(),va=Cn(),ke(ge),fs.publish("buildDocument"),Vl(),ei(),function(){fs.publish("putAdditionalObjects");for(var ue=0;ue<Oe.length;ue++){var xe=Oe[ue];On(xe.objId,!0),he(xe.content),he("endobj")}fs.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ue in it)it.hasOwnProperty(ue)&&(x===!1||x===!0&&w.hasOwnProperty(ue))&&Fr(it[ue])}(),function(){var ue;for(ue in nt)nt.hasOwnProperty(ue)&&qc(nt[ue])}(),function(){for(var ue in An)An.hasOwnProperty(ue)&&Ma(An[ue])}(),function(ue){var xe;for(xe in jt)jt.hasOwnProperty(xe)&&(jt[xe]instanceof kc?ti(jt[xe]):jt[xe]instanceof Fu&&Vo(jt[xe],ue))}(A),fs.publish("putResources"),A.forEach(Wo),Wo({resourcesOid:va,objectOid:Number.MAX_SAFE_INTEGER}),fs.publish("postPutResources"),p!==null&&(cs.oid=Us(),he("<<"),he("/Filter /Standard"),he("/V "+cs.v),he("/R "+cs.r),he("/U <"+cs.toHexString(cs.U)+">"),he("/O <"+cs.toHexString(cs.O)+">"),he("/P "+cs.P),he(">>"),he("endobj")),Qo(),$c();var H=Ne;return Vc(),ms(),he("startxref"),he(""+H),he("%%EOF"),ke(Xe[W]),ge.join(`
`)},Or=y.__private__.getBlob=function(A){return new Blob([Te(A)],{type:"application/pdf"})},fa=y.output=y.__private__.output=(Fn=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return Fa();case"save":y.save(H.filename);break;case"arraybuffer":return Te(Fa());case"blob":return Or(Fa());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(Or(Fa()))||void 0;Ps.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",xe=Fa();try{ue=Ky(xe)}catch{ue=Ky(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Se=H.pdfObjectUrl,qe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",pt=zt.open();return pt!==null&&pt.document.write(Ke),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ot=zt.open();if(Ot!==null){Ot.document.write(Nt);var $t=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=H.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ls='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Hs=zt.open();if(Hs!==null&&(Hs.document.write(ls),Hs.document.title=H.filename),Hs||typeof safari>"u")return Hs;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",H);default:return null}},Fn.foo=function(){try{return Fn.apply(this,arguments)}catch(ue){var A=ue.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ue.message;if(!zt.console)throw new Error(H);zt.console.error(H,ue),zt.alert&&alert(H)}},Fn.foo.bar=Fn,Fn.foo),lo=function(A){return Array.isArray(Dr)===!0&&Dr.indexOf(A)>-1};switch(a){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);tt=a}var cs=null;de(),re();var co=y.__private__.getPageInfo=y.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[A].objId,pageNumber:A,pageContext:Ft[A]}},Wc=y.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ft)if(Ft[H].objId===A)break;return co(H)},Wl=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ft[W].objId,pageNumber:W,pageContext:Ft[W]}};y.addPage=function(){return Go.apply(this,arguments),this},y.setPage=function(){return Ji.apply(this,arguments),ke.call(this,Xe[W]),this},y.insertPage=function(A){return this.addPage(),this.movePage(W,A),this},y.movePage=function(A,H){var ue,xe;if(A>H){ue=Xe[A],xe=Ft[A];for(var Se=A;Se>H;Se--)Xe[Se]=Xe[Se-1],Ft[Se]=Ft[Se-1];Xe[H]=ue,Ft[H]=xe,this.setPage(H)}else if(A<H){ue=Xe[A],xe=Ft[A];for(var qe=A;qe<H;qe++)Xe[qe]=Xe[qe+1],Ft[qe]=Ft[qe+1];Xe[H]=ue,Ft[H]=xe,this.setPage(H)}return this},y.deletePage=function(){return Yo.apply(this,arguments),this},y.__private__.text=y.text=function(A,H,ue,xe,Se){var qe,Ke,pt,Nt,Ot,$t,ls,Hs,on,ws=(xe=xe||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof ue=="string"||Array.isArray(ue))){var ln=ue;ue=H,H=A,A=ln}if(arguments[3]instanceof Et==0?(pt=arguments[4],Nt=arguments[5],Cs(ls=arguments[3])==="object"&&ls!==null||(typeof pt=="string"&&(Nt=pt,pt=null),typeof ls=="string"&&(Nt=ls,ls=null),typeof ls=="number"&&(pt=ls,ls=null),xe={flags:ls,angle:pt,align:Nt})):(I("The transform parameter of text() with a Matrix value"),on=Se),isNaN(H)||isNaN(ue)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return ws;var cn,Pn="",ar=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Oa,Ur=ws.internal.scaleFactor;function Zu(ps){return ps=ps.split("	").join(Array(xe.TabLen||9).join(" ")),sa(ps,ls)}function Kc(ps){for(var Ns,Fs=ps.concat(),$s=[],Bi=Fs.length;Bi--;)typeof(Ns=Fs.shift())=="string"?$s.push(Ns):Array.isArray(ps)&&(Ns.length===1||Ns[1]===void 0&&Ns[2]===void 0)?$s.push(Ns[0]):$s.push([Ns[0],Ns[1],Ns[2]]);return $s}function po(ps,Ns){var Fs;if(typeof ps=="string")Fs=Ns(ps)[0];else if(Array.isArray(ps)){for(var $s,Bi,Ra=ps.concat(),ia=[],xo=Ra.length;xo--;)typeof($s=Ra.shift())=="string"?ia.push(Ns($s)[0]):Array.isArray($s)&&typeof $s[0]=="string"&&(Bi=Ns($s[0],$s[1],$s[2]),ia.push([Bi[0],Bi[1],Bi[2]]));Fs=ia}return Fs}var oi=!1,ec=!0;if(typeof A=="string")oi=!0;else if(Array.isArray(A)){var Ir=A.concat();Ke=[];for(var Ta,kn=Ir.length;kn--;)(typeof(Ta=Ir.shift())!="string"||Array.isArray(Ta)&&typeof Ta[0]!="string")&&(ec=!1);oi=ec}if(oi===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ei=Fe/ws.internal.scaleFactor,Li=Ei*(ar-1);switch(xe.baseline){case"bottom":ue-=Li;break;case"top":ue+=Ei-Li;break;case"hanging":ue+=Ei-2*Li;break;case"middle":ue+=Ei/2-Li}if(($t=xe.maxWidth||0)>0&&(typeof A=="string"?A=ws.splitTextToSize(A,$t):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(ps,Ns){return ps.concat(ws.splitTextToSize(Ns,$t))},[]))),qe={text:A,x:H,y:ue,options:xe,mutex:{pdfEscape:sa,activeFontKey:ye,fonts:it,activeFontSize:Fe}},fs.publish("preProcessText",qe),A=qe.text,pt=(xe=qe.options).angle,on instanceof Et==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,xe.rotationDirection===0&&(pt=-pt),P===E&&(pt=-pt);var go=Math.cos(pt),tl=Math.sin(pt);on=new Et(go,tl,-tl,go,0,0)}else pt&&pt instanceof Et&&(on=pt);P!==E||on||(on=Rs),(Ot=xe.charSpace||ho)!==void 0&&(Pn+=U(Z(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hs=xe.horizontalScale)!==void 0&&(Pn+=U(100*Hs)+` Tz
`),xe.lang;var Vn=-1,ir=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,sl=ws.internal.getCurrentPageInfo().pageContext;switch(ir){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var Xc=sl.usedRenderingMode!==void 0?sl.usedRenderingMode:-1;Vn!==-1?Pn+=Vn+` Tr
`:Xc!==-1&&(Pn+=`0 Tr
`),Vn!==-1&&(sl.usedRenderingMode=Vn),Nt=xe.align||"left";var mn,Sa=Fe*ar,nl=ws.internal.pageSize.getWidth(),rr=it[ye];Ot=xe.charSpace||ho,$t=xe.maxWidth||0,ls=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Pa=[],al=function(ps){return ws.getStringUnitWidth(ps,{font:rr,charSpace:Ot,fontSize:Fe,doKerning:!1})*Fe/Ur};if(Object.prototype.toString.call(A)==="[object Array]"){var Bn;Ke=Kc(A),Nt!=="left"&&(mn=Ke.map(al));var na,zr=0;if(Nt==="right"){H-=mn[0],A=[],kn=Ke.length;for(var Ba=0;Ba<kn;Ba++)Ba===0?(na=ai(H),Bn=Na(ue)):(na=Z(zr-mn[Ba]),Bn=-Sa),A.push([Ke[Ba],na,Bn]),zr=mn[Ba]}else if(Nt==="center"){H-=mn[0]/2,A=[],kn=Ke.length;for(var Di=0;Di<kn;Di++)Di===0?(na=ai(H),Bn=Na(ue)):(na=Z((zr-mn[Di])/2),Bn=-Sa),A.push([Ke[Di],na,Bn]),zr=mn[Di]}else if(Nt==="left"){A=[],kn=Ke.length;for(var il=0;il<kn;il++)A.push(Ke[il])}else if(Nt==="justify"&&rr.encoding==="Identity-H"){A=[],kn=Ke.length,$t=$t!==0?$t:nl;for(var or=0,Ys=0;Ys<kn;Ys++)if(Bn=Ys===0?Na(ue):-Sa,na=Ys===0?ai(H):or,Ys<kn-1){var Ju=Z(($t-mn[Ys])/(Ke[Ys].split(" ").length-1)),Mi=Ke[Ys].split(" ");A.push([Mi[0]+" ",na,Bn]),or=0;for(var Fi=1;Fi<Mi.length;Fi++){var rl=(al(Mi[Fi-1]+" "+Mi[Fi])-al(Mi[Fi]))*Ur+Ju;Fi==Mi.length-1?A.push([Mi[Fi],rl,0]):A.push([Mi[Fi]+" ",rl,0]),or-=rl}}else A.push([Ke[Ys],na,Bn]);A.push(["",or,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],kn=Ke.length,$t=$t!==0?$t:nl,Ys=0;Ys<kn;Ys++)Bn=Ys===0?Na(ue):-Sa,na=Ys===0?ai(H):0,Ys<kn-1?Pa.push(U(Z(($t-mn[Ys])/(Ke[Ys].split(" ").length-1)))):Pa.push(0),A.push([Ke[Ys],na,Bn])}}(typeof xe.R2L=="boolean"?xe.R2L:St)===!0&&(A=po(A,function(ps,Ns,Fs){return[ps.split("").reverse().join(""),Ns,Fs]})),qe={text:A,x:H,y:ue,options:xe,mutex:{pdfEscape:sa,activeFontKey:ye,fonts:it,activeFontSize:Fe}},fs.publish("postProcessText",qe),A=qe.text,cn=qe.mutex.isHex||!1;var tc=it[ye].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(A=po(A,function(ps,Ns,Fs){return[Zu(ps),Ns,Fs]})),Ke=Kc(A),A=[];for(var En,Oi,qr,Hr=Array.isArray(Ke[0])?1:0,Ti="",ol=function(ps,Ns,Fs){var $s="";return Fs instanceof Et?(Fs=typeof xe.angle=="number"?qn(Fs,new Et(1,0,0,1,ps,Ns)):qn(new Et(1,0,0,1,ps,Ns),Fs),P===E&&(Fs=qn(new Et(1,0,0,-1,0,0),Fs)),$s=Fs.join(" ")+` Tm
`):$s=U(ps)+" "+U(Ns)+` Td
`,$s},aa=0;aa<Ke.length;aa++){switch(Ti="",Hr){case 1:qr=(cn?"<":"(")+Ke[aa][0]+(cn?">":")"),En=parseFloat(Ke[aa][1]),Oi=parseFloat(Ke[aa][2]);break;case 0:qr=(cn?"<":"(")+Ke[aa]+(cn?">":")"),En=ai(H),Oi=Na(ue)}Pa!==void 0&&Pa[aa]!==void 0&&(Ti=Pa[aa]+` Tw
`),aa===0?A.push(Ti+ol(En,Oi,on)+qr):Hr===0?A.push(Ti+qr):Hr===1&&A.push(Ti+ol(En,Oi,on)+qr)}A=Hr===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Pi=`BT
/`;return Pi+=ye+" "+Fe+` Tf
`,Pi+=U(Fe*ar)+` TL
`,Pi+=Ai+`
`,Pi+=Pn,Pi+=A,he(Pi+="ET"),w[ye]=!0,ws};var Tr=y.__private__.clip=y.clip=function(A){return he(A==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Tr("evenodd")},y.__private__.discardPath=y.discardPath=function(){return he("n"),this};var si=y.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(A){return si(A)&&(f=A),this};var Gl=y.__private__.getStyle=y.getStyle=function(A){var H=f;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},er=y.close=function(){return he("h"),this};y.stroke=function(){return he("S"),this},y.fill=function(A){return Pr("f",A),this},y.fillEvenOdd=function(A){return Pr("f*",A),this},y.fillStroke=function(A){return Pr("B",A),this},y.fillStrokeEvenOdd=function(A){return Pr("B*",A),this};var Pr=function(A,H){Cs(H)==="object"?Yl(H,A):he(A)},Zo=function(A){A===null||P===E&&A===void 0||(A=Gl(A),he(A))};function Gc(A,H,ue,xe,Se){var qe=new Fu(H||this.boundingBox,ue||this.xStep,xe||this.yStep,this.gState,Se||this.matrix);qe.stream=this.stream;var Ke=A+"$$"+this.cloneIndex+++"$$";return Ms(Ke,qe),qe}var Yl=function(A,H){var ue=ze[A.key],xe=jt[ue];if(xe instanceof kc)he("q"),he(Qu(H)),xe.gState&&y.setGState(xe.gState),he(A.matrix.toString()+" cm"),he("/"+ue+" sh"),he("Q");else if(xe instanceof Fu){var Se=new Et(1,0,0,-1,0,ja());A.matrix&&(Se=Se.multiply(A.matrix||Rs),ue=Gc.call(xe,A.key,A.boundingBox,A.xStep,A.yStep,Se).id),he("q"),he("/Pattern cs"),he("/"+ue+" scn"),xe.gState&&y.setGState(xe.gState),he(H),he("Q")}},Qu=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Kl=y.moveTo=function(A,H){return he(U(Z(A))+" "+U(K(H))+" m"),this},Ni=y.lineTo=function(A,H){return he(U(Z(A))+" "+U(K(H))+" l"),this},ji=y.curveTo=function(A,H,ue,xe,Se,qe){return he([U(Z(A)),U(K(H)),U(Z(ue)),U(K(xe)),U(Z(Se)),U(K(qe)),"c"].join(" ")),this};y.__private__.line=y.line=function(A,H,ue,xe,Se){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(xe)||!si(Se))throw new Error("Invalid arguments passed to jsPDF.line");return P===L?this.lines([[ue-A,xe-H]],A,H,[1,1],Se||"S"):this.lines([[ue-A,xe-H]],A,H,[1,1]).stroke()},y.__private__.lines=y.lines=function(A,H,ue,xe,Se,qe){var Ke,pt,Nt,Ot,$t,ls,Hs,on,ws,ln,cn,Pn;if(typeof A=="number"&&(Pn=ue,ue=H,H=A,A=Pn),xe=xe||[1,1],qe=qe||!1,isNaN(H)||isNaN(ue)||!Array.isArray(A)||!Array.isArray(xe)||!si(Se)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kl(H,ue),Ke=xe[0],pt=xe[1],Ot=A.length,ln=H,cn=ue,Nt=0;Nt<Ot;Nt++)($t=A[Nt]).length===2?(ln=$t[0]*Ke+ln,cn=$t[1]*pt+cn,Ni(ln,cn)):(ls=$t[0]*Ke+ln,Hs=$t[1]*pt+cn,on=$t[2]*Ke+ln,ws=$t[3]*pt+cn,ln=$t[4]*Ke+ln,cn=$t[5]*pt+cn,ji(ls,Hs,on,ws,ln,cn));return qe&&er(),Zo(Se),this},y.path=function(A){for(var H=0;H<A.length;H++){var ue=A[H],xe=ue.c;switch(ue.op){case"m":Kl(xe[0],xe[1]);break;case"l":Ni(xe[0],xe[1]);break;case"c":ji.apply(this,xe);break;case"h":er()}}return this},y.__private__.rect=y.rect=function(A,H,ue,xe,Se){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(xe)||!si(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return P===L&&(xe=-xe),he([U(Z(A)),U(K(H)),U(Z(ue)),U(Z(xe)),"re"].join(" ")),Zo(Se),this},y.__private__.triangle=y.triangle=function(A,H,ue,xe,Se,qe,Ke){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(xe)||isNaN(Se)||isNaN(qe)||!si(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-A,xe-H],[Se-ue,qe-xe],[A-Se,H-qe]],A,H,[1,1],Ke,!0),this},y.__private__.roundedRect=y.roundedRect=function(A,H,ue,xe,Se,qe,Ke){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(xe)||isNaN(Se)||isNaN(qe)||!si(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ue),qe=Math.min(qe,.5*xe),this.lines([[ue-2*Se,0],[Se*pt,0,Se,qe-qe*pt,Se,qe],[0,xe-2*qe],[0,qe*pt,-Se*pt,qe,-Se,qe],[2*Se-ue,0],[-Se*pt,0,-Se,-qe*pt,-Se,-qe],[0,2*qe-xe],[0,-qe*pt,Se*pt,-qe,Se,-qe]],A+Se,H,[1,1],Ke,!0),this},y.__private__.ellipse=y.ellipse=function(A,H,ue,xe,Se){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(xe)||!si(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ue,Ke=4/3*(Math.SQRT2-1)*xe;return Kl(A+ue,H),ji(A+ue,H-Ke,A+qe,H-xe,A,H-xe),ji(A-qe,H-xe,A-ue,H-Ke,A-ue,H),ji(A-ue,H+Ke,A-qe,H+xe,A,H+xe),ji(A+qe,H+xe,A+ue,H+Ke,A+ue,H),Zo(Se),this},y.__private__.circle=y.circle=function(A,H,ue,xe){if(isNaN(A)||isNaN(H)||isNaN(ue)||!si(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,ue,ue,xe)},y.setFont=function(A,H,ue){return ue&&(H=G(H,ue)),ye=Xo(A,H,{disableWarning:!1}),this};var Xl=y.__private__.getFont=y.getFont=function(){return it[Xo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var A,H,ue={};for(A in kt)if(kt.hasOwnProperty(A))for(H in ue[A]=[],kt[A])kt[A].hasOwnProperty(H)&&ue[A].push(H);return ue},y.addFont=function(A,H,ue,xe,Se){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ue=G(ue,xe)),oo.call(this,A,H,ue,Se=Se||"Identity-H")};var Oa,Si=t.lineWidth||.200025,Tt=y.__private__.getLineWidth=y.getLineWidth=function(){return Si},Ql=y.__private__.setLineWidth=y.setLineWidth=function(A){return Si=A,he(U(Z(A))+" w"),this};y.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ue){return U(Z(ue))}).join(" "),H=U(Z(H)),he("["+A+"] "+H+" d"),this};var Yc=y.__private__.getLineHeight=y.getLineHeight=function(){return Fe*Oa};y.__private__.getLineHeight=y.getLineHeight=function(){return Fe*Oa};var uo=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Oa=A),this},ni=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Oa};uo(t.lineHeight);var ai=y.__private__.getHorizontalCoordinate=function(A){return Z(A)},Na=y.__private__.getVerticalCoordinate=function(A){return P===E?A:Ft[W].mediaBox.topRightY-Ft[W].mediaBox.bottomLeftY-Z(A)},_i=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(A){return U(ai(A))},Zl=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(A){return U(Na(A))},tr=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return ea(tr)},y.__private__.setStrokeColor=y.setDrawColor=function(A,H,ue,xe){return tr=Hn({ch1:A,ch2:H,ch3:ue,ch4:xe,pdfColorType:"draw",precision:2}),he(tr),this};var Jo=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return ea(Jo)},y.__private__.setFillColor=y.setFillColor=function(A,H,ue,xe){return Jo=Hn({ch1:A,ch2:H,ch3:ue,ch4:xe,pdfColorType:"fill",precision:2}),he(Jo),this};var Ai=t.textColor||"0 g",sr=y.__private__.getTextColor=y.getTextColor=function(){return ea(Ai)};y.__private__.setTextColor=y.setTextColor=function(A,H,ue,xe){return Ai=Hn({ch1:A,ch2:H,ch3:ue,ch4:xe,pdfColorType:"text",precision:3}),this};var ho=t.charSpace,$n=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(ho||0)};y.__private__.setCharSpace=y.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ho=A,this};var ii=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(A){var H=y.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ii=H,he(H+" J"),this};var Br=0;y.__private__.setLineJoin=y.setLineJoin=function(A){var H=y.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Br=H,he(H+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(U(Z(A))+" M"),this},y.GState=Mm,y.setGState=function(A){(A=typeof A=="string"?nt[st[A]]:ri(null,A)).equals(Ds)||(he("/"+A.id+" gs"),Ds=A)};var ri=function(A,H){if(!A||!st[A]){var ue=!1;for(var xe in nt)if(nt.hasOwnProperty(xe)&&nt[xe].equals(H)){ue=!0;break}if(ue)H=nt[xe];else{var Se="GS"+(Object.keys(nt).length+1).toString(10);nt[Se]=H,H.id=Se}return A&&(st[A]=H.id),fs.publish("addGState",H),H}};y.addGState=function(A,H){return ri(A,H),this},y.saveGraphicsState=function(){return he("q"),is.push({key:ye,size:Fe,color:Ai}),this},y.restoreGraphicsState=function(){he("Q");var A=is.pop();return ye=A.key,Fe=A.size,Ai=A.color,Ds=null,this},y.setCurrentTransformationMatrix=function(A){return he(A.toString()+" cm"),this},y.comment=function(A){return he("#"+A),this};var fo=function(A,H){var ue=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(qe){isNaN(qe)||(ue=parseFloat(qe))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(qe){isNaN(qe)||(xe=parseFloat(qe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(qe){Se=qe.toString()}}),this},mo=function(A,H,ue,xe){fo.call(this,A,H),this.type="rect";var Se=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ke){isNaN(Ke)||(Se=parseFloat(Ke))}});var qe=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ke){isNaN(Ke)||(qe=parseFloat(Ke))}}),this},Rr=function(){this.page=ss,this.currentPage=W,this.pages=Xe.slice(0),this.pagesContext=Ft.slice(0),this.x=ot,this.y=Ht,this.matrix=Yt,this.width=el(W),this.height=ja(W),this.outputDestination=Je,this.id="",this.objectNumber=-1};Rr.prototype.restore=function(){ss=this.page,W=this.currentPage,Ft=this.pagesContext,Xe=this.pages,ot=this.x,Ht=this.y,Yt=this.matrix,Jl(W,this.width),ki(W,this.height),Je=this.outputDestination};var nr=function(A,H,ue,xe,Se){Ja.push(new Rr),ss=W=0,Xe=[],ot=A,Ht=H,Yt=Se,wa([ue,xe])};for(var Ci in y.beginFormObject=function(A,H,ue,xe,Se){return nr(A,H,ue,xe,Se),this},y.endFormObject=function(A){return function(H){if(Za[H])Ja.pop().restore();else{var ue=new Rr,xe="Xo"+(Object.keys(An).length+1).toString(10);ue.id=xe,Za[H]=xe,An[xe]=ue,fs.publish("addFormObject",ue),Ja.pop().restore()}}(A),this},y.doFormObject=function(A,H){var ue=An[Za[A]];return he("q"),he(H.toString()+" cm"),he("/"+ue.id+" Do"),he("Q"),this},y.getFormObject=function(A){var H=An[Za[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},y.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Cc(Or(Fa()),A),typeof Cc.unload=="function"&&zt.setTimeout&&setTimeout(Cc.unload,911),this):new Promise(function(ue,xe){try{var Se=Cc(Or(Fa()),A);typeof Cc.unload=="function"&&zt.setTimeout&&setTimeout(Cc.unload,911),ue(Se)}catch(qe){xe(qe.message)}})},_t.API)_t.API.hasOwnProperty(Ci)&&(Ci==="events"&&_t.API.events.length?function(A,H){var ue,xe,Se;for(Se=H.length-1;Se!==-1;Se--)ue=H[Se][0],xe=H[Se][1],A.subscribe.apply(A,[ue].concat(typeof xe=="function"?[xe]:xe))}(fs,_t.API.events):y[Ci]=_t.API[Ci]);var el=y.getPageWidth=function(A){return(Ft[A=A||W].mediaBox.topRightX-Ft[A].mediaBox.bottomLeftX)/tt},Jl=y.setPageWidth=function(A,H){Ft[A].mediaBox.topRightX=H*tt+Ft[A].mediaBox.bottomLeftX},ja=y.getPageHeight=function(A){return(Ft[A=A||W].mediaBox.topRightY-Ft[A].mediaBox.bottomLeftY)/tt},ki=y.setPageHeight=function(A,H){Ft[A].mediaBox.topRightY=H*tt+Ft[A].mediaBox.bottomLeftY};return y.internal={pdfEscape:sa,getStyle:Gl,getFont:Xl,getFontSize:Ze,getCharSpace:$n,getTextColor:sr,getLineHeight:Yc,getLineHeightFactor:ni,getLineWidth:Tt,write:Rt,getHorizontalCoordinate:ai,getVerticalCoordinate:Na,getCoordinateString:_i,getVerticalCoordinateString:Zl,collections:{},newObject:Us,newAdditionalObject:Mr,newObjectDeferred:Cn,newObjectDeferredBegin:On,getFilters:ta,putStream:Tn,events:fs,scaleFactor:tt,pageSize:{getWidth:function(){return el(W)},setWidth:function(A){Jl(W,A)},getHeight:function(){return ja(W)},setHeight:function(A){ki(W,A)}},encryptionOptions:p,encryption:cs,getEncryptor:function(A){return p!==null?cs.encryptor(A,0):function(H){return H}},output:fa,getNumberOfPages:Ko,pages:Xe,out:he,f2:T,f3:F,getPageInfo:co,getPageInfoByObjId:Wc,getCurrentPageInfo:Wl,getPDFVersion:_,Point:fo,Rectangle:mo,Matrix:Et,hasHotfix:lo},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return el(W)},set:function(A){Jl(W,A)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ja(W)},set:function(A){ki(W,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,ue=et.length;H<ue;H++){var xe=oo.call(this,A[H][0],A[H][1],A[H][2],et[H][3],!0);x===!1&&(w[xe]=!0);var Se=A[H][0].split("-");Hc({id:xe,fontName:Se[0],fontStyle:Se[1]||""})}fs.publish("addFonts",{fonts:it,dictionary:kt})}).call(y,et),ye="F1",Go(r,s),fs.publish("initialized"),y}Lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(String.fromCharCode(parseInt(t.substr(s,2),16)));return e.join("")},Lu.prototype.processOwnerPassword=function(t,e){return _g(Sg(e).substr(0,5),t)},Lu.prototype.encryptor=function(t,e){var s=Sg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return _g(s,a)}},Mm.prototype.equals=function(t){var e,s="id,objectNumber,equals";if(!t||Cs(t)!==Cs(this))return!1;var a=0;for(e in this)if(!(s.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&s.indexOf(e)<0&&a--;return a===0},_t.API={events:[]},_t.version="3.0.2";var fn=_t.API,rx=1,zc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ku=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},Ol=function(t){return t.toFixed(5)};fn.__acroform__={};var Qa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Jy=function(t){return t*rx},no=function(t){var e=new Qw,s=yt.internal.getHeight(t)||0,a=yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(a)),Number(Vt(s))],e},G7=fn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Y7=fn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},K7=fn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Nn=fn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return K7(t,e-1)},jn=fn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G7(t,e-1)},Sn=fn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y7(t,e-1)},X7=fn.__acroform__.calculateCoordinates=function(t,e){var s=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,r=t[0],o=t[1],c=t[2],d=t[3],h={};return h.lowerLeft_X=s(r)||0,h.lowerLeft_Y=a(o+d)||0,h.upperRight_X=s(r+c)||0,h.upperRight_Y=a(o)||0,[Number(Vt(h.lowerLeft_X)),Number(Vt(h.lowerLeft_Y)),Number(Vt(h.upperRight_X)),Number(Vt(h.upperRight_Y))]},Q7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],s=t._V||t.DV,a=Ag(t,s),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Vt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=no(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Ag=function(t,e){var s=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(T){return T.split(`
`)}):r.map(function(T){return[T]});var o=s,c=yt.internal.getHeight(t)||0;c=c<0?-c:c;var d=yt.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(T,F,Z){if(T+1<r.length){var K=F+" "+r[T+1][0];return Jf(K,t,Z).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var f,p,x=Jf("3",t,o).height,w=t.multiline?c-o:(c-x)/2,y=w+=2,j=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jf(e,t,o=12).width+", FieldWidth:"+d+`
`;break}for(var S="",L=0,E=0;E<r.length;E++)if(r.hasOwnProperty(E)){var P=!1;if(r[E].length!==1&&C!==r[E].length-1){if((x+2)*(L+2)+2>c)continue e;S+=r[E][C],P=!0,_=E,E--}else{S=(S+=r[E][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var V=parseInt(E),ae=h(V,S,o),G=E>=r.length-1;if(ae&&!G){S+=" ",C=0;continue}if(ae||G){if(G)_=V;else if(t.multiline&&(x+2)*(L+2)+2>c)continue e}else{if(!t.multiline||(x+2)*(L+2)+2>c)continue e;_=V}}for(var U="",I=j;I<=_;I++){var ee=r[I];if(t.multiline){if(I===_){U+=ee[C]+" ",C=(C+1)%ee.length;continue}if(I===j){U+=ee[ee.length-1]+" ";continue}}U+=ee[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,p=Jf(U,t,o).width,t.textAlign){case"right":f=d-p-2;break;case"center":f=(d-p)/2;break;default:f=2}e+=Vt(f)+" "+Vt(y)+` Td
`,e+="("+zc(U)+`) Tj
`,e+=-Vt(f)+` 0 Td
`,y=-(o+2),p=0,j=P?_:_+1,L++,S=""}break}return a.text=e,a.fontSize=o,a},Jf=function(t,e,s){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:r}},Z7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J7=function(t,e){var s={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(s)},eE=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Er.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Z7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rx=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Zw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in a)if(a.hasOwnProperty(r)){var o=a[r];o.objId=void 0,o.hasAnnotation&&J7(o,s)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(s){(function(a,r){var o=!a;for(var c in a||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var d=a[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=X7(d.Rect,r)),r.internal.newObjectDeferredBegin(d.objId,!0),d.DA=yt.createDefaultAppearanceStream(d),Cs(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=Q7(d);h.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var x="";for(var w in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(w)){var y=d.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var c in y)if(y.hasOwnProperty(c)){var j=y[c];typeof j=="function"&&(j=j.call(r,d)),x+="/"+c+" "+j+" ",r.internal.acroformPlugin.xForms.indexOf(j)>=0||r.internal.acroformPlugin.xForms.push(j)}}else typeof(j=y)=="function"&&(j=j.call(r,d)),x+="/"+c+" "+j,r.internal.acroformPlugin.xForms.indexOf(j)>=0||r.internal.acroformPlugin.xForms.push(j);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:d.objId}),r.internal.out("endobj")}o&&function(_,C){for(var S in _)if(_.hasOwnProperty(S)){var L=S,E=_[S];C.internal.newObjectDeferredBegin(E.objId,!0),Cs(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete _[L]}}(r.internal.acroformPlugin.xForms,r)})(s,t)}),t.internal.acroformPlugin.isInitialized=!0}},Xw=fn.__acroform__.arrayToPdfArray=function(t,e,s){var a=function(c){return c};if(Array.isArray(t)){for(var r="[",o=0;o<t.length;o++)switch(o!==0&&(r+=" "),Cs(t[o])){case"boolean":case"number":case"object":r+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&s&&(a=s.internal.getEncryptor(e)),r+="("+zc(a(t[o].toString()))+")"):r+=t[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qp=function(t,e,s){var a=function(r){return r};return e!==void 0&&s&&(a=s.internal.getEncryptor(e)),(t=t||"").toString(),"("+zc(a(t))+")"},io=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};io.prototype.toString=function(){return this.objId+" 0 R"},io.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},io.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var s in e)if(Object.getOwnPropertyDescriptor(this,e[s]).configurable===!1){var a=e[s],r=this[a];r&&(Array.isArray(r)?t.push({key:a,value:Xw(r,this.objId,this.scope)}):r instanceof io?(r.scope=this.scope,t.push({key:a,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:a,value:r}))}return t};var Qw=function(){io.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){t=s.trim()},get:function(){return t||null}})};Qa(Qw,io);var Zw=function(){io.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+zc(s(t))+")"}},set:function(s){t=s}})};Qa(Zw,io);var Er=function t(){io.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nn(e,3)},set:function(S){S?this.F=jn(e,3):this.F=Sn(e,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');s=S}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(S){a=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(S){a[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(S){a[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(S){a[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(S){a[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Fm)return;o="FieldObject"+t.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+zc(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/rx:f},set:function(S){f=S}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Fm||this instanceof Fc))return qp(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Qn==0?qp(w,this.objId,this.scope):w},set:function(S){S=S.toString(),w=this instanceof Qn==0?S.substr(0,1)==="("?ku(S.substr(1,S.length-2)):ku(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?ku(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof Qn==1?"/"+S:S}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Qn==0?qp(y,this.objId,this.scope):y},set:function(S){S=S.toString(),y=this instanceof Qn==0?S.substr(0,1)==="("?ku(S.substr(1,S.length-2)):ku(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn==1?ku(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof Qn==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(S){S=!!S,_=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(S){j=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,1)},set:function(S){S?this.Ff=jn(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,2)},set:function(S){S?this.Ff=jn(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,3)},set:function(S){S?this.Ff=jn(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Qa(Er,io);var Pu=function(){Er.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){t=s}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xw(e,this.objId,this.scope)},set:function(s){var a,r;r=[],typeof(a=s)=="string"&&(r=function(o,c,d){d||(d=1);for(var h,f=[];h=c.exec(o);)f.push(h[d]);return f}(a,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(s){e=s,this.sort&&e.sort()},this.addOption=function(s){s=(s=s||"").toString(),e.push(s),this.sort&&e.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();e.indexOf(s)!==-1&&(e.splice(e.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,18)},set:function(s){s?this.Ff=jn(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=jn(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,20)},set:function(s){s?(this.Ff=jn(this.Ff,20),e.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,22)},set:function(s){s?this.Ff=jn(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(s){s?this.Ff=jn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,27)},set:function(s){s?this.Ff=jn(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qa(Pu,Er);var Bu=function(){Pu.call(this),this.fontName="helvetica",this.combo=!1};Qa(Bu,Pu);var Ru=function(){Bu.call(this),this.combo=!0};Qa(Ru,Bu);var fm=function(){Ru.call(this),this.edit=!0};Qa(fm,Ru);var Qn=function(){Er.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,15)},set:function(s){s?this.Ff=jn(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,16)},set:function(s){s?this.Ff=jn(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,17)},set:function(s){s?this.Ff=jn(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(s){s?this.Ff=jn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,r=[];for(a in r.push("<<"),e)r.push("/"+a+" ("+zc(s(e[a]))+")");return r.push(">>"),r.join(`
`)}},set:function(s){Cs(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}})};Qa(Qn,Er);var mm=function(){Qn.call(this),this.pushButton=!0};Qa(mm,Qn);var Uu=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qa(Uu,Qn);var Fm=function(){var t,e;Er.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(d){return d};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),a)c.push("/"+o+" ("+zc(r(a[o]))+")");return c.push(">>"),c.join(`
`)},set:function(r){Cs(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qa(Fm,Er),Uu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var s=this.Kids[e];s.appearanceStreamContent=t.createAppearanceStream(s.optionName),s.caption=t.getCA()}},Uu.prototype.createOption=function(t){var e=new Fm;return e.Parent=this,e.optionName=t,this.Kids.push(e),tE.call(this.scope,e),e};var pm=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Qa(pm,Qn);var Fc=function(){Er.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,13)},set:function(e){e?this.Ff=jn(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,21)},set:function(e){e?this.Ff=jn(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(e){e?this.Ff=jn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,24)},set:function(e){e?this.Ff=jn(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,25)},set:function(e){e?this.Ff=jn(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(e){e?this.Ff=jn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qa(Fc,Er);var gm=function(){Fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,14)},set:function(t){t?this.Ff=jn(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};Qa(gm,Fc);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=no(t);e.scope=t.scope;var s=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=Ag(t,t.caption);return s.push("0.749023 g"),s.push("0 0 "+Vt(yt.internal.getWidth(t))+" "+Vt(yt.internal.getHeight(t))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+Vt(o.fontSize)+" Tf "+r),s.push("BT"),s.push(o.text),s.push("ET"),s.push("Q"),s.push("EMC"),e.stream=s.join(`
`),e},YesNormal:function(t){var e=no(t);e.scope=t.scope;var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),r=[],o=yt.internal.getHeight(t),c=yt.internal.getWidth(t),d=Ag(t,t.caption);return r.push("1 g"),r.push("0 0 "+Vt(c)+" "+Vt(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Vt(c-1)+" "+Vt(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+s+" "+Vt(d.fontSize)+" Tf "+a),r.push(d.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=no(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Vt(yt.internal.getWidth(t))+" "+Vt(yt.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Circle.YesNormal,e.D[t]=yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=no(t);e.scope=t.scope;var s=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=yt.internal.Bezier_C,o=Number((a*r).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Ol(yt.internal.getWidth(t)/2)+" "+Ol(yt.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),s.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),s.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),s.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=no(t);e.scope=t.scope;var s=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=Number((2*a).toFixed(5)),o=Number((r*yt.internal.Bezier_C).toFixed(5)),c=Number((a*yt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ol(yt.internal.getWidth(t)/2)+" "+Ol(yt.internal.getHeight(t)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),s.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),s.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),s.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Ol(yt.internal.getWidth(t)/2)+" "+Ol(yt.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),s.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),s.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),s.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=no(t);e.scope=t.scope;var s=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=Number((2*a).toFixed(5)),o=Number((r*yt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ol(yt.internal.getWidth(t)/2)+" "+Ol(yt.internal.getHeight(t)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),s.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),s.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),s.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Cross.YesNormal,e.D[t]=yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=no(t);e.scope=t.scope;var s=[],a=yt.internal.calculateCross(t);return s.push("q"),s.push("1 1 "+Vt(yt.internal.getWidth(t)-2)+" "+Vt(yt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Vt(a.x1.x)+" "+Vt(a.x1.y)+" m"),s.push(Vt(a.x2.x)+" "+Vt(a.x2.y)+" l"),s.push(Vt(a.x4.x)+" "+Vt(a.x4.y)+" m"),s.push(Vt(a.x3.x)+" "+Vt(a.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=no(t);e.scope=t.scope;var s=yt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Vt(yt.internal.getWidth(t))+" "+Vt(yt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Vt(yt.internal.getWidth(t)-2)+" "+Vt(yt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Vt(s.x1.x)+" "+Vt(s.x1.y)+" m"),a.push(Vt(s.x2.x)+" "+Vt(s.x2.y)+" l"),a.push(Vt(s.x4.x)+" "+Vt(s.x4.y)+" m"),a.push(Vt(s.x3.x)+" "+Vt(s.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=no(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Vt(yt.internal.getWidth(t))+" "+Vt(yt.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+s}};yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=yt.internal.getWidth(t),s=yt.internal.getHeight(t),a=Math.min(e,s);return{x1:{x:(e-a)/2,y:(s-a)/2+a},x2:{x:(e-a)/2+a,y:(s-a)/2},x3:{x:(e-a)/2,y:(s-a)/2},x4:{x:(e-a)/2+a,y:(s-a)/2+a}}}},yt.internal.getWidth=function(t){var e=0;return Cs(t)==="object"&&(e=Jy(t.Rect[2])),e},yt.internal.getHeight=function(t){var e=0;return Cs(t)==="object"&&(e=Jy(t.Rect[3])),e};var tE=fn.addField=function(t){if(eE(this,t),!(t instanceof Er))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fn.AcroFormChoiceField=Pu,fn.AcroFormListBox=Bu,fn.AcroFormComboBox=Ru,fn.AcroFormEditBox=fm,fn.AcroFormButton=Qn,fn.AcroFormPushButton=mm,fn.AcroFormRadioButton=Uu,fn.AcroFormCheckBox=pm,fn.AcroFormTextField=Fc,fn.AcroFormPasswordField=gm,fn.AcroFormAppearance=yt,fn.AcroForm={ChoiceField:Pu,ListBox:Bu,ComboBox:Ru,EditBox:fm,Button:Qn,PushButton:mm,RadioButton:Uu,CheckBox:pm,TextField:Fc,PasswordField:gm,Appearance:yt},_t.AcroForm={ChoiceField:Pu,ListBox:Bu,ComboBox:Ru,EditBox:fm,Button:Qn,PushButton:mm,RadioButton:Uu,CheckBox:pm,TextField:Fc,PasswordField:gm,Appearance:yt};_t.AcroForm;function Jw(t){return t.reduce(function(e,s,a){return e[s]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var s="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,F){var Z,K,fe,R,ie,re=s;if((F=F||s)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(ae(T))for(ie in a)for(fe=a[ie],Z=0;Z<fe.length;Z+=1){for(R=!0,K=0;K<fe[Z].length;K+=1)if(fe[Z][K]!==void 0&&fe[Z][K]!==T[K]){R=!1;break}if(R===!0){re=ie;break}}else for(ie in a)for(fe=a[ie],Z=0;Z<fe.length;Z+=1){for(R=!0,K=0;K<fe[Z].length;K+=1)if(fe[Z][K]!==void 0&&fe[Z][K]!==T.charCodeAt(K)){R=!1;break}if(R===!0){re=ie;break}}return re===s&&F!==s&&(re=F),re},o=function T(F){for(var Z=this.internal.write,K=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:F.width}),R.push({key:"Height",value:F.height}),F.colorSpace===S.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===S.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var ie="",re=0,me=F.transparency.length;re<me;re++)ie+=F.transparency[re]+" "+F.transparency[re]+" ";R.push({key:"Mask",value:"["+ie+"]"})}F.sMask!==void 0&&R.push({key:"SMask",value:F.objectId+1+" 0 R"});var X=F.filter!==void 0?["/"+F.filter]:void 0;if(K({data:F.data,additionalKeyValues:R,alreadyAppliedFilters:X,objectId:F.objectId}),Z("endobj"),"sMask"in F&&F.sMask!==void 0){var de=(F.predictor!=null?"/Predictor "+F.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+F.width,D={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:de,data:F.sMask};"filter"in F&&(D.filter=F.filter),T.call(this,D)}if(F.colorSpace===S.INDEXED){var W=this.internal.newObject();K({data:U(new Uint8Array(F.palette)),objectId:W}),Z("endobj")}},c=function(){var T=this.internal.collections[e+"images"];for(var F in T)o.call(this,T[F])},d=function(){var T,F=this.internal.collections[e+"images"],Z=this.internal.write;for(var K in F)Z("/I"+(T=F[K]).index,T.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var T=this.internal.collections[e+"images"];return h.call(this),T},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(T){return typeof t["process"+T.toUpperCase()]=="function"},w=function(T){return Cs(T)==="object"&&T.nodeType===1},y=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var Z=""+T.getAttribute("src");if(Z.indexOf("data:image/")===0)return hm(unescape(Z).split("base64,").pop());var K=t.loadFile(Z,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var fe;switch(F){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return hm(T.toDataURL(fe,1).split("base64,").pop())}},j=function(T){var F=this.internal.collections[e+"images"];if(F){for(var Z in F)if(T===F[Z].alias)return F[Z]}},_=function(T,F,Z){return T||F||(T=-96,F=-96),T<0&&(T=-1*Z.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*Z.height*72/F/this.internal.scaleFactor),T===0&&(T=F*Z.width/Z.height),F===0&&(F=T*Z.height/Z.width),[T,F]},C=function(T,F,Z,K,fe,R){var ie=_.call(this,Z,K,fe),re=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,X=f.call(this);if(Z=ie[0],K=ie[1],X[fe.index]=fe,R){R*=Math.PI/180;var de=Math.cos(R),D=Math.sin(R),W=function($){return $.toFixed(4)},z=[W(de),W(D),W(-1*D),W(de),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,re(T),me(F+K),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([re(Z),"0","0",re(K),"0","0","cm"].join(" "))):this.internal.write([re(Z),"0","0",re(K),re(T),me(F+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(T){var F,Z,K=0;if(typeof T=="string")for(Z=T.length,F=0;F<Z;F++)K=(K<<5)-K+T.charCodeAt(F),K|=0;else if(ae(T))for(Z=T.byteLength/2,F=0;F<Z;F++)K=(K<<5)-K+T[F],K|=0;return K},P=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},V=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},G=t.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,Z=new Uint8Array(F),K=0;K<F;K++)Z[K]=T.charCodeAt(K);return Z},U=t.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",Z=ae(T)?T:new Uint8Array(T),K=0;K<Z.length;K+=8192)F+=String.fromCharCode.apply(null,Z.subarray(K,K+8192));return F};t.addImage=function(){var T,F,Z,K,fe,R,ie,re,me;if(typeof arguments[1]=="number"?(F=s,Z=arguments[1],K=arguments[2],fe=arguments[3],R=arguments[4],ie=arguments[5],re=arguments[6],me=arguments[7]):(F=arguments[1],Z=arguments[2],K=arguments[3],fe=arguments[4],R=arguments[5],ie=arguments[6],re=arguments[7],me=arguments[8]),Cs(T=arguments[0])==="object"&&!w(T)&&"imageData"in T){var X=T;T=X.imageData,F=X.format||F||s,Z=X.x||Z||0,K=X.y||K||0,fe=X.w||X.width||fe,R=X.h||X.height||R,ie=X.alias||ie,re=X.compression||re,me=X.rotation||X.angle||me}var de=this.internal.getFilters();if(re===void 0&&de.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(Z)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var D=I.call(this,T,F,ie,re);return C.call(this,Z,K,fe,R,D,me),this};var I=function(T,F,Z,K){var fe,R,ie;if(typeof T=="string"&&r(T)===s){T=unescape(T);var re=ee(T,!1);(re!==""||(re=t.loadFile(T,!0))!==void 0)&&(T=re)}if(w(T)&&(T=y(T,F)),F=r(T,F),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ie=Z)==null||ie.length===0)&&(Z=function(me){return typeof me=="string"||ae(me)?E(me):ae(me.data)?E(me.data):null}(T)),(fe=j.call(this,Z))||(T instanceof Uint8Array||F==="RGBA"||(R=T,T=G(T)),fe=this["process"+F.toUpperCase()](T,p.call(this),Z,function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:L.NONE}(K),R)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},ee=t.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var Z,K="";if(typeof T=="string"){var fe;Z=(fe=V(T))!==null&&fe!==void 0?fe:T;try{K=hm(Z)}catch(R){if(F)throw P(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(T){var F,Z,K="";if(w(T)&&(T=y(T)),typeof T=="string"&&r(T)===s&&((K=ee(T,!1))===""&&(K=t.loadFile(T)||""),T=K),Z=r(T),!x(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(T instanceof Uint8Array||(T=G(T)),!(F=this["process"+Z.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Z,F}})(_t.API),function(t){var e=function(s){if(s!==void 0&&s!="")return!0};_t.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(s){for(var a,r,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(s.objId),f=s.pageContext.annotations,p=!1,x=0;x<f.length&&!p;x++)switch((a=f[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){a=f[w];var y=this.internal.pdfEscape,j=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(_.objId),L=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+y(S(a.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+y(S(L))+") >>",_.content=o;var E=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+c(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+E,a.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var P=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+y(j(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var V=this.annotations._nameMap[a.options.name];a.options.pageNumber=V.page,a.options.top=V.y}else a.options.top||(a.options.top=0);if(r="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+y(j(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var ae=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+ae+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},t.link=function(s,a,r,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(s),y:f(a),w:h(s+r),h:f(a+o)},options:c,type:"link"})},t.textWithLink=function(s,a,r,o){var c,d,h=this.getTextWidth(s),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var p=this.splitTextToSize(s,d).length;c=Math.ceil(f*p)}else d=h,c=f;return this.text(s,a,r,o),r+=.2*f,o.align==="center"&&(a-=h/2),o.align==="right"&&(a-=h),this.link(a,r-f,d,c,o),h},t.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}}(_t.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},d=t.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&r.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(_){var C=0,S=s,L="",E=0;for(C=0;C<_.length;C+=1)S[_.charCodeAt(C)]!==void 0?(E++,typeof(S=S[_.charCodeAt(C)])=="number"&&(L+=String.fromCharCode(S),S=s,E=0),C===_.length-1&&(S=s,L+=_.charAt(C-(E-1)),C-=E-1,E=0)):(S=s,L+=_.charAt(C-E),C-=E,E=0);return L};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&a[_.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(_,C,S){return c(_)?o(_)===!1?-1:!f(_)||!c(C)&&!c(S)||!c(S)&&d(C)||d(_)&&!c(C)||d(_)&&h(C)||d(_)&&d(C)?0:p(_)&&c(C)&&!d(C)&&c(S)&&f(S)?3:d(_)||!c(S)?1:2:-1},y=function(_){var C=0,S=0,L=0,E="",P="",V="",ae=(_=_||"").split("\\s+"),G=[];for(C=0;C<ae.length;C+=1){for(G.push(""),S=0;S<ae[C].length;S+=1)E=ae[C][S],P=ae[C][S-1],V=ae[C][S+1],c(E)?(L=w(E,P,V),G[C]+=L!==-1?String.fromCharCode(e[E.charCodeAt(0)][L]):E):G[C]+=E;G[C]=x(G[C])}return G.join(" ")},j=t.__arabicParser__.processArabic=t.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var L=0;for(S=[],L=0;L<C.length;L+=1)Array.isArray(C[L])?S.push([y(C[L][0]),C[L][1],C[L][2]]):S.push([y(C[L])]);_=S}else _=y(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",j])}(_t.API),_t.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(d){s=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(s,a){var r;if((s=s||"2d")!=="2d")return null;for(r in a)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=a[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(t){var e={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(_){w=_}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(_){j=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){a.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,y=0,j=0,_=0,C=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=f.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(E,P){return E.concat(C.splitTextToSize(P,S))},[])):h=Array.isArray(h)?h:[h];for(var L=0;L<h.length;L++)y<(_=this.getStringUnitWidth(h[L],{font:x})*p)&&(y=_);return y!==0&&(j=h.length),{w:y/=w,h:Math.max((j*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,y&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,s===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,p,x,w){if(a.call(this),!p)throw new Error("No data for PDF table.");var y,j,_,C,S=[],L=[],E=[],P={},V={},ae=[],G=[],U=(w=w||{}).autoSize||!1,I=w.printHeaders!==!1,ee=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,T=w.margins||Object.assign({width:this.getPageWidth()},e),F=typeof w.padding=="number"?w.padding:3,Z=w.headerBackgroundColor||"#c8c8c8",K=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=K,this.setFontSize(ee),x==null)L=S=Object.keys(p[0]),E=S.map(function(){return"left"});else if(Array.isArray(x)&&Cs(x[0])==="object")for(S=x.map(function(X){return X.name}),L=x.map(function(X){return X.prompt||X.name||""}),E=x.map(function(X){return X.align||"left"}),y=0;y<x.length;y+=1)V[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(L=S=x,E=S.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<S.length;y+=1){for(P[C=S[y]]=p.map(function(X){return X[C]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(L[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=P[C],this.setFont(void 0,"normal"),_=0;_<j.length;_+=1)ae.push(this.getTextDimensions(j[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[C]=Math.max.apply(null,ae)+F+F,ae=[]}if(I){var fe={};for(y=0;y<S.length;y+=1)fe[S[y]]={},fe[S[y]].text=L[y],fe[S[y]].align=E[y];var R=d.call(this,fe,V);G=S.map(function(X){return new o(h,f,V[X],R,fe[X].text,void 0,fe[X].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ie=x.reduce(function(X,de){return X[de.name]=de.align,X},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var re=d.call(this,p[y],V);for(_=0;_<S.length;_+=1){var me=p[y][S[_]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:_,data:me},this),c.call(this,new o(h,f,V[S[_]],re,me,y+2,ie[S[_]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(y){var j=h[y];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/w+p+p},this).reduce(function(y,j){return Math.max(y,j)},0)};t.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=h;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(j)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),s=!1}}(_t.API);var eN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Cg=Jw(tN),sN=[100,200,300,400,500,600,700,800,900],sE=Jw(sN);function Hp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),s=function(o){return eN[o=o||"normal"]?o:"normal"}(t.style),a=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),r=function(o){return typeof Cg[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:s,weight:a,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,s,a].join(" ")}}}function ev(t,e,s,a){var r;for(r=s;r>=0&&r<e.length;r+=a)if(t[e[r]])return t[e[r]];for(r=s;r>=0&&r<e.length;r-=a)if(t[e[r]])return t[e[r]]}var nE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function nv(t){return t.trimLeft()}function aE(t,e){for(var s=0;s<t.length;){if(t.charAt(s)===e)return[t.substring(0,s),t.substring(s+1)];s+=1}return null}function iE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var em,av,iv,Eu,tm,rv,ov,lv,$p=["times"];function cv(t,e,s,a){var r=4,o=dv;switch(a){case _t.API.image_compression.FAST:r=1,o=uv;break;case _t.API.image_compression.MEDIUM:r=6,o=hv;break;case _t.API.image_compression.SLOW:r=9,o=fv}t=function(d,h,f,p){for(var x,w=d.length/h,y=new Uint8Array(d.length+w),j=[rE,uv,dv,hv,fv],_=0;_<w;_+=1){var C=_*h,S=d.subarray(C,C+h);if(p)y.set(p(S,f,x),C+_);else{for(var L=j.length,E=[],P=0;P<L;P+=1)E[P]=j[P](S,f,x);var V=lE(E.concat());y.set(E[V],C+_)}x=S}return y}(t,e,s,o);var c=vg(t,{level:r});return _t.API.__addimage__.arrayBufferToBinaryString(c)}function rE(t){var e=Array.apply([],t);return e.unshift(0),e}function uv(t,e){var s=t.length,a=[];a[0]=1;for(var r=0;r<s;r+=1){var o=t[r-e]||0;a[r+1]=t[r]-o+256&255}return a}function dv(t,e,s){var a=t.length,r=[];r[0]=2;for(var o=0;o<a;o+=1){var c=s&&s[o]||0;r[o+1]=t[o]-c+256&255}return r}function hv(t,e,s){var a=t.length,r=[];r[0]=3;for(var o=0;o<a;o+=1){var c=t[o-e]||0,d=s&&s[o]||0;r[o+1]=t[o]+256-(c+d>>>1)&255}return r}function fv(t,e,s){var a=t.length,r=[];r[0]=4;for(var o=0;o<a;o+=1){var c=oE(t[o-e]||0,s&&s[o]||0,s&&s[o-e]||0);r[o+1]=t[o]-c+256&255}return r}function oE(t,e,s){if(t===e&&e===s)return t;var a=Math.abs(e-s),r=Math.abs(t-s),o=Math.abs(t+e-s-s);return a<=r&&a<=o?t:r<=o?e:s}function lE(t){var e=t.map(function(s){return s.reduce(function(a,r){return a+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function Vp(t,e,s){var a=e*s,r=Math.floor(a/8),o=16-(a-8*r+s),c=(1<<s)-1;return nN(t,r)>>o&c}function mv(t,e,s,a){var r=s*a,o=Math.floor(r/8),c=16-(r-8*o+a),d=(1<<a)-1,h=(e&d)<<c;(function(f,p,x){if(p+1<f.byteLength)f.setUint16(p,x,!1);else{var w=x>>8&255;f.setUint8(p,w)}})(t,o,nN(t,o)&~(d<<c)&65535|h)}function nN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function cE(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,r=t[e++],o=r>>7,c=1<<1+(7&r);t[e++],t[e++];var d=null,h=null;o&&(d=e,h=c,e+=3*c);var f=!0,p=[],x=0,w=null,y=0,j=null;for(this.width=s,this.height=a;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,j=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];x=t[e++]|t[e++]<<8,w=t[e++],1&_||(w=null),y=_>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,P=t[e++],V=P>>6&1,ae=1<<1+(7&P),G=d,U=h,I=!1;P>>7&&(I=!0,G=e,U=ae,e+=3*ae);var ee=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}p.push({x:C,y:S,width:L,height:E,has_local_palette:I,palette_offset:G,palette_size:U,data_offset:ee,data_length:e-ee,transparent_index:w,interlaced:!!V,delay:x,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,Z){var K=this.frameInfo(F),fe=K.width*K.height,R=new Uint8Array(fe);pv(t,K.data_offset,R,fe);var ie=K.palette_offset,re=K.transparent_index;re===null&&(re=256);var me=K.width,X=s-me,de=me,D=4*(K.y*s+K.x),W=4*((K.y+K.height)*s+K.x),z=D,$=4*X;K.interlaced===!0&&($+=4*s*7);for(var ne=8,te=0,ge=R.length;te<ge;++te){var Ne=R[te];if(de===0&&(de=me,(z+=$)>=W&&($=4*X+4*s*(ne-1),z=D+(me+X)*(ne<<1),ne>>=1)),Ne===re)z+=4;else{var Oe=t[ie+3*Ne],Xe=t[ie+3*Ne+1],Re=t[ie+3*Ne+2];Z[z++]=Re,Z[z++]=Xe,Z[z++]=Oe,Z[z++]=255}--de}},this.decodeAndBlitFrameRGBA=function(F,Z){var K=this.frameInfo(F),fe=K.width*K.height,R=new Uint8Array(fe);pv(t,K.data_offset,R,fe);var ie=K.palette_offset,re=K.transparent_index;re===null&&(re=256);var me=K.width,X=s-me,de=me,D=4*(K.y*s+K.x),W=4*((K.y+K.height)*s+K.x),z=D,$=4*X;K.interlaced===!0&&($+=4*s*7);for(var ne=8,te=0,ge=R.length;te<ge;++te){var Ne=R[te];if(de===0&&(de=me,(z+=$)>=W&&($=4*X+4*s*(ne-1),z=D+(me+X)*(ne<<1),ne>>=1)),Ne===re)z+=4;else{var Oe=t[ie+3*Ne],Xe=t[ie+3*Ne+1],Re=t[ie+3*Ne+2];Z[z++]=Oe,Z[z++]=Xe,Z[z++]=Re,Z[z++]=255}--de}}}function pv(t,e,s,a){for(var r=t[e++],o=1<<r,c=o+1,d=c+1,h=r+1,f=(1<<h)-1,p=0,x=0,w=0,y=t[e++],j=new Int32Array(4096),_=null;;){for(;p<16&&y!==0;)x|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<h)break;var C=x&f;if(x>>=h,p-=h,C!==o){if(C===c)break;for(var S=C<d?C:_,L=0,E=S;E>o;)E=j[E]>>8,++L;var P=E;if(w+L+(S!==C?1:0)>a)return void Ps.log("Warning, gif stream longer than expected.");s[w++]=P;var V=w+=L;for(S!==C&&(s[w++]=P),E=S;L--;)E=j[E],s[--V]=255&E,E>>=8;_!==null&&d<4096&&(j[d++]=_<<8|P,d>=f+1&&h<12&&(++h,f=f<<1|1)),_=C}else d=c+1,f=(1<<(h=r+1))-1,_=null}return w!==a&&Ps.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wp(t){var e,s,a,r,o,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),x=new Array(65535),w=new Array(65535),y=new Array(64),j=new Array(64),_=[],C=0,S=7,L=new Array(64),E=new Array(64),P=new Array(64),V=new Array(256),ae=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(D,W){for(var z=0,$=0,ne=new Array,te=1;te<=16;te++){for(var ge=1;ge<=D[te];ge++)ne[W[$]]=[],ne[W[$]][0]=z,ne[W[$]][1]=te,$++,z++;z*=2}return ne}function ie(D){for(var W=D[0],z=D[1]-1;z>=0;)W&1<<z&&(C|=1<<S),z--,--S<0&&(C==255?(re(255),re(0)):re(C),S=7,C=0)}function re(D){_.push(D)}function me(D){re(D>>8&255),re(255&D)}function X(D,W,z,$,ne){for(var te,ge=ne[0],Ne=ne[240],Oe=function(Fe,Ve){var Ze,St,xt,Zt,Ye,ct,vt,At,ye,tt,ot=0;for(ye=0;ye<8;++ye){Ze=Fe[ot],St=Fe[ot+1],xt=Fe[ot+2],Zt=Fe[ot+3],Ye=Fe[ot+4],ct=Fe[ot+5],vt=Fe[ot+6];var Ht=Ze+(At=Fe[ot+7]),Yt=Ze-At,it=St+vt,kt=St-vt,is=xt+ct,jt=xt-ct,ze=Zt+Ye,nt=Zt-Ye,st=Ht+ze,Ds=Ht-ze,ss=it+is,Ft=it-is;Fe[ot]=st+ss,Fe[ot+4]=st-ss;var fs=.707106781*(Ft+Ds);Fe[ot+2]=Ds+fs,Fe[ot+6]=Ds-fs;var Dr=.382683433*((st=nt+jt)-(Ft=kt+Yt)),An=.5411961*st+Dr,Za=1.306562965*Ft+Dr,Ja=.707106781*(ss=jt+kt),Et=Yt+Ja,qn=Yt-Ja;Fe[ot+5]=qn+An,Fe[ot+3]=qn-An,Fe[ot+1]=Et+Za,Fe[ot+7]=Et-Za,ot+=8}for(ot=0,ye=0;ye<8;++ye){Ze=Fe[ot],St=Fe[ot+8],xt=Fe[ot+16],Zt=Fe[ot+24],Ye=Fe[ot+32],ct=Fe[ot+40],vt=Fe[ot+48];var Rs=Ze+(At=Fe[ot+56]),Ms=Ze-At,Fn=St+vt,Us=St-vt,Cn=xt+ct,On=xt-ct,Mr=Zt+Ye,Da=Zt-Ye,va=Rs+Mr,ea=Rs-Mr,Hn=Fn+Cn,ta=Fn-Cn;Fe[ot]=va+Hn,Fe[ot+32]=va-Hn;var Tn=.707106781*(ta+ea);Fe[ot+16]=ea+Tn,Fe[ot+48]=ea-Tn;var Is=.382683433*((va=Da+On)-(ta=Us+Ms)),ei=.5411961*va+Is,Fr=1.306562965*ta+Is,Ma=.707106781*(Hn=On+Us),ti=Ms+Ma,Vo=Ms-Ma;Fe[ot+40]=Vo+ei,Fe[ot+24]=Vo-ei,Fe[ot+8]=ti+Fr,Fe[ot+56]=ti-Fr,ot++}for(ye=0;ye<64;++ye)tt=Fe[ye]*Ve[ye],y[ye]=tt>0?tt+.5|0:tt-.5|0;return y}(D,W),Xe=0;Xe<64;++Xe)j[G[Xe]]=Oe[Xe];var Re=j[0]-z;z=j[0],Re==0?ie($[0]):(ie($[w[te=32767+Re]]),ie(x[te]));for(var Je=63;Je>0&&j[Je]==0;)Je--;if(Je==0)return ie(ge),z;for(var ke,he=1;he<=Je;){for(var Rt=he;j[he]==0&&he<=Je;)++he;var Te=he-Rt;if(Te>=16){ke=Te>>4;for(var et=1;et<=ke;++et)ie(Ne);Te&=15}te=32767+j[he],ie(ne[(Te<<4)+w[te]]),ie(x[te]),he++}return Je!=63&&ie(ge),z}function de(D){D=Math.min(Math.max(D,1),100),o!=D&&(function(W){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var ne=c((z[$]*W+50)/100);ne=Math.min(Math.max(ne,1),255),d[G[$]]=ne}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var Ne=c((te[ge]*W+50)/100);Ne=Math.min(Math.max(Ne,1),255),h[G[ge]]=Ne}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,Re=0;Re<8;Re++)for(var Je=0;Je<8;Je++)f[Xe]=1/(d[G[Xe]]*Oe[Re]*Oe[Je]*8),p[Xe]=1/(h[G[Xe]]*Oe[Re]*Oe[Je]*8),Xe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,W){W&&de(W),_=new Array,C=0,S=7,me(65496),me(65504),me(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),me(1),me(1),re(0),re(0),function(){me(65499),me(132),re(0);for(var St=0;St<64;St++)re(d[St]);re(1);for(var xt=0;xt<64;xt++)re(h[xt])}(),function(St,xt){me(65472),me(17),re(8),me(xt),me(St),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(D.width,D.height),function(){me(65476),me(418),re(0);for(var St=0;St<16;St++)re(U[St+1]);for(var xt=0;xt<=11;xt++)re(I[xt]);re(16);for(var Zt=0;Zt<16;Zt++)re(ee[Zt+1]);for(var Ye=0;Ye<=161;Ye++)re(T[Ye]);re(1);for(var ct=0;ct<16;ct++)re(F[ct+1]);for(var vt=0;vt<=11;vt++)re(Z[vt]);re(17);for(var At=0;At<16;At++)re(K[At+1]);for(var ye=0;ye<=161;ye++)re(fe[ye])}(),me(65498),me(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var z=0,$=0,ne=0;C=0,S=7,this.encode.displayName="_encode_";for(var te,ge,Ne,Oe,Xe,Re,Je,ke,he,Rt=D.data,Te=D.width,et=D.height,Fe=4*Te,Ve=0;Ve<et;){for(te=0;te<Fe;){for(Xe=Fe*Ve+te,Je=-1,ke=0,he=0;he<64;he++)Re=Xe+(ke=he>>3)*Fe+(Je=4*(7&he)),Ve+ke>=et&&(Re-=Fe*(Ve+1+ke-et)),te+Je>=Fe&&(Re-=te+Je-Fe+4),ge=Rt[Re++],Ne=Rt[Re++],Oe=Rt[Re++],L[he]=(ae[ge]+ae[Ne+256|0]+ae[Oe+512|0]>>16)-128,E[he]=(ae[ge+768|0]+ae[Ne+1024|0]+ae[Oe+1280|0]>>16)-128,P[he]=(ae[ge+1280|0]+ae[Ne+1536|0]+ae[Oe+1792|0]>>16)-128;z=X(L,f,z,e,a),$=X(E,p,$,s,r),ne=X(P,p,ne,s,r),te+=32}Ve+=8}if(S>=0){var Ze=[];Ze[1]=S+1,Ze[0]=(1<<S+1)-1,ie(Ze)}return me(65497),new Uint8Array(_)},t=t||50,function(){for(var D=String.fromCharCode,W=0;W<256;W++)V[W]=D(W)}(),e=R(U,I),s=R(F,Z),a=R(ee,T),r=R(K,fe),function(){for(var D=1,W=2,z=1;z<=15;z++){for(var $=D;$<W;$++)w[32767+$]=z,x[32767+$]=[],x[32767+$][1]=z,x[32767+$][0]=$;for(var ne=-(W-1);ne<=-D;ne++)w[32767+ne]=z,x[32767+ne]=[],x[32767+ne][1]=z,x[32767+ne][0]=W-1+ne;D<<=1,W<<=1}}(),function(){for(var D=0;D<256;D++)ae[D]=19595*D,ae[D+256|0]=38470*D,ae[D+512|0]=7471*D+32768,ae[D+768|0]=-11059*D,ae[D+1024|0]=-21709*D,ae[D+1280|0]=32768*D+8421375,ae[D+1536|0]=-27439*D,ae[D+1792|0]=-5329*D}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wr(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gv(t){function e(I){if(!I)throw Error("assert :P")}function s(I,ee,T){for(var F=0;4>F;F++)if(I[ee+F]!=T.charCodeAt(F))return!0;return!1}function a(I,ee,T,F,Z){for(var K=0;K<Z;K++)I[ee+K]=T[F+K]}function r(I,ee,T,F){for(var Z=0;Z<F;Z++)I[ee+Z]=T}function o(I){return new Int32Array(I)}function c(I,ee){for(var T=[],F=0;F<I;F++)T.push(new ee);return T}function d(I,ee){var T=[];return function F(Z,K,fe){for(var R=fe[K],ie=0;ie<R&&(Z.push(fe.length>K+1?[]:new ee),!(fe.length<K+1));ie++)F(Z[ie],K+1,fe)}(T,0,I),T}var h=function(){var I=this;function ee(g,v){for(var k=1<<v-1>>>0;g&k;)k>>>=1;return k?(g&k-1)+k:g}function T(g,v,k,M,q){e(!(M%k));do g[v+(M-=k)]=q;while(0<M)}function F(g,v,k,M,q){if(e(2328>=q),512>=q)var Y=o(512);else if((Y=o(q))==null)return 0;return function(Q,se,oe,ce,be,Ee){var le,we,_e=se,Be=1<<oe,Ce=o(16),Ie=o(16);for(e(be!=0),e(ce!=null),e(Q!=null),e(0<oe),we=0;we<be;++we){if(15<ce[we])return 0;++Ce[ce[we]]}if(Ce[0]==be)return 0;for(Ie[1]=0,le=1;15>le;++le){if(Ce[le]>1<<le)return 0;Ie[le+1]=Ie[le]+Ce[le]}for(we=0;we<be;++we)le=ce[we],0<ce[we]&&(Ee[Ie[le]++]=we);if(Ie[15]==1)return(ce=new Z).g=0,ce.value=Ee[0],T(Q,_e,1,Be,ce),Be;var Ue,Qe=-1,We=Be-1,wt=0,ut=1,Ut=1,dt=1<<oe;for(we=0,le=1,be=2;le<=oe;++le,be<<=1){if(ut+=Ut<<=1,0>(Ut-=Ce[le]))return 0;for(;0<Ce[le];--Ce[le])(ce=new Z).g=le,ce.value=Ee[we++],T(Q,_e+wt,be,dt,ce),wt=ee(wt,le)}for(le=oe+1,be=2;15>=le;++le,be<<=1){if(ut+=Ut<<=1,0>(Ut-=Ce[le]))return 0;for(;0<Ce[le];--Ce[le]){if(ce=new Z,(wt&We)!=Qe){for(_e+=dt,Ue=1<<(Qe=le)-oe;15>Qe&&!(0>=(Ue-=Ce[Qe]));)++Qe,Ue<<=1;Be+=dt=1<<(Ue=Qe-oe),Q[se+(Qe=wt&We)].g=Ue+oe,Q[se+Qe].value=_e-se-Qe}ce.g=le-oe,ce.value=Ee[we++],T(Q,_e+(wt>>oe),be,dt,ce),wt=ee(wt,le)}}return ut!=2*Ie[15]-1?0:Be}(g,v,k,M,q,Y)}function Z(){this.value=this.g=0}function K(){this.value=this.g=0}function fe(){this.G=c(5,Z),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ba,K)}function R(g,v,k,M){e(g!=null),e(v!=null),e(2147483648>M),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=k,g.Jd=v,g.Yc=k+M,g.Zc=4<=M?k+M-4+1:k,ge(g)}function ie(g,v){for(var k=0;0<v--;)k|=Oe(g,128)<<v;return k}function re(g,v){var k=ie(g,v);return Ne(g)?-k:k}function me(g,v,k,M){var q,Y=0;for(e(g!=null),e(v!=null),e(4294967288>M),g.Sb=M,g.Ra=0,g.u=0,g.h=0,4<M&&(M=4),q=0;q<M;++q)Y+=v[k+q]<<8*q;g.Ra=Y,g.bb=M,g.oa=v,g.pa=k}function X(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<or-8>>>0,++g.bb,g.u-=8;$(g)&&(g.h=1,g.u=0)}function de(g,v){if(e(0<=v),!g.h&&v<=il){var k=z(g)&Di[v];return g.u+=v,X(g),k}return g.h=1,g.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&or-1)>>>0}function $(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>or}function ne(g,v){g.u=v,g.h=$(g)}function te(g){g.u>=Ys&&(e(g.u>=Ys),X(g))}function ge(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ne(g){return ie(g,1)}function Oe(g,v){var k=g.Ca;0>g.b&&ge(g);var M=g.b,q=k*v>>>8,Y=(g.I>>>M>q)+0;for(Y?(k-=q,g.I-=q+1<<M>>>0):k=q+1,M=k,q=0;256<=M;)q+=8,M>>=8;return M=7^q+Ju[M],g.b-=M,g.Ca=(k<<M)-1,Y}function Xe(g,v,k){g[v+0]=k>>24&255,g[v+1]=k>>16&255,g[v+2]=k>>8&255,g[v+3]=255&k}function Re(g,v){return g[v+0]|g[v+1]<<8}function Je(g,v){return Re(g,v)|g[v+2]<<16}function ke(g,v){return Re(g,v)|Re(g,v+2)<<16}function he(g,v){var k=1<<v;return e(g!=null),e(0<v),g.X=o(k),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Rt(g,v){e(g!=null),e(v!=null),e(g.Xa==v.Xa),a(v.X,0,g.X,0,1<<v.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function et(g,v,k,M){e(k!=null),e(M!=null);var q=k[0],Y=M[0];return q==0&&(q=(g*Y+v/2)/v),Y==0&&(Y=(v*q+g/2)/g),0>=q||0>=Y?0:(k[0]=q,M[0]=Y,1)}function Fe(g,v){return g+(1<<v)-1>>>v}function Ve(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function Ze(g,v){I[v]=function(k,M,q,Y,Q,se,oe){var ce;for(ce=0;ce<Q;++ce){var be=I[g](se[oe+ce-1],q,Y+ce);se[oe+ce]=Ve(k[M+ce],be)}}}function St(){this.ud=this.hd=this.jd=0}function xt(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function Zt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ye(g,v){return Zt(g+(g-v+.5>>1))}function ct(g,v,k){return Math.abs(v-k)-Math.abs(g-k)}function vt(g,v,k,M,q,Y,Q){for(M=Y[Q-1],k=0;k<q;++k)Y[Q+k]=M=Ve(g[v+k],M)}function At(g,v,k,M,q){var Y;for(Y=0;Y<k;++Y){var Q=g[v+Y],se=Q>>8&255,oe=16711935&(oe=(oe=16711935&Q)+((se<<16)+se));M[q+Y]=(4278255360&Q)+oe>>>0}}function ye(g,v){v.jd=255&g,v.hd=g>>8&255,v.ud=g>>16&255}function tt(g,v,k,M,q,Y){var Q;for(Q=0;Q<M;++Q){var se=v[k+Q],oe=se>>>8,ce=se,be=255&(be=(be=se>>>16)+((g.jd<<24>>24)*(oe<<24>>24)>>>5));ce=255&(ce=(ce+=(g.hd<<24>>24)*(oe<<24>>24)>>>5)+((g.ud<<24>>24)*(be<<24>>24)>>>5)),q[Y+Q]=(4278255360&se)+(be<<16)+ce}}function ot(g,v,k,M,q){I[v]=function(Y,Q,se,oe,ce,be,Ee,le,we){for(oe=Ee;oe<le;++oe)for(Ee=0;Ee<we;++Ee)ce[be++]=q(se[M(Y[Q++])])},I[g]=function(Y,Q,se,oe,ce,be,Ee){var le=8>>Y.b,we=Y.Ea,_e=Y.K[0],Be=Y.w;if(8>le)for(Y=(1<<Y.b)-1,Be=(1<<le)-1;Q<se;++Q){var Ce,Ie=0;for(Ce=0;Ce<we;++Ce)Ce&Y||(Ie=M(oe[ce++])),be[Ee++]=q(_e[Ie&Be]),Ie>>=le}else I["VP8LMapColor"+k](oe,ce,_e,Be,be,Ee,Q,se,we)}}function Ht(g,v,k,M,q){for(k=v+k;v<k;){var Y=g[v++];M[q++]=Y>>16&255,M[q++]=Y>>8&255,M[q++]=255&Y}}function Yt(g,v,k,M,q){for(k=v+k;v<k;){var Y=g[v++];M[q++]=Y>>16&255,M[q++]=Y>>8&255,M[q++]=255&Y,M[q++]=Y>>24&255}}function it(g,v,k,M,q){for(k=v+k;v<k;){var Y=(Q=g[v++])>>16&240|Q>>12&15,Q=240&Q|Q>>28&15;M[q++]=Y,M[q++]=Q}}function kt(g,v,k,M,q){for(k=v+k;v<k;){var Y=(Q=g[v++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;M[q++]=Y,M[q++]=Q}}function is(g,v,k,M,q){for(k=v+k;v<k;){var Y=g[v++];M[q++]=255&Y,M[q++]=Y>>8&255,M[q++]=Y>>16&255}}function jt(g,v,k,M,q,Y){if(Y==0)for(k=v+k;v<k;)Xe(M,((Y=g[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else a(M,q,g,v,k)}function ze(g,v){I[v][0]=I[g+"0"],I[v][1]=I[g+"1"],I[v][2]=I[g+"2"],I[v][3]=I[g+"3"],I[v][4]=I[g+"4"],I[v][5]=I[g+"5"],I[v][6]=I[g+"6"],I[v][7]=I[g+"7"],I[v][8]=I[g+"8"],I[v][9]=I[g+"9"],I[v][10]=I[g+"10"],I[v][11]=I[g+"11"],I[v][12]=I[g+"12"],I[v][13]=I[g+"13"],I[v][14]=I[g+"0"],I[v][15]=I[g+"0"]}function nt(g){return g==ic||g==Vr||g==cr||g==ul}function st(){this.eb=[],this.size=this.A=this.fb=0}function Ds(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ss(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new Ds,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function An(g,v){var k=g.T,M=v.ba.f.RGBA,q=M.eb,Y=M.fb+g.ka*M.A,Q=Dn[v.ba.S],se=g.y,oe=g.O,ce=g.f,be=g.N,Ee=g.ea,le=g.W,we=v.cc,_e=v.dc,Be=v.Mc,Ce=v.Nc,Ie=g.ka,Ue=g.ka+g.T,Qe=g.U,We=Qe+1>>1;for(Ie==0?Q(se,oe,null,null,ce,be,Ee,le,ce,be,Ee,le,q,Y,null,null,Qe):(Q(v.ec,v.fc,se,oe,we,_e,Be,Ce,ce,be,Ee,le,q,Y-M.A,q,Y,Qe),++k);Ie+2<Ue;Ie+=2)we=ce,_e=be,Be=Ee,Ce=le,be+=g.Rc,le+=g.Rc,Y+=2*M.A,Q(se,(oe+=2*g.fa)-g.fa,se,oe,we,_e,Be,Ce,ce,be,Ee,le,q,Y-M.A,q,Y,Qe);return oe+=g.fa,g.j+Ue<g.o?(a(v.ec,v.fc,se,oe,Qe),a(v.cc,v.dc,ce,be,We),a(v.Mc,v.Nc,Ee,le,We),k--):1&Ue||Q(se,oe,null,null,ce,be,Ee,le,ce,be,Ee,le,q,Y+M.A,null,null,Qe),k}function Za(g,v,k){var M=g.F,q=[g.J];if(M!=null){var Y=g.U,Q=v.ba.S,se=Q==wo||Q==cr;v=v.ba.f.RGBA;var oe=[0],ce=g.ka;oe[0]=g.T,g.Kb&&(ce==0?--oe[0]:(--ce,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(oe[0]=g.o-g.j-ce));var be=v.eb;ce=v.fb+ce*v.A,g=Aa(M,q[0],g.width,Y,oe,be,ce+(se?0:3),v.A),e(k==oe),g&&nt(Q)&&ll(be,ce,se,Y,oe,v.A)}return 0}function Ja(g){var v=g.ma,k=v.ba.S,M=11>k,q=k==cl||k==ac||k==wo||k==lr||k==12||nt(k);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Bn(v.Oa,g,q?11:12))return 0;if(q&&nt(k)&&ec(),g.da)alert("todo:use_scaling");else{if(M){if(v.Ib=Dr,g.Kb){if(k=g.U+1>>1,v.memory=o(g.U+2*k),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+k,v.Ib=An,ec()}}else alert("todo:EmitYUV");q&&(v.Jb=Za,M&&po())}if(M&&!Ph){for(g=0;256>g;++g)Zm[g]=89858*(g-128)+gn>>qi,lc[g]=-22014*(g-128)+gn,od[g]=-45773*(g-128),xn[g]=113618*(g-128)+gn>>qi;for(g=Yr;g<ru;++g)v=76283*(g-16)+gn>>qi,cc[g-Yr]=mn(v,255),ld[g-Yr]=mn(v+8>>4,15);Ph=1}return 1}function Et(g){var v=g.ma,k=g.U,M=g.T;return e(!(1&g.ka)),0>=k||0>=M?0:(k=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,k),v.Dc+=k,1)}function qn(g){g.ma.memory=null}function Rs(g,v,k,M){return de(g,8)!=47?0:(v[0]=de(g,14)+1,k[0]=de(g,14)+1,M[0]=de(g,1),de(g,3)!=0?0:!g.h)}function Ms(g,v){if(4>g)return g+1;var k=g-2>>1;return(2+(1&g)<<k)+de(v,k)+1}function Fn(g,v){return 120<v?v-120:1<=(k=((k=dr[v-1])>>4)*g+(8-(15&k)))?k:1;var k}function Us(g,v,k){var M=z(k),q=g[v+=255&M].g-8;return 0<q&&(ne(k,k.u+8),M=z(k),v+=g[v].value,v+=M&(1<<q)-1),ne(k,k.u+g[v].g),g[v].value}function Cn(g,v,k){return k.g+=g.g,k.value+=g.value<<v>>>0,e(8>=k.g),g.g}function On(g,v,k){var M=g.xc;return e((v=M==0?0:g.vc[g.md*(k>>M)+(v>>M)])<g.Wb),g.Ya[v]}function Mr(g,v,k,M){var q=g.ab,Y=g.c*v,Q=g.C;v=Q+v;var se=k,oe=M;for(M=g.Ta,k=g.Ua;0<q--;){var ce=g.gc[q],be=Q,Ee=v,le=se,we=oe,_e=(oe=M,se=k,ce.Ea);switch(e(be<Ee),e(Ee<=ce.nc),ce.hc){case 2:rl(le,we,(Ee-be)*_e,oe,se);break;case 0:var Be=be,Ce=Ee,Ie=oe,Ue=se,Qe=(dt=ce).Ea;Be==0&&(Mi(le,we,null,null,1,Ie,Ue),vt(le,we+1,0,0,Qe-1,Ie,Ue+1),we+=Qe,Ue+=Qe,++Be);for(var We=1<<dt.b,wt=We-1,ut=Fe(Qe,dt.b),Ut=dt.K,dt=dt.w+(Be>>dt.b)*ut;Be<Ce;){var es=Ut,un=dt,Pt=1;for(Fi(le,we,Ie,Ue-Qe,1,Ie,Ue);Pt<Qe;){var mt=(Pt&~wt)+We;mt>Qe&&(mt=Qe),(0,Hr[es[un++]>>8&15])(le,we+ +Pt,Ie,Ue+Pt-Qe,mt-Pt,Ie,Ue+Pt),Pt=mt}we+=Qe,Ue+=Qe,++Be&wt||(dt+=ut)}Ee!=ce.nc&&a(oe,se-_e,oe,se+(Ee-be-1)*_e,_e);break;case 1:for(_e=le,Ce=we,Qe=(le=ce.Ea)-(Ue=le&~(Ie=(we=1<<ce.b)-1)),Be=Fe(le,ce.b),We=ce.K,ce=ce.w+(be>>ce.b)*Be;be<Ee;){for(wt=We,ut=ce,Ut=new St,dt=Ce+Ue,es=Ce+le;Ce<dt;)ye(wt[ut++],Ut),Ti(Ut,_e,Ce,we,oe,se),Ce+=we,se+=we;Ce<es&&(ye(wt[ut++],Ut),Ti(Ut,_e,Ce,Qe,oe,se),Ce+=Qe,se+=Qe),++be&Ie||(ce+=Be)}break;case 3:if(le==oe&&we==se&&0<ce.b){for(Ce=oe,le=_e=se+(Ee-be)*_e-(Ue=(Ee-be)*Fe(ce.Ea,ce.b)),we=oe,Ie=se,Be=[],Ue=(Qe=Ue)-1;0<=Ue;--Ue)Be[Ue]=we[Ie+Ue];for(Ue=Qe-1;0<=Ue;--Ue)Ce[le+Ue]=Be[Ue];tc(ce,be,Ee,oe,_e,oe,se)}else tc(ce,be,Ee,le,we,oe,se)}se=M,oe=k}oe!=k&&a(M,k,se,oe,Y)}function Da(g,v){var k=g.V,M=g.Ba+g.c*g.C,q=v-g.C;if(e(v<=g.l.o),e(16>=q),0<q){var Y=g.l,Q=g.Ta,se=g.Ua,oe=Y.width;if(Mr(g,q,k,M),q=se=[se],e((k=g.C)<(M=v)),e(Y.v<Y.va),M>Y.o&&(M=Y.o),k<Y.j){var ce=Y.j-k;k=Y.j,q[0]+=ce*oe}if(k>=M?k=0:(q[0]+=4*Y.v,Y.ka=k-Y.j,Y.U=Y.va-Y.v,Y.T=M-k,k=1),k){if(se=se[0],11>(k=g.ca).S){var be=k.f.RGBA,Ee=(M=k.S,q=Y.U,Y=Y.T,ce=be.eb,be.A),le=Y;for(be=be.fb+g.Ma*be.A;0<le--;){var we=Q,_e=se,Be=q,Ce=ce,Ie=be;switch(M){case Wn:ol(we,_e,Be,Ce,Ie);break;case cl:aa(we,_e,Be,Ce,Ie);break;case ic:aa(we,_e,Be,Ce,Ie),ll(Ce,Ie,0,Be,1,0);break;case Ri:Ns(we,_e,Be,Ce,Ie);break;case ac:jt(we,_e,Be,Ce,Ie,1);break;case Vr:jt(we,_e,Be,Ce,Ie,1),ll(Ce,Ie,0,Be,1,0);break;case wo:jt(we,_e,Be,Ce,Ie,0);break;case cr:jt(we,_e,Be,Ce,Ie,0),ll(Ce,Ie,1,Be,1,0);break;case lr:Pi(we,_e,Be,Ce,Ie);break;case ul:Pi(we,_e,Be,Ce,Ie),_a(Ce,Ie,Be,1,0);break;case tu:ps(we,_e,Be,Ce,Ie);break;default:e(0)}se+=oe,be+=Ee}g.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=k.height)}}g.C=v,e(g.C<=g.i)}function va(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var k=g.Ya[v].G,M=g.Ya[v].H;if(0<k[1][M[1]+0].g||0<k[2][M[2]+0].g||0<k[3][M[3]+0].g)return 0}return 1}function ea(g,v,k,M,q,Y){if(g.Z!=0){var Q=g.qd,se=g.rd;for(e(Ii[g.Z]!=null);v<k;++v)Ii[g.Z](Q,se,M,q,M,q,Y),Q=M,se=q,q+=Y;g.qd=Q,g.rd=se}}function Hn(g,v){var k=g.l.ma,M=k.Z==0||k.Z==1?g.l.j:g.C;if(M=g.C<M?M:g.C,e(v<=g.l.o),v>M){var q=g.l.width,Y=k.ca,Q=k.tb+q*M,se=g.V,oe=g.Ba+g.c*M,ce=g.gc;e(g.ab==1),e(ce[0].hc==3),Oi(ce[0],M,v,se,oe,Y,Q),ea(k,M,v,Y,Q,q)}g.C=g.Ma=v}function ta(g,v,k,M,q,Y,Q){var se=g.$/M,oe=g.$%M,ce=g.m,be=g.s,Ee=k+g.$,le=Ee;q=k+M*q;var we=k+M*Y,_e=280+be.ua,Be=g.Pb?se:16777216,Ce=0<be.ua?be.Wa:null,Ie=be.wc,Ue=Ee<we?On(be,oe,se):null;e(g.C<Y),e(we<=q);var Qe=!1;e:for(;;){for(;Qe||Ee<we;){var We=0;if(se>=Be){var wt=Ee-k;e((Be=g).Pb),Be.wd=Be.m,Be.xd=wt,0<Be.s.ua&&Rt(Be.s.Wa,Be.s.vb),Be=se+Fh}if(oe&Ie||(Ue=On(be,oe,se)),e(Ue!=null),Ue.Qb&&(v[Ee]=Ue.qb,Qe=!0),!Qe)if(te(ce),Ue.jc){We=ce,wt=v;var ut=Ee,Ut=Ue.pd[z(We)&Ba-1];e(Ue.jc),256>Ut.g?(ne(We,We.u+Ut.g),wt[ut]=Ut.value,We=0):(ne(We,We.u+Ut.g-256),e(256<=Ut.value),We=Ut.value),We==0&&(Qe=!0)}else We=Us(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Qe||256>We){if(!Qe)if(Ue.nd)v[Ee]=(Ue.qb|We<<8)>>>0;else{if(te(ce),Qe=Us(Ue.G[1],Ue.H[1],ce),te(ce),wt=Us(Ue.G[2],Ue.H[2],ce),ut=Us(Ue.G[3],Ue.H[3],ce),ce.h)break;v[Ee]=(ut<<24|Qe<<16|We<<8|wt)>>>0}if(Qe=!1,++Ee,++oe>=M&&(oe=0,++se,Q!=null&&se<=Y&&!(se%16)&&Q(g,se),Ce!=null))for(;le<Ee;)We=v[le++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else if(280>We){if(We=Ms(We-256,ce),wt=Us(Ue.G[4],Ue.H[4],ce),te(ce),wt=Fn(M,wt=Ms(wt,ce)),ce.h)break;if(Ee-k<wt||q-Ee<We)break e;for(ut=0;ut<We;++ut)v[Ee+ut]=v[Ee+ut-wt];for(Ee+=We,oe+=We;oe>=M;)oe-=M,++se,Q!=null&&se<=Y&&!(se%16)&&Q(g,se);if(e(Ee<=q),oe&Ie&&(Ue=On(be,oe,se)),Ce!=null)for(;le<Ee;)We=v[le++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else{if(!(We<_e))break e;for(Qe=We-280,e(Ce!=null);le<Ee;)We=v[le++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We;We=Ee,e(!(Qe>>>(wt=Ce).Xa)),v[We]=wt.X[Qe],Qe=!0}Qe||e(ce.h==$(ce))}if(g.Pb&&ce.h&&Ee<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Rt(g.s.vb,g.s.Wa);else{if(ce.h)break e;Q?.(g,se>Y?Y:se),g.a=0,g.$=Ee-k}return 1}return g.a=3,0}function Tn(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,e(g!=null)}function Is(){var g=new Hs;return g==null?null:(g.a=0,g.xb=dl,ze("Predictor","VP8LPredictors"),ze("Predictor","VP8LPredictors_C"),ze("PredictorAdd","VP8LPredictorsAdd"),ze("PredictorAdd","VP8LPredictorsAdd_C"),rl=At,Ti=tt,ol=Ht,aa=Yt,Pi=it,ps=kt,Ns=is,I.VP8LMapColor32b=En,I.VP8LMapColor8b=qr,g)}function ei(g,v,k,M,q){var Y=1,Q=[g],se=[v],oe=M.m,ce=M.s,be=null,Ee=0;e:for(;;){if(k)for(;Y&&de(oe,1);){var le=Q,we=se,_e=M,Be=1,Ce=_e.m,Ie=_e.gc[_e.ab],Ue=de(Ce,2);if(_e.Oc&1<<Ue)Y=0;else{switch(_e.Oc|=1<<Ue,Ie.hc=Ue,Ie.Ea=le[0],Ie.nc=we[0],Ie.K=[null],++_e.ab,e(4>=_e.ab),Ue){case 0:case 1:Ie.b=de(Ce,3)+2,Be=ei(Fe(Ie.Ea,Ie.b),Fe(Ie.nc,Ie.b),0,_e,Ie.K),Ie.K=Ie.K[0];break;case 3:var Qe,We=de(Ce,8)+1,wt=16<We?0:4<We?1:2<We?2:3;if(le[0]=Fe(Ie.Ea,wt),Ie.b=wt,Qe=Be=ei(We,1,0,_e,Ie.K)){var ut,Ut=We,dt=Ie,es=1<<(8>>dt.b),un=o(es);if(un==null)Qe=0;else{var Pt=dt.K[0],mt=dt.w;for(un[0]=dt.K[0][0],ut=1;ut<1*Ut;++ut)un[ut]=Ve(Pt[mt+ut],un[ut-1]);for(;ut<4*es;++ut)un[ut]=0;dt.K[0]=null,dt.K[0]=un,Qe=1}}Be=Qe;break;case 2:break;default:e(0)}Y=Be}}if(Q=Q[0],se=se[0],Y&&de(oe,1)&&!(Y=1<=(Ee=de(oe,4))&&11>=Ee)){M.a=3;break e}var at;if(at=Y)t:{var Vs,It,Wt,gt=M,qt=Q,rs=se,Os=Ee,sn=k,nn=gt.m,Xs=gt.s,Jt=[null],os=1,Qs=0,Lt=jo[Os];s:for(;;){if(sn&&de(nn,1)){var bn=de(nn,3)+2,Ea=Fe(qt,bn),Zs=Fe(rs,bn),oa=Ea*Zs;if(!ei(Ea,Zs,0,gt,Jt))break s;for(Jt=Jt[0],Xs.xc=bn,Vs=0;Vs<oa;++Vs){var js=Jt[Vs]>>8&65535;Jt[Vs]=js,js>=os&&(os=js+1)}}if(nn.h)break s;for(It=0;5>It;++It){var an=Ca[It];!It&&0<Os&&(an+=1<<Os),Qs<an&&(Qs=an)}var la=c(os*Lt,Z),Rn=os,ks=c(Rn,fe);if(ks==null)var us=null;else e(65536>=Rn),us=ks;var Gn=o(Qs);if(us==null||Gn==null||la==null){gt.a=1;break s}var Un=la;for(Vs=Wt=0;Vs<os;++Vs){var ys=us[Vs],ca=ys.G,yn=ys.H,Hi=0,li=1,vn=0;for(It=0;5>It;++It){an=Ca[It],ca[It]=Un,yn[It]=Wt,!It&&0<Os&&(an+=1<<Os);a:{var uc,ou=an,dc=gt,fl=Gn,Uh=Un,Ih=Wt,hc=0,pr=dc.m,e0=de(pr,1);if(r(fl,0,0,ou),e0){var zh=de(pr,1)+1,qh=de(pr,1),cd=de(pr,qh==0?1:8);fl[cd]=1,zh==2&&(fl[cd=de(pr,8)]=1);var ml=1}else{var ud=o(19),dd=de(pr,4)+4;if(19<dd){dc.a=3;var fc=0;break a}for(uc=0;uc<dd;++uc)ud[ur[uc]]=de(pr,3);var lu=void 0,pl=void 0,Hh=dc,$h=ud,gr=ou,mc=fl,cu=0,ci=Hh.m,gl=8,hd=c(128,Z);n:for(;F(hd,0,7,$h,19);){if(de(ci,1)){var Vh=2+2*de(ci,3);if((lu=2+de(ci,Vh))>gr)break n}else lu=gr;for(pl=0;pl<gr&&lu--;){te(ci);var fd=hd[0+(127&z(ci))];ne(ci,ci.u+fd.g);var Ao=fd.value;if(16>Ao)mc[pl++]=Ao,Ao!=0&&(gl=Ao);else{var Wh=Ao==16,md=Ao-16,pd=za[md],gd=de(ci,su[md])+pd;if(pl+gd>gr)break n;for(var Gh=Wh?gl:0;0<gd--;)mc[pl++]=Gh}}cu=1;break n}cu||(Hh.a=3),ml=cu}(ml=ml&&!pr.h)&&(hc=F(Uh,Ih,8,fl,ou)),ml&&hc!=0?fc=hc:(dc.a=3,fc=0)}if(fc==0)break s;if(li&&No[It]==1&&(li=Un[Wt].g==0),Hi+=Un[Wt].g,Wt+=fc,3>=It){var Co,uu=Gn[0];for(Co=1;Co<an;++Co)Gn[Co]>uu&&(uu=Gn[Co]);vn+=uu}}if(ys.nd=li,ys.Qb=0,li&&(ys.qb=(ca[3][yn[3]+0].value<<24|ca[1][yn[1]+0].value<<16|ca[2][yn[2]+0].value)>>>0,Hi==0&&256>ca[0][yn[0]+0].value&&(ys.Qb=1,ys.qb+=ca[0][yn[0]+0].value<<8)),ys.jc=!ys.Qb&&6>vn,ys.jc){var pc,xr=ys;for(pc=0;pc<Ba;++pc){var $i=pc,br=xr.pd[$i],gc=xr.G[0][xr.H[0]+$i];256<=gc.value?(br.g=gc.g+256,br.value=gc.value):(br.g=0,br.value=0,$i>>=Cn(gc,8,br),$i>>=Cn(xr.G[1][xr.H[1]+$i],16,br),$i>>=Cn(xr.G[2][xr.H[2]+$i],0,br),Cn(xr.G[3][xr.H[3]+$i],24,br))}}}Xs.vc=Jt,Xs.Wb=os,Xs.Ya=us,Xs.yc=la,at=1;break t}at=0}if(!(Y=at)){M.a=3;break e}if(0<Ee){if(ce.ua=1<<Ee,!he(ce.Wa,Ee)){M.a=1,Y=0;break e}}else ce.ua=0;var xc=M,xd=Q,Yh=se,bd=xc.s,yd=bd.xc;if(xc.c=xd,xc.i=Yh,bd.md=Fe(xd,yd),bd.wc=yd==0?-1:(1<<yd)-1,k){M.xb=Th;break e}if((be=o(Q*se))==null){M.a=1,Y=0;break e}Y=(Y=ta(M,be,0,Q,se,se,null))&&!oe.h;break e}return Y?(q!=null?q[0]=be:(e(be==null),e(k)),M.$=0,k||Tn(ce)):Tn(ce),Y}function Fr(g,v){var k=g.c*g.i,M=k+v+16*v;return e(g.c<=v),g.V=o(M),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+k+v,1)}function Ma(g,v){var k=g.C,M=v-k,q=g.V,Y=g.Ba+g.c*k;for(e(v<=g.l.o);0<M;){var Q=16<M?16:M,se=g.l.ma,oe=g.l.width,ce=oe*Q,be=se.ca,Ee=se.tb+oe*k,le=g.Ta,we=g.Ua;Mr(g,Q,q,Y),bo(le,we,be,Ee,ce),ea(se,k,k+Q,be,Ee,oe),M-=Q,q+=Q*g.c,k+=Q}e(k==v),g.C=g.Ma=v}function ti(){this.ub=this.yd=this.td=this.Rb=0}function Vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Wo(){this.Yb=function(){var g=[];return function v(k,M,q){for(var Y=q[M],Q=0;Q<Y&&(k.push(q.length>M+1?[]:0),!(q.length<M+1));Q++)v(k[Q],M+1,q)}(g,0,[3,11]),g}()}function Hc(){this.jb=o(3),this.Wc=d([4,8],Wo),this.Xc=d([4,17],Wo)}function oo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function sa(){this.ld=this.La=this.dd=this.tc=0}function wa(){this.Na=this.la=0}function Go(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ji(){this.uc=this.M=this.Nb=0,this.wa=Array(new sa),this.Y=0,this.ya=Array(new Yo),this.aa=0,this.l=new Qo}function Ko(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new ti,this.Kc=new Vo,this.ed=new oo,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new Ji,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,D),this.ia=0,this.pb=c(4,Go),this.Pa=new Hc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ko),this.Hd=0,this.rb=Array(new wa),this.sb=0,this.wa=Array(new sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yo),this.L=this.aa=0,this.gd=d([4,2],sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $c(){var g=new Xo;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,pn||(pn=Fa)),g}function ms(g,v,k){return g.a==0&&(g.a=v,g.sc=k,g.cb=0),0}function Vl(g,v,k){return 3<=k&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function Vc(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return ms(g,2,"null VP8Io passed to VP8GetHeaders()");var k=v.data,M=v.w,q=v.ha;if(4>q)return ms(g,7,"Truncated header.");var Y=k[M+0]|k[M+1]<<8|k[M+2]<<16,Q=g.Od;if(Q.Rb=!(1&Y),Q.td=Y>>1&7,Q.yd=Y>>4&1,Q.ub=Y>>5,3<Q.td)return ms(g,3,"Incorrect keyframe parameters.");if(!Q.yd)return ms(g,4,"Frame not displayable.");M+=3,q-=3;var se=g.Kc;if(Q.Rb){if(7>q)return ms(g,7,"cannot parse picture header");if(!Vl(k,M,q))return ms(g,3,"Bad code word");se.c=16383&(k[M+4]<<8|k[M+3]),se.Td=k[M+4]>>6,se.i=16383&(k[M+6]<<8|k[M+5]),se.Ud=k[M+6]>>6,M+=7,q-=7,g.za=se.c+15>>4,g.Ub=se.i+15>>4,v.width=se.c,v.height=se.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,r((Y=g.Pa).jb,0,255,Y.jb.length),e((Y=g.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,r(Y.Zb,0,0,Y.Zb.length),r(Y.Lb,0,0,Y.Lb)}if(Q.ub>q)return ms(g,7,"bad partition length");R(Y=g.m,k,M,Q.ub),M+=Q.ub,q-=Q.ub,Q.Rb&&(se.Ld=Ne(Y),se.Kd=Ne(Y)),se=g.Qa;var oe,ce=g.Pa;if(e(Y!=null),e(se!=null),se.Cb=Ne(Y),se.Cb){if(se.Bb=Ne(Y),Ne(Y)){for(se.Fb=Ne(Y),oe=0;4>oe;++oe)se.Zb[oe]=Ne(Y)?re(Y,7):0;for(oe=0;4>oe;++oe)se.Lb[oe]=Ne(Y)?re(Y,6):0}if(se.Bb)for(oe=0;3>oe;++oe)ce.jb[oe]=Ne(Y)?ie(Y,8):255}else se.Bb=0;if(Y.Ka)return ms(g,3,"cannot parse segment header");if((se=g.ed).zd=Ne(Y),se.Tb=ie(Y,6),se.wb=ie(Y,3),se.Pc=Ne(Y),se.Pc&&Ne(Y)){for(ce=0;4>ce;++ce)Ne(Y)&&(se.vd[ce]=re(Y,6));for(ce=0;4>ce;++ce)Ne(Y)&&(se.od[ce]=re(Y,6))}if(g.L=se.Tb==0?0:se.zd?1:2,Y.Ka)return ms(g,3,"cannot parse filter header");var be=q;if(q=oe=M,M=oe+be,se=be,g.Xb=(1<<ie(g.m,2))-1,be<3*(ce=g.Xb))k=7;else{for(oe+=3*ce,se-=3*ce,be=0;be<ce;++be){var Ee=k[q+0]|k[q+1]<<8|k[q+2]<<16;Ee>se&&(Ee=se),R(g.Jc[+be],k,oe,Ee),oe+=Ee,se-=Ee,q+=3}R(g.Jc[+ce],k,oe,se),k=oe<M?0:5}if(k!=0)return ms(g,k,"cannot parse partitions");for(k=ie(oe=g.m,7),q=Ne(oe)?re(oe,4):0,M=Ne(oe)?re(oe,4):0,se=Ne(oe)?re(oe,4):0,ce=Ne(oe)?re(oe,4):0,oe=Ne(oe)?re(oe,4):0,be=g.Qa,Ee=0;4>Ee;++Ee){if(be.Cb){var le=be.Zb[Ee];be.Fb||(le+=k)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}le=k}var we=g.pb[Ee];we.Sc[0]=rc[mn(le+q,127)],we.Sc[1]=oc[mn(le+0,127)],we.Eb[0]=2*rc[mn(le+M,127)],we.Eb[1]=101581*oc[mn(le+se,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=rc[mn(le+ce,117)],we.Qc[1]=oc[mn(le+oe,127)],we.lc=le+oe}if(!Q.Rb)return ms(g,4,"Not a key frame.");for(Ne(Y),Q=g.Pa,k=0;4>k;++k){for(q=0;8>q;++q)for(M=0;3>M;++M)for(se=0;11>se;++se)ce=Oe(Y,So[k][q][M][se])?ie(Y,8):Ui[k][q][M][se],Q.Wc[k][q].Yb[M][se]=ce;for(q=0;17>q;++q)Q.Xc[k][q]=Q.Wc[k][Oh[q]]}return g.kc=Ne(Y),g.kc&&(g.Bd=ie(Y,8)),g.cb=1}function Fa(g,v,k,M,q,Y,Q){var se=v[q].Yb[k];for(k=0;16>q;++q){if(!Oe(g,se[k+0]))return q;for(;!Oe(g,se[k+1]);)if(se=v[++q].Yb[0],k=0,q==16)return 16;var oe=v[q+1].Yb;if(Oe(g,se[k+2])){var ce=g,be=0;if(Oe(ce,(le=se)[(Ee=k)+3]))if(Oe(ce,le[Ee+6])){for(se=0,Ee=2*(be=Oe(ce,le[Ee+8]))+(le=Oe(ce,le[Ee+9+be])),be=0,le=Ks[Ee];le[se];++se)be+=be+Oe(ce,le[se]);be+=3+(8<<Ee)}else Oe(ce,le[Ee+7])?(be=7+2*Oe(ce,165),be+=Oe(ce,145)):be=5+Oe(ce,159);else be=Oe(ce,le[Ee+4])?3+Oe(ce,le[Ee+5]):2;se=oe[2]}else be=1,se=oe[1];oe=Q+gs[q],0>(ce=g).b&&ge(ce);var Ee,le=ce.b,we=(Ee=ce.Ca>>1)-(ce.I>>le)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Ee+1&we)<<le,Y[oe]=((be^we)-we)*M[(0<q)+0]}return 16}function Or(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function fa(g,v,k,M,q){q=g[v+k+32*M]+(q>>3),g[v+k+32*M]=-256&q?0>q?0:255:q}function lo(g,v,k,M,q,Y){fa(g,v,0,k,M+q),fa(g,v,1,k,M+Y),fa(g,v,2,k,M-Y),fa(g,v,3,k,M-q)}function cs(g){return(20091*g>>16)+g}function co(g,v,k,M){var q,Y=0,Q=o(16);for(q=0;4>q;++q){var se=g[v+0]+g[v+8],oe=g[v+0]-g[v+8],ce=(35468*g[v+4]>>16)-cs(g[v+12]),be=cs(g[v+4])+(35468*g[v+12]>>16);Q[Y+0]=se+be,Q[Y+1]=oe+ce,Q[Y+2]=oe-ce,Q[Y+3]=se-be,Y+=4,v++}for(q=Y=0;4>q;++q)se=(g=Q[Y+0]+4)+Q[Y+8],oe=g-Q[Y+8],ce=(35468*Q[Y+4]>>16)-cs(Q[Y+12]),fa(k,M,0,0,se+(be=cs(Q[Y+4])+(35468*Q[Y+12]>>16))),fa(k,M,1,0,oe+ce),fa(k,M,2,0,oe-ce),fa(k,M,3,0,se-be),Y++,M+=32}function Wc(g,v,k,M){var q=g[v+0]+4,Y=35468*g[v+4]>>16,Q=cs(g[v+4]),se=35468*g[v+1]>>16;lo(k,M,0,q+Q,g=cs(g[v+1]),se),lo(k,M,1,q+Y,g,se),lo(k,M,2,q-Y,g,se),lo(k,M,3,q-Q,g,se)}function Wl(g,v,k,M,q){co(g,v,k,M),q&&co(g,v+16,k,M+4)}function Tr(g,v,k,M){$s(g,v+0,k,M,1),$s(g,v+32,k,M+128,1)}function si(g,v,k,M){var q;for(g=g[v+0]+4,q=0;4>q;++q)for(v=0;4>v;++v)fa(k,M,v,q,g)}function Gl(g,v,k,M){g[v+0]&&ia(g,v+0,k,M),g[v+16]&&ia(g,v+16,k,M+4),g[v+32]&&ia(g,v+32,k,M+128),g[v+48]&&ia(g,v+48,k,M+128+4)}function er(g,v,k,M){var q,Y=o(16);for(q=0;4>q;++q){var Q=g[v+0+q]+g[v+12+q],se=g[v+4+q]+g[v+8+q],oe=g[v+4+q]-g[v+8+q],ce=g[v+0+q]-g[v+12+q];Y[0+q]=Q+se,Y[8+q]=Q-se,Y[4+q]=ce+oe,Y[12+q]=ce-oe}for(q=0;4>q;++q)Q=(g=Y[0+4*q]+3)+Y[3+4*q],se=Y[1+4*q]+Y[2+4*q],oe=Y[1+4*q]-Y[2+4*q],ce=g-Y[3+4*q],k[M+0]=Q+se>>3,k[M+16]=ce+oe>>3,k[M+32]=Q-se>>3,k[M+48]=ce-oe>>3,M+=64}function Pr(g,v,k){var M,q=v-32,Y=Ln,Q=255-g[q-1];for(M=0;M<k;++M){var se,oe=Y,ce=Q+g[v-1];for(se=0;se<k;++se)g[v+se]=oe[ce+g[q+se]];v+=32}}function Zo(g,v){Pr(g,v,4)}function Gc(g,v){Pr(g,v,8)}function Yl(g,v){Pr(g,v,16)}function Qu(g,v){var k;for(k=0;16>k;++k)a(g,v+32*k,g,v-32,16)}function Kl(g,v){var k;for(k=16;0<k;--k)r(g,v,g[v-1],16),v+=32}function Ni(g,v,k){var M;for(M=0;16>M;++M)r(v,k+32*M,g,16)}function ji(g,v){var k,M=16;for(k=0;16>k;++k)M+=g[v-1+32*k]+g[v+k-32];Ni(M>>5,g,v)}function Xl(g,v){var k,M=8;for(k=0;16>k;++k)M+=g[v-1+32*k];Ni(M>>4,g,v)}function Oa(g,v){var k,M=8;for(k=0;16>k;++k)M+=g[v+k-32];Ni(M>>4,g,v)}function Si(g,v){Ni(128,g,v)}function Tt(g,v,k){return g+2*v+k+2>>2}function Ql(g,v){var k,M=v-32;for(M=new Uint8Array([Tt(g[M-1],g[M+0],g[M+1]),Tt(g[M+0],g[M+1],g[M+2]),Tt(g[M+1],g[M+2],g[M+3]),Tt(g[M+2],g[M+3],g[M+4])]),k=0;4>k;++k)a(g,v+32*k,M,0,M.length)}function Yc(g,v){var k=g[v-1],M=g[v-1+32],q=g[v-1+64],Y=g[v-1+96];Xe(g,v+0,16843009*Tt(g[v-1-32],k,M)),Xe(g,v+32,16843009*Tt(k,M,q)),Xe(g,v+64,16843009*Tt(M,q,Y)),Xe(g,v+96,16843009*Tt(q,Y,Y))}function uo(g,v){var k,M=4;for(k=0;4>k;++k)M+=g[v+k-32]+g[v-1+32*k];for(M>>=3,k=0;4>k;++k)r(g,v+32*k,M,4)}function ni(g,v){var k=g[v-1+0],M=g[v-1+32],q=g[v-1+64],Y=g[v-1-32],Q=g[v+0-32],se=g[v+1-32],oe=g[v+2-32],ce=g[v+3-32];g[v+0+96]=Tt(M,q,g[v-1+96]),g[v+1+96]=g[v+0+64]=Tt(k,M,q),g[v+2+96]=g[v+1+64]=g[v+0+32]=Tt(Y,k,M),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=Tt(Q,Y,k),g[v+3+64]=g[v+2+32]=g[v+1+0]=Tt(se,Q,Y),g[v+3+32]=g[v+2+0]=Tt(oe,se,Q),g[v+3+0]=Tt(ce,oe,se)}function ai(g,v){var k=g[v+1-32],M=g[v+2-32],q=g[v+3-32],Y=g[v+4-32],Q=g[v+5-32],se=g[v+6-32],oe=g[v+7-32];g[v+0+0]=Tt(g[v+0-32],k,M),g[v+1+0]=g[v+0+32]=Tt(k,M,q),g[v+2+0]=g[v+1+32]=g[v+0+64]=Tt(M,q,Y),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=Tt(q,Y,Q),g[v+3+32]=g[v+2+64]=g[v+1+96]=Tt(Y,Q,se),g[v+3+64]=g[v+2+96]=Tt(Q,se,oe),g[v+3+96]=Tt(se,oe,oe)}function Na(g,v){var k=g[v-1+0],M=g[v-1+32],q=g[v-1+64],Y=g[v-1-32],Q=g[v+0-32],se=g[v+1-32],oe=g[v+2-32],ce=g[v+3-32];g[v+0+0]=g[v+1+64]=Y+Q+1>>1,g[v+1+0]=g[v+2+64]=Q+se+1>>1,g[v+2+0]=g[v+3+64]=se+oe+1>>1,g[v+3+0]=oe+ce+1>>1,g[v+0+96]=Tt(q,M,k),g[v+0+64]=Tt(M,k,Y),g[v+0+32]=g[v+1+96]=Tt(k,Y,Q),g[v+1+32]=g[v+2+96]=Tt(Y,Q,se),g[v+2+32]=g[v+3+96]=Tt(Q,se,oe),g[v+3+32]=Tt(se,oe,ce)}function _i(g,v){var k=g[v+0-32],M=g[v+1-32],q=g[v+2-32],Y=g[v+3-32],Q=g[v+4-32],se=g[v+5-32],oe=g[v+6-32],ce=g[v+7-32];g[v+0+0]=k+M+1>>1,g[v+1+0]=g[v+0+64]=M+q+1>>1,g[v+2+0]=g[v+1+64]=q+Y+1>>1,g[v+3+0]=g[v+2+64]=Y+Q+1>>1,g[v+0+32]=Tt(k,M,q),g[v+1+32]=g[v+0+96]=Tt(M,q,Y),g[v+2+32]=g[v+1+96]=Tt(q,Y,Q),g[v+3+32]=g[v+2+96]=Tt(Y,Q,se),g[v+3+64]=Tt(Q,se,oe),g[v+3+96]=Tt(se,oe,ce)}function Zl(g,v){var k=g[v-1+0],M=g[v-1+32],q=g[v-1+64],Y=g[v-1+96];g[v+0+0]=k+M+1>>1,g[v+2+0]=g[v+0+32]=M+q+1>>1,g[v+2+32]=g[v+0+64]=q+Y+1>>1,g[v+1+0]=Tt(k,M,q),g[v+3+0]=g[v+1+32]=Tt(M,q,Y),g[v+3+32]=g[v+1+64]=Tt(q,Y,Y),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=Y}function tr(g,v){var k=g[v-1+0],M=g[v-1+32],q=g[v-1+64],Y=g[v-1+96],Q=g[v-1-32],se=g[v+0-32],oe=g[v+1-32],ce=g[v+2-32];g[v+0+0]=g[v+2+32]=k+Q+1>>1,g[v+0+32]=g[v+2+64]=M+k+1>>1,g[v+0+64]=g[v+2+96]=q+M+1>>1,g[v+0+96]=Y+q+1>>1,g[v+3+0]=Tt(se,oe,ce),g[v+2+0]=Tt(Q,se,oe),g[v+1+0]=g[v+3+32]=Tt(k,Q,se),g[v+1+32]=g[v+3+64]=Tt(M,k,Q),g[v+1+64]=g[v+3+96]=Tt(q,M,k),g[v+1+96]=Tt(Y,q,M)}function Jo(g,v){var k;for(k=0;8>k;++k)a(g,v+32*k,g,v-32,8)}function Ai(g,v){var k;for(k=0;8>k;++k)r(g,v,g[v-1],8),v+=32}function sr(g,v,k){var M;for(M=0;8>M;++M)r(v,k+32*M,g,8)}function ho(g,v){var k,M=8;for(k=0;8>k;++k)M+=g[v+k-32]+g[v-1+32*k];sr(M>>4,g,v)}function $n(g,v){var k,M=4;for(k=0;8>k;++k)M+=g[v+k-32];sr(M>>3,g,v)}function ii(g,v){var k,M=4;for(k=0;8>k;++k)M+=g[v-1+32*k];sr(M>>3,g,v)}function Br(g,v){sr(128,g,v)}function ri(g,v,k){var M=g[v-k],q=g[v+0],Y=3*(q-M)+eu[1020+g[v-2*k]-g[v+k]],Q=vo[112+(Y+4>>3)];g[v-k]=Ln[255+M+vo[112+(Y+3>>3)]],g[v+0]=Ln[255+q-Q]}function fo(g,v,k,M){var q=g[v+0],Y=g[v+k];return Ia[255+g[v-2*k]-g[v-k]]>M||Ia[255+Y-q]>M}function mo(g,v,k,M){return 4*Ia[255+g[v-k]-g[v+0]]+Ia[255+g[v-2*k]-g[v+k]]<=M}function Rr(g,v,k,M,q){var Y=g[v-3*k],Q=g[v-2*k],se=g[v-k],oe=g[v+0],ce=g[v+k],be=g[v+2*k],Ee=g[v+3*k];return 4*Ia[255+se-oe]+Ia[255+Q-ce]>M?0:Ia[255+g[v-4*k]-Y]<=q&&Ia[255+Y-Q]<=q&&Ia[255+Q-se]<=q&&Ia[255+Ee-be]<=q&&Ia[255+be-ce]<=q&&Ia[255+ce-oe]<=q}function nr(g,v,k,M){var q=2*M+1;for(M=0;16>M;++M)mo(g,v+M,k,q)&&ri(g,v+M,k)}function Ci(g,v,k,M){var q=2*M+1;for(M=0;16>M;++M)mo(g,v+M*k,1,q)&&ri(g,v+M*k,1)}function el(g,v,k,M){var q;for(q=3;0<q;--q)nr(g,v+=4*k,k,M)}function Jl(g,v,k,M){var q;for(q=3;0<q;--q)Ci(g,v+=4,k,M)}function ja(g,v,k,M,q,Y,Q,se){for(Y=2*Y+1;0<q--;){if(Rr(g,v,k,Y,Q))if(fo(g,v,k,se))ri(g,v,k);else{var oe=g,ce=v,be=k,Ee=oe[ce-2*be],le=oe[ce-be],we=oe[ce+0],_e=oe[ce+be],Be=oe[ce+2*be],Ce=27*(Ue=eu[1020+3*(we-le)+eu[1020+Ee-_e]])+63>>7,Ie=18*Ue+63>>7,Ue=9*Ue+63>>7;oe[ce-3*be]=Ln[255+oe[ce-3*be]+Ue],oe[ce-2*be]=Ln[255+Ee+Ie],oe[ce-be]=Ln[255+le+Ce],oe[ce+0]=Ln[255+we-Ce],oe[ce+be]=Ln[255+_e-Ie],oe[ce+2*be]=Ln[255+Be-Ue]}v+=M}}function ki(g,v,k,M,q,Y,Q,se){for(Y=2*Y+1;0<q--;){if(Rr(g,v,k,Y,Q))if(fo(g,v,k,se))ri(g,v,k);else{var oe=g,ce=v,be=k,Ee=oe[ce-be],le=oe[ce+0],we=oe[ce+be],_e=vo[112+(4+(Be=3*(le-Ee))>>3)],Be=vo[112+(Be+3>>3)],Ce=_e+1>>1;oe[ce-2*be]=Ln[255+oe[ce-2*be]+Ce],oe[ce-be]=Ln[255+Ee+Be],oe[ce+0]=Ln[255+le-_e],oe[ce+be]=Ln[255+we-Ce]}v+=M}}function A(g,v,k,M,q,Y){ja(g,v,k,1,16,M,q,Y)}function H(g,v,k,M,q,Y){ja(g,v,1,k,16,M,q,Y)}function ue(g,v,k,M,q,Y){var Q;for(Q=3;0<Q;--Q)ki(g,v+=4*k,k,1,16,M,q,Y)}function xe(g,v,k,M,q,Y){var Q;for(Q=3;0<Q;--Q)ki(g,v+=4,1,k,16,M,q,Y)}function Se(g,v,k,M,q,Y,Q,se){ja(g,v,q,1,8,Y,Q,se),ja(k,M,q,1,8,Y,Q,se)}function qe(g,v,k,M,q,Y,Q,se){ja(g,v,1,q,8,Y,Q,se),ja(k,M,1,q,8,Y,Q,se)}function Ke(g,v,k,M,q,Y,Q,se){ki(g,v+4*q,q,1,8,Y,Q,se),ki(k,M+4*q,q,1,8,Y,Q,se)}function pt(g,v,k,M,q,Y,Q,se){ki(g,v+4,1,q,8,Y,Q,se),ki(k,M+4,1,q,8,Y,Q,se)}function Nt(){this.ba=new ss,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ls(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new Z}function Hs(){this.xb=this.a=0,this.l=new Qo,this.ca=new ss,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ls,this.ab=0,this.gc=c(4,$t),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ws(g,v,k,M,q,Y,Q){for(g=g==null?0:g[v+0],v=0;v<Q;++v)q[Y+v]=g+k[M+v]&255,g=q[Y+v]}function ln(g,v,k,M,q,Y,Q){var se;if(g==null)ws(null,null,k,M,q,Y,Q);else for(se=0;se<Q;++se)q[Y+se]=g[v+se]+k[M+se]&255}function cn(g,v,k,M,q,Y,Q){if(g==null)ws(null,null,k,M,q,Y,Q);else{var se,oe=g[v+0],ce=oe,be=oe;for(se=0;se<Q;++se)ce=be+(oe=g[v+se])-ce,be=k[M+se]+(-256&ce?0>ce?0:255:ce)&255,ce=oe,q[Y+se]=be}}function Pn(g,v,k,M){var q=v.width,Y=v.o;if(e(g!=null&&v!=null),0>k||0>=M||k+M>Y)return null;if(!g.Cc){if(g.ga==null){var Q;if(g.ga=new on,(Q=g.ga==null)||(Q=v.width*v.o,e(g.Gb.length==0),g.Gb=o(Q),g.Uc=0,g.Gb==null?Q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Q=1),Q=!Q),!Q){Q=g.ga;var se=g.Fa,oe=g.P,ce=g.qc,be=g.mb,Ee=g.nb,le=oe+1,we=ce-1,_e=Q.l;if(e(se!=null&&be!=null&&v!=null),Ii[0]=null,Ii[1]=ws,Ii[2]=ln,Ii[3]=cn,Q.ca=be,Q.tb=Ee,Q.c=v.width,Q.i=v.height,e(0<Q.c&&0<Q.i),1>=ce)v=0;else if(Q.$a=3&se[oe+0],Q.Z=se[oe+0]>>2&3,Q.Lc=se[oe+0]>>4&3,oe=se[oe+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||oe)v=0;else if(_e.put=Et,_e.ac=Ja,_e.bc=qn,_e.ma=Q,_e.width=v.width,_e.height=v.height,_e.Da=v.Da,_e.v=v.v,_e.va=v.va,_e.j=v.j,_e.o=v.o,Q.$a)e:{e(Q.$a==1),v=Is();t:for(;;){if(v==null){v=0;break e}if(e(Q!=null),Q.mc=v,v.c=Q.c,v.i=Q.i,v.l=Q.l,v.l.ma=Q,v.l.width=Q.c,v.l.height=Q.i,v.a=0,me(v.m,se,le,we),!ei(Q.c,Q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&va(v.s)?(Q.ic=1,se=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(se),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Q.ic=0,v=Fr(v,Q.c)),!v))break t;v=1;break e}Q.mc=null,v=0}else v=we>=Q.c*Q.i;Q=!v}if(Q)return null;g.ga.Lc!=1?g.Ga=0:M=Y-k}e(g.ga!=null),e(k+M<=Y);e:{if(v=(se=g.ga).c,Y=se.l.o,se.$a==0){if(le=g.rc,we=g.Vc,_e=g.Fa,oe=g.P+1+k*v,ce=g.mb,be=g.nb+k*v,e(oe<=g.P+g.qc),se.Z!=0)for(e(Ii[se.Z]!=null),Q=0;Q<M;++Q)Ii[se.Z](le,we,_e,oe,ce,be,v),le=ce,we=be,be+=v,oe+=v;else for(Q=0;Q<M;++Q)a(ce,be,_e,oe,v),le=ce,we=be,be+=v,oe+=v;g.rc=le,g.Vc=we}else{if(e(se.mc!=null),v=k+M,e((Q=se.mc)!=null),e(v<=Q.i),Q.C>=v)v=1;else if(se.ic||po(),se.ic){se=Q.V,le=Q.Ba,we=Q.c;var Be=Q.i,Ce=(_e=1,oe=Q.$/we,ce=Q.$%we,be=Q.m,Ee=Q.s,Q.$),Ie=we*Be,Ue=we*v,Qe=Ee.wc,We=Ce<Ue?On(Ee,ce,oe):null;e(Ce<=Ie),e(v<=Be),e(va(Ee));t:for(;;){for(;!be.h&&Ce<Ue;){if(ce&Qe||(We=On(Ee,ce,oe)),e(We!=null),te(be),256>(Be=Us(We.G[0],We.H[0],be)))se[le+Ce]=Be,++Ce,++ce>=we&&(ce=0,++oe<=v&&!(oe%16)&&Hn(Q,oe));else{if(!(280>Be)){_e=0;break t}Be=Ms(Be-256,be);var wt,ut=Us(We.G[4],We.H[4],be);if(te(be),!(Ce>=(ut=Fn(we,ut=Ms(ut,be)))&&Ie-Ce>=Be)){_e=0;break t}for(wt=0;wt<Be;++wt)se[le+Ce+wt]=se[le+Ce+wt-ut];for(Ce+=Be,ce+=Be;ce>=we;)ce-=we,++oe<=v&&!(oe%16)&&Hn(Q,oe);Ce<Ue&&ce&Qe&&(We=On(Ee,ce,oe))}e(be.h==$(be))}Hn(Q,oe>v?v:oe);break t}!_e||be.h&&Ce<Ie?(_e=0,Q.a=be.h?5:3):Q.$=Ce,v=_e}else v=ta(Q,Q.V,Q.Ba,Q.c,Q.i,v,Ma);if(!v){M=0;break e}}k+M>=Y&&(g.Cc=1),M=1}if(!M)return null;if(g.Cc&&((M=g.ga)!=null&&(M.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+k*q}function ar(g,v,k,M,q,Y){for(;0<q--;){var Q,se=g,oe=v+(k?1:0),ce=g,be=v+(k?0:3);for(Q=0;Q<M;++Q){var Ee=ce[be+4*Q];Ee!=255&&(Ee*=32897,se[oe+4*Q+0]=se[oe+4*Q+0]*Ee>>23,se[oe+4*Q+1]=se[oe+4*Q+1]*Ee>>23,se[oe+4*Q+2]=se[oe+4*Q+2]*Ee>>23)}v+=Y}}function Ur(g,v,k,M,q){for(;0<M--;){var Y;for(Y=0;Y<k;++Y){var Q=g[v+2*Y+0],se=15&(ce=g[v+2*Y+1]),oe=4369*se,ce=(240&ce|ce>>4)*oe>>16;g[v+2*Y+0]=(240&Q|Q>>4)*oe>>16&240|(15&Q|Q<<4)*oe>>16>>4&15,g[v+2*Y+1]=240&ce|se}v+=q}}function Zu(g,v,k,M,q,Y,Q,se){var oe,ce,be=255;for(ce=0;ce<q;++ce){for(oe=0;oe<M;++oe){var Ee=g[v+oe];Y[Q+4*oe]=Ee,be&=Ee}v+=k,Q+=se}return be!=255}function Kc(g,v,k,M,q){var Y;for(Y=0;Y<q;++Y)k[M+Y]=g[v+Y]>>8}function po(){ll=ar,_a=Ur,Aa=Zu,bo=Kc}function oi(g,v,k){I[g]=function(M,q,Y,Q,se,oe,ce,be,Ee,le,we,_e,Be,Ce,Ie,Ue,Qe){var We,wt=Qe-1>>1,ut=se[oe+0]|ce[be+0]<<16,Ut=Ee[le+0]|we[_e+0]<<16;e(M!=null);var dt=3*ut+Ut+131074>>2;for(v(M[q+0],255&dt,dt>>16,Be,Ce),Y!=null&&(dt=3*Ut+ut+131074>>2,v(Y[Q+0],255&dt,dt>>16,Ie,Ue)),We=1;We<=wt;++We){var es=se[oe+We]|ce[be+We]<<16,un=Ee[le+We]|we[_e+We]<<16,Pt=ut+es+Ut+un+524296,mt=Pt+2*(es+Ut)>>3;dt=mt+ut>>1,ut=(Pt=Pt+2*(ut+un)>>3)+es>>1,v(M[q+2*We-1],255&dt,dt>>16,Be,Ce+(2*We-1)*k),v(M[q+2*We-0],255&ut,ut>>16,Be,Ce+(2*We-0)*k),Y!=null&&(dt=Pt+Ut>>1,ut=mt+un>>1,v(Y[Q+2*We-1],255&dt,dt>>16,Ie,Ue+(2*We-1)*k),v(Y[Q+2*We+0],255&ut,ut>>16,Ie,Ue+(2*We+0)*k)),ut=es,Ut=un}1&Qe||(dt=3*ut+Ut+131074>>2,v(M[q+Qe-1],255&dt,dt>>16,Be,Ce+(Qe-1)*k),Y!=null&&(dt=3*Ut+ut+131074>>2,v(Y[Q+Qe-1],255&dt,dt>>16,Ie,Ue+(Qe-1)*k)))}}function ec(){Dn[Wn]=fr,Dn[cl]=zi,Dn[Ri]=Gr,Dn[ac]=nu,Dn[wo]=au,Dn[lr]=hl,Dn[tu]=iu,Dn[ic]=zi,Dn[Vr]=nu,Dn[cr]=au,Dn[ul]=hl}function Ir(g){return g&-16384?0>g?0:255:g>>Qm}function Ta(g,v){return Ir((19077*g>>8)+(26149*v>>8)-14234)}function kn(g,v,k){return Ir((19077*g>>8)-(6419*v>>8)-(13320*k>>8)+8708)}function Ei(g,v){return Ir((19077*g>>8)+(33050*v>>8)-17685)}function Li(g,v,k,M,q){M[q+0]=Ta(g,k),M[q+1]=kn(g,v,k),M[q+2]=Ei(g,v)}function go(g,v,k,M,q){M[q+0]=Ei(g,v),M[q+1]=kn(g,v,k),M[q+2]=Ta(g,k)}function tl(g,v,k,M,q){var Y=kn(g,v,k);v=Y<<3&224|Ei(g,v)>>3,M[q+0]=248&Ta(g,k)|Y>>5,M[q+1]=v}function Vn(g,v,k,M,q){var Y=240&Ei(g,v)|15;M[q+0]=240&Ta(g,k)|kn(g,v,k)>>4,M[q+1]=Y}function ir(g,v,k,M,q){M[q+0]=255,Li(g,v,k,M,q+1)}function sl(g,v,k,M,q){go(g,v,k,M,q),M[q+3]=255}function Xc(g,v,k,M,q){Li(g,v,k,M,q),M[q+3]=255}function mn(g,v){return 0>g?0:g>v?v:g}function Sa(g,v,k){I[g]=function(M,q,Y,Q,se,oe,ce,be,Ee){for(var le=be+(-2&Ee)*k;be!=le;)v(M[q+0],Y[Q+0],se[oe+0],ce,be),v(M[q+1],Y[Q+0],se[oe+0],ce,be+k),q+=2,++Q,++oe,be+=2*k;1&Ee&&v(M[q+0],Y[Q+0],se[oe+0],ce,be)}}function nl(g,v,k){return k==0?g==0?v==0?6:5:v==0?4:0:k}function rr(g,v,k,M,q){switch(g>>>30){case 3:$s(v,k,M,q,0);break;case 2:Bi(v,k,M,q);break;case 1:ia(v,k,M,q)}}function Pa(g,v){var k,M,q=v.M,Y=v.Nb,Q=g.oc,se=g.pc+40,oe=g.oc,ce=g.pc+584,be=g.oc,Ee=g.pc+600;for(k=0;16>k;++k)Q[se+32*k-1]=129;for(k=0;8>k;++k)oe[ce+32*k-1]=129,be[Ee+32*k-1]=129;for(0<q?Q[se-1-32]=oe[ce-1-32]=be[Ee-1-32]=129:(r(Q,se-32-1,127,21),r(oe,ce-32-1,127,9),r(be,Ee-32-1,127,9)),M=0;M<g.za;++M){var le=v.ya[v.aa+M];if(0<M){for(k=-1;16>k;++k)a(Q,se+32*k-4,Q,se+32*k+12,4);for(k=-1;8>k;++k)a(oe,ce+32*k-4,oe,ce+32*k+4,4),a(be,Ee+32*k-4,be,Ee+32*k+4,4)}var we=g.Gd,_e=g.Hd+M,Be=le.ad,Ce=le.Hc;if(0<q&&(a(Q,se-32,we[_e].y,0,16),a(oe,ce-32,we[_e].f,0,8),a(be,Ee-32,we[_e].ea,0,8)),le.Za){var Ie=Q,Ue=se-32+16;for(0<q&&(M>=g.za-1?r(Ie,Ue,we[_e].y[15],4):a(Ie,Ue,we[_e+1].y,0,4)),k=0;4>k;k++)Ie[Ue+128+k]=Ie[Ue+256+k]=Ie[Ue+384+k]=Ie[Ue+0+k];for(k=0;16>k;++k,Ce<<=2)Ie=Q,Ue=se+_o[k],ra[le.Ob[k]](Ie,Ue),rr(Ce,Be,16*+k,Ie,Ue)}else if(Ie=nl(M,q,le.Ob[0]),hr[Ie](Q,se),Ce!=0)for(k=0;16>k;++k,Ce<<=2)rr(Ce,Be,16*+k,Q,se+_o[k]);for(k=le.Gc,Ie=nl(M,q,le.Dd),ka[Ie](oe,ce),ka[Ie](be,Ee),Ce=Be,Ie=oe,Ue=ce,255&(le=0|k)&&(170&le?Ra(Ce,256,Ie,Ue):xo(Ce,256,Ie,Ue)),le=be,Ce=Ee,255&(k>>=8)&&(170&k?Ra(Be,320,le,Ce):xo(Be,320,le,Ce)),q<g.Ub-1&&(a(we[_e].y,0,Q,se+480,16),a(we[_e].f,0,oe,ce+224,8),a(we[_e].ea,0,be,Ee+224,8)),k=8*Y*g.B,we=g.sa,_e=g.ta+16*M+16*Y*g.R,Be=g.qa,le=g.ra+8*M+k,Ce=g.Ha,Ie=g.Ia+8*M+k,k=0;16>k;++k)a(we,_e+k*g.R,Q,se+32*k,16);for(k=0;8>k;++k)a(Be,le+k*g.B,oe,ce+32*k,8),a(Ce,Ie+k*g.B,be,Ee+32*k,8)}}function al(g,v,k,M,q,Y,Q,se,oe){var ce=[0],be=[0],Ee=0,le=oe!=null?oe.kd:0,we=oe??new Ot;if(g==null||12>k)return 7;we.data=g,we.w=v,we.ha=k,v=[v],k=[k],we.gb=[we.gb];e:{var _e=v,Be=k,Ce=we.gb;if(e(g!=null),e(Be!=null),e(Ce!=null),Ce[0]=0,12<=Be[0]&&!s(g,_e[0],"RIFF")){if(s(g,_e[0]+8,"WEBP")){Ce=3;break e}var Ie=ke(g,_e[0]+4);if(12>Ie||4294967286<Ie){Ce=3;break e}if(le&&Ie>Be[0]-8){Ce=7;break e}Ce[0]=Ie,_e[0]+=12,Be[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ie=0<we.gb[0],k=k[0];;){e:{var Ue=g;Be=v,Ce=k;var Qe=ce,We=be,wt=_e=[0];if((dt=Ee=[Ee])[0]=0,8>Ce[0])Ce=7;else{if(!s(Ue,Be[0],"VP8X")){if(ke(Ue,Be[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ut=ke(Ue,Be[0]+8),Ut=1+Je(Ue,Be[0]+12);if(2147483648<=Ut*(Ue=1+Je(Ue,Be[0]+15))){Ce=3;break e}wt!=null&&(wt[0]=ut),Qe!=null&&(Qe[0]=Ut),We!=null&&(We[0]=Ue),Be[0]+=18,Ce[0]-=18,dt[0]=1}Ce=0}}if(Ee=Ee[0],_e=_e[0],Ce!=0)return Ce;if(Be=!!(2&_e),!Ie&&Ee)return 3;if(Y!=null&&(Y[0]=!!(16&_e)),Q!=null&&(Q[0]=Be),se!=null&&(se[0]=0),Q=ce[0],_e=be[0],Ee&&Be&&oe==null){Ce=0;break}if(4>k){Ce=7;break}if(Ie&&Ee||!Ie&&!Ee&&!s(g,v[0],"ALPH")){k=[k],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{ut=g,Ce=v,Ie=k;var dt=we.gb;Qe=we.na,We=we.P,wt=we.Sa,Ut=22,e(ut!=null),e(Ie!=null),Ue=Ce[0];var es=Ie[0];for(e(Qe!=null),e(wt!=null),Qe[0]=null,We[0]=null,wt[0]=0;;){if(Ce[0]=Ue,Ie[0]=es,8>es){Ce=7;break e}var un=ke(ut,Ue+4);if(4294967286<un){Ce=3;break e}var Pt=8+un+1&-2;if(Ut+=Pt,0<dt&&Ut>dt){Ce=3;break e}if(!s(ut,Ue,"VP8 ")||!s(ut,Ue,"VP8L")){Ce=0;break e}if(es[0]<Pt){Ce=7;break e}s(ut,Ue,"ALPH")||(Qe[0]=ut,We[0]=Ue+8,wt[0]=un),Ue+=Pt,es-=Pt}}if(k=k[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ce!=0)break}k=[k],we.Ja=[we.Ja],we.xa=[we.xa];e:if(dt=g,Ce=v,Ie=k,Qe=we.gb[0],We=we.Ja,wt=we.xa,ut=Ce[0],Ue=!s(dt,ut,"VP8 "),Ut=!s(dt,ut,"VP8L"),e(dt!=null),e(Ie!=null),e(We!=null),e(wt!=null),8>Ie[0])Ce=7;else{if(Ue||Ut){if(dt=ke(dt,ut+4),12<=Qe&&dt>Qe-12){Ce=3;break e}if(le&&dt>Ie[0]-8){Ce=7;break e}We[0]=dt,Ce[0]+=8,Ie[0]-=8,wt[0]=Ut}else wt[0]=5<=Ie[0]&&dt[ut+0]==47&&!(dt[ut+4]>>5),We[0]=Ie[0];Ce=0}if(k=k[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Ce!=0)break;if(4294967286<we.Ja)return 3;if(se==null||Be||(se[0]=we.xa?2:1),Q=[Q],_e=[_e],we.xa){if(5>k){Ce=7;break}se=Q,le=_e,Be=Y,g==null||5>k?g=0:5<=k&&g[v+0]==47&&!(g[v+4]>>5)?(Ie=[0],dt=[0],Qe=[0],me(We=new W,g,v,k),Rs(We,Ie,dt,Qe)?(se!=null&&(se[0]=Ie[0]),le!=null&&(le[0]=dt[0]),Be!=null&&(Be[0]=Qe[0]),g=1):g=0):g=0}else{if(10>k){Ce=7;break}se=_e,g==null||10>k||!Vl(g,v+3,k-3)?g=0:(le=g[v+0]|g[v+1]<<8|g[v+2]<<16,Be=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=we.Ja||!Be||!g?g=0:(Q&&(Q[0]=Be),se&&(se[0]=g),g=1))}if(!g||(Q=Q[0],_e=_e[0],Ee&&(ce[0]!=Q||be[0]!=_e)))return 3;oe!=null&&(oe[0]=we,oe.offset=v-oe.w,e(4294967286>v-oe.w),e(oe.offset==oe.ha-k));break}return Ce==0||Ce==7&&Ee&&oe==null?(Y!=null&&(Y[0]|=we.na!=null&&0<we.na.length),M!=null&&(M[0]=Q),q!=null&&(q[0]=_e),0):Ce}function Bn(g,v,k){var M=v.width,q=v.height,Y=0,Q=0,se=M,oe=q;if(v.Da=g!=null&&0<g.Da,v.Da&&(se=g.cd,oe=g.bd,Y=g.v,Q=g.j,11>k||(Y&=-2,Q&=-2),0>Y||0>Q||0>=se||0>=oe||Y+se>M||Q+oe>q))return 0;if(v.v=Y,v.j=Q,v.va=Y+se,v.o=Q+oe,v.U=se,v.T=oe,v.da=g!=null&&0<g.da,v.da){if(!et(se,oe,k=[g.ib],Y=[g.hb]))return 0;v.ib=k[0],v.hb=Y[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*M/4&&v.hb<3*q/4,v.Kb=0),1}function na(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function zr(g,v,k,M){if(M==null||0>=g||0>=v)return 2;if(k!=null){if(k.Da){var q=k.cd,Y=k.bd,Q=-2&k.v,se=-2&k.j;if(0>Q||0>se||0>=q||0>=Y||Q+q>g||se+Y>v)return 2;g=q,v=Y}if(k.da){if(!et(g,v,q=[k.ib],Y=[k.hb]))return 2;g=q[0],v=Y[0]}}M.width=g,M.height=v;e:{var oe=M.width,ce=M.height;if(g=M.S,0>=oe||0>=ce||!(g>=Wn&&13>g))g=2;else{if(0>=M.Rd&&M.sd==null){Q=Y=q=v=0;var be=(se=oe*Rh[g])*ce;if(11>g||(Y=(ce+1)/2*(v=(oe+1)/2),g==12&&(Q=(q=oe)*ce)),(ce=o(be+2*Y+Q))==null){g=1;break e}M.sd=ce,11>g?((oe=M.f.RGBA).eb=ce,oe.fb=0,oe.A=se,oe.size=be):((oe=M.f.kb).y=ce,oe.O=0,oe.fa=se,oe.Fd=be,oe.f=ce,oe.N=0+be,oe.Ab=v,oe.Cd=Y,oe.ea=ce,oe.W=0+be+Y,oe.Db=v,oe.Ed=Y,g==12&&(oe.F=ce,oe.J=0+be+2*Y),oe.Tc=Q,oe.lb=q)}if(v=1,q=M.S,Y=M.width,Q=M.height,q>=Wn&&13>q)if(11>q)g=M.f.RGBA,v&=(se=Math.abs(g.A))*(Q-1)+Y<=g.size,v&=se>=Y*Rh[q],v&=g.eb!=null;else{g=M.f.kb,se=(Y+1)/2,be=(Q+1)/2,oe=Math.abs(g.fa),ce=Math.abs(g.Ab);var Ee=Math.abs(g.Db),le=Math.abs(g.lb),we=le*(Q-1)+Y;v&=oe*(Q-1)+Y<=g.Fd,v&=ce*(be-1)+se<=g.Cd,v=(v&=Ee*(be-1)+se<=g.Ed)&oe>=Y&ce>=se&Ee>=se,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,q==12&&(v&=le>=Y,v&=we<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||k!=null&&k.fd&&(g=na(M)),g}var Ba=64,Di=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],il=24,or=32,Ys=8,Ju=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(g){return g},I.Predictor2=function(g,v,k){return v[k+0]},I.Predictor3=function(g,v,k){return v[k+1]},I.Predictor4=function(g,v,k){return v[k-1]},I.Predictor5=function(g,v,k){return xt(xt(g,v[k+1]),v[k+0])},I.Predictor6=function(g,v,k){return xt(g,v[k-1])},I.Predictor7=function(g,v,k){return xt(g,v[k+0])},I.Predictor8=function(g,v,k){return xt(v[k-1],v[k+0])},I.Predictor9=function(g,v,k){return xt(v[k+0],v[k+1])},I.Predictor10=function(g,v,k){return xt(xt(g,v[k-1]),xt(v[k+0],v[k+1]))},I.Predictor11=function(g,v,k){var M=v[k+0];return 0>=ct(M>>24&255,g>>24&255,(v=v[k-1])>>24&255)+ct(M>>16&255,g>>16&255,v>>16&255)+ct(M>>8&255,g>>8&255,v>>8&255)+ct(255&M,255&g,255&v)?M:g},I.Predictor12=function(g,v,k){var M=v[k+0];return(Zt((g>>24&255)+(M>>24&255)-((v=v[k-1])>>24&255))<<24|Zt((g>>16&255)+(M>>16&255)-(v>>16&255))<<16|Zt((g>>8&255)+(M>>8&255)-(v>>8&255))<<8|Zt((255&g)+(255&M)-(255&v)))>>>0},I.Predictor13=function(g,v,k){var M=v[k-1];return(Ye((g=xt(g,v[k+0]))>>24&255,M>>24&255)<<24|Ye(g>>16&255,M>>16&255)<<16|Ye(g>>8&255,M>>8&255)<<8|Ye(255&g,255&M))>>>0};var Mi=I.PredictorAdd0;I.PredictorAdd1=vt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Fi=I.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var rl,tc=I.ColorIndexInverseTransform,En=I.MapARGB,Oi=I.VP8LColorIndexInverseTransformAlpha,qr=I.MapAlpha,Hr=I.VP8LPredictorsAdd=[];Hr.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Ti,ol,aa,Pi,ps,Ns,Fs,$s,Bi,Ra,ia,xo,ed,$r,td,sd,nd,Lh,Dh,Mh,ad,id,Qc,Ua,ll,_a,Aa,bo,Zc=o(511),sc=o(2041),nc=o(225),Jc=o(767),yo=0,eu=sc,vo=nc,Ln=Jc,Ia=Zc,Wn=0,cl=1,Ri=2,ac=3,wo=4,lr=5,tu=6,ic=7,Vr=8,cr=9,ul=10,su=[2,3,7],za=[3,3,11],Ca=[280,256,256,256,40],No=[0,1,1,1,0],ur=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fh=8,rc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pn=null,Ks=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ui=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],So=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Oh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hr=[],ra=[],ka=[],Th=1,dl=2,Ii=[],Dn=[];oi("UpsampleRgbLinePair",Li,3),oi("UpsampleBgrLinePair",go,3),oi("UpsampleRgbaLinePair",Xc,4),oi("UpsampleBgraLinePair",sl,4),oi("UpsampleArgbLinePair",ir,4),oi("UpsampleRgba4444LinePair",Vn,2),oi("UpsampleRgb565LinePair",tl,2);var fr=I.UpsampleRgbLinePair,Gr=I.UpsampleBgrLinePair,zi=I.UpsampleRgbaLinePair,nu=I.UpsampleBgraLinePair,au=I.UpsampleArgbLinePair,hl=I.UpsampleRgba4444LinePair,iu=I.UpsampleRgb565LinePair,qi=16,gn=1<<qi-1,Yr=-227,ru=482,Qm=6,Ph=0,Zm=o(256),xn=o(256),od=o(256),lc=o(256),cc=o(ru-Yr),ld=o(ru-Yr);Sa("YuvToRgbRow",Li,3),Sa("YuvToBgrRow",go,3),Sa("YuvToRgbaRow",Xc,4),Sa("YuvToBgraRow",sl,4),Sa("YuvToArgbRow",ir,4),Sa("YuvToRgba4444Row",Vn,2),Sa("YuvToRgb565Row",tl,2);var _o=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mr=[0,2,8],Jm=[8,7,6,4,4,2,2,2,1,1,1,1],Bh=1;this.WebPDecodeRGBA=function(g,v,k,M,q){var Y=cl,Q=new Nt,se=new ss;Q.ba=se,se.S=Y,se.width=[se.width],se.height=[se.height];var oe=se.width,ce=se.height,be=new Ft;if(be==null||g==null)var Ee=2;else e(be!=null),Ee=al(g,v,k,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ee!=0?oe=0:(oe!=null&&(oe[0]=be.width[0]),ce!=null&&(ce[0]=be.height[0]),oe=1),oe){se.width=se.width[0],se.height=se.height[0],M!=null&&(M[0]=se.width),q!=null&&(q[0]=se.height);e:{if(M=new Qo,(q=new Ot).data=g,q.w=v,q.ha=k,q.kd=1,v=[0],e(q!=null),((g=al(q.data,q.w,q.ha,null,null,null,v,null,q))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(e(Q!=null),M.data=q.data,M.w=q.w+q.offset,M.ha=q.ha-q.offset,M.put=Et,M.ac=Ja,M.bc=qn,M.ma=Q,q.xa){if((g=Is())==null){Q=1;break e}if(function(le,we){var _e=[0],Be=[0],Ce=[0];t:for(;;){if(le==null)return 0;if(we==null)return le.a=2,0;if(le.l=we,le.a=0,me(le.m,we.data,we.w,we.ha),!Rs(le.m,_e,Be,Ce)){le.a=3;break t}if(le.xb=dl,we.width=_e[0],we.height=Be[0],!ei(_e[0],Be[0],1,le,null))break t;return 1}return e(le.a!=0),0}(g,M)){if(M=(v=zr(M.width,M.height,Q.Oa,Q.ba))==0){t:{M=g;s:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((k=M.l)!=null),e((q=k.ma)!=null),M.xb!=0){if(M.ca=q.ba,M.tb=q.tb,e(M.ca!=null),!Bn(q.Oa,k,ac)){M.a=2;break s}if(!Fr(M,k.width)||k.da)break s;if((k.da||nt(M.ca.S))&&po(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&po()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!he(M.s.vb,M.s.Wa.Xa)){M.a=1;break s}M.xb=0}if(!ta(M,M.V,M.Ba,M.c,M.i,k.o,Da))break s;q.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(v=g.a)}else v=g.a}else{if((g=new $c)==null){Q=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,Vc(g,M)){if((v=zr(M.width,M.height,Q.Oa,Q.ba))==0){if(g.Aa=0,k=Q.Oa,e((q=g)!=null),k!=null){if(0<(oe=0>(oe=k.Md)?0:100<oe?255:255*oe/100)){for(ce=be=0;4>ce;++ce)12>(Ee=q.pb[ce]).lc&&(Ee.ia=oe*Jm[0>Ee.lc?0:Ee.lc]>>3),be|=Ee.ia;be&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=k.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(le,we){if(le==null)return 0;if(we==null)return ms(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!Vc(le,we))return 0;if(e(le.cb),we.ac==null||we.ac(we)){we.ob&&(le.L=0);var _e=mr[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=we.v-_e>>4,le.zb=we.j-_e>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=we.o+15+_e>>4,le.Hb=we.va+15+_e>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Be=le.ed;for(_e=0;4>_e;++_e){var Ce;if(le.Qa.Cb){var Ie=le.Qa.Lb[_e];le.Qa.Fb||(Ie+=Be.Tb)}else Ie=Be.Tb;for(Ce=0;1>=Ce;++Ce){var Ue=le.gd[_e][Ce],Qe=Ie;if(Be.Pc&&(Qe+=Be.vd[0],Ce&&(Qe+=Be.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var We=Qe;0<Be.wb&&(We=4<Be.wb?We>>2:We>>1)>9-Be.wb&&(We=9-Be.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*Qe+We,Ue.ld=40<=Qe?2:15<=Qe?1:0}else Ue.tc=0;Ue.La=Ce}}}_e=0}else ms(le,6,"Frame setup failed"),_e=le.a;if(_e=_e==0){if(_e){le.$c=0,0<le.Aa||(le.Ic=Bh);t:{_e=le.Ic,Be=4*(We=le.za);var wt=32*We,ut=We+1,Ut=0<le.L?We*(0<le.Aa?2:1):0,dt=(le.Aa==2?2:1)*We;if((Ue=Be+832+(Ce=3*(16*_e+mr[le.L])/2*wt)+(Ie=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ue)_e=0;else{if(Ue>le.Vb){if(le.Vb=0,le.Ec=o(Ue),le.Fc=0,le.Ec==null){_e=ms(le,1,"no memory during frame initialization.");break t}le.Vb=Ue}Ue=le.Ec,Qe=le.Fc,le.Ac=Ue,le.Bc=Qe,Qe+=Be,le.Gd=c(wt,Ko),le.Hd=0,le.rb=c(ut+1,wa),le.sb=1,le.wa=Ut?c(Ut,sa):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=We),e(!0),le.oc=Ue,le.pc=Qe,Qe+=832,le.ya=c(dt,Yo),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=We),le.R=16*We,le.B=8*We,We=(wt=mr[le.L])*le.R,wt=wt/2*le.B,le.sa=Ue,le.ta=Qe+We,le.qa=le.sa,le.ra=le.ta+16*_e*le.R+wt,le.Ha=le.qa,le.Ia=le.ra+8*_e*le.B+wt,le.$c=0,Qe+=Ce,le.mb=Ie?Ue:null,le.nb=Ie?Qe:null,e(Qe+Ie<=le.Fc+le.Vb),Or(le),r(le.Ac,le.Bc,0,Be),_e=1}}if(_e){if(we.ka=0,we.y=le.sa,we.O=le.ta,we.f=le.qa,we.N=le.ra,we.ea=le.Ha,we.Vd=le.Ia,we.fa=le.R,we.Rc=le.B,we.F=null,we.J=0,!yo){for(_e=-255;255>=_e;++_e)Zc[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)sc[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)nc[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Jc[255+_e]=0>_e?0:255<_e?255:_e;yo=1}Fs=er,$s=Wl,Ra=Tr,ia=si,xo=Gl,Bi=Wc,ed=A,$r=H,td=Se,sd=qe,nd=ue,Lh=xe,Dh=Ke,Mh=pt,ad=nr,id=Ci,Qc=el,Ua=Jl,ra[0]=uo,ra[1]=Zo,ra[2]=Ql,ra[3]=Yc,ra[4]=ni,ra[5]=Na,ra[6]=ai,ra[7]=_i,ra[8]=tr,ra[9]=Zl,hr[0]=ji,hr[1]=Yl,hr[2]=Qu,hr[3]=Kl,hr[4]=Xl,hr[5]=Oa,hr[6]=Si,ka[0]=ho,ka[1]=Gc,ka[2]=Jo,ka[3]=Ai,ka[4]=ii,ka[5]=$n,ka[6]=Br,_e=1}else _e=0}_e&&(_e=function(es,un){for(es.M=0;es.M<es.Va;++es.M){var Pt,mt=es.Jc[es.M&es.Xb],at=es.m,Vs=es;for(Pt=0;Pt<Vs.za;++Pt){var It=at,Wt=Vs,gt=Wt.Ac,qt=Wt.Bc+4*Pt,rs=Wt.zc,Os=Wt.ya[Wt.aa+Pt];if(Wt.Qa.Bb?Os.$b=Oe(It,Wt.Pa.jb[0])?2+Oe(It,Wt.Pa.jb[2]):Oe(It,Wt.Pa.jb[1]):Os.$b=0,Wt.kc&&(Os.Ad=Oe(It,Wt.Bd)),Os.Za=!Oe(It,145)+0,Os.Za){var sn=Os.Ob,nn=0;for(Wt=0;4>Wt;++Wt){var Xs,Jt=rs[0+Wt];for(Xs=0;4>Xs;++Xs){Jt=rd[gt[qt+Xs]][Jt];for(var os=Wr[Oe(It,Jt[0])];0<os;)os=Wr[2*os+Oe(It,Jt[os])];Jt=-os,gt[qt+Xs]=Jt}a(sn,nn,gt,qt,4),nn+=4,rs[0+Wt]=Jt}}else Jt=Oe(It,156)?Oe(It,128)?1:3:Oe(It,163)?2:0,Os.Ob[0]=Jt,r(gt,qt,Jt,4),r(rs,0,Jt,4);Os.Dd=Oe(It,142)?Oe(It,114)?Oe(It,183)?1:3:2:0}if(Vs.m.Ka)return ms(es,7,"Premature end-of-partition0 encountered.");for(;es.ja<es.za;++es.ja){if(Vs=mt,It=(at=es).rb[at.sb-1],gt=at.rb[at.sb+at.ja],Pt=at.ya[at.aa+at.ja],qt=at.kc?Pt.Ad:0)It.la=gt.la=0,Pt.Za||(It.Na=gt.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var Qs,Lt;if(It=gt,gt=Vs,qt=at.Pa.Xc,rs=at.ya[at.aa+at.ja],Os=at.pb[rs.$b],Wt=rs.ad,sn=0,nn=at.rb[at.sb-1],Jt=Xs=0,r(Wt,sn,0,384),rs.Za)var bn=0,Ea=qt[3];else{os=o(16);var Zs=It.Na+nn.Na;if(Zs=pn(gt,qt[1],Zs,Os.Eb,0,os,0),It.Na=nn.Na=(0<Zs)+0,1<Zs)Fs(os,0,Wt,sn);else{var oa=os[0]+3>>3;for(os=0;256>os;os+=16)Wt[sn+os]=oa}bn=1,Ea=qt[0]}var js=15&It.la,an=15&nn.la;for(os=0;4>os;++os){var la=1&an;for(oa=Lt=0;4>oa;++oa)js=js>>1|(la=(Zs=pn(gt,Ea,Zs=la+(1&js),Os.Sc,bn,Wt,sn))>bn)<<7,Lt=Lt<<2|(3<Zs?3:1<Zs?2:Wt[sn+0]!=0),sn+=16;js>>=4,an=an>>1|la<<7,Xs=(Xs<<8|Lt)>>>0}for(Ea=js,bn=an>>4,Qs=0;4>Qs;Qs+=2){for(Lt=0,js=It.la>>4+Qs,an=nn.la>>4+Qs,os=0;2>os;++os){for(la=1&an,oa=0;2>oa;++oa)Zs=la+(1&js),js=js>>1|(la=0<(Zs=pn(gt,qt[2],Zs,Os.Qc,0,Wt,sn)))<<3,Lt=Lt<<2|(3<Zs?3:1<Zs?2:Wt[sn+0]!=0),sn+=16;js>>=2,an=an>>1|la<<5}Jt|=Lt<<4*Qs,Ea|=js<<4<<Qs,bn|=(240&an)<<Qs}It.la=Ea,nn.la=bn,rs.Hc=Xs,rs.Gc=Jt,rs.ia=43690&Jt?0:Os.ia,qt=!(Xs|Jt)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[Pt.$b][Pt.Za],at.wa[at.Y+at.ja].La|=!qt),Vs.Ka)return ms(es,7,"Premature end-of-file encountered.")}if(Or(es),at=un,Vs=1,Pt=(mt=es).D,It=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Pt.M=mt.M,Pt.uc=It,Pa(mt,Pt),Vs=1,Pt=(Lt=mt.D).Nb,It=(Jt=mr[mt.L])*mt.R,gt=Jt/2*mt.B,os=16*Pt*mt.R,oa=8*Pt*mt.B,qt=mt.sa,rs=mt.ta-It+os,Os=mt.qa,Wt=mt.ra-gt+oa,sn=mt.Ha,nn=mt.Ia-gt+oa,an=(js=Lt.M)==0,Xs=js>=mt.Va-1,mt.Aa==2&&Pa(mt,Lt),Lt.uc)for(la=(Zs=mt).D.M,e(Zs.D.uc),Lt=Zs.yb;Lt<Zs.Hb;++Lt){bn=Lt,Ea=la;var Rn=(ks=(vn=Zs).D).Nb;Qs=vn.R;var ks=ks.wa[ks.Y+bn],us=vn.sa,Gn=vn.ta+16*Rn*Qs+16*bn,Un=ks.dd,ys=ks.tc;if(ys!=0)if(e(3<=ys),vn.L==1)0<bn&&id(us,Gn,Qs,ys+4),ks.La&&Ua(us,Gn,Qs,ys),0<Ea&&ad(us,Gn,Qs,ys+4),ks.La&&Qc(us,Gn,Qs,ys);else{var ca=vn.B,yn=vn.qa,Hi=vn.ra+8*Rn*ca+8*bn,li=vn.Ha,vn=vn.Ia+8*Rn*ca+8*bn;Rn=ks.ld,0<bn&&($r(us,Gn,Qs,ys+4,Un,Rn),sd(yn,Hi,li,vn,ca,ys+4,Un,Rn)),ks.La&&(Lh(us,Gn,Qs,ys,Un,Rn),Mh(yn,Hi,li,vn,ca,ys,Un,Rn)),0<Ea&&(ed(us,Gn,Qs,ys+4,Un,Rn),td(yn,Hi,li,vn,ca,ys+4,Un,Rn)),ks.La&&(nd(us,Gn,Qs,ys,Un,Rn),Dh(yn,Hi,li,vn,ca,ys,Un,Rn))}}if(mt.ia&&alert("todo:DitherRow"),at.put!=null){if(Lt=16*js,js=16*(js+1),an?(at.y=mt.sa,at.O=mt.ta+os,at.f=mt.qa,at.N=mt.ra+oa,at.ea=mt.Ha,at.W=mt.Ia+oa):(Lt-=Jt,at.y=qt,at.O=rs,at.f=Os,at.N=Wt,at.ea=sn,at.W=nn),Xs||(js-=Jt),js>at.o&&(js=at.o),at.F=null,at.J=null,mt.Fa!=null&&0<mt.Fa.length&&Lt<js&&(at.J=Pn(mt,at,Lt,js-Lt),at.F=mt.mb,at.F==null&&at.F.length==0)){Vs=ms(mt,3,"Could not decode alpha data.");break t}Lt<at.j&&(Jt=at.j-Lt,Lt=at.j,e(!(1&Jt)),at.O+=mt.R*Jt,at.N+=mt.B*(Jt>>1),at.W+=mt.B*(Jt>>1),at.F!=null&&(at.J+=at.width*Jt)),Lt<js&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=Lt-at.j,at.U=at.va-at.v,at.T=js-Lt,Vs=at.put(at))}Pt+1!=mt.Ic||Xs||(a(mt.sa,mt.ta-It,qt,rs+16*mt.R,It),a(mt.qa,mt.ra-gt,Os,Wt+8*mt.B,gt),a(mt.Ha,mt.Ia-gt,sn,nn+8*mt.B,gt))}if(!Vs)return ms(es,6,"Output aborted.")}return 1}(le,we)),we.bc!=null&&we.bc(we),_e&=1}return _e?(le.cb=0,_e):0})(g,M)||(v=g.a)}}else v=g.a}v==0&&Q.Oa!=null&&Q.Oa.fd&&(v=na(Q.ba))}Q=v}Y=Q!=0?null:11>Y?se.f.RGBA.eb:se.f.kb.y}else Y=null;return Y};var Rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,ee){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(I[ee++]);return T}function p(I,ee){return I[ee+0]|I[ee+1]<<8}function x(I,ee){return(I[ee+0]|I[ee+1]<<8|I[ee+2]<<16)>>>0}function w(I,ee){return(I[ee+0]|I[ee+1]<<8|I[ee+2]<<16|I[ee+3]<<24)>>>0}new h;var y=[0],j=[0],_=[],C=new h,S=t,L=function(I,ee){var T={},F=0,Z=!1,K=0,fe=0;if(T.frames=[],!function(D,W){for(var z=0;z<4;z++)if(D[W+z]!="RIFF".charCodeAt(z))return!0;return!1}(I,ee)){for(w(I,ee+=4),ee+=8;ee<I.length;){var R=f(I,ee),ie=w(I,ee+=4);ee+=4;var re=ie+(1&ie);switch(R){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(de=T.frames[F]).src_off=Z?fe:ee-8,de.src_size=K+ie+8,F++,Z&&(Z=!1,K=0,fe=0);break;case"VP8X":(de=T.header={}).feature_flags=I[ee];var me=ee+4;de.canvas_width=1+x(I,me),me+=3,de.canvas_height=1+x(I,me),me+=3;break;case"ALPH":Z=!0,K=re+8,fe=ee-8;break;case"ANIM":(de=T.header).bgcolor=w(I,ee),me=ee+4,de.loop_count=p(I,me),me+=2;break;case"ANMF":var X,de;(de=T.frames[F]={}).offset_x=2*x(I,ee),ee+=3,de.offset_y=2*x(I,ee),ee+=3,de.width=1+x(I,ee),ee+=3,de.height=1+x(I,ee),ee+=3,de.duration=x(I,ee),ee+=3,X=I[ee++],de.dispose=1&X,de.blend=X>>1&1}R!="ANMF"&&(ee+=re)}return T}}(S,0);L.response=S,L.rgbaoutput=!0,L.dataurl=!1;var E=L.header?L.header:null,P=L.frames?L.frames:null;if(E){E.loop_counter=E.loop_count,y=[E.canvas_height],j=[E.canvas_width];for(var V=0;V<P.length&&P[V].blend!=0;V++);}var ae=P[0],G=C.WebPDecodeRGBA(S,ae.src_off,ae.src_size,j,y);ae.rgba=G,ae.imgwidth=j[0],ae.imgheight=y[0];for(var U=0;U<j[0]*y[0]*4;U++)_[U]=G[U];return this.width=j,this.height=y,this.data=_,this}(function(t){var e,s,a,r,o,c,d,h,f,p=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new h,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new c,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new c,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var x=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=D;Object.defineProperty(this,"pdf",{get:function(){return W}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ke){z=!!ke}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(ke){$=!!ke}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ke){isNaN(ke)||(ne=ke)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(ke){isNaN(ke)||(te=ke)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ke){var he;typeof ke=="number"?he=[ke,ke,ke,ke]:((he=new Array(4))[0]=ke[0],he[1]=ke.length>=2?ke[1]:he[0],he[2]=ke.length>=3?ke[2]:he[0],he[3]=ke.length>=4?ke[3]:he[1]),f.margin=he}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(ke){ge=ke}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(ke){Ne=ke}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(ke){Oe=ke}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ke){ke instanceof p&&(f=ke)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ke){f.path=ke}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(ke){Xe=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var he;he=w(ke),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var he=w(ke);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Re=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ke){Re=null,Je=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var he;if(this.ctx.font=ke,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Rt=he[1];he[2];var Te=he[3],et=he[4];he[5];var Fe=he[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(Ve==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var Ze=function(tt){var ot,Ht,Yt=[],it=tt.trim();if(it==="")return $p;if(it in tv)return[tv[it]];for(;it!=="";){switch(Ht=null,ot=(it=nv(it)).charAt(0)){case'"':case"'":Ht=aE(it.substring(1),ot);break;default:Ht=iE(it)}if(Ht===null||(Yt.push(Ht[0]),(it=nv(Ht[1]))!==""&&it.charAt(0)!==","))return $p;it=it.replace(/^,/,"")}return Yt}(Fe);if(this.fontFaces){var St=function(tt,ot){if(Re===null){var Ht=function(Yt){var it=[];return Object.keys(Yt).forEach(function(kt){Yt[kt].forEach(function(is){var jt=null;switch(is){case"bold":jt={family:kt,weight:"bold"};break;case"italic":jt={family:kt,style:"italic"};break;case"bolditalic":jt={family:kt,weight:"bold",style:"italic"};break;case"":case"normal":jt={family:kt}}jt!==null&&(jt.ref={name:kt,style:is},it.push(jt))})}),it}(tt.getFontList());Re=function(Yt){for(var it={},kt=0;kt<Yt.length;++kt){var is=Hp(Yt[kt]),jt=is.family,ze=is.stretch,nt=is.style,st=is.weight;it[jt]=it[jt]||{},it[jt][ze]=it[jt][ze]||{},it[jt][ze][nt]=it[jt][ze][nt]||{},it[jt][ze][nt][st]=is}return it}(Ht.concat(ot))}return Re}(this.pdf,this.fontFaces),xt=Ze.map(function(tt){return{family:tt,stretch:"normal",weight:Te,style:Rt}}),Zt=function(tt,ot,Ht){for(var Yt=(Ht=Ht||{}).defaultFontFamily||"times",it=Object.assign({},nE,Ht.genericFontFamilies||{}),kt=null,is=null,jt=0;jt<ot.length;++jt)if(it[(kt=Hp(ot[jt])).family]&&(kt.family=it[kt.family]),tt.hasOwnProperty(kt.family)){is=tt[kt.family];break}if(!(is=is||tt[Yt]))throw new Error("Could not find a font-family for the rule '"+sv(kt)+"' and default family '"+Yt+"'.");if(is=function(ze,nt){if(nt[ze])return nt[ze];var st=Cg[ze],Ds=st<=Cg.normal?-1:1,ss=ev(nt,tN,st,Ds);if(!ss)throw new Error("Could not find a matching font-stretch value for "+ze);return ss}(kt.stretch,is),is=function(ze,nt){if(nt[ze])return nt[ze];for(var st=eN[ze],Ds=0;Ds<st.length;++Ds)if(nt[st[Ds]])return nt[st[Ds]];throw new Error("Could not find a matching font-style for "+ze)}(kt.style,is),!(is=function(ze,nt){if(nt[ze])return nt[ze];if(ze===400&&nt[500])return nt[500];if(ze===500&&nt[400])return nt[400];var st=sE[ze],Ds=ev(nt,sN,st,ze<400?-1:1);if(!Ds)throw new Error("Could not find a matching font-weight for value "+ze);return Ds}(kt.weight,is)))throw new Error("Failed to resolve a font for the rule '"+sv(kt)+"'.");return is}(St,xt);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var Ye="";(Te==="bold"||parseInt(Te,10)>=700||Rt==="bold")&&(Ye="bold"),Rt==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var ct="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<Ze.length;At++){if(this.pdf.internal.getFont(Ze[At],Ye,{noFallback:!0,disableWarning:!0})!==void 0){ct=Ze[At];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Ze[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Ze[At],Ye="bold";else if(this.pdf.internal.getFont(Ze[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Ze[At],Ye="normal";break}}if(ct===""){for(var ye=0;ye<Ze.length;ye++)if(vt[Ze[ye]]){ct=vt[Ze[ye]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};x.prototype.setLineDash=function(D){this.lineDash=D},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){P.call(this,"fill",!1)},x.prototype.stroke=function(){P.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(D,W){if(isNaN(D)||isNaN(W))throw Ps.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new c(D,W));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(D,W)},x.prototype.closePath=function(){var D=new c(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Cs(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){D=new c(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(D.x,D.y)},x.prototype.lineTo=function(D,W){if(isNaN(D)||isNaN(W))throw Ps.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new c(D,W));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new c(z.x,z.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},x.prototype.quadraticCurveTo=function(D,W,z,$){if(isNaN(z)||isNaN($)||isNaN(D)||isNaN(W))throw Ps.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new c(z,$)),te=this.ctx.transform.applyToPoint(new c(D,W));this.path.push({type:"qct",x1:te.x,y1:te.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},x.prototype.bezierCurveTo=function(D,W,z,$,ne,te){if(isNaN(ne)||isNaN(te)||isNaN(D)||isNaN(W)||isNaN(z)||isNaN($))throw Ps.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new c(ne,te)),Ne=this.ctx.transform.applyToPoint(new c(D,W)),Oe=this.ctx.transform.applyToPoint(new c(z,$));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Oe.x,y2:Oe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new c(ge.x,ge.y)},x.prototype.arc=function(D,W,z,$,ne,te){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($)||isNaN(ne))throw Ps.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new c(D,W));D=ge.x,W=ge.y;var Ne=this.ctx.transform.applyToPoint(new c(0,z)),Oe=this.ctx.transform.applyToPoint(new c(0,0));z=Math.sqrt(Math.pow(Ne.x-Oe.x,2)+Math.pow(Ne.y-Oe.y,2))}Math.abs(ne-$)>=2*Math.PI&&($=0,ne=2*Math.PI),this.path.push({type:"arc",x:D,y:W,radius:z,startAngle:$,endAngle:ne,counterclockwise:te})},x.prototype.arcTo=function(D,W,z,$,ne){throw new Error("arcTo not implemented.")},x.prototype.rect=function(D,W,z,$){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($))throw Ps.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,W),this.lineTo(D+z,W),this.lineTo(D+z,W+$),this.lineTo(D,W+$),this.lineTo(D,W),this.lineTo(D+z,W),this.lineTo(D,W)},x.prototype.fillRect=function(D,W,z,$){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($))throw Ps.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,W,z,$),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},x.prototype.strokeRect=function(D,W,z,$){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($))throw Ps.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(D,W,z,$),this.stroke())},x.prototype.clearRect=function(D,W,z,$){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($))throw Ps.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,W,z,$))},x.prototype.save=function(D){D=typeof D!="boolean"||D;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},x.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(D){var W,z,$,ne;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))W=0,z=0,$=0,ne=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(te!==null)W=parseInt(te[1]),z=parseInt(te[2]),$=parseInt(te[3]),ne=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)W=parseInt(te[1]),z=parseInt(te[2]),$=parseInt(te[3]),ne=parseFloat(te[4]);else{if(ne=1,typeof D=="string"&&D.charAt(0)!=="#"){var ge=new Gw(D);D=ge.ok?ge.toHex():"#000000"}D.length===4?(W=D.substring(1,2),W+=W,z=D.substring(2,3),z+=z,$=D.substring(3,4),$+=$):(W=D.substring(1,3),z=D.substring(3,5),$=D.substring(5,7)),W=parseInt(W,16),z=parseInt(z,16),$=parseInt($,16)}}return{r:W,g:z,b:$,a:ne,style:D}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(D,W,z,$){if(isNaN(W)||isNaN(z)||typeof D!="string")throw Ps.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!y.call(this)){var ne=re(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:D,x:W,y:z,scale:te,angle:ne,align:this.textAlign,maxWidth:$})}},x.prototype.strokeText=function(D,W,z,$){if(isNaN(W)||isNaN(z)||typeof D!="string")throw Ps.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){$=isNaN($)?void 0:$;var ne=re(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;F.call(this,{text:D,x:W,y:z,scale:te,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:$})}},x.prototype.measureText=function(D){if(typeof D!="string")throw Ps.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,z=this.pdf.internal.scaleFactor,$=W.internal.getFontSize(),ne=W.getStringUnitWidth(D)*$/W.internal.scaleFactor;return new function(te){var ge=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ne*=Math.round(96*z/72*1e4)/1e4})},x.prototype.scale=function(D,W){if(isNaN(D)||isNaN(W))throw Ps.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new h(D,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.rotate=function(D){if(isNaN(D))throw Ps.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new h(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},x.prototype.translate=function(D,W){if(isNaN(D)||isNaN(W))throw Ps.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new h(1,0,0,1,D,W);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.transform=function(D,W,z,$,ne,te){if(isNaN(D)||isNaN(W)||isNaN(z)||isNaN($)||isNaN(ne)||isNaN(te))throw Ps.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new h(D,W,z,$,ne,te);this.ctx.transform=this.ctx.transform.multiply(ge)},x.prototype.setTransform=function(D,W,z,$,ne,te){D=isNaN(D)?1:D,W=isNaN(W)?0:W,z=isNaN(z)?0:z,$=isNaN($)?1:$,ne=isNaN(ne)?0:ne,te=isNaN(te)?0:te,this.ctx.transform=new h(D,W,z,$,ne,te)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(D,W,z,$,ne,te,ge,Ne,Oe){var Xe=this.pdf.getImageProperties(D),Re=1,Je=1,ke=1,he=1;$!==void 0&&Ne!==void 0&&(ke=Ne/$,he=Oe/ne,Re=Xe.width/$*Ne/$,Je=Xe.height/ne*Oe/ne),te===void 0&&(te=W,ge=z,W=0,z=0),$!==void 0&&Ne===void 0&&(Ne=$,Oe=ne),$===void 0&&Ne===void 0&&(Ne=Xe.width,Oe=Xe.height);for(var Rt,Te=this.ctx.transform.decompose(),et=re(Te.rotate.shx),Fe=new h,Ve=(Fe=(Fe=(Fe=Fe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new d(te-W*ke,ge-z*he,$*Re,ne*Je)),Ze=C.call(this,Ve),St=[],xt=0;xt<Ze.length;xt+=1)St.indexOf(Ze[xt])===-1&&St.push(Ze[xt]);if(E(St),this.autoPaging)for(var Zt=St[0],Ye=St[St.length-1],ct=Zt;ct<Ye+1;ct++){this.pdf.setPage(ct);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ct===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=ct===1?0:ye+(ct-2)*tt;if(this.ctx.clip_path.length!==0){var Ht=this.path;Rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Rt,this.posX+this.margin[3],-ot+At+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=Ht}var Yt=JSON.parse(JSON.stringify(Ve));Yt=L([Yt],this.posX+this.margin[3],-ot+At+this.ctx.prevPageLastElemOffset)[0];var it=(ct>Zt||ct<Ye)&&_.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,tt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,et),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,et)};var C=function(D,W,z){var $=[];W=W||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":$.push(Math.floor((D.y+ne)/z)+1);break;case"arc":$.push(Math.floor((D.y+ne-D.radius)/z)+1),$.push(Math.floor((D.y+ne+D.radius)/z)+1);break;case"qct":var te=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);$.push(Math.floor((te.y+ne)/z)+1),$.push(Math.floor((te.y+te.h+ne)/z)+1);break;case"bct":var ge=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);$.push(Math.floor((ge.y+ne)/z)+1),$.push(Math.floor((ge.y+ge.h+ne)/z)+1);break;case"rect":$.push(Math.floor((D.y+ne)/z)+1),$.push(Math.floor((D.y+D.h+ne)/z)+1)}for(var Ne=0;Ne<$.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<$[Ne];)S.call(this);return $},S=function(){var D=this.fillStyle,W=this.strokeStyle,z=this.font,$=this.lineCap,ne=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=W,this.font=z,this.lineCap=$,this.lineWidth=ne,this.lineJoin=te},L=function(D,W,z){for(var $=0;$<D.length;$++)switch(D[$].type){case"bct":D[$].x2+=W,D[$].y2+=z;case"qct":D[$].x1+=W,D[$].y1+=z;default:D[$].x+=W,D[$].y+=z}return D},E=function(D){return D.sort(function(W,z){return W-z})},P=function(D,W){for(var z,$,ne=this.fillStyle,te=this.strokeStyle,ge=this.lineCap,Ne=this.lineWidth,Oe=Math.abs(Ne*this.ctx.transform.scaleX),Xe=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ke=[],he=0;he<Je.length;he++)if(Je[he].x!==void 0)for(var Rt=C.call(this,Je[he]),Te=0;Te<Rt.length;Te+=1)ke.indexOf(Rt[Te])===-1&&ke.push(Rt[Te]);for(var et=0;et<ke.length;et++)for(;this.pdf.internal.getNumberOfPages()<ke[et];)S.call(this);if(E(ke),this.autoPaging)for(var Fe=ke[0],Ve=ke[ke.length-1],Ze=Fe;Ze<Ve+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ne,this.strokeStyle=te,this.lineCap=ge,this.lineWidth=Oe,this.lineJoin=Xe;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Ze===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Ze===1?0:Zt+(Ze-2)*Ye;if(this.ctx.clip_path.length!==0){var vt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(z,this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset),V.call(this,D,!0),this.path=vt}if($=JSON.parse(JSON.stringify(Re)),this.path=L($,this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset),W===!1||Ze===0){var At=(Ze>Fe||Ze<Ve)&&_.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Ye,null).clip().discardPath()),V.call(this,D,W),At&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=Oe,V.call(this,D,W),this.lineWidth=Ne;this.path=Re},V=function(D,W){if((D!=="stroke"||W||!j.call(this))&&(D==="stroke"||W||!y.call(this))){for(var z,$,ne=[],te=this.path,ge=0;ge<te.length;ge++){var Ne=te[ge];switch(Ne.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Oe=ne.length;if(te[ge-1]&&!isNaN(te[ge-1].x)&&(z=[Ne.x-te[ge-1].x,Ne.y-te[ge-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ne[Oe-1].close!==!0&&ne[Oe-1].begin!==!0){ne[Oe-1].deltas.push(z),ne[Oe-1].abs.push(Ne);break}}break;case"bct":z=[Ne.x1-te[ge-1].x,Ne.y1-te[ge-1].y,Ne.x2-te[ge-1].x,Ne.y2-te[ge-1].y,Ne.x-te[ge-1].x,Ne.y-te[ge-1].y],ne[ne.length-1].deltas.push(z);break;case"qct":var Xe=te[ge-1].x+2/3*(Ne.x1-te[ge-1].x),Re=te[ge-1].y+2/3*(Ne.y1-te[ge-1].y),Je=Ne.x+2/3*(Ne.x1-Ne.x),ke=Ne.y+2/3*(Ne.y1-Ne.y),he=Ne.x,Rt=Ne.y;z=[Xe-te[ge-1].x,Re-te[ge-1].y,Je-te[ge-1].x,ke-te[ge-1].y,he-te[ge-1].x,Rt-te[ge-1].y],ne[ne.length-1].deltas.push(z);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Ne)}}$=W?null:D==="stroke"?"stroke":"fill";for(var Te=!1,et=0;et<ne.length;et++)if(ne[et].arc)for(var Fe=ne[et].abs,Ve=0;Ve<Fe.length;Ve++){var Ze=Fe[Ve];Ze.type==="arc"?U.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,W,!Te):Z.call(this,Ze.x,Ze.y),Te=!0}else if(ne[et].close===!0)this.pdf.internal.out("h"),Te=!1;else if(ne[et].begin!==!0){var St=ne[et].start.x,xt=ne[et].start.y;K.call(this,ne[et].deltas,St,xt),Te=!0}$&&I.call(this,$),W&&ee.call(this)}},ae=function(D){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-z;case"top":return D+W-z;case"hanging":return D+W-2*z;case"middle":return D+W/2-z;default:return D}},G=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(W,z){this.colorStops.push([W,z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(D,W,z,$,ne,te,ge,Ne,Oe){for(var Xe=R.call(this,z,$,ne,te),Re=0;Re<Xe.length;Re++){var Je=Xe[Re];Re===0&&(Oe?T.call(this,Je.x1+D,Je.y1+W):Z.call(this,Je.x1+D,Je.y1+W)),fe.call(this,D,W,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Ne?ee.call(this):I.call(this,ge)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,W){this.pdf.internal.out(s(D)+" "+a(W)+" m")},F=function(D){var W;switch(D.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var z=this.pdf.getTextDimensions(D.text),$=ae.call(this,D.y),ne=G.call(this,$)-z.h,te=this.ctx.transform.applyToPoint(new c(D.x,$)),ge=this.ctx.transform.decompose(),Ne=new h;Ne=(Ne=(Ne=Ne.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Oe,Xe,Re,Je=this.ctx.transform.applyToRectangle(new d(D.x,$,z.w,z.h)),ke=Ne.applyToRectangle(new d(D.x,ne,z.w,z.h)),he=C.call(this,ke),Rt=[],Te=0;Te<he.length;Te+=1)Rt.indexOf(he[Te])===-1&&Rt.push(he[Te]);if(E(Rt),this.autoPaging)for(var et=Rt[0],Fe=Rt[Rt.length-1],Ve=et;Ve<Fe+1;Ve++){this.pdf.setPage(Ve);var Ze=Ve===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],Zt=xt-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],ct=Ye-this.margin[3],vt=Ve===1?0:St+(Ve-2)*Zt;if(this.ctx.clip_path.length!==0){var At=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Oe,this.posX+this.margin[3],-1*vt+Ze),V.call(this,"fill",!0),this.path=At}var ye=L([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*D.scale),Re=this.lineWidth,this.lineWidth=Re*D.scale);var tt=this.autoPaging!=="text";if(tt||ye.y+ye.h<=xt){if(tt||ye.y>=Ze&&ye.x<=Ye){var ot=tt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Ye-ye.x)[0],Ht=L([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset)[0],Yt=tt&&(Ve>et||Ve<Fe)&&_.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Zt,null).clip().discardPath()),this.pdf.text(ot,Ht.x,Ht.y,{angle:D.angle,align:W,renderingMode:D.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else ye.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-ye.y);D.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=Re)}else D.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*D.scale),Re=this.lineWidth,this.lineWidth=Re*D.scale),this.pdf.text(D.text,te.x+this.posX,te.y+this.posY,{angle:D.angle,align:W,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=Re)},Z=function(D,W,z,$){z=z||0,$=$||0,this.pdf.internal.out(s(D+z)+" "+a(W+$)+" l")},K=function(D,W,z){return this.pdf.lines(D,W,z,null,null)},fe=function(D,W,z,$,ne,te,ge,Ne){this.pdf.internal.out([e(r(z+D)),e(o($+W)),e(r(ne+D)),e(o(te+W)),e(r(ge+D)),e(o(Ne+W)),"c"].join(" "))},R=function(D,W,z,$){for(var ne=2*Math.PI,te=Math.PI/2;W>z;)W-=ne;var ge=Math.abs(z-W);ge<ne&&$&&(ge=ne-ge);for(var Ne=[],Oe=$?-1:1,Xe=W;ge>1e-5;){var Re=Xe+Oe*Math.min(ge,te);Ne.push(ie.call(this,D,Xe,Re)),ge-=Math.abs(Re-Xe),Xe=Re}return Ne},ie=function(D,W,z){var $=(z-W)/2,ne=D*Math.cos($),te=D*Math.sin($),ge=ne,Ne=-te,Oe=ge*ge+Ne*Ne,Xe=Oe+ge*ne+Ne*te,Re=4/3*(Math.sqrt(2*Oe*Xe)-Xe)/(ge*te-Ne*ne),Je=ge-Re*Ne,ke=Ne+Re*ge,he=Je,Rt=-ke,Te=$+W,et=Math.cos(Te),Fe=Math.sin(Te);return{x1:D*Math.cos(W),y1:D*Math.sin(W),x2:Je*et-ke*Fe,y2:Je*Fe+ke*et,x3:he*et-Rt*Fe,y3:he*Fe+Rt*et,x4:D*Math.cos(z),y4:D*Math.sin(z)}},re=function(D){return 180*D/Math.PI},me=function(D,W,z,$,ne,te){var ge=D+.5*(z-D),Ne=W+.5*($-W),Oe=ne+.5*(z-ne),Xe=te+.5*($-te),Re=Math.min(D,ne,ge,Oe),Je=Math.max(D,ne,ge,Oe),ke=Math.min(W,te,Ne,Xe),he=Math.max(W,te,Ne,Xe);return new d(Re,ke,Je-Re,he-ke)},X=function(D,W,z,$,ne,te,ge,Ne){var Oe,Xe,Re,Je,ke,he,Rt,Te,et,Fe,Ve,Ze,St,xt,Zt=z-D,Ye=$-W,ct=ne-z,vt=te-$,At=ge-ne,ye=Ne-te;for(Xe=0;Xe<41;Xe++)et=(Rt=(Re=D+(Oe=Xe/40)*Zt)+Oe*((ke=z+Oe*ct)-Re))+Oe*(ke+Oe*(ne+Oe*At-ke)-Rt),Fe=(Te=(Je=W+Oe*Ye)+Oe*((he=$+Oe*vt)-Je))+Oe*(he+Oe*(te+Oe*ye-he)-Te),Xe==0?(Ve=et,Ze=Fe,St=et,xt=Fe):(Ve=Math.min(Ve,et),Ze=Math.min(Ze,Fe),St=Math.max(St,et),xt=Math.max(xt,Fe));return new d(Math.round(Ve),Math.round(Ze),Math.round(St-Ve),Math.round(xt-Ze))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,W,z=(D=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:W}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(_t.API),function(t){var e=function(c){var d,h,f,p,x,w,y,j,_,C;for(h=[],f=0,p=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(x=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(w=(x=((x=((x=((x=(x-(C=x%85))/85)-(_=x%85))/85)-(j=x%85))/85)-(y=x%85))/85)%85,h.push(w+33,y+33,j+33,_+33,C+33)):h.push(122);return function(S,L){for(var E=L;E>0;E--)S.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},s=function(c){var d,h,f,p,x,w=String,y="length",j=255,_="charCodeAt",C="slice",S="replace";for(c[C](-2),c=c[C](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],p=0,x=(c+=d="uuuuu"[C](c[y]%5||5))[y];x>p;p+=5)h=52200625*(c[_](p)-33)+614125*(c[_](p+1)-33)+7225*(c[_](p+2)-33)+85*(c[_](p+3)-33)+(c[_](p+4)-33),f.push(j&h>>24,j&h>>16,j&h>>8,j&h);return function(L,E){for(var P=E;P>0;P--)L.pop()}(f,d[y]),w.fromCharCode.apply(w,f)},a=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=vg(d)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(c,d){var h=0,f=c||"",p=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=s(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=r(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=a(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}}(_t.API),function(t){t.loadFile=function(e,s,a){return function(r,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(h,f,p){var x=new XMLHttpRequest,w=0,y=function(j){var _=j.length,C=[],S=String.fromCharCode;for(w=0;w<_;w+=1)C.push(S(255&j.charCodeAt(w)));return C.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?p(y(this.responseText)):p(void 0)}),x.send(null),f&&x.status===200)return y(x.responseText)}(r,o,c)}catch{}return d}(e,s,a)},t.loadImageFile=t.loadFile}(_t.API),function(t){function e(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):_p(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function s(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):_p(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var h=Cs(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},r=function(d,h){var f=document.createElement(d);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},o=function d(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||p.appendChild(d(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),p=d.convert(Promise.resolve(),f);return(p=p.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(f){switch(a(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),h){case"string":return this.then(s).then(function(f){return this.set({src:r("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var j=p[y],_=j.src.find(function(C){return C.format==="truetype"});_&&f.addFont(_.url,j.ref.name,j.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),h(this.prop.container,w)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(a(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(d=d||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,p){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,p){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(p,x){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,p),w}).then(p,x).then(function(w){return f.updateProgress(1),w})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var p=this;d&&(d=d.bind(p)),h&&(h=h.bind(p));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),w=f.call(x,d,h);return c.convert(w,p.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,_t.getPageSize=function(d,h,f){if(Cs(d)==="object"){var p=d;d=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var x,w=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var j,_=0,C=0;if(y.hasOwnProperty(w))_=y[w][1]/x,C=y[w][0]/x;else try{_=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",C>_&&(j=C,C=_,_=j);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",_>C&&(j=C,C=_,_=j)}return{width:C,height:_,unit:h,k:x,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Hp):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}}(_t.API),_t.API.addJS=function(t){return iv=t,this.internal.events.subscribe("postPutResources",function(){em=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(em+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),av=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){em!==void 0&&av!==void 0&&this.internal.out("/Names <</JavaScript "+em+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=s.outline.render().split(/\r\n/),o=0;o<r.length;o++){var c=r[o],d=a.exec(c);if(d!=null){var h=d[1];s.internal.newObjectDeferredBegin(h,!1)}s.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(o=0;o<f;o++){var x=s.internal.newObject();p.push(x);var w=s.internal.getPageInfo(o+1);s.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=s.internal.newObject();for(s.internal.write("<< /Names [ "),o=0;o<p.length;o++)s.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");s.internal.write(" ] >>","endobj"),e=s.internal.newObject(),s.internal.write("<< /Dests "+y+" 0 R"),s.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,r,o){var c={title:r,options:o,children:[]};return a==null&&(a=this.root),a.children.push(c),c},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var r=0;r<a.children.length;r++)this.genIds_r(a.children[r])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var c=a.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=s.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,r){for(var o=0;o<r.children.length;o++)a.count++,this.count_r(a,r.children[o]);return a.count}}])}(_t.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(s,a,r,o,c,d){var h,f=this.decode.DCT_DECODE,p=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=c||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,h=function(x){for(var w,y=256*x.charCodeAt(4)+x.charCodeAt(5),j=x.length,_={width:0,height:0,numcomponents:1},C=4;C<j;C+=2){if(C+=y,e.indexOf(x.charCodeAt(C+1))!==-1){w=256*x.charCodeAt(C+5)+x.charCodeAt(C+6),_={width:256*x.charCodeAt(C+7)+x.charCodeAt(C+8),height:w,numcomponents:x.charCodeAt(C+9)};break}y=256*x.charCodeAt(C+2)+x.charCodeAt(C+3)}return _}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:s,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:a,alias:r}}return p}}(_t.API),_t.API.processPNG=function(t,e,s,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,o=q7(t,{checkCrc:!0}),c=o.width,d=o.height,h=o.channels,f=o.palette,p=o.depth;r=f&&h===1?function(G){for(var U=G.width,I=G.height,ee=G.data,T=G.palette,F=G.depth,Z=!1,K=[],fe=[],R=void 0,ie=!1,re=0,me=0;me<T.length;me++){var X=cy(T[me],4),de=X[0],D=X[1],W=X[2],z=X[3];K.push(de,D,W),z!=null&&(z===0?(re++,fe.length<1&&fe.push(me)):z<255&&(ie=!0))}if(ie||re>1){Z=!0,fe=void 0;var $=U*I;R=new Uint8Array($);for(var ne=new DataView(ee.buffer),te=0;te<$;te++){var ge=Vp(ne,te,F),Ne=cy(T[ge],4)[3];R[te]=Ne}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:ee,alphaBytes:R,needSMask:Z,palette:K,mask:fe}}(o):h===2||h===4?function(G){for(var U=G.data,I=G.width,ee=G.height,T=G.channels,F=G.depth,Z=T===2?"DeviceGray":"DeviceRGB",K=T-1,fe=I*ee,R=K,ie=fe*R,re=1*fe,me=Math.ceil(ie*F/8),X=Math.ceil(re*F/8),de=new Uint8Array(me),D=new Uint8Array(X),W=new DataView(U.buffer),z=new DataView(de.buffer),$=new DataView(D.buffer),ne=!1,te=0;te<fe;te++){for(var ge=te*T,Ne=0;Ne<R;Ne++)mv(z,Vp(W,ge+Ne,F),te*R+Ne,F);var Oe=Vp(W,ge+R,F);Oe<(1<<F)-1&&(ne=!0),mv($,Oe,1*te,F)}return{colorSpace:Z,colorsPerPixel:K,colorBytes:de,alphaBytes:D,needSMask:ne}}(o):function(G){var U=G.data,I=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:U instanceof Uint8Array?U:new Uint8Array(U.buffer),needSMask:!1}}(o);var x,w,y,j=r,_=j.colorSpace,C=j.colorsPerPixel,S=j.colorBytes,L=j.alphaBytes,E=j.needSMask,P=j.palette,V=j.mask,ae=null;return a!==_t.API.image_compression.NONE&&typeof vg=="function"?(ae=function(G){var U;switch(G){case _t.API.image_compression.FAST:U=11;break;case _t.API.image_compression.MEDIUM:U=13;break;case _t.API.image_compression.SLOW:U=14;break;default:U=12}return U}(a),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(ae," "),t=cv(S,c*C,C,a),E&&(y=cv(L,c,1,a))):(x=void 0,w="",t=S,E&&(y=L)),w+="/Colors ".concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:s,data:t,index:e,filter:x,decodeParameters:w,transparency:V,palette:P,sMask:y,predictor:ae,width:c,height:d,bitsPerComponent:p,colorSpace:_}}},function(t){t.processGIF89A=function(e,s,a,r){var o=new cE(e),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},p=new Wp(100).encode(f,100);return t.processJPEG.call(this,p,s,a,r)},t.processGIF87A=t.processGIF89A}(_t.API),wr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:a,blue:s,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wr.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(s){Ps.log("bit decode error:"+s)}},wr.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),s=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*r*4,d=0;d<8&&8*r+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}s!==0&&(this.pos+=4-s)}},wr.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*r*4,d=o>>4,h=15&o,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*r+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},wr.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+4*a;if(r<this.palette.length){var c=this.palette[r];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},wr.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,p=a*this.width*4+4*r;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=f}this.pos+=t}},wr.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&s)/s*255|0,f=(c>>11)/e*255|0,p=r*this.width*4+4*o;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=d,this.data[p+3]=255}this.pos+=t}},wr.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*s;this.data[c]=o,this.data[c+1]=r,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},wr.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*s;this.data[d]=o,this.data[d+1]=r,this.data[d+2]=a,this.data[d+3]=c}},wr.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,s,a,r){var o=new wr(e,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new Wp(100).encode(h,100);return t.processJPEG.call(this,f,s,a,r)}}(_t.API),gv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,s,a,r){var o=new gv(e),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new Wp(100).encode(h,100);return t.processJPEG.call(this,f,s,a,r)}}(_t.API),_t.API.processRGBA=function(t,e,s){for(var a=t.data,r=a.length,o=new Uint8Array(r/4*3),c=new Uint8Array(r/4),d=0,h=0,f=0;f<r;f+=4){var p=a[f],x=a[f+1],w=a[f+2],y=a[f+3];o[d++]=p,o[d++]=x,o[d++]=w,c[h++]=y}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:e,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=_t.API,tm=Eu.getCharWidthsArray=function(t,e){var s,a,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:r.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,x=e.doKerning!==!1,w=0,y=t.length,j=0,_=d[0]||h,C=[];for(s=0;s<y;s++)a=t.charCodeAt(s),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(a))+c*(1e3/o)||0)/1e3):(w=x&&Cs(f[a])==="object"&&!isNaN(parseInt(f[a][j],10))?f[a][j]/p:0,C.push((d[a]||_)/h+w)),j=a;return C},rv=Eu.getStringUnitWidth=function(t,e){var s=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,s,r)/s:tm.apply(this,arguments).reduce(function(o,c){return o+c},0)},ov=function(t,e,s,a){for(var r=[],o=0,c=t.length,d=0;o!==c&&d+e[o]<s;)d+=e[o],o++;r.push(t.slice(0,o));var h=o;for(d=0;o!==c;)d+e[o]>a&&(r.push(t.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&r.push(t.slice(h,o)),r},lv=function(t,e,s){s||(s={});var a,r,o,c,d,h,f,p=[],x=[p],w=s.textIndent||0,y=0,j=0,_=t.split(" "),C=tm.apply(this,[" ",s])[0];if(h=s.lineIndent===-1?_[0].length+2:s.lineIndent||0){var S=Array(h).join(" "),L=[];_.map(function(P){(P=P.split(/\s*\n/)).length>1?L=L.concat(P.map(function(V,ae){return(ae&&V.length?`
`:"")+V})):L.push(P[0])}),_=L,h=rv.apply(this,[S,s])}for(o=0,c=_.length;o<c;o++){var E=0;if(a=_[o],h&&a[0]==`
`&&(a=a.substr(1),E=1),w+y+(j=(r=tm.apply(this,[a,s])).reduce(function(P,V){return P+V},0))>e||E){if(j>e){for(d=ov.apply(this,[a,r,e-(w+y),e]),p.push(d.shift()),p=[d.pop()];d.length;)x.push([d.shift()]);j=r.slice(a.length-(p[0]?p[0].length:0)).reduce(function(P,V){return P+V},0)}else p=[a];x.push(p),w=j+h,y=C}else p.push(a),w+=y+j,y=C}return f=h?function(P,V){return(V?S:"")+P.join(" ")}:function(P){return P.join(" ")},x.map(f)},Eu.splitTextToSize=function(t,e,s){var a,r=(s=s||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/r;o.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=s.lineIndent;var d,h,f=[];for(d=0,h=a.length;d<h;d++)f=f.concat(lv.apply(this,[a[d],c,o]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",s="klmnopqrstuvwxyz",a={},r={},o=0;o<16;o++)a[s[o]]=e[o],r[e[o]]=s[o];var c=function(w){return"0x"+parseInt(w,10).toString(16)},d=t.__fontmetrics__.compress=function(w){var y,j,_,C,S=["{"];for(var L in w){if(y=w[L],isNaN(parseInt(L,10))?j="'"+L+"'":(L=parseInt(L,10),j=(j=c(L).slice(2)).slice(0,-1)+r[j.slice(-1)]),typeof y=="number")y<0?(_=c(y).slice(3),C="-"):(_=c(y).slice(2),C=""),_=C+_.slice(0,-1)+r[_.slice(-1)];else{if(Cs(y)!=="object")throw new Error("Don't know what to do with value type "+Cs(y)+".");_=d(y)}S.push(j+_)}return S.push("}"),S.join("")},h=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,j,_,C,S={},L=1,E=S,P=[],V="",ae="",G=w.length-1,U=1;U<G;U+=1)(C=w[U])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(C):C=="{"?(P.push([E,_]),E={},_=void 0):C=="}"?((j=P.pop())[0][j[1]]=E,_=void 0,E=j[0]):C=="-"?L=-1:_===void 0?a.hasOwnProperty(C)?(V+=a[C],_=parseInt(V,16)*L,L=1,V=""):V+=C:a.hasOwnProperty(C)?(ae+=a[C],E[_]=parseInt(ae,16)*L,L=1,_=void 0,ae=""):ae+=C;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var y=w.font,j=x.Unicode[y.postScriptName];j&&(y.metadata.Unicode={},y.metadata.Unicode.widths=j.widths,y.metadata.Unicode.kerning=j.kerning);var _=p.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])}(_t.API),function(t){var e=function(s){for(var a=s.length,r=new Uint8Array(a),o=0;o<a;o++)r[o]=s.charCodeAt(o);return r};t.API.events.push(["addFont",function(s){var a=void 0,r=s.font,o=s.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(a=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(hm(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(r,a)}}])}(_t),_t.API.addSvgAsImage=function(t,e,s,a,r,o,c,d){if(isNaN(e)||isNaN(s))throw Ps.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(r))throw Ps.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=r;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(zt.canvg?Promise.resolve(zt.canvg):_p(()=>import("./index.es-Dvjuzq6t.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),e,s,a,r,c,d)})},_t.API.putTotalPages=function(t){var e,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),s=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var r=0;r<this.internal.pages[a].length;r++)this.internal.pages[a][r]=this.internal.pages[a][r].replace(e,s);return this},_t.API.viewerPreferences=function(t,e){var s;t=t||{},e=e||!1;var a,r,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,p=0,x=0;function w(j,_){var C,S=!1;for(C=0;C<j.length;C+=1)j[C]===_&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=d.length;for(x=0;x<y;x+=1)s[d[x]].value=s[d[x]].defaultValue,s[d[x]].explicitSet=!1}if(Cs(t)==="object"){for(r in t)if(o=t[r],w(d,r)&&o!==void 0){if(s[r].type==="boolean"&&typeof o=="boolean")s[r].value=o;else if(s[r].type==="name"&&w(s[r].valueSet,o))s[r].value=o;else if(s[r].type==="integer"&&Number.isInteger(o))s[r].value=o;else if(s[r].type==="array"){for(f=0;f<o.length;f+=1)if(a=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(p=0;p<o[f].length;p+=1)typeof o[f][p]!="number"&&(a=!1);a===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}s[r].value="["+h.join(" ")+"]"}else s[r].value=s[r].defaultValue;s[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,_=[];for(j in s)s[j].explicitSet===!0&&(s[j].type==="name"?_.push("/"+j+" /"+s[j].value):_.push("/"+j+" "+s[j].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+d.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(t){var e=t.API,s=e.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],x=0,w=o.length;x<w;++x){if(d=c.metadata.characterToGlyph(o.charCodeAt(x)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(f[4-d.length],d)}return p.join("")},a=function(o){var c,d,h,f,p,x,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,w=(d=Object.keys(o).sort(function(y,j){return y-j})).length;x<w;x++)c=d[x],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,w=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",j=0;j<w.length;j++)y+=String.fromCharCode(w[j]);var _=f();p({data:y,addLength1:!0,objectId:_}),h("endobj");var C=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:C}),h("endobj");var S=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Du(d.fontName)),h("/FontFile2 "+_+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var L=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Du(d.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+t.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+C+" 0 R"),h("/BaseFont /"+Du(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+L+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,w="",y=0;y<x.length;y++)w+=String.fromCharCode(x[y]);var j=f();p({data:w,addLength1:!0,objectId:j}),h("endobj");var _=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:_}),h("endobj");var C=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+j+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Du(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var S=0;S<d.metadata.hmtx.widths.length;S++)d.metadata.hmtx.widths[S]=parseInt(d.metadata.hmtx.widths[S]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Du(d.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var r=function(o){var c,d=o.text||"",h=o.x,f=o.y,p=o.options||{},x=o.mutex||{},w=x.pdfEscape,y=x.activeFontKey,j=x.fonts,_=y,C="",S=0,L="",E=j[_].encoding;if(j[_].encoding!=="Identity-H")return{text:d,x:h,y:f,options:p,mutex:x};for(L=d,_=y,Array.isArray(d)&&(L=d[0]),S=0;S<L.length;S+=1)j[_].metadata.hasOwnProperty("cmap")&&(c=j[_].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),c||L[S].charCodeAt(0)<256&&j[_].metadata.hasOwnProperty("Unicode")?C+=L[S]:C+="";var P="";return parseInt(_.slice(1))<14||E==="WinAnsiEncoding"?P=w(C,_).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(P=s(C,j[_])),x.isHex=!0,{text:P,x:h,y:f,options:p,mutex:x}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([r(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(r(Object.assign({},h,{text:c[f]})).text);o.text=d}else o.text=r(Object.assign({},h,{text:c})).text}])}(_t),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0},t.addFileToVFS=function(s,a){return e.call(this),this.internal.vFS[s]=a,this},t.getFileFromVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(_t.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var r,o,c,d,h,f,p,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,E=0;this.__bidiEngine__={};var P=function(T){var F=T.charCodeAt(),Z=F>>8,K=_[Z];return K!==void 0?x[256*K+(255&F)]:Z===252||Z===253?"AL":S.test(Z)?"L":Z===8?"R":"N"},V=function(T){for(var F,Z=0;Z<T.length;Z++){if((F=P(T.charAt(Z)))==="L")return!1;if(F==="R")return!0}return!1},ae=function(T,F,Z,K){var fe,R,ie,re,me=F[K];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(me="AN");break;case"AL":L=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":K<1||K+1>=F.length||(fe=Z[K-1])!=="EN"&&fe!=="AN"||(R=F[K+1])!=="EN"&&R!=="AN"?me="N":L&&(R="AN"),me=R===fe?R:"N";break;case"ES":me=(fe=K>0?Z[K-1]:"B")==="EN"&&K+1<F.length&&F[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&Z[K-1]==="EN"){me="EN";break}if(L){me="N";break}for(ie=K+1,re=F.length;ie<re&&F[ie]==="ET";)ie++;me=ie<re&&F[ie]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(re=F.length,ie=K+1;ie<re&&F[ie]==="NSM";)ie++;if(ie<re){var X=T[K],de=X>=1425&&X<=2303||X===64286;if(fe=F[ie],de&&(fe==="R"||fe==="AL")){me="R";break}}}me=K<1||(fe=F[K-1])==="B"?"N":Z[K-1];break;case"B":L=!1,r=!0,me=E;break;case"S":o=!0,me="N"}return me},G=function(T,F,Z){var K=T.split("");return Z&&U(K,Z,{hiLevel:E}),K.reverse(),F&&F.reverse(),K.join("")},U=function(T,F,Z){var K,fe,R,ie,re,me=-1,X=T.length,de=0,D=[],W=E?y:w,z=[];for(L=!1,r=!1,o=!1,fe=0;fe<X;fe++)z[fe]=P(T[fe]);for(R=0;R<X;R++){if(re=de,D[R]=ae(T,z,D,R),K=240&(de=W[re][j[D[R]]]),de&=15,F[R]=ie=W[de][5],K>0)if(K===16){for(fe=me;fe<R;fe++)F[fe]=1;me=-1}else me=-1;if(W[de][6])me===-1&&(me=R);else if(me>-1){for(fe=me;fe<R;fe++)F[fe]=ie;me=-1}z[R]==="B"&&(F[R]=0),Z.hiLevel|=ie}o&&function($,ne,te){for(var ge=0;ge<te;ge++)if($[ge]==="S"){ne[ge]=E;for(var Ne=ge-1;Ne>=0&&$[Ne]==="WS";Ne--)ne[Ne]=E}}(z,F,X)},I=function(T,F,Z,K,fe){if(!(fe.hiLevel<T)){if(T===1&&E===1&&!r)return F.reverse(),void(Z&&Z.reverse());for(var R,ie,re,me,X=F.length,de=0;de<X;){if(K[de]>=T){for(re=de+1;re<X&&K[re]>=T;)re++;for(me=de,ie=re-1;me<ie;me++,ie--)R=F[me],F[me]=F[ie],F[ie]=R,Z&&(R=Z[me],Z[me]=Z[ie],Z[ie]=R);de=re}de++}}},ee=function(T,F,Z){var K=T.split(""),fe={hiLevel:E};return Z||(Z=[]),U(K,Z,fe),function(R,ie,re){if(re.hiLevel!==0&&p)for(var me,X=0;X<R.length;X++)ie[X]===1&&(me=C.indexOf(R[X]))>=0&&(R[X]=C[me+1])}(K,Z,fe),I(2,K,F,Z,fe),I(1,K,F,Z,fe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,Z){if(function(fe,R){if(R)for(var ie=0;ie<fe.length;ie++)R[ie]=ie;d===void 0&&(d=V(fe)),f===void 0&&(f=V(fe))}(T,F),c||!h||f)if(c&&h&&d^f)E=d?1:0,T=G(T,F,Z);else if(!c&&h&&f)E=d?1:0,T=ee(T,F,Z),T=G(T,F);else if(!c||d||h||f){if(c&&!h&&d^f)T=G(T,F),d?(E=0,T=ee(T,F,Z)):(E=1,T=ee(T,F,Z),T=G(T,F));else if(c&&d&&!h&&f)E=1,T=ee(T,F,Z),T=G(T,F);else if(!c&&!h&&d^f){var K=p;d?(E=1,T=ee(T,F,Z),E=0,p=!1,T=ee(T,F,Z),p=K):(E=0,T=ee(T,F,Z),T=G(T,F),E=1,p=!1,T=ee(T,F,Z),p=K,T=G(T,F))}}else E=0,T=ee(T,F,Z);else E=d?1:0,T=ee(T,F,Z);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,h=T.isOutputVisual,d=T.isInputRtl,f=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var r=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,s.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var d=0;for(c=[],d=0;d<r.length;d+=1)Object.prototype.toString.call(r[d])==="[object Array]"?c.push([s.doBidiReorder(r[d][0]),r[d][1],r[d][2]]):c.push([s.doBidiReorder(r[d])]);a.text=c}else a.text=s.doBidiReorder(r);s.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function t(e){var s;if(this.rawData=e,s=this.contents=new $l(e),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new SE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uE(this.contents),this.head=new hE(this),this.name=new xE(this),this.cmap=new aN(this),this.toUnicode={},this.hhea=new fE(this),this.maxp=new bE(this),this.hmtx=new yE(this),this.post=new pE(this),this.os2=new mE(this),this.loca=new jE(this),this.glyf=new vE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,s,a,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(r=this.post.italic_angle),32768&(s=r>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var s;return((s=this.cmap.unicode)!=null?s.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*s},t.prototype.widthOfString=function(e,s,a){var r,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)r=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(r))+a*(1e3/s)||0;return c*(s/1e3)},t.prototype.lineHeight=function(e,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t}();var Lr,$l=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var s,a;for(a=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var s,a,r;for(r=[],s=0,a=e.length;0<=a?s<a:s>a;s=0<=a?++s:--s)r.push(this.writeByte(e.charCodeAt(s)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,s,a,r,o,c,d,h;return e=this.readByte(),s=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^r)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*s+1099511627776*a+4294967296*r+16777216*o+65536*c+256*d+h},t.prototype.writeLongLong=function(e){var s,a;return s=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var s,a;for(s=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)s.push(this.readByte());return s},t.prototype.write=function(e){var s,a,r,o;for(o=[],a=0,r=e.length;a<r;a++)s=e[a],o.push(this.writeByte(s));return o},t}(),uE=function(){var t;function e(s){var a,r,o;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(s){var a,r,o,c,d,h,f,p,x,w,y,j,_;for(_ in y=Object.keys(s).length,h=Math.log(2),x=16*Math.floor(Math.log(y)/h),c=Math.floor(x/h),p=16*y-x,(r=new $l).writeInt(this.scalarType),r.writeShort(y),r.writeShort(x),r.writeShort(c),r.writeShort(p),o=16*y,f=r.pos+o,d=null,j=[],s)for(w=s[_],r.writeString(_),r.writeInt(t(w)),r.writeInt(f),r.writeInt(w.length),j=j.concat(w),_==="head"&&(d=f),f+=w.length;f%4;)j.push(0),f++;return r.write(j),a=2981146554-t(r.data),r.pos=d+8,r.writeUInt32(a),r.data},t=function(s){var a,r,o,c;for(s=iN.call(s);s.length%4;)s.push(0);for(o=new $l(s),r=0,a=0,c=s.length;a<c;a=a+=4)r+=o.readUInt32();return 4294967295&r},e}(),dE={}.hasOwnProperty,ro=function(t,e){for(var s in e)dE.call(e,s)&&(t[s]=e[s]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Lr=function(){function t(e){var s;this.file=e,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var hE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var s;return(s=new $l).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(e),s.writeShort(this.glyphDataFormat),s.data},t}(),xv=function(){function t(e,s){var a,r,o,c,d,h,f,p,x,w,y,j,_,C,S,L,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=s+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,o=function(){var P,V;for(V=[],h=P=0;0<=w?P<w:P>w;h=0<=w?++P:--P)V.push(e.readUInt16());return V}(),e.pos+=2,_=function(){var P,V;for(V=[],h=P=0;0<=w?P<w:P>w;h=0<=w?++P:--P)V.push(e.readUInt16());return V}(),f=function(){var P,V;for(V=[],h=P=0;0<=w?P<w:P>w;h=0<=w?++P:--P)V.push(e.readUInt16());return V}(),p=function(){var P,V;for(V=[],h=P=0;0<=w?P<w:P>w;h=0<=w?++P:--P)V.push(e.readUInt16());return V}(),r=(this.length-e.pos+this.offset)/2,d=function(){var P,V;for(V=[],h=P=0;0<=r?P<r:P>r;h=0<=r?++P:--P)V.push(e.readUInt16());return V}(),h=S=0,E=o.length;S<E;h=++S)for(C=o[h],a=L=j=_[h];j<=C?L<=C:L>=C;a=j<=C?++L:--L)p[h]===0?c=a+f[h]:(c=d[p[h]/2+(a-j)-(w-h)]||0)!==0&&(c+=f[h]),this.codeMap[a]=65535&c}e.pos=x}return t.encode=function(e,s){var a,r,o,c,d,h,f,p,x,w,y,j,_,C,S,L,E,P,V,ae,G,U,I,ee,T,F,Z,K,fe,R,ie,re,me,X,de,D,W,z,$,ne,te,ge,Ne,Oe,Xe,Re;switch(K=new $l,c=Object.keys(e).sort(function(Je,ke){return Je-ke}),s){case"macroman":for(_=0,C=function(){var Je=[];for(j=0;j<256;++j)Je.push(0);return Je}(),L={0:0},o={},fe=0,me=c.length;fe<me;fe++)L[Ne=e[r=c[fe]]]==null&&(L[Ne]=++_),o[r]={old:e[r],new:L[e[r]]},C[r]=L[e[r]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(C),{charMap:o,subtable:K.data,maxGlyphID:_+1};case"unicode":for(F=[],x=[],E=0,L={},a={},S=f=null,R=0,X=c.length;R<X;R++)L[V=e[r=c[R]]]==null&&(L[V]=++E),a[r]={old:V,new:L[V]},d=L[V]-r,S!=null&&d===f||(S&&x.push(S),F.push(r),f=d),S=r;for(S&&x.push(S),x.push(65535),F.push(65535),ee=2*(I=F.length),U=2*Math.pow(Math.log(I)/Math.LN2,2),w=Math.log(U/2)/Math.LN2,G=2*I-U,h=[],ae=[],y=[],j=ie=0,de=F.length;ie<de;j=++ie){if(T=F[j],p=x[j],T===65535){h.push(0),ae.push(0);break}if(T-(Z=a[T].new)>=32768)for(h.push(0),ae.push(2*(y.length+I-j)),r=re=T;T<=p?re<=p:re>=p;r=T<=p?++re:--re)y.push(a[r].new);else h.push(Z-T),ae.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*I+2*y.length),K.writeUInt16(0),K.writeUInt16(ee),K.writeUInt16(U),K.writeUInt16(w),K.writeUInt16(G),te=0,D=x.length;te<D;te++)r=x[te],K.writeUInt16(r);for(K.writeUInt16(0),ge=0,W=F.length;ge<W;ge++)r=F[ge],K.writeUInt16(r);for(Oe=0,z=h.length;Oe<z;Oe++)d=h[Oe],K.writeUInt16(d);for(Xe=0,$=ae.length;Xe<$;Xe++)P=ae[Xe],K.writeUInt16(P);for(Re=0,ne=y.length;Re<ne;Re++)_=y[Re],K.writeUInt16(_);return{charMap:a,subtable:K.data,maxGlyphID:E+1}}},t}(),aN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="cmap",t.prototype.parse=function(e){var s,a,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s=new xv(e,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(e,s){var a,r;return s==null&&(s="macroman"),a=xv.encode(e,s),(r=new $l).writeUInt16(0),r.writeUInt16(1),a.table=r.data.concat(a.subtable),a},t}(),fE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),mE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(e.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),pE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="post",t.prototype.parse=function(e){var s,a,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)s=e.readByte(),r.push(this.names.push(e.readString(s)));return r;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,d,h;for(h=[],o=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;o=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},t}(),gE=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="name",t.prototype.parse=function(e){var s,a,r,o,c,d,h,f,p,x,w;for(e.pos=this.offset,e.readShort(),s=e.readShort(),d=e.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},o=p=0,x=a.length;p<x;o=++p)r=a[o],e.pos=r.offset,f=e.readString(r.length),c=new gE(f,r),h[w=r.nameID]==null&&(h[w]=[]),h[r.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),bE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),yE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="hmtx",t.prototype.parse=function(e){var s,a,r,o,c,d,h;for(e.pos=this.offset,this.metrics=[],s=0,d=this.file.hhea.numberOfMetrics;0<=d?s<d:s>d;s=0<=d?++s:--s)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],s=f=0;0<=r?f<r:f>r;s=0<=r?++f:--f)p.push(e.readInt16());return p}(),this.widths=(function(){var f,p,x,w;for(w=[],f=0,p=(x=this.metrics).length;f<p;f++)o=x[f],w.push(o.advance);return w}).call(this),a=this.widths[this.widths.length-1],h=[],s=c=0;0<=r?c<r:c>r;s=0<=r?++c:--c)h.push(this.widths.push(a));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),iN=[].slice,vE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var s,a,r,o,c,d,h,f,p,x;return e in this.cache?this.cache[e]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(s.pos=this.offset+a,c=(d=new $l(s.read(r))).readShort(),f=d.readShort(),x=d.readShort(),h=d.readShort(),p=d.readShort(),this.cache[e]=c===-1?new NE(d,f,x,h,p):new wE(d,c,f,x,h,p),this.cache[e]))},t.prototype.encode=function(e,s,a){var r,o,c,d,h;for(c=[],o=[],d=0,h=s.length;d<h;d++)r=e[s[d]],o.push(c.length),r&&(c=c.concat(r.encode(a)));return o.push(c.length),{table:c,offsets:o}},t}(),wE=function(){function t(e,s,a,r,o,c){this.raw=e,this.numberOfContours=s,this.xMin=a,this.yMin=r,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),NE=function(){function t(e,s,a,r,o){var c,d;for(this.raw=e,this.xMin=s,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,s,a;for(s=new $l(iN.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)s.pos=this.glyphOffsets[e];return s.data},t}(),jE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ro(t,Lr),t.prototype.tag="loca",t.prototype.parse=function(e){var s,a;return e.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,s){for(var a=new Uint32Array(this.offsets.length),r=0,o=0,c=0;c<a.length;++c)if(a[c]=r,o<s.length&&s[o]==c){++o,a[c]=r;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(r+=h)}for(var f=new Array(4*a.length),p=0;p<a.length;++p)f[4*p+3]=255&a[p],f[4*p+2]=(65280&a[p])>>8,f[4*p+1]=(16711680&a[p])>>16,f[4*p]=(4278190080&a[p])>>24;return f},t}(),SE=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,s,a,r,o;for(s in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[s],e[s]=r[a];return e},t.prototype.glyphsFor=function(e){var s,a,r,o,c,d,h;for(r={},c=0,d=e.length;c<d;c++)r[o=e[c]]=this.font.glyf.glyphFor(o);for(o in s=[],r)(a=r[o])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(o in h=this.glyphsFor(s))a=h[o],r[o]=a;return r},t.prototype.encode=function(e,s){var a,r,o,c,d,h,f,p,x,w,y,j,_,C,S;for(r in a=aN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),y={0:0},S=a.charMap)y[(h=S[r]).old]=h.new;for(j in w=a.maxGlyphID,c)j in y||(y[j]=w++);return p=function(L){var E,P;for(E in P={},L)P[L[E]]=E;return P}(y),x=Object.keys(p).sort(function(L,E){return L-E}),_=function(){var L,E,P;for(P=[],L=0,E=x.length;L<E;L++)d=x[L],P.push(p[d]);return P}(),o=this.font.glyf.encode(c,_,y),f=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();_t.API.PDFObject=function(){var t;function e(){}return t=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},e.convert=function(s){var a,r,o,c;if(Array.isArray(s))return"["+function(){var d,h,f;for(f=[],d=0,h=s.length;d<h;d++)a=s[d],f.push(e.convert(a));return f}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+t(s.getUTCFullYear(),4)+t(s.getUTCMonth(),2)+t(s.getUTCDate(),2)+t(s.getUTCHours(),2)+t(s.getUTCMinutes(),2)+t(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(r in o=["<<"],s)c=s[r],o.push("/"+r+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+s},e}();const _E=async t=>await ht(ft.ADMIN.AllLoanStatus,"GET",void 0,t),AE=async t=>await ht(ft.ADMIN.AllLoanDistributed,"GET",void 0,t),CE=async(t,e)=>(console.log("The Id coming at the send request",t),await ht(ft.ADMIN.FullLoanDetail(t),"GET",void 0,e)),kE=async(t,e)=>await ht(ft.ADMIN.SingleLoanDetail(t),"GET",void 0,e),EE=async t=>await ht(ft.ADMIN.MonoLoanCalculation,"GET",void 0,t),LE=async(t,e)=>await ht(ft.ADMIN.RepaymentHistory(t),"GET",void 0,e),rN=({isOpen:t,onClose:e,loanId:s,onDisbursementUpdate:a})=>{const[r,o]=O.useState("loan"),[c,d]=O.useState(!1),[h,f]=O.useState(!1),p=Xt.get("token"),{data:x,isLoading:w,isError:y}=Qt({queryKey:["full-loan-detail",s],queryFn:()=>kE(s,p||""),enabled:t&&!!s&&!!p}),j=x?.data?{id:String(x.data.id??s),userId:String(x.data.user_id??s),name:x.data.user?`${x.data.user.first_name} ${x.data.user.sur_name}`:"Unknown User",loanLimit:x.data.mono?.loan_limit!==null?`${x.data.mono.loan_limit}`:"N/A",loanAmount:x.data.loan_amount!==null?`${x.data.loan_amount.toLocaleString()}`:"N/A",loanPeriod:x.data.repayment_duration!==null?`${x.data.repayment_duration} months`:"N/A",repaymentDuration:x.data.mono?.repayment_duration!==null?`${x.data.mono.repayment_duration} months`:"N/A",financingPartner:"Mono",interestRate:x.data.mono?.interest_rate!==null?`${x.data.mono.interest_rate}%`:"N/A",sendStatus:x.data.loan_status?.send_status||"Pending",sendDate:x.data.loan_status?.send_date?new Date(x.data.loan_status.send_date).toLocaleDateString():"Not yet sent",approvalStatus:x.data.loan_status?.approval_status||"Pending",approvalDate:x.data.loan_status?.approval_date?new Date(x.data.loan_status.approval_date).toLocaleDateString():"Not yet approved",disbursementStatus:x.data.loan_status?.disbursement_status||"Pending",disbursementDate:x.data.loan_status?.disbursement_date?new Date(x.data.loan_status.disbursement_date).toLocaleDateString():"Not yet disbursed",beneficiaryName:x.data.beneficiary_name||"N/A",beneficiaryEmail:x.data.beneficiary_email||"N/A",beneficiaryRelationship:x.data.beneficiary_relationship||"N/A",beneficiaryPhone:x.data.beneficiary_phone||"N/A",titleDocument:x.data.title_document||"N/A",uploadDocument:x.data.upload_document||"N/A",totalAmount:x.data.mono?.total_amount?`${x.data.mono.total_amount.toLocaleString()}`:"N/A",downPayment:x.data.mono?.down_payment?`${x.data.mono.down_payment.toLocaleString()}`:"N/A",creditScore:x.data.mono?.credit_score||"N/A",isOverdue:x.data.mono?.is_overdue||!1,mono_loan_calculation:x.data?.mono_loan_calculation||"N/A"}:null;if(t&&w)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loading loan details..."})});if(t&&y)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-red-500 text-lg",children:"Failed to load loan details."})});if(t&&!j)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loan details not found."})});const _=()=>{const S=j;if(!S){alert("Unable to find loan data. Please try again.");return}f(!0);try{const L=new _t;L.setFont("helvetica"),L.setFontSize(20),L.setTextColor(39,62,142),L.text("TROOSOLAR FINANCIAL SERVICES",20,25),L.setFontSize(16),L.setTextColor(0,0,0),L.text("ACCOUNT STATEMENT",20,35),L.setLineWidth(.5),L.line(20,40,190,40);let E=55;L.setFontSize(14),L.setTextColor(39,62,142),L.text("Customer Information",20,E),E+=10,L.setFontSize(10),L.setTextColor(0,0,0),L.text(`Name: ${S.name}`,25,E),E+=6,L.text(`Customer ID: ${S.userId}`,25,E),E+=6,L.text(`Loan ID: ${S.id}`,25,E),E+=15,L.setFontSize(14),L.setTextColor(39,62,142),L.text("Loan Details",20,E),E+=10,L.setFontSize(10),L.setTextColor(0,0,0),L.text(`Loan Amount: ${S.loanAmount}`,25,E),E+=6,L.text(`Loan Limit: ${S.loanLimit}`,25,E),E+=6,L.text(`Loan Period: ${S.loanPeriod}`,25,E),E+=6,L.text(`Interest Rate: ${S.interestRate}`,25,E),E+=6,L.text(`Repayment Duration: ${S.repaymentDuration}`,25,E),E+=6,L.text(`Financing Partner: ${S.financingPartner}`,25,E),E+=15,L.setFontSize(14),L.setTextColor(39,62,142),L.text("Status Information",20,E),E+=10,L.setFontSize(10),L.setTextColor(0,0,0),L.text(`Send Status: ${S.sendStatus}`,25,E),E+=6,L.text(`Send Date: ${S.sendDate}`,25,E),E+=6,L.text(`Approval Status: ${S.approvalStatus}`,25,E),E+=6,L.text(`Approval Date: ${S.approvalDate}`,25,E),E+=6,L.text(`Disbursement Status: ${S.disbursementStatus}`,25,E),E+=6,L.text(`Disbursement Date: ${S.disbursementDate}`,25,E),E+=15,L.setFontSize(14),L.setTextColor(39,62,142),L.text("Financial Summary",20,E),E+=10,L.setFontSize(10),L.setTextColor(0,0,0),L.text(`Loan Amount: ${S.loanAmount}`,25,E),E+=6,L.text(`Total Amount: ${S.totalAmount}`,25,E),E+=6,L.text(`Down Payment: ${S.downPayment}`,25,E),E+=6,L.text(`Interest Rate: ${S.interestRate}`,25,E),E+=6,L.text(`Credit Score: ${S.creditScore}`,25,E),E+=6,L.text(`Overdue Status: ${S.isOverdue?"Overdue":"Current"}`,25,E),E+=20,L.setLineWidth(.3),L.line(20,E,190,E),E+=10,L.setFontSize(8),L.setTextColor(100,100,100),L.text(`Statement Generated: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,20,E),E+=5,L.text("This is an official document from Troosolar Financial Services.",20,E),E+=5,L.text("For inquiries, contact customer support.",20,E);const P=`Account-Statement-${S.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`;L.save(P),setTimeout(()=>{alert("PDF account statement downloaded successfully!"),f(!1)},500)}catch(L){console.error("Error generating PDF:",L),alert("Failed to generate PDF account statement. Please try again."),f(!1)}},C=({status:S})=>{let L={backgroundColor:"#FFA50033",color:"#FF8C00"},E="#FF8C00";const P=S.toLowerCase();return P==="completed"||P==="approved"||P==="active"?(L={backgroundColor:"#00800033",color:"#008000"},E="#008000"):P==="rejected"?(L={backgroundColor:"#FF000033",color:"#FF0000"},E="#FF0000"):P==="disbursed"&&(L={backgroundColor:"#0000FF33",color:"#0000FF"},E="#0000FF"),n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[75px]",style:L,children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:E}}),S]})};return!t||!j?null:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[n.jsx("div",{className:"fixed inset-0 bg-opacity-0 backdrop-brightness-50",onClick:e}),n.jsxs("div",{className:"relative bg-white w-[675px] h-full max-w-[100%] max-h-[100%] sm:rounded-xl shadow-lg overflow-y-auto z-10",children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Full Loan Details"}),n.jsx("button",{className:" cursor-pointer ",onClick:e,children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"flex border-b px-5",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${r==="loan"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>o("loan"),children:"Loan Details"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${r==="financial"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>o("financial"),children:"Financial details"})]}),r==="loan"&&n.jsxs("div",{className:"px-5",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Details"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Name"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.name})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Limit"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanLimit})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Period"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanPeriod})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Repayment duration"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.repaymentDuration})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Financing partner"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.financingPartner})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Interest rate"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.interestRate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Status"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Status (to partner)"}),n.jsx(C,{status:j.sendStatus})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.sendDate})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Status (from partner)"}),n.jsx(C,{status:j.approvalStatus})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.approvalDate})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Status"}),n.jsx(C,{status:j.disbursementStatus})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.disbursementDate})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Beneficiary Information"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Name"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryName})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Email"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryEmail})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Relationship"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryRelationship})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Phone Number"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryPhone})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Document Information"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Document Type"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.titleDocument})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Uploaded Document"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.uploadDocument!=="N/A"?n.jsx("a",{href:j.uploadDocument,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Document"}):"N/A"})]})]})]}),j.approvalStatus.toLowerCase()!=="approved"&&n.jsx("button",{className:`w-full py-3 rounded-full font-medium my-5 transition-colors cursor-pointer ${j.disbursementStatus==="Completed"?"bg-[#939FC7] text-white cursor-not-allowed":"bg-[#273E8E] hover:bg-blue-700 text-white"}`,onClick:()=>j.disbursementStatus!=="Completed"&&d(!0),disabled:j.disbursementStatus==="Completed",children:"Disburse Loan"})]}),r==="financial"&&n.jsxs("div",{className:"px-5",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Financial Summary"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Total Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.totalAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Down Payment"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.downPayment})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Interest Rate"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.interestRate})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Credit Information"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Credit Score"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.creditScore})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Limit"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanLimit})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Repayment Duration"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.repaymentDuration})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Overdue Status"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.isOverdue?n.jsx("span",{className:"text-red-600",children:"Overdue"}):n.jsx("span",{className:"text-green-600",children:"Current"})})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Account Statement"}),n.jsxs("div",{className:"flex items-center justify-between py-3 px-3 border border-[#00000080] rounded-lg p-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3",children:n.jsx("div",{className:"pdf-icon",children:n.jsx("img",{src:"/assets/images/pdf.png",alt:"PDF",width:"24",height:"24",className:"object-contain"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Download Account Statement"}),n.jsx("div",{className:"text-xs text-gray-500",children:h?"Generating PDF...":"PDF  200kb"})]})]}),n.jsx("button",{className:`text-blue-600 hover:text-blue-800 transition-colors ${h?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:_,disabled:h,title:"Download Account Statement",children:n.jsx("div",{className:"download-icon",children:h?n.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):n.jsx("img",{src:"/assets/images/download.png",alt:"Download",width:"24",height:"24",className:"object-contain"})})})]})]})]})]}),n.jsx(OC,{isOpen:c,onClose:()=>d(!1),loanId:j.mono_loan_calculation,amount:j.loanAmount,onDisburse:(S,L)=>{a&&a(S,L)}})]})},DE=({userId:t})=>{const e=wi(),{id:s}=vh(),a=Xt.get("token"),r=t||s,[o,c]=O.useState(!1),[d,h]=O.useState(!1),[f,p]=O.useState(!1),[x,w]=O.useState(""),[y,j]=O.useState("");console.log("The Id coming",r);const{data:_,isLoading:C,isError:S}=Qt({queryKey:["user-loan-detail",r],queryFn:()=>CE(r||"",a||""),enabled:!!r&&!!a});console.log("User Loan Detail",_);const L=_?.data?.loans||[],E=_?.data?.user_info||{},P=_?.data?.wallet_info||{};console.log("API Loans Data:",_);const V=()=>{const I=`user_partner_${(E.name||E.first_name||`User ${r}`)?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(I,JSON.stringify({selectedPartner:x})),alert("Partner selection saved successfully!"),p(!1)},ae=U=>{j(U),c(!0)},G=({status:U})=>{let I={backgroundColor:"#FEF3C7",color:"#D97706"},ee="#D97706",T="border-[#FFA500] border";return U==="Completed"?(I={backgroundColor:"#D1FAE5",color:"#065F46"},ee="#10B981",T="border-[#008000] border"):U==="Rejected"&&(I={backgroundColor:"#FEE2E2",color:"#DC2626"},ee="#DC2626",T="border-[#FF0000] border"),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] justify-center ${T}`,style:I,children:[n.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:ee}}),U]})};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(LC,{isOpen:d,onClose:()=>h(!1),user:{id:r||"",name:E.name||E.first_name||`User ${r}`,email:E.email||"",phone:E.phone||"",bvn:E.bvn||"",date:E.created_at||""},onSendToPartner:()=>{p(!0),h(!1)}}),f&&n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start min-h-screen p-6",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>p(!1)}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>p(!1),children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partnerss"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-4 pr-10 appearance-none text-base",value:x,onChange:U=>w(U.target.value),children:[n.jsx("option",{value:"",disabled:!0,children:"Select Partnerss"}),n.jsx("option",{value:"partner1",children:"Sterling Banssk"}),n.jsx("option",{value:"partner2",children:"Access Bank"}),n.jsx("option",{value:"partner3",children:"First Bank"}),n.jsx("option",{value:"partner4",children:"GTBank"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsx("button",{className:"w-full bg-[#2946A9] text-white py-4 rounded-full font-semibold text-base hover:bg-[#243c8c] transition-colors",onClick:V,children:"Save"})]})]}),n.jsx(rN,{isOpen:o,onClose:()=>c(!1),loanId:y}),n.jsx(Jn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:E.name||E.first_name||`User ${r}`}),n.jsxs("div",{className:"flex gap-8 border-b border-gray-200 mb-6",children:[n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${r}`),children:"Activity"}),n.jsxs("button",{className:"pb-2 cursor-pointer text-black font-semibold relative",children:["Loans",n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]}),n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${r}/transactions`),children:"Transactions"}),n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${r}/orders`),children:"Orders"})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#2946A9] to-[#f9d423] rounded-2xl shadow-lg p-0 flex items-center justify-center min-w-[350px] min-h-[250px] border-2 border-blue-200",style:{boxShadow:"0 4px 24px 0 rgba(41,70,169,0.10)"},children:n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("div",{className:"relative w-[400px] h-[320px] flex items-center justify-center",children:n.jsxs("svg",{width:"340",height:"300",viewBox:"0 0 340 300",style:{zIndex:1},children:[n.jsxs("defs",{children:[n.jsx("filter",{id:"gauge-shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:n.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"8","flood-color":"#bbb"})}),n.jsxs("linearGradient",{id:"gauge-arc",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#e53e3e"}),n.jsx("stop",{offset:"100%",stopColor:"#38a169"})]})]}),n.jsx("ellipse",{cx:"170",cy:"170",rx:"130",ry:"130",fill:"#fff",filter:"url(#gauge-shadow)"}),n.jsx("path",{d:"M60,170 A110,110 0 1,1 280,170",fill:"none",stroke:"url(#gauge-arc)",strokeWidth:"10",strokeLinecap:"round"}),Array.from({length:31}).map((U,I)=>{const ee=Math.PI*(.75+I*1.5/30),T=170+85*Math.cos(ee),F=170+85*Math.sin(ee),Z=170+110*Math.cos(ee),K=170+110*Math.sin(ee);return n.jsx("line",{x1:T,y1:F,x2:Z,y2:K,stroke:"#38a169",strokeWidth:"2"},I)}),n.jsx("polygon",{points:"170,170 65,135 170,160",fill:"#666"}),n.jsx("circle",{cx:"170",cy:"170",r:"13",fill:"#444"}),n.jsx("text",{x:"170",y:"210",fontSize:"15",fontWeight:"500",fill:"#888",textAnchor:"middle",children:"My Credit Score"}),n.jsx("text",{x:"170",y:"250",fontSize:"40",fontWeight:"bold",fill:"#222",textAnchor:"middle",children:"0%"})]})})})}),n.jsxs("div",{className:"flex flex-col gap-6 flex-1 min-w-[250px]",children:[n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[n.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2] mb-8",children:"Loan Wallet"}),n.jsx("div",{className:"text-3xl font-bold mb-6",children:P.loan_balance!==void 0?`${parseInt(P.loan_balance).toLocaleString()}`:"NO"}),n.jsxs("div",{className:"bg-[#1D3073] border border-[#4361C9] rounded-xl p-4",children:[n.jsx("div",{className:"text-[8px] text-[#FFFFFF80]",children:"Loan Eligible for"}),n.jsxs("div",{className:"text-xl font-semibold mt-1",children:[P.loan_balance!==void 0&&parseInt(P.loan_balance)>0?`N${parseInt(P.loan_balance).toLocaleString()}`:"No amount",n.jsx("span",{className:"text-lg font-normal",children:P.loan_balance!==void 0&&parseInt(P.loan_balance)>0?"/12months":""})]})]})]}),n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[n.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2]",children:"General Wallet"}),n.jsx("div",{className:"text-3xl font-bold mb-2",children:P.shop_balance!==void 0&&P.shop_balance!==null?`${parseInt(P.shop_balance).toLocaleString()}`:"N/A"}),n.jsx("button",{className:"bg-white text-[#000000] cursor-pointer text-sm rounded-full px-8 py-4 font-semibold mt-2",onClick:()=>h(!0),children:"KYC Profile"})]})]}),L.length>0&&L.some(U=>U.loan_status?.disbursement_status==="active")?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-red-200",style:{borderColor:"#FFCDD2",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(255,205,210,0.20)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"Next Repayment"}),n.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No overdue payments"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:"00"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Days"})]}),n.jsxs("div",{className:"flex flex-col mx-1 text-gray-600",children:[n.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full mb-1"}),n.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full"})]}),n.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:"00"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Hours"})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n.jsx("div",{className:"text-blue-900 text-2xl font-bold",children:"N/A"}),n.jsx("button",{className:"bg-gray-400 text-white text-xs px-6 py-2 rounded-full cursor-not-allowed",disabled:!0,children:"No Data"})]})]})}):n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200",style:{borderColor:"#E5E7EB",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(0,0,0,0.05)"},children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Next Repayment"}),n.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No active loans found"})]})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-2",children:n.jsx("h2",{className:"text-xl text-[#000000] font-bold mb-5",children:"Loans Summary"})}),C?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading loans..."}):S?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loans."}):L.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No loans found for this user."}):n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 w-12 text-center",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("th",{className:"p-4 text-center",children:"Name"}),n.jsx("th",{className:"p-4 text-center",children:"Amount"}),n.jsx("th",{className:"p-4 text-center",children:"Date"}),n.jsx("th",{className:"p-4 text-center",children:"Send Status"}),n.jsx("th",{className:"p-4 text-center",children:"Approval"}),n.jsx("th",{className:"p-4 text-center",children:"Action"})]})}),n.jsx("tbody",{children:L.map((U,I)=>n.jsxs("tr",{className:`${I%2===0?"bg-[#F8F8F8]":"bg-white"} hover:bg-gray-50`,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("td",{className:"p-4 text-center",children:U.user_name||U.beneficiary_name||"-"}),n.jsxs("td",{className:"p-4 text-center",children:["",U.loan_amount.toLocaleString()]}),n.jsx("td",{className:"p-4 text-center",children:U.created_at?new Date(U.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"-"}),n.jsx("td",{className:"p-4 text-center",children:n.jsx(G,{status:U.loan_status?.send_status?U.loan_status.send_status.charAt(0).toUpperCase()+U.loan_status.send_status.slice(1):"Pending"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx(G,{status:U.loan_status?.approval_status?U.loan_status.approval_status.charAt(0).toUpperCase()+U.loan_status.approval_status.slice(1):"Pending"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("button",{className:"bg-[#273E8E] text-white px-4 py-3 rounded-full text-sm cursor-pointer",onClick:()=>ae(String(U.loan_application_id)),children:"View Details"})})]},U.loan_application_id))})]})})]})]})]})};function ME(){const{id:t}=vh();return console.log("The Id coming",t),t?n.jsx("div",{children:n.jsx(DE,{userId:t})}):n.jsx("div",{className:"p-8 text-xl",children:"User ID not found in URL"})}const FE=({totalTransactions:t,totalDeposits:e,totalWithdrawals:s})=>{const a=r=>`${r.toLocaleString()}`;return n.jsxs("div",{className:"summary-cards",children:[n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon transactions-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Total Transactions"}),n.jsx("span",{className:"card-value",children:t})]})]}),n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon deposits-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Deposits",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Deposits"}),n.jsx("span",{className:"card-value",children:a(e)})]})]}),n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon withdrawals-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Withdrawals",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Withdrawals"}),n.jsx("span",{className:"card-value",children:a(s)})]})]})]})},oN=({isOpen:t,transaction:e,onClose:s})=>{if(console.log("TransactionDetail props:",{isOpen:t,transaction:e}),!t||!e)return console.log("Modal not showing - isOpen:",t,"transaction:",e),null;const a=e.price?`${Number(e.price).toLocaleString()}`:e.amount?`${Number(e.amount).toLocaleString()}`:"-",r=e.payment_method?e.payment_method.charAt(0).toUpperCase()+e.payment_method.slice(1).replace(/_/g," "):e.method?e.method.charAt(0).toUpperCase()+e.method.slice(1):"-",o=e.tx_id||e.reference||e.id||"-",c=e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"-";let d="-",h="-";if(e.date&&e.time)d=e.date,h=e.time;else if(e.transacted_at){const x=new Date(e.transacted_at);d=x.toLocaleDateString(),h=x.toLocaleTimeString()}const f=e.title||e.name||"-",p=e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"-";return n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Transaction Details"}),n.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-500":c.toLowerCase()==="pending"?"bg-yellow-500":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-500":"bg-gray-500"}`,children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"Transaction Successful":c.toLowerCase()==="pending"?"Pending Transaction":"Transaction"}),n.jsx("p",{className:"text-sm text-gray-600",children:f})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Title"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:f})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),n.jsx("span",{className:"text-sm text-gray-700",children:p})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),n.jsx("span",{className:"text-sm text-gray-700",children:r})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Transaction ID"}),n.jsx("span",{className:"text-sm text-gray-700 font-mono",children:o})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-100 text-green-800":c.toLowerCase()==="pending"?"bg-yellow-100 text-yellow-800":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c})]}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Date & Time"}),n.jsxs("span",{className:"text-sm text-gray-700",children:[d," at ",h]})]})]})]})})},OE=async(t,e)=>await ht(ft.ADMIN.TransactionShow(t),"GET",void 0,e),TE=async t=>await ht(ft.ADMIN.AllTransaction,"GET",void 0,t),PE=()=>{const{id:t}=vh(),e=wi(),[s,a]=O.useState("Transactions"),[r,o]=O.useState("All"),[c,d]=O.useState(!1),[h,f]=O.useState(""),[p,x]=O.useState(null),[w,y]=O.useState(!1),[j,_]=O.useState(null),C=O.useRef(null),S=Xt.get("token"),{data:L,isLoading:E,isError:P}=Qt({queryKey:["single-transaction",t],queryFn:()=>OE(t||"",S||""),enabled:!!t&&!!S}),V=L?.user_info||{},ae=L?.summary||{},G=L?.transactions||[];O.useEffect(()=>{function R(ie){const re=ie.target,me=re.closest("[data-dropdown-button]"),X=re.closest("[data-dropdown-menu]");p&&!me&&!X&&x(null),C.current&&!C.current.contains(ie.target)&&d(!1)}return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[C,p]);const U=V.name?V:null,I=ae.total_transactions!==void 0?ae:null,ee=G;if(E)return n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(Mn,{message:"Loading user..."})})});if(!V.name)return n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User not found"}),n.jsx("button",{onClick:()=>e("/user-mgt"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to User Management"})]})});const T=R=>{switch(a(R),R){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":break;case"Orders":e(`/user-activity/${t}/orders`);break}},F=ee.filter(R=>{if(h){const ie=h.toLowerCase(),re=R.name?.toLowerCase()||"",me=(R.tx_id||R.txId||"").toLowerCase(),X=R.title?.toLowerCase()||"";if(!re.includes(ie)&&!me.includes(ie)&&!X.includes(ie))return!1}return r==="All"?!0:r==="Deposit"?R.type==="deposit"||R.type==="Deposit":r==="Withdrawals"?R.type?.toLowerCase().includes("withdrawal"):r==="Status"?R.status==="Pending"||R.status==="pending":r==="Completed"?R.status==="Completed"||R.status==="paid":r==="Pending"?R.status==="Pending"||R.status==="pending":r==="Failed"?R.status==="Failed"||R.status==="failed":!0}),Z=R=>{x(p===R?null:R)},K=(R,ie)=>{_(ie),y(!0),x(null)},fe=()=>{y(!1),_(null)};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"",children:n.jsx("h1",{className:"text-2xl font-bold mb-3",children:U?.name})}),n.jsx("div",{className:"flex border-b border-gray-200 mb-6",children:["Activity","Loans","Transactions","Orders"].map(R=>n.jsx("button",{className:`px-4 py-3 text-md font-medium border-b-2 transition-colors cursor-pointer ${s===R?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,onClick:()=>T(R),children:R},R))}),E?n.jsx(Mn,{message:"Loading summary..."}):P?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load summary."}):n.jsx(FE,{totalTransactions:I?.total_transactions||0,totalDeposits:I?.total_deposits||0,totalWithdrawals:I?.total_withdrawals||0}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"border border-[#CDCDCD] bg-white p-2 rounded-full flex items-center",children:[n.jsx("button",{className:`px-5 py-2.5 rounded-full text-sm transition cursor-pointer ${r==="All"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>o("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${r==="Deposit"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>o("Deposit"),children:"Deposit"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${r==="Withdrawals"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>o("Withdrawals"),children:"Withdrawals"})]}),n.jsx("div",{className:"relative inline-block ml-2 mt-1",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative",ref:C,children:[n.jsxs("button",{className:"px-6 py-3 border border-[#00000030] rounded-lg text-sm bg-white cursor-pointer pr-10 min-w-[140px] focus:outline-none focus:ring-1 focus:ring-blue-500 flex items-center justify-between",onClick:()=>d(!c),children:[n.jsx("span",{className:"text-[#333]",children:r==="Status"?"Status":r}),n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-500 absolute right-3",children:n.jsx("path",{d:"M3.5 5.25L7 8.75L10.5 5.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c&&n.jsxs("div",{className:"absolute left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-md z-10",children:[n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{o("All"),d(!1)},children:"Status"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{o("Completed"),d(!1)},children:"Successful"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{o("Pending"),d(!1)},children:"Pending"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333]",onClick:()=>{o("Failed"),d(!1)},children:"Failed"})]})]})})})]}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative flex items-center w-full",children:[n.jsx("svg",{className:"absolute left-4 h-[18px] w-[18px] text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.7,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:R=>f(R.target.value)})]})})]}),E?n.jsx(Mn,{message:"Loading transactions..."}):P?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):F.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-xs uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4"})}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Tx ID"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{children:F.map((R,ie)=>n.jsxs("tr",{className:`${ie%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4 "})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-black text-center",children:R.name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center font-medium",children:["",R.price?Number(R.price).toLocaleString():R.amount?.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:[R.date,R.time?`/${R.time}`:""]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:R.payment_method?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:R.payment_method}),n.jsx("div",{className:"text-xs text-gray-500",children:R.title||R.type})]}):n.jsx("div",{className:"font-medium",children:R.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:R.tx_id||R.txId}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${R.status==="Completed"||R.status==="paid"?"border border-[#008000]":R.status==="Pending"||R.status==="pending"?"border border-[#FFA500]":R.status==="Rejected"||R.status==="failed"?"border border-[#FF0000]":"border border-[#6B7280]"}`,style:R.status==="Completed"||R.status==="paid"?{backgroundColor:"#00800033",color:"#008000"}:R.status==="Pending"||R.status==="pending"?{backgroundColor:"#FFA50033",color:"#FF8C00"}:R.status==="Rejected"||R.status==="failed"?{backgroundColor:"#FF000033",color:"#FF0000"}:{backgroundColor:"#6B728033",color:"#6B7280"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:R.status==="Completed"||R.status==="paid"?"#008000":R.status==="Pending"||R.status==="pending"?"#FF8C00":R.status==="Rejected"||R.status==="failed"?"#FF0000":"#6B7280"}}),R.status==="paid"?"Completed":R.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("div",{className:"flex items-center space-x-2 relative",children:[n.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>Z(String(R.id)),children:n.jsx("img",{src:lt.dots,alt:""})}),p===String(R.id)&&n.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:n.jsx("div",{className:"py-2",children:n.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:re=>{re.preventDefault(),re.stopPropagation(),K("View Transaction details",R)},children:"View Transaction details"})})})]})})]},R.id))})]})})]})]}),w&&j&&n.jsx(oN,{isOpen:w,transaction:j,onClose:fe})]})},BE=async t=>await ht(ft.ADMIN.OrdersList,"GET",void 0,t),RE=async(t,e)=>await ht(ft.ADMIN.OrderShowUser(t),"GET",void 0,e),UE=async(t,e)=>await ht(ft.ADMIN.OrderShow(t),"GET",void 0,e),lN=({isOpen:t,order:e,onClose:s})=>{const a=Xt.get("token"),[r,o]=O.useState(!0),[c,d]=O.useState(!1);O.useEffect(()=>{e?.id&&(o(!0),d(!1))},[e?.id]);const{data:h,isLoading:f,isError:p}=Qt({queryKey:["single-order-detail",e?.id],queryFn:()=>UE(e?.id||0,a||""),enabled:!!e?.id&&t});if(!t||!e)return null;if(f)return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:n.jsx("div",{className:"py-12 text-center text-gray-500",children:"Loading order details..."})})});if(p||!h?.data)return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:n.jsx("div",{className:"py-12 text-center text-red-500",children:"Failed to load order details."})})});const x=h.data,w=x.items&&x.items.length>0?x.items[0].item?.title:"-",y=x.items&&x.items.length>0?x.items[0].item?.featured_image:"/assets/images/newman1.png",j=()=>{o(!1),d(!1)},_=()=>{o(!1),d(!0)},C=x.user_info?.name||x.include_user_info?.first_name||"-",S=x.user_info?.phone||x.include_user_info?.phone||"-",L=x.delivery_address?.address||"-",E=x.delivery_address?.phone_number||"-",P=x.order_status||"-",V=x.created_at||"-",ae=x.total_price?`${Number(x.total_price).toLocaleString()}`:"-",G=x.payment_method||"-",U=x.installation||null;return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Details"}),n.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[n.jsxs("div",{className:"text-center p-5 border border-[#00000080] bg-white rounded-2xl",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-3 ${P==="delivered"?"bg-green-100":P==="pending"?"bg-orange-100":"bg-blue-100"}`,children:P==="delivered"?n.jsx("img",{src:lt.tick,alt:""}):P==="pending"?n.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:P==="delivered"?"Order Delivered":P==="pending"?"Order Pending":"Order Placed"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:P==="delivered"?`Order has been successfully delivered on ${V}`:P==="pending"?"Order is being processed.":`Order has been placed successfully on ${V}`}),n.jsxs("div",{className:`text-xs px-3 py-1 rounded-full inline-block ${P==="delivered"?"bg-green-50 text-green-700":P==="pending"?"bg-orange-50 text-orange-700":"bg-blue-50 text-blue-700"}`,children:["Order ID: ",x.order_number||x.id||"-"]})]}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Product Details"}),n.jsxs("div",{className:"flex items-center space-x-3 p-1.5 bg-white border border-[#00000080] rounded-2xl",children:[n.jsxs("div",{className:"w-19 h-19 bg-[#F3F3F3] rounded-2xl flex items-center justify-center flex-shrink-0 relative",children:[r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),c?n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 rounded-lg",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):n.jsx("img",{src:`https://troosolar.hmstech.org${y}`,alt:w,className:`w-full h-full object-cover rounded-lg ${r?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:j,onError:_})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:w}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:ae}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Order Date: ",V]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Customer Details"}),n.jsx("div",{className:"p-5 border border-[#00000080] rounded-2xl",children:n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsx("div",{children:n.jsx("span",{className:"text-gray-600",children:"Customer Name"})}),n.jsx("p",{className:"text-gray-900 font-medium",children:C}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("span",{className:"text-gray-600",children:"Contact"}),n.jsx("span",{className:"text-gray-900",children:S})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Status"}),n.jsx("span",{className:`font-medium ${P==="delivered"?"text-green-600":P==="pending"?"text-orange-600":"text-blue-600"}`,children:P})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Delivery Details"}),n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080]",children:n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsx("div",{className:"border-b border-[#CDCDCD] p-3",children:n.jsx("span",{className:"text-gray-600",children:"Delivery Address"})}),n.jsxs("div",{className:"p-3 pr-5 pl-5",children:[n.jsxs("div",{className:"p-5 bg-[#EDEDED] rounded-2xl",children:[n.jsx("p",{className:"text-[#00000080] mb-1 text-[10px]",children:"Address"}),n.jsx("p",{className:"text-black text-[13px]",children:L}),n.jsx("p",{className:"text-[#00000080] mb-1 mt-1 text-[10px]",children:"Phone Number"}),n.jsx("p",{className:"text-black text-[13px]",children:E})]}),n.jsxs("div",{className:"flex justify-between mt-5 mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),n.jsx("span",{className:"text-black text-[14px]",children:U?.installation_date||"-"})]}),n.jsxs("div",{className:"flex justify-between p-1",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:U?.installation_fee?`${Number(U.installation_fee).toLocaleString()}`:"-"})]})]})]})})]}),U&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Installation"}),n.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-3",children:[n.jsx("div",{className:"border-2 border-dashed border-[#273E8E] rounded-lg p-3 bg-[#273E8E1A] mb-5",children:n.jsxs("p",{className:"text-xs text-[#273E8E] text-[14px]",children:["Installation will be carried out by ",U.technician_name||"our skilled technician",". You can choose not to use our installers."]})}),n.jsxs("div",{className:"flex justify-between text-xs mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),n.jsx("span",{className:"text-black text-[14px]",children:U.installation_date||"-"})]}),n.jsxs("div",{className:"flex justify-between text-xs p-1",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:U.installation_fee?`${Number(U.installation_fee).toLocaleString()}`:"-"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-xs rounded-2xl p-3 border border-[#00000080]",children:[n.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Payment method"}),n.jsx("span",{className:"text-black text-[14px]",children:G})]}),n.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Amount"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:ae})]})]})]})]})]})]})})},IE=()=>{const{id:t}=vh(),e=wi(),[s,a]=O.useState("Orders"),[r,o]=O.useState("All"),[c,d]=O.useState(null),[h,f]=O.useState(""),p=O.useRef(null),[x,w]=O.useState(1),[y]=O.useState(10),j=Xt.get("token"),_=["Activity","Loans","Transactions","Orders"],{data:C,isLoading:S,isError:L}=Qt({queryKey:["single-order-user",t],queryFn:()=>RE(t||"",j||""),enabled:!!t&&!!j}),E=C?.summary||{},P=C?.orders||[],V=F=>{switch(a(F),F){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":e(`/user-activity/${t}/transactions`);break}},ae=()=>{console.log("Notification clicked")},G=P.filter(F=>{if(h){const Z=h.toLowerCase(),K=(F.order_number||"").toLowerCase(),fe=(F.total_price||"").toLowerCase(),R=(F.created_at||"").toLowerCase(),ie=(F.order_status||"").toLowerCase();if(!K.includes(Z)&&!fe.includes(Z)&&!R.includes(Z)&&!ie.includes(Z))return!1}return r==="All"?!0:r==="Status"?F.order_status==="pending":r==="Ordered"?F.order_status==="ordered":r==="Pending"?F.order_status==="pending":r==="Delivered"?F.order_status==="delivered":!0}),U=Math.ceil(G.length/y),I=(x-1)*y,ee=I+y,T=G.slice(I,ee);return yi.useEffect(()=>{w(1)},[r,h]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:ae}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Orders"}),n.jsx("div",{className:"flex space-x-8 border-b border-gray-200",children:_.map(F=>n.jsx("button",{onClick:()=>V(F),className:`py-2 px-1 border-b-2 font-medium cursor-pointer text-md ${s===F?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,children:F},F))})]}),S?n.jsx(Mn,{message:"Loading orders summary..."}):L?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders summary."}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:E?.total_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Pending Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:E?.pending_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Successful Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Successful Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:E?.completed_orders||0})]})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Orders"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex bg-white border border-[#CDCDCD] rounded-full p-2",children:["All","Loans","Direct"].map(F=>n.jsx("button",{onClick:()=>o(F),className:`px-5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer  ${r===F?"bg-[#273E8E] text-white":"text-[#000000B2] "}`,children:F},F))}),n.jsx("div",{className:"relative",ref:p,children:n.jsxs("div",{className:"inline-block",children:[n.jsxs("button",{className:"inline-flex items-center px-5 py-2.5 text-sm font-medium text-black bg-white border border-[#DEDEDE] rounded-lg focus:outline-none",onClick:()=>{document.getElementById("statusDropdown")?.classList.toggle("hidden")},style:{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},children:[n.jsx("span",{children:"Status"}),n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx("div",{id:"statusDropdown",className:"absolute z-10 hidden w-[180px] mt-1 bg-white rounded-lg shadow-lg overflow-hidden",style:{boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"},children:n.jsxs("div",{className:"py-2",children:[n.jsx("button",{onClick:()=>{o("Ordered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Order Placed"}),n.jsx("button",{onClick:()=>{o("Pending"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Pending"}),n.jsx("button",{onClick:()=>{o("Delivered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Delivered"})]})})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:F=>f(F.target.value)}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),S?n.jsx(Mn,{message:"Loading orders..."}):L?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders."}):G.length===0?n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"py-16 text-center",children:[n.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-500 mb-6",children:P.length===0?"This user hasn't placed any orders yet.":"No orders match your current filters."}),P.length===0&&n.jsx("button",{onClick:()=>e("/user-mgt"),className:"px-6 py-2 bg-[#273E8E] text-white rounded-full hover:bg-blue-700 transition-colors",children:"Back to User Management"})]})}):n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Order ID"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:T.map((F,Z)=>n.jsxs("tr",{className:`${Z%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.order_number}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.items&&F.items.length>0?F.items[0].item?.title:"-"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",F.total_price?Number(F.total_price).toLocaleString():"-"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.created_at}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:F.order_status==="ordered"?{backgroundColor:"#E9F0FF",color:"#273E8E"}:F.order_status==="pending"?{backgroundColor:"#FFF3E0",color:"#FF8C00"}:F.order_status==="delivered"?{backgroundColor:"#EEFBEE",color:"#008000"}:F.order_status==="rejected"?{backgroundColor:"#FFEAEA",color:"#FF0000"}:{backgroundColor:"#F3F4F6",color:"#6B7280"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:F.order_status==="ordered"?"#273E8E":F.order_status==="pending"?"#FF8C00":F.order_status==="delivered"?"#008000":F.order_status==="rejected"?"#FF0000":"#6B7280"}}),F.order_status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-sm font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>{const K={id:F.id,order_number:F.order_number,order_status:F.order_status,total_price:F.total_price,created_at:F.created_at,items:F.items,delivery_address:{address:"N/A",phone_number:"N/A"},user_info:{name:"User",phone:"N/A"}};d(K)},children:"View Details"})})]},F.id))})]})})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",I+1," to ",Math.min(ee,G.length)," of ",G.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(Math.max(1,x-1)),disabled:x===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),Array.from({length:Math.min(5,U)},(F,Z)=>{let K;return U<=5||x<=3?K=Z+1:x>=U-2?K=U-4+Z:K=x-2+Z,n.jsx("button",{onClick:()=>w(K),className:`px-3 py-2 text-sm font-medium rounded-md border ${x===K?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:K},K)}),n.jsx("button",{onClick:()=>w(Math.min(U,x+1)),disabled:x===U,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===U?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),n.jsx(lN,{isOpen:!!c,order:c,onClose:()=>d(null)})]})},zE=[{id:1,name:"Adewale Faizah",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:2,name:"John Adam",creditScore:45,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Poor"},{id:3,name:"Chris Banner",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:4,name:"Adam Waa",creditScore:50,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Fair"},{id:5,name:"Anita Shawn",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:6,name:"Faiz Kalil",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:7,name:"Wande Moca",creditScore:60,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Good"},{id:8,name:"Zainab Zee",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"}],bv=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-35 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},qE=()=>{const[t,e]=O.useState("Sort by"),[s,a]=O.useState("Filter"),[r,o]=O.useState(""),[c,d]=O.useState(!1),[h,f]=O.useState(null),p=()=>{console.log("Notification clicked")},x=C=>{f(C),d(!0)},w=()=>{d(!1),f(null)},y=C=>C>=90?"text-green-600 font-bold":C>=70?"text-blue-600 font-bold":C>=50?"text-yellow-600 font-bold":"text-red-600 font-bold",j=C=>C>=90?"bg-green-50":C>=70?"bg-blue-50":C>=50?"bg-yellow-50":"bg-red-50",_=zE.filter(C=>{const S=C.name.toLowerCase().includes(r.toLowerCase());let L=!0;return s==="Excellent (90+)"?L=C.creditScore>=90:s==="Good (70-89)"?L=C.creditScore>=70&&C.creditScore<90:s==="Fair (50-69)"?L=C.creditScore>=50&&C.creditScore<70:s==="Poor (Below 50)"&&(L=C.creditScore<50),S&&L});return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:p}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Credit Score"}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(bv,{options:["Sort by","Name","Credit Score","Date"],selected:t,onSelect:e}),n.jsx(bv,{options:["Filter","Excellent (90+)","Good (70-89)","Fair (50-69)","Poor (Below 50)"],selected:s||"Filter",onSelect:a})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:C=>o(C.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Credit Score"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Loan Limit"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:_.map((C,S)=>n.jsxs("tr",{className:`${S%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:C.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${j(C.creditScore)}`,children:n.jsxs("span",{className:y(C.creditScore),children:[C.creditScore,"%"]})})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",C.loanLimit.toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:C.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>x(C),children:"View Details"})})]},C.id))})]})})})]}),c&&h&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-start justify-end z-50 p-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center px-8 py-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Credit Check - ",h.name]}),n.jsx("button",{onClick:w,className:"w-10 h-10 flex items-center justify-center rounded-full cursor-pointer transition",children:n.jsx("img",{src:lt.cross,alt:"Close",className:"w-6 h-6"})})]}),n.jsxs("div",{className:"px-8 py-6 overflow-y-auto max-h-[calc(95vh-80px)]",children:[n.jsx("div",{className:"rounded-xl mb-10 p-6",style:{background:"linear-gradient(135deg, #273E8E 0%, #FFA500 100%)",boxShadow:"0 4px 18px rgba(0, 0, 0, 0.15)"},children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"relative w-52 h-52 bg-white rounded-full shadow-xl flex items-center justify-center",children:n.jsxs("div",{className:"relative w-44 h-44",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 200 200",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"arcGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#FF0000"}),n.jsx("stop",{offset:"100%",stopColor:"#008000"})]})}),Array.from({length:72},(C,S)=>{const L=S*360/72,E=S%18===0,P=E?10:6,V=E?1.5:1,ae=75,G=100+(ae-P)*Math.cos(L*Math.PI/180),U=100+(ae-P)*Math.sin(L*Math.PI/180),I=100+ae*Math.cos(L*Math.PI/180),ee=100+ae*Math.sin(L*Math.PI/180);return n.jsx("line",{x1:G,y1:U,x2:I,y2:ee,stroke:"#008000",strokeWidth:V},S)}),n.jsx("path",{d:"M 10 100 A 90 90 0 0 1 190 100",stroke:"url(#arcGradient)",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),n.jsxs("g",{transform:"translate(100,100)",children:[n.jsx("polygon",{points:"0,-70 -3,-5 3,-5",fill:"#374151",transform:`rotate(${h.creditScore/100*180-90})`}),n.jsx("circle",{cx:"0",cy:"0",r:"6",fill:"#374151"}),n.jsx("circle",{cx:"0",cy:"0",r:"2.5",fill:"white"})]})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-xs text-gray-500 mb-1 mt-10",children:"My Credit Score"}),n.jsxs("span",{className:"text-4xl font-bold text-gray-900 leading-none",children:[h.creditScore,"%"]})]})]})})})}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),n.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:"002334593934"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),n.jsxs("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border flex justify-between items-center text-sm text-gray-900 font-medium",children:["Access Bank",n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),n.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:h.name})]})]})]})]})})]})},yv=t=>{if(!t||typeof t!="string")return{backgroundColor:"#6B728033",color:"#6B7280"};switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":case"approved":case"active":return{backgroundColor:"#00800033",color:"#008000"};case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};case"delivered":return{backgroundColor:"#00800033",color:"#008000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},HE=({userId:t,isOpen:e,onClose:s,userName:a,userEmail:r="",userPhone:o="",userBvn:c="",onSendToPartner:d,loanApplicationStatus:h})=>{const[f,p]=O.useState("personal"),[x,w]=O.useState("document");console.log("The User ID:",t);const y=Xt.get("token"),{data:j,isLoading:_,isError:C}=Qt({queryKey:["user-kyc-detail",t],queryFn:()=>mw(t,y||""),enabled:e&&!!t&&!!y});console.log("KYC API Data:",j),console.log("The User ID:",t);const S=K=>{const fe=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return fe[(K-1)%fe.length]},L=K=>{const fe=["Spouse","Sibling","Parent","Child","Friend","Cousin"];return fe[(K-1)%fe.length]},E=K=>{const fe=["300,000","500,000","750,000","400,000","600,000","350,000"];return fe[(K-1)%fe.length]},P=K=>{const fe=["6 months","12 months","18 months","9 months","15 months","24 months"];return fe[(K-1)%fe.length]},[V,ae]=O.useState({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:r,phone:o,bvn:c}),[G,U]=O.useState({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:S(t),accountName:a}),[I,ee]=O.useState({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:L(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:E(t),repaymentDuration:P(t)});O.useEffect(()=>{if(p("personal"),w("document"),j?.data){const K=j.data.user,fe=j.data.loan_application;ae({firstName:K?.first_name||a?.split(" ")[0]||"",surname:K?.sur_name||a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:K?.email||r,phone:K?.phone||o,bvn:K?.bvn||c}),U({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:S(t),accountName:K?`${K.first_name} ${K.sur_name}`:a}),ee({selectedDocument:fe?.title_document||"National ID",beneficiaryName:fe?.beneficiary_name||`${a} Next of Kin`,beneficiaryRelationship:fe?.beneficiary_relationship||L(t),beneficiaryEmail:fe?.beneficiary_email||`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:fe?.beneficiary_phone||`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:fe?.loan_amount?`${fe.loan_amount.toLocaleString()}`:E(t),repaymentDuration:fe?.repayment_duration?`${fe.repayment_duration} months`:P(t)})}else ae({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:r,phone:o,bvn:c}),U({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:S(t),accountName:a}),ee({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:L(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:E(t),repaymentDuration:P(t)})},[t,a,r,o,c,j]);const T=()=>{const K=`user_personal_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(K,JSON.stringify(V)),alert("Personal details saved successfully!")},F=()=>{const K=`user_credit_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(K,JSON.stringify(G)),alert("Credit check details saved successfully!")},Z=()=>{const K=`user_kyc_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(K,JSON.stringify(I)),alert("KYC details saved successfully!")};return e?(console.log("The Loan Application Status:",h),n.jsx(n.Fragment,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[n.jsx("div",{className:"absolute inset-0",onClick:s}),n.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[_&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Mn,{})}),C&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-red-500",children:[n.jsx("p",{className:"text-lg font-medium",children:"Failed to load KYC data"}),n.jsx("p",{className:"text-sm mt-2",children:"Please try again later"})]})}),!_&&!C&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),n.jsxs("div",{className:"flex items-center",children:[h!=="approved"&&n.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:d,children:"Send to Partner"}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:s,children:n.jsx("img",{src:lt.cross,alt:""})})]})]}),n.jsxs("div",{className:"flex border-b px-5 overflow-x-auto",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="personal"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("personal"),children:"Personal Details"}),n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="credit"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("credit"),children:"Credit Check"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${f==="kyc"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("kyc"),children:"KYC Details"})]}),f==="personal"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your first name",value:V.firstName,onChange:K=>ae({...V,firstName:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your surname",value:V.surname,onChange:K=>ae({...V,surname:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your email address",value:V.email,onChange:K=>ae({...V,email:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your phone number",value:V.phone,onChange:K=>ae({...V,phone:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"BVN"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"BVN Number",value:V.bvn,onChange:K=>ae({...V,bvn:K.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:T,children:"Save"})]}),f==="credit"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:G.accountNumber,onChange:K=>U({...G,accountNumber:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:G.bankName,onChange:K=>U({...G,bankName:K.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:G.accountName,onChange:K=>U({...G,accountName:K.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:F,children:"Save"})]}),f==="kyc"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-93",children:[n.jsx("button",{onClick:()=>{w("document")},className:`text-sm py-2.5 px-3 cursor-pointer  ${x==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),n.jsx("button",{onClick:()=>{w("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),n.jsx("button",{onClick:()=>{w("loanDetails")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),x==="document"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Document"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Document",value:I.selectedDocument,onChange:K=>ee({...I,selectedDocument:K.target.value}),readOnly:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),j?.data?.loan_application?.upload_document?n.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#3B82F6",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.data.loan_application.title_document||"Document"}),n.jsx("p",{className:"text-xs text-gray-500",children:j.data.loan_application.upload_document})]})]}),n.jsx("a",{href:`https://troosolar.hmstech.org/${j.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}),x==="beneficiary"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary name",value:I.beneficiaryName,onChange:K=>ee({...I,beneficiaryName:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Relationship",value:I.beneficiaryRelationship,onChange:K=>ee({...I,beneficiaryRelationship:K.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary email",value:I.beneficiaryEmail,onChange:K=>ee({...I,beneficiaryEmail:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary phone number",value:I.beneficiaryPhone,onChange:K=>ee({...I,beneficiaryPhone:K.target.value})})]})]}),x==="loanDetails"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter Loan Amount",value:I.loanAmount,onChange:K=>ee({...I,loanAmount:K.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Duration",value:I.repaymentDuration,onChange:K=>ee({...I,repaymentDuration:K.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:Z,children:"Save"})]})]})]})]})})):null},cN=async t=>await ht(ft.ADMIN.FinancingPartnersList,"GET",void 0,t),Gp=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-40 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},$E=()=>{const[t,e]=O.useState("More Actions"),[s,a]=O.useState("Send Status"),[r,o]=O.useState("Approval Status"),[c,d]=O.useState(!1),[h,f]=O.useState(null),[p,x]=O.useState(!1),[w,y]=O.useState(""),[j,_]=O.useState(""),[C,S]=O.useState(1),[L]=O.useState(10),E=()=>{console.log("Notification clicked")},P=($,ne,te,ge,Ne)=>{const Oe=V($,ne,te,ge,Ne);f(Oe),d(!0)},V=($,ne,te,ge,Ne)=>({id:$,name:ne,email:`${ne.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+234 80${ge.toString().padStart(2,"0")} 234 567${ge}`,bvn:`123456789${ge.toString().padStart(2,"0")}`,loan_application_id:te,user_id:ge,approval_status:Ne||"Pending",address:`${ge} Lagos Street, Victoria Island, Lagos`,occupation:ae(ge),monthlyIncome:G(ge),bankAccount:`${ge.toString().padStart(10,"0")}`,bankName:U(ge)}),ae=$=>{const ne=["Software Engineer","Business Analyst","Marketing Manager","Sales Executive","Product Manager","Data Scientist"];return ne[($-1)%ne.length]},G=$=>{const ne=["450,000","380,000","520,000","420,000","600,000","350,000"];return ne[($-1)%ne.length]},U=$=>{const ne=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return ne[($-1)%ne.length]},I=()=>{d(!1),x(!0)},ee=()=>{if(!w){alert("Please select a partner");return}const $=fe?.data?.find(ne=>ne["Partner name"]===w);$?(console.log("Partner selected:",w,"Partner ID:",$.id),ie.mutate($.id)):alert("Selected partner not found")},T=Xt.get("token"),{data:F,isLoading:Z,isError:K}=Qt({queryKey:["all-loan-status"],queryFn:()=>_E(T||""),enabled:!!T}),{data:fe,isLoading:R}=Qt({queryKey:["all-finance-partners"],queryFn:()=>cN(T||""),enabled:!!T}),ie=hs({mutationFn:async $=>{if(!h?.user_id)throw new Error("User ID not available");return await MC(h.user_id,{partner_id:$},T||"")},onSuccess:()=>{console.log("User sent to partner successfully"),x(!1),y("")},onError:$=>{console.error("Failed to send user to partner:",$),alert("Failed to send user to partner. Please try again.")}});console.log("Loan API Data:",F);const re=F?.data?[{label:"Total Loans",value:F.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:F.data["loan send"]??0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:F.data["loan approved"]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:0,icon:"/assets/images/Users.png"}],me=F?.data?Object.keys(F.data).filter($=>!isNaN(Number($))).map(($,ne)=>{const te=F.data[$];return{id:te?.id||ne,name:te?.name||"Unknown",amount:te?.amount||"N/A",date:te?.date||"N/A",sendStatus:te?.send_status||"Pending",approval:te?.approval_status||"Pending",loan_application_id:te?.loan_application_id||0,user_id:te?.user_id||0}}):[];console.log("API Loan List:",me);const X=me.filter($=>{const ne=s==="Send Status"||$.sendStatus===s,te=r==="Approval Status"||$.approval===r,ge=!j||$.name.toLowerCase().includes(j.toLowerCase())||String($.amount).toLowerCase().includes(j.toLowerCase())||$.date.toLowerCase().includes(j.toLowerCase())||$.sendStatus.toLowerCase().includes(j.toLowerCase())||$.approval.toLowerCase().includes(j.toLowerCase());return ne&&te&&ge}),de=Math.ceil(X.length/L),D=(C-1)*L,W=D+L,z=X.slice(D,W);return yi.useEffect(()=>{S(1)},[j,s,r]),console.log("The Selected User:",h?.loan_application_id),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[h&&n.jsx(HE,{userId:h.user_id||0,isOpen:c,onClose:()=>d(!1),userName:h.name,userEmail:h.email,userPhone:h.phone,userBvn:h.bvn,onSendToPartner:I,loanApplicationStatus:h.approval_status||""}),p&&n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start p-4 sm:p-6 bg-black/30 backdrop-brightness-50",children:[n.jsx("div",{className:"absolute inset-0",onClick:()=>x(!1)}),n.jsxs("div",{className:"relative bg-white w-full max-w-md sm:max-w-lg mt-10 rounded-xl shadow-lg z-10 p-6 sm:p-8 max-h-screen overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),n.jsx("button",{className:"cursor-pointer",onClick:()=>x(!1),children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partner"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-md p-4 pr-10 appearance-none text-base",value:w,onChange:$=>y($.target.value),disabled:R,children:[n.jsx("option",{value:"",disabled:!0,children:R?"Loading partners...":"Select Partner"}),fe?.data?.map($=>n.jsxs("option",{value:$["Partner name"],children:[$["Partner name"]," (",$.Status,") - ",$.Amount?.toLocaleString()||0]},$.id))]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsx("button",{className:`w-full py-4 rounded-full font-semibold text-base transition-colors flex items-center justify-center ${ie.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#243c8c] cursor-pointer"}`,onClick:ee,disabled:ie.isPending,children:ie.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Save"})]})]}),n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:E}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Z?Array.from({length:3}).map(($,ne)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},ne)):re.map(($,ne)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:$.icon,alt:$.label,className:"w-7 h-7 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-md font-medium text-[#0000FF]",children:$.label}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:$.value})]})]})},ne))}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-5",children:"Loans Summary"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Gp,{options:["More Actions","Edit","Delete","Export"],selected:t,onSelect:e}),n.jsx(Gp,{options:["Send Status","Pending","Completed"],selected:s,onSelect:a}),n.jsx(Gp,{options:["Approval Status","Pending","Completed","Rejected"],selected:r,onSelect:o})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:j,onChange:$=>_($.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"overflow-x-auto",children:Z?n.jsx("div",{className:"py-16 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500 text-lg",children:"Loading loans..."})]})}):K?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load loans."}):X.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loans found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Send Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Approval"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:z.map(($,ne)=>n.jsxs("tr",{className:`${ne%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded "})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.amount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:$.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:yv($.sendStatus),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:($.sendStatus||"").toLowerCase()==="completed"||($.sendStatus||"").toLowerCase()==="active"?"#008000":($.sendStatus||"").toLowerCase()==="pending"?"#FF8C00":($.sendStatus||"").toLowerCase()==="delivered"?"#008000":($.sendStatus||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),$.sendStatus||"Pending"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:yv($.approval),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:($.approval||"").toLowerCase()==="completed"||($.approval||"").toLowerCase()==="approved"||($.approval||"").toLowerCase()==="active"?"#008000":($.approval||"").toLowerCase()==="pending"?"#FF8C00":($.approval||"").toLowerCase()==="delivered"?"#008000":($.approval||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),$.approval||"Pending"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>P($.id,$.name,$.loan_application_id,$.user_id,$.approval),children:"View Details"})})]},$.id))})]})}),de>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",D+1," to ",Math.min(W,X.length)," of ",X.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>S($=>Math.max($-1,1)),disabled:C===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,de)},($,ne)=>{let te;return de<=5||C<=3?te=ne+1:C>=de-2?te=de-4+ne:te=C-2+ne,n.jsx("button",{onClick:()=>S(te),className:`px-3 py-2 text-sm font-medium rounded-md border ${C===te?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:te},te)})}),n.jsx("button",{onClick:()=>S($=>Math.min($+1,de)),disabled:C===de,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===de?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},VE=[{id:"1",name:"Adewale Faizah",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Active",partnerApproved:!0},{id:"2",name:"John Adam",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"3",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue",partnerApproved:!1},{id:"4",name:"Adam Waa",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"5",name:"Anita Shawn",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Pending",partnerApproved:!1},{id:"6",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue"}],WE=t=>{switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"disbursed":return{backgroundColor:"#0000FF33",color:"#0000FF"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},GE=t=>{switch(t.toLowerCase()){case"active":return{backgroundColor:"#00800033",color:"#008000"};case"repaid":return{backgroundColor:"#0000FF33",color:"#0000FF"};case"overdue":return{backgroundColor:"#FF000033",color:"#FF0000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},YE=({isOpen:t,onClose:e,userId:s,loanStatus:a})=>{console.log("The User ID inside the Repayment History:",s);const r=Xt.get("token"),{data:o,isLoading:c,isError:d}=Qt({queryKey:["repayment-history",s],queryFn:()=>LE(s,r||""),enabled:!!s&&!!r&&t});if(console.log("Repayment History API Data:",o),!t)return null;const f=(x=>{switch(x.toLowerCase()){case"pending":return{bg:"#FFF4E6",text:"#FF8C00"};case"active":return{bg:"#E6F7FF",text:"#008000"};case"repaid":return{bg:"#E8E5FF",text:"#0000FF"};case"overdue":return{bg:"#FFE6E6",text:"#FF0000"};default:return{bg:"#F5F5F5",text:"#6B7280"}}})(a),p=()=>{const x=o?.data?.current_month||[],w=o?.data?.history||[],y=o?.data?.overdueCount||0;if(x.length===0&&w.length===0)return n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"text-center py-20",children:n.jsx("p",{className:"text-gray-400 text-lg",children:"No repayment history available."})})});const j=()=>x.length===0?null:x.map((C,S)=>{const L=C.is_overdue||!1,P=new Date(C.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return n.jsx("div",{className:`border rounded-2xl p-5 ${L?"border-[#273E8E] bg-white":"border-[#CDCDCD] bg-white"}`,style:L?{boxShadow:"0px 0px 5px 0px rgba(0, 0, 255, 1)"}:{},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:C.status==="paid"?"Payment":"Next Payment"}),n.jsx("p",{className:`text-lg font-semibold ${C.status==="paid"?"text-blue-600":L?"text-red-600":"text-gray-900"}`,children:C.status==="paid"?`Paid - ${P}`:L?`${y} days overdue`:P})]}),n.jsxs("div",{className:"text-right",children:[C.status!=="paid"&&n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Days"})]}),n.jsx("span",{className:"text-xl text-gray-400",children:":"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Hours"})]})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",C.amount?.toLocaleString()||"60,000"]})]})]})},C.id||S)}),_=()=>w.length===0?null:w.map((C,S)=>{const E=new Date(C.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return n.jsx("div",{className:"border border-[#CDCDCD] p-5 rounded-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment"}),n.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Paid - ",E]})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",C.amount?.toLocaleString()||"60,000"]})]})},C.id||S)});return n.jsxs("div",{className:"space-y-4",children:[j(),_()]})};return n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30",onClick:e}),n.jsxs("div",{className:"relative bg-white w-full h-full sm:max-w-3xl sm:h-auto sm:rounded-2xl z-10 shadow-xl flex flex-col max-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Repayment History"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loan Details"}),c?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Mn,{message:"Loading loan details...",size:"md"})}):d?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan details."}):n.jsxs("div",{className:" rounded-2xl border border-[#00000080] p-4 space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Loan Status"}),n.jsx("span",{className:"px-4 py-1.5 text-sm font-medium rounded-full",style:{backgroundColor:f.bg,color:f.text},children:o?.data?.loan?.status||a})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Amount"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",o?.data?.loan?.loan_amount?.toLocaleString()||"200,000"]})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Interest Rate"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[o?.data?.loan?.interest_rate||"5","%"]})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Period"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[o?.data?.loan?.repayment_duration||"6"," months"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Disbursement Date"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o?.data?.loan?.created_at?new Date(o.data.loan.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}):"July 3, 2025"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Repayment History"}),c?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Mn,{message:"Loading repayment history...",size:"md"})}):d?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load repayment history."}):p()]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-4 rounded-full font-semibold text-lg hover:bg-[#243c8c] transition-colors cursor-pointer",onClick:()=>{console.log("Send notification clicked")},children:"Send Notification"})})]})]})},Eh=({count:t=3,cardHeight:e="h-[120px]",iconSize:s="w-17 h-17",iconBgColor:a="#0000FF33"})=>n.jsx(n.Fragment,{children:Array.from({length:t}).map((r,o)=>n.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm border border-gray-100 ${e}`,style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:`${s} rounded-full flex items-center justify-center`,style:{backgroundColor:a},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},o))}),Yp=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},KE=({activeStatus:t,setActiveStatus:e})=>n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm w-fit",children:[n.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="approved"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("approved"),children:"Partner Approved"}),n.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="pending"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("pending"),children:"Pending Approval"})]}),XE=()=>{const[t,e]=O.useState("More Actions"),[s,a]=O.useState("Loan Status"),[r,o]=O.useState("Disbursement Status"),[c,d]=O.useState(!1),[h,f]=O.useState(null),[p,x]=O.useState(VE),[w,y]=O.useState(!1),[j,_]=O.useState(null),[C,S]=O.useState("approved"),[L,E]=O.useState(""),[P,V]=O.useState(1),[ae]=O.useState(10),G=()=>{console.log("Notification clicked")},U=z=>{f(z),d(!0)},I=()=>{d(!1),f(null)},ee=(z,$,ne)=>{_({id:z,status:$,user_id:ne}),y(!0)},T=()=>{y(!1),_(null)},F=(z,$)=>{x(ne=>ne.map(te=>te.id===z?{...te,disbursement:$}:te))},Z=Xt.get("token"),{data:K,isLoading:fe,isError:R}=Qt({queryKey:["all-loan-distributed"],queryFn:()=>AE(Z||""),enabled:!!Z}),ie=K?.data?[{label:"Total Loans",value:K.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:K.data["loan distributed"]??0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:K.data["amount distributed "]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:0,icon:"/assets/images/Users.png"}],re=K?.data?Object.keys(K.data).filter(z=>!isNaN(Number(z))).map(z=>{const $=K.data[z];return{id:$.id,user_id:$.user_id,name:$.name,amount:$.Amount||$.amount,duration:$.Duration||$.duration,date:$.date,disbursement:$["disbursement status"],loanStatus:$["approval status"],loan_application_id:$.loan_application_id}}):[];console.log("The Loan Data: ",re);const me=re.filter(z=>{const $=s==="Loan Status"||z.loanStatus===s,ne=r==="Disbursement Status"||z.disbursement===r,te=!L||z.name.toLowerCase().includes(L.toLowerCase())||String(z.amount).toLowerCase().includes(L.toLowerCase())||(z.duration||"").toLowerCase().includes(L.toLowerCase())||z.date.toLowerCase().includes(L.toLowerCase())||z.disbursement.toLowerCase().includes(L.toLowerCase())||z.loanStatus.toLowerCase().includes(L.toLowerCase());return $&&ne&&te}),X=Math.ceil(me.length/ae),de=(P-1)*ae,D=de+ae,W=me.slice(de,D);return yi.useEffect(()=>{V(1)},[L,s,r,C]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:G}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-semibold text-black",children:"Loans Disbursement"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:fe?n.jsx(Eh,{count:3}):ie.map((z,$)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:z.icon,alt:z.label,className:"w-7 h-7 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:z.label}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:z.value})]})]})},$))}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Disbursement Summary"}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(KE,{activeStatus:C,setActiveStatus:S}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Yp,{options:["More Actions","Export","Print"],selected:t,onSelect:e}),n.jsx(Yp,{options:["Loan Status","Active","Repaid","Overdue","Pending"],selected:s,onSelect:a}),n.jsx(Yp,{options:["Disbursement Status","Pending","Completed"],selected:r,onSelect:o})]})]}),n.jsxs("div",{className:"relative mt-15",children:[n.jsx("input",{type:"text",placeholder:"Search",value:L,onChange:z=>E(z.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"overflow-x-auto",children:fe?n.jsx(Mn,{message:"Loading disbursements..."}):R?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load disbursements."}):me.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No disbursements found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Duration"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Disbursement"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:W.map((z,$)=>n.jsxs("tr",{className:`${$%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.amount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:z.duration}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:WE(z.disbursement),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:z.disbursement.toLowerCase()==="completed"?"#008000":z.disbursement.toLowerCase()==="disbursed"?"#0000FF":z.disbursement.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),z.disbursement]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:GE(z.loanStatus),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:z.loanStatus.toLowerCase()==="active"||z.loanStatus.toLowerCase()==="approved"?"#008000":z.loanStatus.toLowerCase()==="repaid"?"#0000FF":z.loanStatus.toLowerCase()==="overdue"?"#FF0000":z.loanStatus.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),z.loanStatus]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{className:"cursor-pointer",onClick:()=>ee(z.id,z.loanStatus,z.user_id),children:n.jsx("img",{src:"/assets/images/eye.svg",alt:"View",className:"w-8 h-8 object-contain"})}),z.disbursement==="Pending"?n.jsx("button",{className:"text-white px-8 py-3.5 rounded-full hover:opacity-90 transition-opacity text-xs font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>U(z.id),children:"Send Loan"}):n.jsx("button",{className:"text-white px-7 py-3.5 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-xs font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>U(z.loan_application_id),children:"View Details"})]})})]},z.id))})]})}),X>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",de+1," to ",Math.min(D,me.length)," of ",me.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>V(z=>Math.max(z-1,1)),disabled:P===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${P===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,X)},(z,$)=>{let ne;return X<=5||P<=3?ne=$+1:P>=X-2?ne=X-4+$:ne=P-2+$,n.jsx("button",{onClick:()=>V(ne),className:`px-3 py-2 text-sm font-medium rounded-md border ${P===ne?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ne},ne)})}),n.jsx("button",{onClick:()=>V(z=>Math.min(z+1,X)),disabled:P===X,className:`px-3 py-2 text-sm font-medium rounded-md border ${P===X?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&n.jsx(rN,{isOpen:c,loanId:h,onClose:I,onDisbursementUpdate:F}),w&&j&&n.jsx(YE,{isOpen:w,userId:j.user_id,loanStatus:j.status,onClose:T})]})},QE=t=>{switch(t.toLowerCase()){case"paid":case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"failed":case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},ZE=()=>{const[t,e]=O.useState("All"),[s,a]=O.useState("Status"),[r,o]=O.useState(null),[c,d]=O.useState(!1),[h,f]=O.useState(null),[p,x]=O.useState(!1),[w,y]=O.useState(""),[j,_]=O.useState(1),[C]=O.useState(10),S=Xt.get("token"),{data:L,isLoading:E,isError:P}=Qt({queryKey:["all-user-transactions"],queryFn:()=>TE(S||""),enabled:!!S}),V=L?.summary||{},ae=O.useMemo(()=>L?.transactions||[],[L?.transactions]),G=ae.filter(ie=>{const re=s==="Status"||ie.status===s.toLowerCase(),me=t==="All"||ie.type===t.toLowerCase();let X=!0;if(w){const de=w.toLowerCase();X=(ie.title||"").toLowerCase().includes(de)||(ie.amount||"").toLowerCase().includes(de)||(ie.transacted_at||"").toLowerCase().includes(de)||(ie.tx_id||"").toLowerCase().includes(de)||(ie.status||"").toLowerCase().includes(de)||(ie.type||"").toLowerCase().includes(de)||(ie.method||"").toLowerCase().includes(de)}return re&&me&&X}),U=Math.ceil(G.length/C),I=(j-1)*C,ee=I+C,T=G.slice(I,ee);O.useEffect(()=>{_(1)},[t,s,w]);const F=()=>{console.log("Notification clicked")},Z=ie=>{console.log("Dropdown toggle clicked for transaction:",ie),console.log("Current openDropdownId:",r),o(r===ie?null:ie)},K=ie=>{a(ie),x(!1)},fe=(ie,re)=>{console.log("Dropdown action clicked:",{action:ie,transactionId:re});{const me=ae.find(X=>String(X.id)===String(re));console.log("Found transaction:",me),console.log("All transactions:",ae),me?(f(me),d(!0),console.log("Modal should open now")):console.log("Transaction not found for ID:",re)}o(null)},R=()=>{d(!1),f(null)};return O.useEffect(()=>{const ie=re=>{const me=re.target,X=me.closest("[data-dropdown-button]"),de=me.closest("[data-dropdown-menu]");if(r&&!X&&!de&&(console.log("Clicking outside dropdown, closing it"),o(null)),p){const D=document.querySelector(".status-dropdown");D&&!D.contains(me)&&x(!1)}};return(r||p)&&document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[r,p]),O.useEffect(()=>{console.log("Modal state changed:",{showTransactionDetail:c,selectedTransaction:h})},[c,h]),O.useEffect(()=>{console.log("Dropdown state changed:",{openDropdownId:r,transactions:ae.length})},[r,ae]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:F}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:E?n.jsx(Eh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Users",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:V?.total_users_with_transactions||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Transactions",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:V?.total_transactions||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Transactions"}),n.jsxs("p",{className:"text-2xl font-bold text-[#0000FF]",children:["",V?.total_amount?Number(V.total_amount).toLocaleString():0]})]})]})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Transaction Summary"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full cursor-pointer border border-gray-200 p-2 shadow-sm",children:[n.jsx("button",{className:`px-4.5 py-2 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="All"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("All"),children:"All"}),n.jsx("button",{className:`px-4 py-1.5 rounded-full  cursor-pointer text-sm font-medium transition-colors ${t==="deposit"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("deposit"),children:"Deposit"}),n.jsx("button",{className:`px-4 py-1.5 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="withdrawal"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("withdrawal"),children:"Withdrawal"})]}),n.jsxs("div",{className:"relative inline-block text-left status-dropdown",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>x(!p),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm  focus:outline-none",children:[s,n.jsx("img",{src:lt.arrow,alt:""})]})}),p&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:["Status","paid","pending","failed","rejected"].map((ie,re)=>n.jsx("li",{onClick:()=>K(ie),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:ie},re))})})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:w,onChange:ie=>y(ie.target.value)}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),E?n.jsx(Mn,{}):P?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):G.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-200",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Reference"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:T.map((ie,re)=>n.jsxs("tr",{className:`${re%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:ie.title||"N/A"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:["",ie.amount?Number(ie.amount).toLocaleString():"-"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.transacted_at?new Date(ie.transacted_at).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.type||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.tx_id||ie.reference||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:QE(ie.status),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:ie.status.toLowerCase()==="paid"?"#008000":ie.status.toLowerCase()==="pending"?"#FF8C00":ie.status.toLowerCase()==="rejected"||ie.status.toLowerCase()==="failed"?"#FF0000":"#6B7280"}}),ie.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2 relative",children:[n.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>Z(String(ie.id)),children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),r===String(ie.id)&&n.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:n.jsx("div",{className:"py-2",children:n.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:me=>{me.preventDefault(),me.stopPropagation(),console.log("Button clicked for transaction:",ie.id),fe("View Transaction details",ie.id)},children:"View Transaction details"})})})]})})]},ie.id))})]})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",I+1," to ",Math.min(ee,G.length)," of ",G.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(ie=>Math.max(ie-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,U)},(ie,re)=>{let me;return U<=5||j<=3?me=re+1:j>=U-2?me=U-4+re:me=j-2+re,n.jsx("button",{onClick:()=>_(me),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===me?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:me},me)})}),n.jsx("button",{onClick:()=>_(ie=>Math.min(ie+1,U)),disabled:j===U,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===U?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&n.jsx(oN,{isOpen:c,transaction:h,onClose:R})]})},JE=[{id:"1",name:"Adewale Faizah",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"2",name:"John Adam",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"3",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"4",name:"Adam Waa",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"5",name:"Anita Shawn",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"6",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"}],eL=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-40 mb-6 animate-pulse"}),n.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 mb-8 animate-pulse"}),n.jsx("div",{className:"flex justify-end",children:n.jsx("div",{className:"h-10 bg-white bg-opacity-20 rounded-full w-24 animate-pulse"})})]})}),n.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-48 mb-6 animate-pulse"}),n.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 animate-pulse"})]})})]}),tL=async t=>await ht(ft.ADMIN.AllBalances,"GET",void 0,t),sL=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},nL=()=>{const[t,e]=O.useState([]),[s,a]=O.useState(!1),[r,o]=O.useState("More Actions"),[c,d]=O.useState(""),[h,f]=O.useState(1),[p]=O.useState(10),x=()=>{console.log("Notification clicked")},w=()=>{e(s?[]:JE.map(ee=>ee.id)),a(!s)},y=ee=>{t.includes(ee)?e(t.filter(T=>T!==ee)):e([...t,ee])},j=Xt.get("token"),{data:_,isLoading:C,isError:S}=Qt({queryKey:["balances"],queryFn:()=>tL(j||""),enabled:!!j}),L=_?.data?.summary||{total_loan_balance:0,total_shopping_balance:0},P=(_?.data?.balances?_.data.balances.map((ee,T)=>({id:String(T),name:ee.first_name,loanBalance:ee.loan_balance,mainBalance:ee.main_balance,totalTopup:ee.total_topup,totalWithdrawal:ee.total_withdrawal})):[]).filter(ee=>c?ee.name.toLowerCase().includes(c.toLowerCase())||String(ee.loanBalance).toLowerCase().includes(c.toLowerCase())||String(ee.mainBalance).toLowerCase().includes(c.toLowerCase())||String(ee.totalTopup).toLowerCase().includes(c.toLowerCase())||String(ee.totalWithdrawal).toLowerCase().includes(c.toLowerCase()):!0),V=Math.ceil(P.length/p),ae=(h-1)*p,G=ae+p,U=P.slice(ae,G);yi.useEffect(()=>{f(1)},[c]);const I=ee=>(typeof ee=="string"?Number(ee):ee).toLocaleString();return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:x}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Balances"})}),C?n.jsx(eL,{}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Loan Balance"}),n.jsxs("p",{className:"text-4xl font-bold mb-8",children:["N",I(L.total_loan_balance)]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-[#273E8E] px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Fund Wallet"})})]})}),n.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Shopping Balance"}),n.jsxs("p",{className:"text-4xl font-bold",children:["N",I(L.total_shopping_balance)]})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Balance Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx(sL,{options:["More Actions","Export Data","Bulk Action"],selected:r,onSelect:o}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:ee=>d(ee.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:C?n.jsx(Mn,{message:"Loading balances..."}):S?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load balances."}):P.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No balances found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:s,onChange:w})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Balance"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Main Balance"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Topup"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Withdrawal"})]})}),n.jsx("tbody",{className:"bg-white",children:U.map((ee,T)=>n.jsxs("tr",{className:`${T%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:t.includes(ee.id),onChange:()=>y(ee.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:ee.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:I(ee.loanBalance)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:I(ee.mainBalance)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:I(ee.totalTopup)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:I(ee.totalWithdrawal)})]},ee.id))})]})}),V>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ae+1," to ",Math.min(G,P.length)," of ",P.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(ee=>Math.max(ee-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,V)},(ee,T)=>{let F;return V<=5||h<=3?F=T+1:h>=V-2?F=V-4+T:F=h-2+T,n.jsx("button",{onClick:()=>f(F),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===F?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:F},F)})}),n.jsx("button",{onClick:()=>f(ee=>Math.min(ee+1,V)),disabled:h===V,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===V?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},aL=[{id:"1",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-efficiency solar inverter for residential and commercial use"},{id:"2",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Complete solar panel kit with mounting hardware"},{id:"3",name:"Newman 12200 AGM Solar Inverter",category:"Energy Storage",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Lithium-ion battery pack for solar energy storage"},{id:"4",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"MPPT charge controller for optimal battery charging"},{id:"5",name:"Newman 12200 AGM Solar Inverter",category:"Accessories",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-quality solar DC cables and connectors"},{id:"6",name:"Newman 12200 AGM Solar Inverter",category:"Electronics",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Real-time solar system monitoring and analytics"},{id:"7",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"},{id:"8",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"}],iL=t=>{switch(t.toLowerCase()){case"delivered":return{backgroundColor:"#E6F7FF",color:"#008000",borderColor:"#008000"};case"pending":return{backgroundColor:"#FFF4E6",color:"#FF8C00",borderColor:"#FF8C00"};case"ordered":return{backgroundColor:"#E6E6FF",color:"#5A67D8",borderColor:"#5A67D8"};default:return{backgroundColor:"#F5F5F5",color:"#6B7280",borderColor:"#6B7280"}}},rL=async(t,e)=>{const s=new FormData;return s.append("title",t.title),s.append("category_id",t.category_id.toString()),s.append("price",t.price.toString()),t.brand_id!==void 0&&s.append("brand_id",t.brand_id.toString()),t.discount_price!==void 0&&s.append("discount_price",t.discount_price.toString()),t.discount_end_date&&s.append("discount_end_date",t.discount_end_date),t.stock&&s.append("stock",t.stock),t.installation_price!==void 0&&s.append("installation_price",t.installation_price.toString()),t.top_deal!==void 0&&s.append("top_deal",t.top_deal?"1":"0"),t.installation_compulsory!==void 0&&s.append("installation_compulsory",t.installation_compulsory?"1":"0"),t.featured_image&&s.append("featured_image",t.featured_image),t.images&&t.images.length>0&&t.images.forEach((a,r)=>{s.append(`images[${r}]`,a)}),t.product_details&&t.product_details.length>0&&t.product_details.forEach((a,r)=>{s.append(`product_details[${r}]`,a)}),await ht(ft.ADMIN.ProductCreate,"POST",s,e)},oL=async(t,e,s)=>await ht(ft.ADMIN.ProductUpdate(t),"POST",e,s),lL=async(t,e)=>await ht(ft.ADMIN.ProductDelete(t),"DELETE",void 0,e),uN=async t=>await ht(ft.ADMIN.ProductsList,"GET",void 0,t),cL=async(t,e)=>await ht(ft.ADMIN.ProductShow(t),"GET",void 0,e),uL=({isOpen:t,onClose:e,product:s,onEdit:a})=>{const[r,o]=O.useState("details"),[c,d]=O.useState(!1),[h,f]=O.useState(!1),[p,x]=O.useState(0),w=Xt.get("token")||"",y=$o(),{data:j,isLoading:_,error:C}=Qt({queryKey:["singleProduct",s?.id],queryFn:()=>cL(s?.id||"",w),enabled:!!s?.id&&!!w&&t}),S=j?.data||null,L=hs({mutationFn:F=>lL(F,w),onSuccess:()=>{y.invalidateQueries({queryKey:["products"]}),d(!1),f(!1),e()},onError:F=>{console.error("Error deleting product:",F),f(!1),alert("Error deleting product. Please try again.")}}),E=F=>F?F.startsWith("http")?F:`https://troosolar.hmstech.org${F}`:"/assets/images/newmanbadge.png",P=F=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(F),V=()=>{S&&a&&a(S)},ae=()=>{s?.id&&L.mutate(s.id)},U=(()=>{if(!S)return[];const F=[];return S.featured_image_url&&F.push({id:"featured",url:E(S.featured_image_url),alt:`${S.title} - Featured`}),S.images&&S.images.length>0&&S.images.forEach((Z,K)=>{F.push({id:Z.id,url:E(Z.image),alt:`${S.title} - Image ${K+1}`})}),F})(),I=U.length,ee=()=>{x(F=>(F+1)%I)},T=()=>{x(F=>(F-1+I)%I)};return O.useEffect(()=>{x(0)},[S?.id]),!t||!s?null:n.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:[n.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full max-h-[95vh] overflow-y-auto shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Details"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full  cursor-pointer",children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsx("div",{className:"p-4",children:_?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-2xl animate-pulse",style:{height:"250px"}}),n.jsxs("div",{className:"bg-gray-200 rounded-2xl p-3 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-8 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"})]})]}):C?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-red-500",children:"Error loading product details"}),n.jsx("button",{onClick:e,className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Close"})]}):S?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"relative bg-white rounded-2xl overflow-hidden border border-[#00000080]",style:{height:"250px"},children:U.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:U[p]?.url,alt:U[p]?.alt,className:"w-full h-full object-contain p-4",onError:F=>{const Z=F.target;Z.src="/assets/images/newman1.png"}}),I>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:T,className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{onClick:ee,className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsxs("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs font-medium",children:[p+1,"/",I]}),I>1&&n.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-1",children:U.map((F,Z)=>n.jsx("button",{onClick:()=>x(Z),className:`w-2 h-2 rounded-full transition-all ${Z===p?"bg-white":"bg-white bg-opacity-50"}`},Z))})]}):n.jsx("img",{src:"/assets/images/newman1.png",alt:"No image available",className:"w-full h-full object-contain p-4"})})}),n.jsxs("div",{className:"bg-white border border-[#273E8E] rounded-2xl p-3 mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:S.title}),n.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-2",children:P(S.discount_price||S.price)}),S.discount_price&&S.discount_price!==S.price&&n.jsx("div",{className:"text-sm text-gray-500 line-through mb-2",children:P(S.price)}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Stock:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:S.stock})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Category ID:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:S.category_id})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Brand ID:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:S.brand_id})]})]}),n.jsx("div",{className:"flex items-center gap-2 mt-3",children:n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(F=>n.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},F))})})]}),n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsx("button",{onClick:V,className:"flex-1 bg-white text-black border border-[#273E8E] cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-gray-100 transition-colors",children:"Edit Product"}),n.jsx("button",{onClick:()=>d(!0),className:"flex-1 bg-[#FF0000] text-white cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-red-600 transition-colors border border-[#FFFFFF]",children:"Delete Product"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"bg-white border border-[#CDCDCD] rounded-full p-2 flex",style:{width:190},children:[n.jsx("button",{onClick:()=>o("details"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${r==="details"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Details"}),n.jsx("button",{onClick:()=>o("reviews"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${r==="reviews"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Reviews"})]})}),r==="details"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Product Details"}),n.jsx("div",{className:"space-y-2 border border-[#00000080] rounded-2xl p-3",children:S.details&&S.details.length>0?S.details.map(F=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:lt.Lightning,alt:""}),n.jsx("span",{className:"text-gray-700 text-sm",children:F.detail})]},F.id)):n.jsx("div",{className:"text-gray-500 text-sm text-center py-4",children:"No product details available"})})]}),r==="reviews"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-4",children:"Reviews"}),S.reviews&&S.reviews.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg mb-4",children:n.jsxs("div",{className:"flex items-center justify-between border border-[#00000080] rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex",children:[[1,2,3,4].map(F=>n.jsx("svg",{className:"w-5 h-5 text-[#273E8E]",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},F)),n.jsx("svg",{className:"w-5 h-5 text-[#D9D9D9]",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),n.jsx("span",{className:"font-semibold text-gray-900",children:"4.8"})]}),n.jsxs("span",{className:"text-sm text-gray-600",children:[S.reviews.length," Reviews"]})]})}),n.jsx("div",{className:"space-y-4",children:S.reviews.map((F,Z)=>{const K=F;return n.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-medium text-sm",children:K.user_name?K.user_name.charAt(0).toUpperCase():"U"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:K.user_name||"Anonymous"}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(fe=>n.jsx("svg",{className:`w-3 h-3 ${fe<=(K.rating||4)?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},fe))})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-400",children:K.created_at?new Date(K.created_at).toLocaleDateString():"N/A"}),n.jsx("button",{className:"text-red-500 text-xs hover:text-red-700 cursor-pointer",children:"Delete"})]})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-2",children:K.comment||"No comment provided"})]},Z)})})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No reviews available for this product"})})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"Product not found"})})})]}),c&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-[70]",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4 shadow-xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Product"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this product? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:ae,disabled:h,className:`flex-1 py-2 px-4 text-white rounded-lg transition-colors flex items-center justify-center ${h?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete"})]})]})})})]})},Xm=async t=>await ht(ft.ADMIN.CategoriesList,"GET",void 0,t),ox=async t=>await ht(ft.ADMIN.BrandsList,"GET",void 0,t),dN=({isOpen:t,onClose:e,editingProduct:s})=>{const[a,r]=O.useState(""),[o,c]=O.useState(""),[d,h]=O.useState(""),[f,p]=O.useState(""),[x,w]=O.useState(""),[y,j]=O.useState(""),[_,C]=O.useState(""),[S,L]=O.useState(""),[E,P]=O.useState(["","","","",""]),[V,ae]=O.useState([]),[G,U]=O.useState(null),[I,ee]=O.useState([]),[T,F]=O.useState(null),[Z,K]=O.useState(!1),[fe,R]=O.useState(!1),[ie,re]=O.useState(!1),me=Xt.get("token")||"",X=$o(),{data:de,isLoading:D}=Qt({queryKey:["categories"],queryFn:()=>Xm(me),enabled:!!me&&t}),{data:W,isLoading:z}=Qt({queryKey:["brands"],queryFn:()=>ox(me),enabled:!!me&&t}),$=O.useMemo(()=>de?.data||[],[de]),ne=O.useMemo(()=>W?.data||[],[W]),te=Te=>Te?Te.startsWith("http")?Te:`https://troosolar.hmstech.org${Te}`:null;O.useEffect(()=>{if(s){console.log(" Raw editingProduct from previous screen:",s);try{console.log(" JSON.stringify(editingProduct):",JSON.stringify(s,null,2))}catch(Ve){console.log(" Could not stringify editingProduct:",Ve)}typeof s=="object"&&s!==null&&Object.entries(s).forEach(([Ve,Ze])=>{console.log(` editingProduct[${Ve}]:`,Ze)});const Te=s;console.log(" Parsed product for form state:",Te),r(Te.title||""),p(Te.price?.toString()||""),w(Te.discount_price?.toString()||""),j(Te.discount_end_date?Te.discount_end_date.split("T")[0]:""),C(Te.installation_price?.toString()||""),L(Te.stock||""),K(Te.top_deal||!1),R(Te.installation_compulsory||!1);const et=$.find(Ve=>Ve.id===Te.category_id),Fe=ne.find(Ve=>Ve.id===Te.brand_id);if(console.log(" Matched category:",et),console.log(" Matched brand:",Fe),c(et?.title||""),h(Fe?.title||""),Te.details&&Te.details.length>0){const Ve=Te.details.map(St=>St.detail),Ze=Math.max(5,Ve.length);P([...Ve,...Array(Ze-Ve.length).fill("")]),console.log(" Loaded product details:",Ve)}if(F(te(Te.featured_image_url||null)),Te.images&&Te.images.length>0){const Ve=Te.images.map(Ze=>te(Ze.image)).filter(Boolean);ee(Ve),console.log(" Existing images:",Ve)}else ee([]);U(null),ae([])}else Rt()},[s,$,ne]);const ge=Te=>{const et=Te.target.files;if(et){const Fe=Array.from(et).slice(0,6);ae(Ve=>[...Ve,...Fe].slice(0,6))}},Ne=Te=>{const et=Te.target.files?.[0];et&&U(et)},Oe=(Te,et)=>{const Fe=[...E];Fe[Te]=et,P(Fe)},Xe=()=>P(Te=>[...Te,""]),Re=Te=>{E.length>1&&P(et=>et.filter((Fe,Ve)=>Ve!==Te))},Je=Te=>{ae(et=>et.filter((Fe,Ve)=>Ve!==Te))},ke=hs({mutationFn:Te=>{if(s){const et=s,Fe=new FormData;Fe.append("title",a??""),Fe.append("category_id",String($.find(Ve=>Ve.title===o)?.id??"")),Fe.append("price",f??"0"),Fe.append("brand_id",String(ne.find(Ve=>Ve.title===d)?.id??"")),Fe.append("discount_price",x||"0"),y&&Fe.append("discount_end_date",y),Fe.append("stock",S??"0"),Fe.append("installation_price",_||"0"),Fe.append("top_deal",Z?"1":"0"),Fe.append("installation_compulsory",fe?"1":"0"),G&&Fe.append("featured_image",G),V.length>0&&V.forEach((Ve,Ze)=>{Fe.append(`images[${Ze}]`,Ve)}),E.filter(Ve=>Ve.trim()!=="").forEach((Ve,Ze)=>{Fe.append(`product_details[${Ze}]`,Ve)});for(const Ve of Fe.entries())console.log(`[FormData] ${Ve[0]}:`,Ve[1]);return Fe.append("_method","POST"),oL(et.id,Fe,me)}else return rL(Te,me)},onSuccess:()=>{X.invalidateQueries({queryKey:["products"]}),Rt(),e(),re(!1),alert(s?"Product updated successfully!":"Product added successfully!")},onError:Te=>{console.error("Error with product operation:",Te),re(!1);const et=Te;if(et?.response?.data?.message)alert(`Error: ${et.response.data.message}`);else if(et?.response?.data?.data){const Fe=et.response.data.data,Ve=Object.entries(Fe).map(([Ze,St])=>`${Ze}: ${Array.isArray(St)?St.join(", "):St}`).join(`
`);alert(`Validation Error:
${Ve}`)}else alert(`An error occurred while ${s?"updating":"adding"} the product. Please try again.`)}}),he=async()=>{if(!a||!o||!d||!f||!S){alert("Please fill in all required fields");return}if(!s&&!G){alert("Please select a featured image");return}re(!0);const Te=$.find(Ve=>Ve.title===o),et=ne.find(Ve=>Ve.title===d);if(!Te||!et){alert("Please select valid category and brand"),re(!1);return}const Fe={title:a,category_id:Te.id,price:parseFloat(f)||0,brand_id:et.id,discount_price:x?parseFloat(x):0,discount_end_date:y||void 0,stock:S,installation_price:_?parseFloat(_):0,top_deal:Z,installation_compulsory:fe,featured_image:G||void 0,images:V.length>0?V:void 0,product_details:E.filter(Ve=>Ve.trim()!=="")};console.log("Product data being sent:",{...Fe,featured_image:Fe.featured_image?"File present":"No file",images:Fe.images?`${Fe.images.length} files`:"No files",isEdit:!!s}),ke.mutate(Fe)},Rt=()=>{r(""),c(""),h(""),p(""),w(""),j(""),C(""),L(""),P(["","","","",""]),ae([]),U(null),ee([]),F(null),K(!1),R(!1),re(!1)};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[100vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Product":"Add Product"}),n.jsx("button",{onClick:e,children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main product image"}),n.jsx("div",{className:"w-full",children:G?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(G),alt:"Featured Product",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>U(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):T?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:T,alt:"Current Featured Product",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),n.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden"}),"+"]})]}):n.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Images"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select up to 6 additional images"}),n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:6}).map((Te,et)=>n.jsx("div",{className:"relative",children:V[et]?n.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(V[et]),alt:`Product ${et+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>Je(et),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):I[et]?n.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:I[et],alt:`Current Product ${et+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-0 left-0 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),n.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ge,className:"hidden"}),"+"]})]}):n.jsxs("label",{className:"w-20 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ge,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})},et))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),n.jsx("input",{type:"text",value:a,onChange:Te=>r(Te.target.value),placeholder:"Enter your product name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Category *"}),n.jsxs("select",{value:o,onChange:Te=>c(Te.target.value),className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),D?n.jsx("option",{value:"",disabled:!0,children:"Loading categories..."}):$.map(Te=>n.jsx("option",{value:Te.title,children:Te.title},Te.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Brand *"}),n.jsxs("select",{value:d,onChange:Te=>h(Te.target.value),className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Brand"}),z?n.jsx("option",{value:"",disabled:!0,children:"Loading brands..."}):ne.map(Te=>n.jsx("option",{value:Te.title,children:Te.title},Te.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Price *"}),n.jsx("input",{type:"number",value:f,onChange:Te=>p(Te.target.value),placeholder:"Enter product price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Price"}),n.jsx("input",{type:"number",value:x,onChange:Te=>w(Te.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount End Date"}),n.jsx("input",{type:"date",value:y,onChange:Te=>j(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installation Price"}),n.jsx("input",{type:"number",value:_,onChange:Te=>C(Te.target.value),placeholder:"Enter installation price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),n.jsx("input",{type:"number",value:S,onChange:Te=>L(Te.target.value),placeholder:"Enter stock quantity",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Details"}),n.jsx("div",{className:"space-y-2",children:E.map((Te,et)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:Te,onChange:Fe=>Oe(et,Fe.target.value),placeholder:`Enter product detail ${et+1}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),E.length>1&&n.jsx("button",{type:"button",onClick:()=>Re(et),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove this field",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},et))})]})]}),n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsxs("button",{type:"button",onClick:Xe,className:"text-blue-600 text-sm font-medium hover:text-blue-700 flex items-center cursor-pointer transition-colors hover:bg-blue-50 px-3 py-2 rounded-lg",children:["Add More",n.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:Z,onChange:Te=>K(Te.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark as Top deal"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:fe,onChange:Te=>R(Te.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark Installation as complimentary"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:he,disabled:ie,className:`w-full py-3 px-4 text-white font-medium rounded-full transition-colors flex items-center justify-center ${ie?"bg-gray-400 cursor-not-allowed":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:ie?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s?"Updating Product...":"Adding Product..."]}):s?"Update Product":"Add Product"})})]})]})}):null},dL=({isOpen:t,onClose:e})=>{const[s,a]=O.useState(""),[r,o]=O.useState(""),c=()=>{const d={serviceName:s,serviceAmount:r,createdAt:new Date().toISOString()},f=[...JSON.parse(localStorage.getItem("customServices")||"[]"),{...d,id:Date.now().toString()}];localStorage.setItem("customServices",JSON.stringify(f)),a(""),o(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Add Custom Service"}),n.jsx("button",{onClick:e,children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of Service"}),n.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),placeholder:"Enter name of service",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Amount"}),n.jsx("input",{type:"text",value:r,onChange:d=>o(d.target.value),placeholder:"Enter cost of service (Naira)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:c,className:"w-full py-3 px-4 bg-blue-900 hover:bg-blue-900 text-white font-medium rounded-full transition-colors",children:"Save"})})]})]})}):null},hL=async(t,e)=>{const s=new FormData;return t.title&&s.append("title",t.title),t.bundle_type&&s.append("bundle_type",t.bundle_type),t.total_price!==void 0&&s.append("total_price",t.total_price.toString()),t.discount_price!==void 0&&s.append("discount_price",t.discount_price.toString()),t.discount_end_date&&s.append("discount_end_date",t.discount_end_date),t.featured_image&&s.append("featured_image",t.featured_image),t.items&&t.items.length>0&&t.items.forEach((a,r)=>{s.append(`items[${r}]`,a.toString())}),t.custom_services&&t.custom_services.length>0&&t.custom_services.forEach((a,r)=>{s.append(`custom_services[${r}][title]`,a.title),s.append(`custom_services[${r}][service_amount]`,a.service_amount.toString())}),await ht(ft.ADMIN.BundleCreate,"POST",s,e)},fL=async(t,e,s)=>{const a=new FormData;return e.title&&a.append("title",e.title),e.bundle_type&&a.append("bundle_type",e.bundle_type),e.total_price!==void 0&&a.append("total_price",e.total_price.toString()),e.discount_price!==void 0&&a.append("discount_price",e.discount_price.toString()),e.discount_end_date&&a.append("discount_end_date",e.discount_end_date),e.featured_image&&a.append("featured_image",e.featured_image),e.items&&e.items.length>0&&e.items.forEach((r,o)=>{a.append(`items[${o}]`,r.toString())}),e.custom_services&&e.custom_services.length>0&&e.custom_services.forEach((r,o)=>{a.append(`custom_services[${o}][title]`,r.title),a.append(`custom_services[${o}][service_amount]`,r.service_amount.toString())}),await ht(ft.ADMIN.BundleUpdate(t),"POST",a,s)},hN=async(t,e)=>await ht(ft.ADMIN.DeleteBundle(t),"DELETE",void 0,e),fN=({isOpen:t,onClose:e,editingBundle:s})=>{const[a,r]=O.useState([]),[o,c]=O.useState(""),[d,h]=O.useState(""),[f,p]=O.useState(""),[x,w]=O.useState(""),[y,j]=O.useState(""),[_,C]=O.useState(null),[S,L]=O.useState([]),[E,P]=O.useState(!1),[V,ae]=O.useState(!1),G=Xt.get("token")||"",U=$o(),{data:I,isLoading:ee}=Qt({queryKey:["products"],queryFn:()=>uN(G),enabled:!!G&&t}),T=O.useMemo(()=>I?.data||[],[I]),F=D=>D?D.startsWith("http")?D:`https://troosolar.hmstech.org${D}`:"/assets/images/newman1.png",Z=D=>{const W=a.find(z=>z.id===D.id);r(W?z=>z.filter($=>$.id!==D.id):z=>[...z,D])},K=hs({mutationFn:D=>hL(D,G),onSuccess:()=>{U.invalidateQueries({queryKey:["bundles"]}),ie(),e()},onError:D=>{console.error("Error creating bundle:",D),ae(!1),alert("Error creating bundle. Please try again.")}}),fe=hs({mutationFn:D=>fL(D.id,D.payload,G),onSuccess:()=>{U.invalidateQueries({queryKey:["bundles"]}),ie(),e()},onError:D=>{ae(!1),alert("Error updating bundle. Please try again.")}});O.useEffect(()=>{if(s){if(c(s.title||""),h(s.bundle_type||""),p(s.total_price?String(s.total_price):""),w(s.discount_price?String(s.discount_price):""),j(s.discount_end_date||""),s.bundle_items&&Array.isArray(s.bundle_items)){const D=s.bundle_items.map(z=>z.product_id),W=T.filter(z=>D.includes(z.id));r(W)}L(s.custom_services||[])}else ie()},[s,t,T]);const R=()=>{if(!o||!d||!f||a.length===0){alert("Please fill in all required fields and select at least one product");return}if(!_&&!s){alert("Please select a featured image");return}ae(!0);const D={title:o,bundle_type:d,total_price:parseFloat(f),discount_price:x?parseFloat(x):void 0,discount_end_date:y||void 0,featured_image:_||void 0,items:a.map(W=>W.id),custom_services:S.length>0?S:void 0};s?fe.mutate({id:s.id,payload:D}):K.mutate(D)},ie=()=>{r([]),c(""),h(""),p(""),w(""),j(""),C(null),L([]),ae(!1)},re=D=>{const W=D.target.files?.[0];W&&C(W)},me=D=>{D.preventDefault(),D.stopPropagation(),P(!0)},X=()=>{P(!1)},de=D=>`${D.toLocaleString()}`;return t?n.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:[n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[100vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Bundle":"Product Builder"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full  cursor-pointer",children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"flex justify-end mb-4",children:n.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Add New +"})}),n.jsx("div",{className:"space-y-3 mb-6",children:ee?Array.from({length:3}).map((D,W)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-20"})]}),n.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"})]},W)):T.length>0?T.map(D=>{const W=a.find(z=>z.id===D.id);return n.jsxs("div",{onClick:()=>Z(D),className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-colors ${W?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:F(D.featured_image_url),alt:D.title,className:"w-full h-full object-cover",onError:z=>{z.target.src="/assets/images/newman1.png"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:D.title}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:de(D.price)})]}),n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${W?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:W&&n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},D.id)}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products available"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Name *"}),n.jsx("input",{type:"text",value:o,onChange:D=>c(D.target.value),placeholder:"Enter bundle name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Type *"}),n.jsxs("select",{value:d,onChange:D=>h(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select bundle type"}),n.jsx("option",{value:"solar_package",children:"Solar Package"}),n.jsx("option",{value:"inverter_package",children:"Inverter Package"}),n.jsx("option",{value:"battery_package",children:"Battery Package"}),n.jsx("option",{value:"custom",children:"Custom Bundle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main bundle image"}),n.jsx("div",{className:"w-full",children:_?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(_),alt:"Featured Bundle",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>C(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):n.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:re,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price *"}),n.jsx("input",{type:"number",value:f,onChange:D=>p(D.target.value),placeholder:"Enter total price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price"}),n.jsx("input",{type:"text",value:x,onChange:D=>w(D.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount End Date"}),n.jsx("input",{type:"date",value:y,onChange:D=>j(D.target.value),placeholder:"dd/mm/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:me,className:"w-full py-3 px-4 cursor-pointer border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium rounded-full transition-colors",children:"Add Custom Service"}),n.jsx("button",{type:"button",onClick:R,disabled:V,className:`w-full py-3 px-4 font-medium rounded-full transition-colors flex items-center justify-center ${V?"bg-gray-400 cursor-not-allowed text-white ":s?"bg-[#E8A91D] cursor-pointer hover:bg-[#d89a1a]":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:V?n.jsxs("div",{className:"flex items-center justify-center text-white",children:[n.jsx("div",{className:"animate-spin text-white rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s?"Updating Bundle...":"Creating Bundle..."]}):n.jsx("span",{className:"text-white",children:s?"Update Bundle":"Create Bundle"})})]})]})]}),E&&n.jsx(dL,{isOpen:E,onClose:X})]}):null},mL=async t=>await ht(ft.ADMIN.BundleList,"GET",void 0,t),vv=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-32 cursor-pointer rounded-md border border-[#00000080] bg-white px-2 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-32 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-2 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},pL=()=>{const[t,e]=O.useState(!1),[s,a]=O.useState(""),[r,o]=O.useState(!1),[c,d]=O.useState(null),[h,f]=O.useState(!1),[p,x]=O.useState(null),[w,y]=O.useState("Categories"),[j,_]=O.useState("Availability"),[C,S]=O.useState(""),L=O.useRef(null),[E,P]=O.useState({}),[V,ae]=O.useState({}),[G,U]=O.useState(!1),[I,ee]=O.useState(null),[T,F]=O.useState(null),[Z,K]=O.useState(!1),fe=Xt.get("token")||"",{data:R,isLoading:ie,error:re}=Qt({queryKey:["products"],queryFn:()=>uN(fe),enabled:!!fe}),{data:me,isLoading:X,error:de}=Qt({queryKey:["bundles"],queryFn:()=>mL(fe),enabled:!!fe}),{data:D,isLoading:W}=Qt({queryKey:["categories"],queryFn:()=>Xm(fe),enabled:!!fe}),{data:z,isLoading:$}=Qt({queryKey:["brands"],queryFn:()=>ox(fe),enabled:!!fe}),ne=O.useMemo(()=>R?.data||[],[R]),te=O.useMemo(()=>me?.data||[],[me]),ge=O.useMemo(()=>D?.data||[],[D]),Ne=O.useMemo(()=>z?.data||[],[z]),Oe=ye=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(ye),Xe=(ye,tt)=>ye<=0||tt<=0||tt>=ye?0:Math.round((ye-tt)/ye*100),Re=ye=>ye?ye.startsWith("http")?ye:`https://troosolar.hmstech.org${ye}`:"/assets/images/newmanbadge.png",Je=O.useMemo(()=>{let ye=ne;if(C.trim()&&(ye=ye.filter(tt=>tt.title.toLowerCase().includes(C.toLowerCase()))),w!=="Categories"){const tt=ge.find(ot=>ot.title===w);tt&&(ye=ye.filter(ot=>ot.category_id===tt.id))}if(s){const tt=Ne.find(ot=>ot.id.toString()===s);tt&&(ye=ye.filter(ot=>ot.brand_id===tt.id))}return j==="Out of Stock"&&(ye=ye.filter(tt=>parseInt(tt.stock)===0)),ye},[ne,C,w,s,j,ge,Ne]),ke=ye=>{P(tt=>({...tt,[ye]:!1}))},he=ye=>{P(tt=>({...tt,[ye]:!1}))},Rt=ye=>{ae(tt=>({...tt,[ye]:!1}))},Te=ye=>{ae(tt=>({...tt,[ye]:!1}))};O.useEffect(()=>{if(ne.length>0){const ye={};ne.forEach(tt=>{ye[`product-${tt.id}`]=!0}),P(ye)}},[ne]),O.useEffect(()=>{if(te.length>0){const ye={};te.forEach(tt=>{ye[`bundle-${tt.id}`]=!0}),ae(ye)}},[te]);const et=O.useMemo(()=>$?[{value:"",label:"Loading...",icon:null}]:Ne.map(ye=>({value:ye.id.toString(),label:ye.title,icon:Re(ye.icon)})),[Ne,$]),Fe=ye=>{a(ye.value),e(!1)},Ve=()=>{e(!t)},Ze=ye=>{d(ye),o(!0)},St=()=>{o(!1),d(null)},xt=ye=>{x(ye),f(!0),o(!1)},Zt=()=>{f(!1),x(null)},Ye=hs({mutationFn:async ye=>await hN(ye,fe||""),onSuccess:()=>{U(!1),ee(null),window.location.reload()},onError:ye=>{alert("Failed to delete bundle. Please try again."),U(!1),ee(null)}}),ct=ye=>{ee(ye),U(!0)},vt=()=>{F(I),K(!0),U(!1)},At=()=>{I&&Ye.mutate(I.id)};return O.useEffect(()=>{const ye=tt=>{L.current&&!L.current.contains(tt.target)&&e(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vv,{options:["Categories",...W?["Loading..."]:ge.map(ye=>ye.title)],selected:w,onSelect:y}),n.jsxs("div",{className:"relative",ref:L,children:[n.jsxs("button",{onClick:Ve,className:"px-4 py-2 border border-[#00000080] rounded-lg text-sm font-medium bg-white hover:bg-gray-100 text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer flex items-center justify-between w-[120px]",children:[n.jsx("span",{children:s?et.find(ye=>ye.value===s)?.label:"Brand"}),n.jsx("svg",{className:"w-4 h-4 text-gray-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&n.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-300 rounded-2xl shadow-xl z-50 overflow-y-auto p-2",style:{width:"400px",height:"auto",maxHeight:"450px"},children:et.map(ye=>n.jsxs("button",{onClick:()=>Fe(ye),className:`w-full flex items-center px-4 py-4 rounded-2xl mb-2 transition-colors ${s===ye.value?"bg-blue-50 text-blue-600":"bg-[#f3f3f3] text-gray-800 hover:bg-gray-200"}`,children:[n.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#bebef1] rounded-full",children:n.jsx("img",{src:ye.icon||"",alt:ye.label,className:"w-12 h-12 object-contain",onError:tt=>{const ot=tt.currentTarget;ot.style.display="none"}})}),n.jsx("span",{className:"text-lg font-medium",children:ye.label})]},ye.value))})]}),n.jsx(vv,{options:["Availability","All","Out of Stock"],selected:j,onSelect:_})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search products...",value:C,onChange:ye=>S(ye.target.value),className:"pl-10 pr-4 py-2 bg-white border border-[#00000080] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-180"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"All Products"}),ie?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[...Array(8)].map((ye,tt)=>n.jsxs("div",{className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm animate-pulse",children:[n.jsx("div",{className:"aspect-square bg-gray-200 rounded-t-2xl"}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD]",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsxs("div",{className:"flex justify-between items-center mt-5",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-20"})]})]})]},tt))}):re?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-red-500",children:"Error loading products. Using fallback data."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mt-4",children:aL.map(ye=>n.jsxs("div",{className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[n.jsx("div",{className:"aspect-square bg-white overflow-hidden p-2.5",children:n.jsx("img",{src:ye.image||"/assets/images/newman1.png",alt:ye.name,className:"w-full h-full",onError:tt=>{const ot=tt.target;ot.src="/assets/images/newmanbadge.png"}})}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:ye.name}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),n.jsxs("div",{className:"flex flex-row gap-1.5",children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),n.jsx("div",{children:n.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(tt=>n.jsx("svg",{className:`w-3 h-3 ${tt<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},tt))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-5",children:[n.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[ye.stock," Orders"]}),n.jsx("button",{onClick:()=>Ze(ye),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},ye.id))})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:Je.length>0?Je.map(ye=>{const tt=Xe(ye.price,ye.discount_price),ot=ye.old_quantity?Math.round(parseInt(ye.stock)/parseInt(ye.old_quantity)*100):0;return n.jsxs("div",{className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[n.jsxs("div",{className:"aspect-square bg-white overflow-hidden p-2.5 relative",children:[E[`product-${ye.id}`]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"})}),n.jsx("img",{src:Re(ye.featured_image_url),alt:ye.title,className:"w-full h-full",onLoad:()=>ke(`product-${ye.id}`),onError:()=>{he(`product-${ye.id}`);const Ht=document.querySelector(`img[alt="${ye.title}"]`);Ht&&(Ht.src="/assets/images/newmanbadge.png")},style:{display:E[`product-${ye.id}`]?"none":"block"}})]}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:ye.title}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(ye.discount_price)})}),n.jsx("div",{className:"flex flex-row gap-1.5",children:tt>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(ye.price)})}),n.jsx("div",{children:n.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",tt,"%"]})})]})})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[ye.stock,"/",ye.old_quantity]}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:`${ot}%`}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Ht=>n.jsx("svg",{className:`w-3 h-3 ${Ht<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ht))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-5",children:[n.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[ye.stock," Stocks"]}),n.jsx("button",{onClick:()=>{const Ht={id:ye.id.toString(),name:ye.title,category:"Solar Equipment",price:Oe(ye.discount_price),stock:parseInt(ye.stock),status:"Active",image:Re(ye.featured_image_url),description:ye.details.map(Yt=>Yt.detail).join(", ")||"No description available"};Ze(Ht)},className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},ye.id)}):n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx("p",{className:"text-gray-500",children:C||w!=="Categories"||s||j!=="Availability"?"No products found matching your filters":"No products available"}),(C||w!=="Categories"||s||j!=="Availability")&&n.jsx("button",{onClick:()=>{S(""),y("Categories"),a(""),_("Availability")},className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Clear all filters"})]})})]}),n.jsxs("div",{className:"w-60 border-l border-[#00000080] pl-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Bundles"}),X?n.jsx("div",{className:"space-y-4",children:[...Array(2)].map((ye,tt)=>n.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm animate-pulse",children:[n.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-lg"}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD]",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})]},tt))}):de?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-red-500 text-sm",children:"Error loading bundles"}),n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm relative",children:[n.jsx("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5",children:n.jsx("img",{src:lt.minibundle,alt:"Newman Inverter Bundle",className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:"2 Newman Inverters + 1 Solar panel + 4 LED bulbs"}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),n.jsxs("div",{className:"flex flex-row gap-1.5",children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),n.jsx("div",{children:n.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(ye=>n.jsx("svg",{className:`w-3 h-3 ${ye<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ye))})]})]})]})]})})]}):n.jsx("div",{className:"space-y-4",children:te.length>0?te.map(ye=>{if(!ye.title||ye.total_price===0)return null;const tt=Xe(ye.total_price,ye.discount_price),ot=ye.bundle_type==="Mini"?"#800080":"#FF0000";return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm relative cursor-pointer",style:{borderColor:ot},onClick:()=>ct(ye),children:[n.jsxs("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5 relative",children:[V[`bundle-${ye.id}`]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsx("img",{src:Re(ye.featured_image_url),alt:ye.title,className:"w-full h-full object-contain",onLoad:()=>Rt(`bundle-${ye.id}`),onError:()=>{Te(`bundle-${ye.id}`);const Ht=document.querySelector(`img[alt="${ye.title}"]`);Ht&&(Ht.src=ye.bundle_type==="Mini"?lt.minibundle:lt.maxibundle)},style:{display:V[`bundle-${ye.id}`]?"none":"block"}})]}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:ye.title}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(ye.discount_price)})}),n.jsx("div",{className:"flex flex-row gap-1.5",children:tt>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(ye.total_price)})}),n.jsx("div",{children:n.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",tt,"%"]})})]})})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[ye.bundle_items.length," items"]}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Ht=>n.jsx("svg",{className:`w-3 h-3 ${Ht<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ht))})]})]})]})]},ye.id)}).filter(Boolean):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"No bundles available"})})})]})]}),n.jsx(uL,{isOpen:r,onClose:St,product:c,onEdit:xt}),n.jsx(dN,{isOpen:h,onClose:Zt,editingProduct:p}),G&&I&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),n.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[n.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:vt,children:"Edit Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:At,disabled:Ye.isPending,children:Ye.isPending?"Deleting...":"Delete Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>U(!1),children:"Cancel"})]})]})})}),n.jsx(fN,{isOpen:Z,onClose:()=>{K(!1),F(null)},editingBundle:T})]})},wv=({options:t,selected:e,onSelect:s})=>{const[a,r]=O.useState(!1),o=c=>{s(c),r(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>r(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:lt.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>o(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},gL=async(t,e,s)=>await ht(ft.ADMIN.UpdateOrderStatus(t),"POST",e,s),xL=()=>{const[t,e]=O.useState("Shop Orders"),[s,a]=O.useState([]),[r,o]=O.useState(!1),[c,d]=O.useState("Status"),[h,f]=O.useState(!1),[p,x]=O.useState(null),[w,y]=O.useState(!1),[j,_]=O.useState(!1),[C,S]=O.useState(!1),[L,E]=O.useState(null),[P,V]=O.useState(""),[ae,G]=O.useState("All"),[U,I]=O.useState("More Actions"),[ee,T]=O.useState(""),[F,Z]=O.useState(1),[K]=O.useState(10),[fe,R]=O.useState(!1),[ie,re]=O.useState(null),[me,X]=O.useState(null),de=Xt.get("token"),{data:D,isLoading:W,isError:z}=Qt({queryKey:["all-orders"],queryFn:()=>BE(de||""),enabled:!!de});console.log("API Response:",D),console.log("Orders Data:",D?.orders);const $=hs({mutationFn:async({orderId:Ye,status:ct})=>await gL(Ye,{order_status:ct},de||""),onSuccess:()=>{S(!1),E(null),V(""),console.log("Order status updated successfully")},onError:Ye=>{console.error("Failed to update order status:",Ye),alert("Failed to update order status. Please try again.")}}),ne=hs({mutationFn:async Ye=>await hN(Ye,de||""),onSuccess:()=>{R(!1),re(null),window.location.reload()},onError:Ye=>{alert("Failed to delete bundle. Please try again."),R(!1),re(null)}}),te=D?.orders?.map(Ye=>{const vt=Ye.items?.[0]?.item?.title||"Unknown Product",At=Ye.delivery_address?.title||"Unknown Customer",ye=new Date(Ye.created_at),tt=ye.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}),ot=ye.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return{id:Ye.id.toString(),name:At,productName:vt,amount:`${Number(Ye.total_price).toLocaleString()}`,date:tt,time:ot,status:Ye.order_status==="pending"?"Pending":Ye.order_status==="completed"?"Delivered":"Ordered"}})||[],ge=D?.summary;console.log("Mapped Orders:",te);const Ne=()=>{console.log("Notification clicked")},Oe=Ye=>{T(Ye.target.value)},Xe=()=>{a(r?[]:te.map(Ye=>Ye.id)),o(!r)},Re=Ye=>{s.includes(Ye)?a(s.filter(ct=>ct!==Ye)):a([...s,Ye])},Je=Ye=>{const ct=D?.orders?.find(vt=>vt.id.toString()===Ye.id);x(ct||null),f(!0)},ke=Ye=>{const ct=D?.orders?.find(vt=>vt.id.toString()===Ye.id);E(ct||null),V(Ye.status),S(!0)},he=()=>{S(!1),E(null),V("")},Rt=()=>{L&&P&&$.mutate({orderId:L.id.toString(),status:P})},Te=()=>{f(!1),x(null)},et=()=>{X(ie),y(!0),R(!1)},Fe=()=>{ie&&ne.mutate(ie.id)},Ve=te.filter(Ye=>{const ct=c==="Status"||Ye.status===c,vt=ee===""||Ye.name.toLowerCase().includes(ee.toLowerCase())||Ye.productName.toLowerCase().includes(ee.toLowerCase())||Ye.id.toLowerCase().includes(ee.toLowerCase())||Ye.amount.toLowerCase().includes(ee.toLowerCase());return ct&&vt}),Ze=Math.ceil(Ve.length/K),St=(F-1)*K,xt=St+K,Zt=Ve.slice(St,xt);return yi.useEffect(()=>{Z(1)},[ee,c,ae]),console.log("Filtered Order Data:",Ve),console.log("Status Filter:",c),console.log("Search Query:",ee),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:Ne}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shop Management"})}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Shop Orders"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Shop Orders"),children:"Shop Orders"}),n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Products"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Products"),children:"Products"})]}),t==="Products"&&n.jsxs("div",{className:"flex items-center space-x-3 mt-[-25px]",children:[n.jsx("button",{onClick:()=>_(!0),className:"bg-[#273E8E]  hover:bg-[#273E8E] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Upload Product"}),n.jsx("button",{onClick:()=>y(!0),className:"bg-[#E8A91D] hover:bg-[#E8A91D] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Create Bundle"})]})]})})}),t==="Shop Orders"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:W?n.jsx(Eh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ge?.total_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ge?.pending_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Completed Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ge?.completed_orders||0})]})]})})]})}),t==="Shop Orders"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ae==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>G("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ae==="Loans"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>G("Loans"),children:"Loans"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ae==="Direct"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>G("Direct"),children:"Direct"})]}),n.jsx(wv,{options:["More Actions","Export Data","Bulk Action"],selected:U,onSelect:I}),n.jsx(wv,{options:["Status","Ordered","Pending","Delivered"],selected:c,onSelect:d})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search orders...",value:ee,onChange:Oe,className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[W?n.jsx(Mn,{message:"Loading orders..."}):z?n.jsx("div",{className:"p-8 text-center",children:n.jsx("div",{className:"text-red-500",children:"Failed to load orders. Please try again."})}):n.jsx("div",{children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:r,onChange:Xe})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:Ve.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:te.length===0?"No orders found":ee?`No orders found matching "${ee}"`:"No orders match the current filter"})}):Zt.map((Ye,ct)=>n.jsxs("tr",{className:`${ct%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:s.includes(Ye.id),onChange:()=>Re(Ye.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:Ye.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:Ye.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:Ye.amount}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[Ye.date,"/",Ye.time]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:iL(Ye.status),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:Ye.status.toLowerCase()==="delivered"?"#008000":Ye.status.toLowerCase()==="pending"?"#FF8C00":Ye.status.toLowerCase()==="ordered"?"#5A67D8":"#6B7280"}}),Ye.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Je(Ye),children:"View Details"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>ke(Ye),children:"Update Status"})]})})]},Ye.id))})]})}),Ze>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",St+1," to ",Math.min(xt,Ve.length)," of ",Ve.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Z(Ye=>Math.max(Ye-1,1)),disabled:F===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Ze)},(Ye,ct)=>{let vt;return Ze<=5||F<=3?vt=ct+1:F>=Ze-2?vt=Ze-4+ct:vt=F-2+ct,n.jsx("button",{onClick:()=>Z(vt),className:`px-3 py-2 text-sm font-medium rounded-md border ${F===vt?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:vt},vt)})}),n.jsx("button",{onClick:()=>Z(Ye=>Math.min(Ye+1,Ze)),disabled:F===Ze,className:`px-3 py-2 text-sm font-medium rounded-md border ${F===Ze?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),t==="Products"&&n.jsx(pL,{})]}),n.jsx(lN,{isOpen:h,order:p?{...p,include_user_info:p.include_user_info?{first_name:"",phone:""}:void 0}:null,onClose:Te}),n.jsx(fN,{isOpen:w,onClose:()=>{y(!1),X(null)},editingBundle:me}),n.jsx(dN,{isOpen:j,onClose:()=>_(!1)}),C&&L&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Order Status"}),n.jsx("button",{onClick:he,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Update status for order ",n.jsxs("strong",{children:["#",L.id]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:P,onChange:Ye=>V(Ye.target.value),children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:he,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Rt,disabled:!P||$.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${P&&!$.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:$.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Update Status"})]})]})}),fe&&ie&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),n.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[n.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:et,children:"Edit Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:Fe,disabled:ne.isPending,children:ne.isPending?"Deleting...":"Delete Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>R(!1),children:"Cancel"})]})]})})})]})},Kp=[{id:"1",name:"Adewale Faizah",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"},{id:"2",name:"John Adam",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"},{id:"3",name:"Chris Banner",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"},{id:"4",name:"Adam Waa",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"},{id:"5",name:"Anita Shawn",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"},{id:"6",name:"Cole Palmer",noOfReferral:100,amountEarned:"N1,100,000",dateJoined:"05-07-25/07:22AM"}],Nv=[{value:"default",label:"Sort By"},{value:"name",label:"Name"},{value:"referrals",label:"Referrals"},{value:"amount",label:"Amount"},{value:"date",label:"Date"}],bL=()=>{const[t,e]=O.useState([]),[s,a]=O.useState("default"),[r,o]=O.useState(""),[c,d]=O.useState(!1),[h,f]=O.useState(""),[p,x]=O.useState(""),[w,y]=O.useState(!1);O.useEffect(()=>{const E=localStorage.getItem("referralSettings");if(E){const{commissionPercentage:P,minimumWithdrawal:V}=JSON.parse(E);f(P||""),x(V||"")}},[]),O.useEffect(()=>{const E=P=>{if(w){const V=P.target,ae=document.querySelector(".sort-dropdown");ae&&!ae.contains(V)&&y(!1)}};return w&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[w]);const j=E=>{e(E?Kp.map(P=>P.id):[])},_=E=>{e(P=>P.includes(E)?P.filter(V=>V!==E):[...P,E])},C=E=>{a(E),y(!1)},S=()=>{if(!h.trim()||!p.trim()){alert("Please fill in both fields before saving.");return}const E=parseFloat(h);if(isNaN(E)||E<0||E>100){alert("Please enter a valid commission percentage between 0 and 100.");return}const P=parseFloat(p.replace(/,/g,""));if(isNaN(P)||P<0){alert("Please enter a valid minimum withdrawal amount.");return}const V={commissionPercentage:h.trim(),minimumWithdrawal:p.trim(),lastUpdated:new Date().toISOString()};localStorage.setItem("referralSettings",JSON.stringify(V)),alert("Settings saved successfully!"),d(!1)},L=Kp.filter(E=>E.name.toLowerCase().includes(r.toLowerCase()));return n.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[n.jsx(Jn,{}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Referral"}),n.jsx("button",{onClick:()=>d(!0),className:"bg-blue-900 hover:bg-blue-900 text-white cursor-pointer px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Referral Settings"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"relative inline-block text-left sort-dropdown",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>y(!w),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm focus:outline-none",children:[Nv.find(E=>E.value===s)?.label||"Sort by",n.jsx("img",{src:lt.arrow,alt:""})]})}),w&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:Nv.map(E=>n.jsx("li",{onClick:()=>C(E.value),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:E.label},E.value))})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:E=>o(E.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB] border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:t.length===Kp.length,onChange:E=>j(E.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"No of referral"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount Earned"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date joined"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:L.map((E,P)=>n.jsxs("tr",{className:`${P%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:t.includes(E.id),onChange:()=>_(E.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:E.name}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:E.noOfReferral}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:E.amountEarned}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:E.dateJoined})]},E.id))})]})})})]}),c&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),n.jsx("button",{onClick:()=>d(!1),className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Commission Percentage"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Enter a number",value:h,onChange:E=>f(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-10"}),n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl font-light",children:"%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Withdrawal amount"}),n.jsx("input",{type:"text",placeholder:"Enter amount",value:p,onChange:E=>x(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsx("button",{onClick:S,className:"w-full bg-blue-900 cursor-pointer hover:bg-blue-800 text-white py-3 px-4 rounded-full text-sm font-medium transition-colors mt-8",children:"Save"})]})]})})]})},th={general:[{title:"Total Users",value:"20,000"},{title:"Active Users",value:"300"},{title:"Total Orders",value:"300"},{title:"Bounce Rate",value:"200"},{title:"Deleted Accounts",value:"20"},{title:"Total Revenue",value:"N20,000"},{title:"Total Deposits",value:"N20,000"},{title:"Total Withdrawals",value:"N20,000"},{title:"Admin Earnings",value:"N20,000"},{title:"Top Selling Product",value:"Inverter"}],financial:[{title:"Total Loans",value:"100"},{title:"Approved Loans",value:"300"},{title:"Rejected Loans",value:"300"},{title:"Pending Loans",value:"400"},{title:"Loan amount disbursed",value:"N20,000,000"},{title:"Top Partner",value:"ABC Partner"},{title:"Overdue loans",value:"12"},{title:"Overdue loan amount",value:"N200,000"},{title:"Loan default rate",value:"50%"},{title:"Repayment completion",value:"50%"}],revenue:[{title:"Total Revenue",value:"N200,000"},{title:"Revenue by product",value:"300"},{title:"Delivery fees",value:"N20,000"},{title:"Installment fee",value:"N100,000"},{title:"Revenue growth rate",value:"40%"},{title:"Interests Earned",value:"N10,000"}]},yL=[{value:"alltime",label:"All time"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],vL=[{value:"all",label:"All Products"},{value:"inverters",label:"Inverters"},{value:"panels",label:"Solar Panels"},{value:"batteries",label:"Batteries"}],wL=()=>{const[t,e]=O.useState("alltime"),[s,a]=O.useState("all"),r=({title:o,value:c,className:d=""})=>n.jsxs("div",{className:`bg-white p-4 shadow-sm ${d}`,children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"#00000080",fontSize:"12px"},children:o}),n.jsx("p",{className:"font-semibold",style:{color:"#000000",fontSize:"20px"},children:c})]});return n.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[n.jsx(Jn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Analytics"}),n.jsx("div",{className:"bg-white rounded-full p-2 inline-flex gap-1 mb-8 shadow-sm border border-gray-200",children:yL.map(o=>n.jsx("button",{onClick:()=>e(o.value),className:`px-6.5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${t===o.value?"bg-blue-900 text-white shadow-sm":"text-[#000000B2] hover:text-black"}`,children:o.label},o.value))}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:th.general.slice(0,6).map((o,c)=>n.jsx(r,{title:o.title,value:o.value,className:"border border-[#989898] rounded-lg"},c))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[th.general.slice(6,10).map((o,c)=>n.jsx(r,{title:o.title,value:o.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},c)),n.jsx("div",{className:"xl:col-span-2"})," "]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:th.financial.slice(0,6).map((o,c)=>n.jsx(r,{title:o.title,value:o.value,className:"border border-[#989898] rounded-lg"},c))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[th.financial.slice(6,10).map((o,c)=>n.jsx(r,{title:o.title,value:o.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},c)),n.jsx("div",{className:"xl:col-span-2"})," "]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:th.revenue.map((o,c)=>o.title==="Revenue by product"?n.jsxs("div",{className:"bg-white p-4 shadow-sm border border-[#989898] rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:o.title}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:s,onChange:d=>a(d.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full",children:vL.map(d=>n.jsx("option",{value:d.value,children:o.value},d.value))}),n.jsx("svg",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]},c):n.jsx(r,{title:o.title,value:o.value,className:"border border-[#989898] rounded-lg"},c))})]})]})]})},gi={firstName:"Faizah",surname:"Adewale",email:"Adewalefaizah@gmail.com",bvn:"0234682284",image:"/assets/layout/profile.png",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},mN=[{id:"1",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"2",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"3",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]}],pN=({isOpen:t,onClose:e,adminData:s})=>{const[a,r]=O.useState({firstName:s.firstName,surname:s.surname,email:s.email,bvn:s.bvn,password:s.password,role:"Admin"}),[o,c]=O.useState(null),[d,h]=O.useState(null),f=Xt.get("token"),p=j=>{const{name:_,value:C}=j.target;r(S=>({...S,[_]:C}))},x=j=>{const _=j.target.files?.[0];if(_){c(_);const C=new FileReader;C.onload=S=>{h(S.target?.result)},C.readAsDataURL(_)}},w=hs({mutationFn:async j=>await _C(j,f||""),onSuccess:()=>{console.log("Profile updated successfully"),e()},onError:j=>{console.error("Failed to update profile:",j),alert("Failed to update profile. Please try again.")}}),y=j=>{j.preventDefault();const _=new FormData;a.firstName&&_.append("first_name",a.firstName),a.surname&&_.append("sur_name",a.surname),a.email&&_.append("email",a.email),a.bvn&&_.append("bvn",a.bvn),a.password&&_.append("password",a.password),a.role&&_.append("role",a.role),o&&(console.log("Adding image to FormData:",o.name,o.type,o.size),_.append("profile_picture",o)),console.log("FormData contents:");for(const[C,S]of _.entries())console.log(C,S);w.mutate(_)};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg relative overflow-hidden",style:{width:"600px",height:"700px",maxHeight:"110vh"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center cursor-pointer justify-center rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("img",{src:lt.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100% - 120px)"},children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:[d?n.jsx("img",{src:d,alt:"Profile preview",className:"w-full h-full object-cover"}):s.image?n.jsx("img",{src:s.image,alt:"Profile",className:"w-full h-full object-cover",onError:j=>{j.currentTarget.style.display="none",j.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center ${d||s.image?"hidden":""}`,children:n.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[n.jsx("path",{d:"M16 16C19.3137 16 22 13.3137 22 10C22 6.68629 19.3137 4 16 4C12.6863 4 10 6.68629 10 10C10 13.3137 12.6863 16 16 16Z",fill:"#9CA3AF"}),n.jsx("path",{d:"M16 18C21.5228 18 26 22.4772 26 28H6C6 22.4772 10.4772 18 16 18Z",fill:"#9CA3AF"})]})})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),n.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:p,placeholder:"Enter your first name",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surname"}),n.jsx("input",{type:"text",name:"surname",value:a.surname,onChange:p,placeholder:"Enter your surname",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:p,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",value:a.bvn,onChange:p,placeholder:"BVN Number",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",value:a.password,onChange:p,placeholder:"Enter Password",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 cursor-pointer",children:"Role"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"role",value:a.role,onChange:p,className:"w-full px-4 py-3 cursor-pointer border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none bg-white",children:[n.jsx("option",{value:"Admin",children:"Admin"}),n.jsx("option",{value:"Super Admin",children:"Super Admin"}),n.jsx("option",{value:"Manager",children:"Manager"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsx("button",{type:"submit",disabled:w.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors flex items-center justify-center ${w.isPending?"opacity-50 cursor-not-allowed":""}`,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"})})]})]})]})}):null},NL=({adminId:t,adminData:e,onGoBack:s})=>{const[a,r]=O.useState(!1),o=e||mN.find(h=>h.id===t);if(!o)return n.jsx("div",{className:"w-full p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-500",children:"Admin not found"}),n.jsx("button",{onClick:s,className:"mt-4 bg-[#273E8E] text-white px-6 py-2 rounded-lg hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Go Back"})]})});const c=()=>{r(!0)},d=()=>{r(!1)};return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Admin ",o.surname]}),n.jsx("button",{onClick:s,className:"text-[#273E8E] text-sm hover:underline flex items-center space-x-1",children:n.jsx("span",{children:"Go back"})})]}),n.jsx("div",{className:"bg-gradient-to-r from-[#4e4376]  to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:n.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:n.jsx("img",{src:o.image||"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),n.jsxs("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:[o.surname," ",o.firstName]}),n.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:o.email}),n.jsx("button",{onClick:c,className:"bg-white text-gray-800 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),n.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[n.jsxs("div",{className:"text-white space-y-8 flex-1",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),n.jsx("p",{className:"text-lg font-medium",children:o.firstName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),n.jsx("p",{className:"text-lg font-medium",children:o.surname})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),n.jsx("p",{className:"text-lg font-medium",children:o.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone Number"}),n.jsx("p",{className:"text-lg font-medium",children:o.phone||"N/A"})]})]}),n.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"User Code"}),n.jsx("p",{className:"text-lg font-medium",children:o.userCode||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Referral Code"}),n.jsx("p",{className:"text-lg font-medium",children:o.referralCode||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Status"}),n.jsx("p",{className:"text-lg font-medium",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isActive?"bg-green-500":"bg-red-500"}`,children:o.isActive?"Active":"Inactive"})})]})]}),n.jsx("button",{className:"bg-[#FFFFFF] text-black px-6 py-3 rounded-full font-semibold hover:bg-[#FFFFFF] transition-colors cursor-pointer",children:"Delete Admin"})]})]})]})}),n.jsxs("div",{className:"mt-12 px-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[n.jsx("button",{className:"px-5 py-2 text-md rounded-full font-medium transition-colors flex-1 bg-[#273E8E] text-white shadow-sm cursor-pointer",children:"Activity"}),n.jsx("button",{className:"px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 text-gray-600 hover:text-gray-800 cursor-pointer",children:"All Admins"})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm",children:[n.jsx("span",{children:"More Actions"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-medium text-black",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:"Activity"})]})}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-sm font-medium text-black",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.activity.map((h,f)=>n.jsxs("tr",{className:`${f%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-800",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:h.description})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-right",children:h.date})]},h.id))})]})})]}),n.jsx(pN,{isOpen:a,onClose:d,adminData:o})]})},jL=({showAddModal:t,setShowAddModal:e,onUserAdded:s,newUser:a,handleInputChange:r})=>{const[o,c]=O.useState(""),[d,h]=O.useState(!1),f=Xt.get("token"),p=hs({mutationFn:y=>dw(y,f||""),onSuccess:()=>{c(""),h(!1),e(!1),r({target:{name:"name",value:""}}),r({target:{name:"email",value:""}}),r({target:{name:"phone",value:""}}),r({target:{name:"bvn",value:""}}),s&&s()},onError:y=>{console.log("Add User Error:",y);let j="Failed to add user. Please try again.";if(y&&typeof y=="object"&&"message"in y){const _=y;j=_.message||j,_.data&&typeof _.data=="object"&&(_.data.message?j=_.data.message:_.data.error?j=_.data.error:_.data.errors&&Array.isArray(_.data.errors)&&(j=_.data.errors.join(", ")))}console.log("Final error message:",j),c(j),h(!0)}}),x=y=>{if(y.preventDefault(),c(""),h(!1),!a.name||!a.email||!a.phone||!a.bvn||!a.password){c("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){c("Please enter a valid email address");return}p.mutate({first_name:a.name,email:a.email,phone:a.phone,bvn:a.bvn,password:a.password,role:"Admin"})},w=a.name&&a.email&&a.phone&&a.bvn&&a.password;return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{c(""),h(!1),e(!1)}}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Admin"}),n.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{c(""),h(!1),e(!1)},children:n.jsx("img",{src:lt.cross,alt:"",className:"w-8 h-8"})})]}),o&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:n.jsx("p",{className:"font-medium",children:o})}),n.jsxs("form",{onSubmit:x,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:a.name,onChange:r})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:a.email,onChange:r})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:a.password,onChange:r})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:a.phone,onChange:r})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:a.bvn,onChange:r})]}),n.jsx("button",{type:"submit",disabled:!w||p.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${w&&!p.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:p.isPending?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]}):null},SL=()=>{const[t,e]=O.useState("activity"),[s,a]=O.useState(!1),[r,o]=O.useState(""),[c,d]=O.useState(null),[h,f]=O.useState(!1),[p,x]=O.useState({name:"",email:"",phone:"",bvn:"",password:""}),w=()=>{a(!0)},y=()=>{a(!1)},j=Z=>{d(Z)},_=()=>{d(null)},C=()=>{f(!0)},S=Z=>{const{name:K,value:fe}=Z.target;x(R=>({...R,[K]:fe}))},L=()=>{G()},E=Xt.get("token"),{data:P,isLoading:V,isError:ae,refetch:G}=Qt({queryKey:["all-users"],queryFn:()=>hw(E||""),enabled:!!E}),{data:U,isLoading:I}=Qt({queryKey:["current-user"],queryFn:()=>fw(1,E||""),enabled:!!E}),ee=P?.data?.["all users data"]?P.data["all users data"].filter(Z=>Z.role==="Admin").map(Z=>({id:String(Z.id),firstName:Z.first_name,surname:Z.sur_name,email:Z.email,phone:Z.phone||"",bvn:Z.bvn||"",password:"**********",image:Z.profile_picture||"/assets/layout/profile.png",role:Z.role,userCode:Z.user_code||"",referralCode:Z.refferal_code||"",isActive:Z.is_active===1,isVerified:Z.is_verified===1,dateJoined:Z.created_at?new Date(Z.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",activity:[]})):[],T=ee.length>0?ee:mN;if(c){const Z=T.find(K=>K.id===c);return n.jsx(NL,{adminId:c,adminData:Z,onGoBack:_})}if(I)return n.jsx("div",{className:"w-full bg-[#F5F7FF]",children:n.jsx(Mn,{message:"Loading admin profile...",size:"lg"})});const F=U?.data;return n.jsxs("div",{className:"w-full bg-[#F5F7FF]",children:[n.jsx("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:n.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:F?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${F.profile_picture}`,alt:"Admin Profile",className:"w-full h-full object-cover",onError:Z=>{Z.currentTarget.src="/assets/images/profile.png"}}):n.jsx("img",{src:"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),n.jsx("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:F?`${F.sur_name} ${F.first_name}`:`${gi.surname} ${gi.firstName}`}),n.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:F?.email||gi.email}),n.jsx("button",{onClick:w,className:"bg-white text-gray-900 px-8 py-3 rounded-full font-semibold transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),n.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[n.jsxs("div",{className:"text-white space-y-8 flex-1",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),n.jsx("p",{className:"text-lg font-medium",children:F?.first_name||gi.firstName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),n.jsx("p",{className:"text-lg font-medium",children:F?.sur_name||gi.surname})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),n.jsx("p",{className:"text-lg font-medium",children:F?.email||gi.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone"}),n.jsx("p",{className:"text-lg font-medium",children:F?.phone||"N/A"})]})]}),n.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"BVN"}),n.jsx("p",{className:"text-lg font-medium",children:F?.bvn||gi.bvn})]}),n.jsx("button",{onClick:C,className:"bg-white text-[#000000] px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors cursor-pointer",children:"Add new Admin"})]})]})]})}),n.jsxs("div",{className:"mt-12 px-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[n.jsx("button",{onClick:()=>e("activity"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="activity"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Activity"}),n.jsx("button",{onClick:()=>e("allAdmins"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="allAdmins"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"All Admins"})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm cursor-pointer",children:[n.jsx("span",{children:"More Actions"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})]}),t==="allAdmins"&&n.jsxs("div",{className:"relative w-80",children:[n.jsx("input",{type:"text",placeholder:"Search",value:r,onChange:Z=>o(Z.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"text-gray-400",children:n.jsx("path",{d:"M7.333 12.667A5.333 5.333 0 1 0 7.333 2a5.333 5.333 0 0 0 0 10.667ZM14 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),t==="activity"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-[#EBEBEB] px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("div",{className:"font-medium text-gray-700 text-sm",children:"Activity"})]}),n.jsx("div",{className:"font-medium text-gray-700 text-sm text-center",children:"Date"})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:gi.activity.map((Z,K)=>n.jsx("div",{className:`px-6 py-4 ${K%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 hover:bg-gray-50`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-gray-800 text-sm",children:Z.description})]}),n.jsx("div",{className:"text-gray-600 text-sm text-center",children:Z.date})]})},Z.id))})]}),t==="allAdmins"&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:V?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading admins..."}):ae?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load admins."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:"Name"})]})}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Role"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"BVN"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date Joined"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((Z,K)=>n.jsxs("tr",{className:`${K%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsxs("span",{children:[Z.firstName," ",Z.surname]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:Z.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:Z.role}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:Z.bvn}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:Z.dateJoined}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>j(Z.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"View Details"})})]},Z.id))})]})})]}),n.jsx(pN,{isOpen:s,onClose:y,adminData:{firstName:F?.first_name||gi.firstName,surname:F?.sur_name||gi.surname,email:F?.email||gi.email,bvn:F?.bvn||gi.bvn,password:"**********",image:F?.profile_picture?`https://troosolar.hmstech.org/users/${F.profile_picture}`:gi.image}}),n.jsx(jL,{showAddModal:h,setShowAddModal:f,onUserAdded:L,newUser:p,handleInputChange:S})]})},_L=async(t,e)=>await ht(ft.ADMIN.AddFinancingPartner,"POST",t,e),AL=async(t,e)=>await ht(ft.ADMIN.DeleteFinancingPartner(t),"GET",void 0,e),CL=async(t,e,s)=>await ht(ft.ADMIN.UpdateFinancingPartner(t),"POST",e,s),kL=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:r})=>{const[o,c]=O.useState({partnerName:"",partnerEmail:"",status:""}),[d,h]=O.useState("");O.useEffect(()=>{c(a&&r?{partnerName:r.name||"",partnerEmail:r.partnerEmail||"",status:r.status||""}:{partnerName:"",partnerEmail:"",status:""})},[a,r,t]);const f=Xt.get("token"),p=hs({mutationFn:_=>_L({name:_.partnerName,email:_.partnerEmail,status:_.status},f||""),onSuccess:()=>{s(o),c({partnerName:"",partnerEmail:"",status:""}),e()}}),x=hs({mutationFn:_=>CL(r?.id,{name:_.partnerName,email:_.partnerEmail,status:_.status},f||""),onSuccess:()=>{s(o),c({partnerName:"",partnerEmail:"",status:""}),e()}}),w=_=>{const{name:C,value:S}=_.target;c(L=>({...L,[C]:S})),C==="partnerEmail"&&h(S&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)?"Please enter a valid email address.":"")},y=()=>{a?x.mutate(o):p.mutate(o)},j=o.partnerName&&o.partnerEmail&&o.status&&!d;return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[550px] max-w-[90vw] max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:a?"Edit Partner":"Add Partner"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Name"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",name:"partnerName",value:o.partnerName,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700",placeholder:"Enter partner name"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",required:!0,name:"partnerEmail",value:o.partnerEmail,onChange:w,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700 ${d?"border-red-500":""}`,placeholder:"Enter partner email"}),d&&n.jsx("span",{className:"text-xs text-red-600 mt-1 absolute left-0 top-full",children:d})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"status",value:o.status,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("button",{onClick:y,className:`w-full bg-[#273E8E] text-white py-3 px-6 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer ${j?"":"opacity-50 cursor-not-allowed"}`,disabled:p.isPending||x.isPending||!j,children:p.isPending||x.isPending?"Saving...":"Save"})})]})}):null},Om=({isOpen:t,onClose:e,onConfirm:s,message:a="Are you sure you want to delete?"})=>t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})}),n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),n.jsx("p",{className:"mb-8 text-gray-700",children:a}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),n.jsx("button",{onClick:s,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})}):null,EL=()=>{const[t,e]=O.useState([]),[s,a]=O.useState(!1),[r,o]=O.useState(!1),[c,d]=O.useState(null),[h,f]=O.useState(!1),[p,x]=O.useState(null),[w,y]=O.useState(""),[j,_]=O.useState(1),[C]=O.useState(10),S=Xt.get("token"),{data:L,isLoading:E,isError:P,refetch:V}=Qt({queryKey:["all-finance-partners"],queryFn:()=>cN(S||""),enabled:!!S});O.useEffect(()=>{L?.status==="success"&&Array.isArray(L.data)?(e(L.data.map(re=>({id:String(re.id),name:re["Partner name"]||"",partnerEmail:re.Email||"",numberOfLoans:re["No of Loans"]??0,amount:`N${re.Amount??0}`,dateCreated:re["Date Created"]?new Date(re["Date Created"]).toLocaleString():"",status:re.Status==="active"||re.Status==="Active"?"Active":"Inactive"}))),y(L.message||"")):L?.message&&y(L.message)},[L]);const ae=()=>{o(!1),d(null),a(!0)},G=re=>{const me=t.find(X=>X.id===re);me&&(o(!0),d(me),a(!0))},U=()=>{a(!1),o(!1),d(null)},I=re=>{if(r&&c)e(t.map(me=>me.id===c.id?{...me,name:re.partnerName,status:re.status}:me));else{const me={id:(t.length+1).toString(),name:re.partnerName,numberOfLoans:0,amount:"N0",dateCreated:new Date().toLocaleDateString(),status:re.status};e([...t,me])}},ee=hs({mutationFn:re=>AL(re,S||""),onSuccess:()=>{V()}}),T=re=>{const me=t.find(X=>X.id===re);me&&(x(me),f(!0))},F=()=>{p&&(ee.mutate(p.id),f(!1),x(null))},Z=()=>{f(!1),x(null)},K=Math.ceil(t.length/C),fe=(j-1)*C,R=fe+C,ie=t.slice(fe,R);return n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"flex justify-end mb-6",children:n.jsx("button",{onClick:ae,className:"bg-[#273E8E] text-white px-6 py-3 rounded-full font-medium hover:bg-[#273E8E] transition-colors cursor-pointer",children:"Add New Partner"})}),w&&n.jsx("div",{className:"mb-4 px-4 py-3 rounded bg-blue-50 text-blue-700 border border-blue-100",children:w}),n.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:[E?n.jsx(Mn,{message:"Loading partners..."}):P?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load partners."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 ",children:n.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"font-medium text-black text-sm",children:"Partner Name"})]})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"No of loans"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Amount"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map((re,me)=>n.jsxs("tr",{className:`${me%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-8 py-4 text-center",children:n.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[#273E8E] border-gray-300 rounded focus:ring-[#273E8E]"}),n.jsx("span",{className:"text-gray-800 text-sm font-medium",children:re.name})]})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:re.numberOfLoans})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:re.amount})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:re.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${re.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[n.jsx("button",{onClick:()=>G(re.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-xs hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),n.jsx("button",{onClick:()=>T(re.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-xs hover:bg-[#FF0000] transition-colors cursor-pointer",children:"Delete"})]})})]},re.id))})]}),K>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",fe+1," to ",Math.min(R,t.length)," of ",t.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(re=>Math.max(re-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,K)},(re,me)=>{let X;return K<=5||j<=3?X=me+1:j>=K-2?X=K-4+me:X=j-2+me,n.jsx("button",{onClick:()=>_(X),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===X?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:X},X)})}),n.jsx("button",{onClick:()=>_(re=>Math.min(re+1,K)),disabled:j===K,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===K?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),n.jsx(kL,{isOpen:s,onClose:U,onSave:I,editMode:r,editData:c}),n.jsx(Om,{isOpen:h,onClose:Z,onConfirm:F,message:"Are you sure you want to delete this partner?"})]})},LL=[{id:"inverter",name:"Inverter Load Calculator",isActive:!0},{id:"solar",name:"Solar Panel Calculator",isActive:!1},{id:"battery",name:"Battery Estimator",isActive:!1},{id:"savings",name:"Solar Savings Estimator",isActive:!1}],Xp=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],DL=()=>{const[t,e]=O.useState("1bedroom"),[s,a]=O.useState(Xp.find(h=>h.id==="1bedroom")?.appliances||[]),r=s.reduce((h,f)=>h+f.totalWattage,0),o=h=>{e(h);const f=Xp.find(p=>p.id===h);f&&a([...f.appliances])},c=(h,f)=>{a(p=>p.map(x=>{if(x.id===h){const w=Math.max(0,x.quantity+f);return{...x,quantity:w,totalWattage:x.wattage*w}}return x}))},d=(h,f)=>{a(p=>p.map(x=>x.id===h?{...x,wattage:f,totalWattage:f*x.quantity}:x))};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Inverter Load Calculator"}),n.jsxs("div",{className:"flex gap-8",children:[n.jsx("div",{className:"w-32 space-y-4",children:Xp.map(h=>n.jsxs("button",{onClick:()=>o(h.id),className:`w-full p-5 rounded-2xl bg-white cursor-pointer transition-all ${t===h.id?"border border-[#273E8E]":"border-0"}`,style:{boxShadow:"0 2px 4px rgba(109, 108, 108, 0.25)"},children:[n.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:n.jsx("img",{src:h.icon,alt:h.name,className:"w-full h-full object-contain"})}),n.jsx("div",{className:"text-xs font-medium text-gray-700 text-center",children:h.name})]},h.id))}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:s.map(h=>n.jsx("div",{className:"px-6 py-3",children:n.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[n.jsx("div",{className:"text-black text-md font-medium",children:h.name}),n.jsxs("div",{className:"text-center",children:[n.jsx("input",{type:"number",value:h.wattage,onChange:f=>d(h.id,parseInt(f.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded text-sm"}),n.jsx("span",{className:"text-[#000000] text-md font-semibold ml-1",children:"w"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>c(h.id,-1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:n.jsx("img",{src:lt.minus,alt:""})}),n.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:h.quantity}),n.jsx("button",{onClick:()=>c(h.id,1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:n.jsx("img",{src:lt.plus,alt:""})})]}),n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"text-[#000000] text-md font-semibold",children:[h.totalWattage,"w"]})})]})},h.id))})})}),n.jsx("div",{className:"w-96",children:n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 flex items-center gap-4 shadow-lg",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Total Output"}),n.jsxs("div",{className:"bg-white rounded-xl px-12 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner ml-auto",children:[n.jsx("span",{className:"text-2xl font-bold",children:r.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium",children:"Watts"})]})]})})]})]})},ML=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],FL=()=>{const[t,e]=O.useState(ML.find(o=>o.id==="1bedroom")?.appliances||[]),s=t.reduce((o,c)=>o+c.totalWattage,0),a=Math.round(s*1.2),r=(o,c)=>{e(d=>d.map(h=>{if(h.id===o){const f=Math.max(0,h.quantity+c);return{...h,quantity:f,totalWattage:h.wattage*f}}return h}))};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Panel Calculator"}),n.jsxs("div",{className:"flex gap-5",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:t.map(o=>n.jsx("div",{className:"px-6 py-3",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[n.jsx("div",{className:"text-white bg-[#273E8E] px-2 py-2 rounded-full w-21.5 text-sm font-medium",children:o.name}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>r(o.id,-1),className:"w-8 h-8 flex items-center justify-center transition-colors",children:n.jsx("img",{src:lt.minus,alt:""})}),n.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:o.quantity}),n.jsx("button",{onClick:()=>r(o.id,1),className:"w-8 h-8 flex items-center justify-center  transition-colors",children:n.jsx("img",{src:lt.plus,alt:""})})]}),n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"text-black text-md font-semibold",children:[o.totalWattage,"w"]})})]})},o.id))})})}),n.jsx("div",{className:"w-1/3",children:n.jsx("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 shadow-lg",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Total Load"}),n.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[n.jsx("span",{className:"text-2xl font-bold",children:s.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium mt-3",children:"Watts"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Inverter Rating"}),n.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[n.jsx("span",{className:"text-2xl font-bold",children:a.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium mt-3",children:"VA"})]})]})]})})})]})]})},OL=()=>{const[t,e]=O.useState("inverter");return n.jsxs("div",{className:"w-full ",children:[n.jsx("div",{className:"inline-flex bg-white rounded-full p-2 mb-8 border border-[#CDCDCD]",children:LL.map(s=>n.jsx("button",{onClick:()=>e(s.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===s.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:s.name},s.id))}),t==="inverter"&&n.jsx(DL,{}),t==="solar"&&n.jsx(FL,{}),t==="battery"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Battery Estimator"}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Battery Estimator - Coming Soon"})})]}),t==="savings"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Savings Estimator"}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Solar Savings Estimator - Coming Soon"})})]})]})},TL=[{id:"notification",label:"Notification"},{id:"banner",label:"Banner"}],PL=({isOpen:t,onClose:e,onSave:s})=>{const[a,r]=O.useState(null),[o,c]=O.useState(""),d=p=>{const x=p.target.files?.[0];x&&r(x)},h=()=>{a&&o.trim()&&(s(a,o),r(null),c(""),e())},f=()=>{r(null),c(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-110 max-w-md mx-4 relative",children:[n.jsx("button",{onClick:f,className:"absolute top-4 right-4 cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Upload Banner"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",id:"banner-upload"}),n.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-12 h-12 mb-3 text-gray-400",children:n.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),n.jsx("p",{className:"text-sm text-gray-500",children:a?a.name:"Upload banner image"}),!a&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click to select an image file"})]})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Link"}),n.jsx("input",{type:"url",value:o,onChange:p=>c(p.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),n.jsx("button",{onClick:h,disabled:!a||!o.trim(),className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer",children:"Save"})]})}):null},BL=async t=>await ht(ft.ADMIN.BannersList,"GET",void 0,t),RL=async(t,e)=>await ht(ft.ADMIN.AddBanner,"POST",t,e),UL=async(t,e)=>await ht(ft.ADMIN.DeleteBanner(t),"DELETE",void 0,e),IL=async(t,e,s)=>await ht(ft.ADMIN.UpdateBanner(t),"PUT",e,s),zL="https://troosolar.hmstech.org",qL=`${zL}/storage`,HL=t=>String(t||"").replace(/^\/+/,""),$L=t=>t?`${qL}/${HL(t)}`:"/assets/images/banner.png",VL=({isModalOpen:t=!1,setIsModalOpen:e}={})=>{const[s,a]=O.useState([]),[r,o]=O.useState(null),[c,d]=O.useState(!1),[h,f]=O.useState(null),p=Xt.get("token"),{data:x,isLoading:w,isError:y,refetch:j}=Qt({queryKey:["all-banners"],queryFn:()=>BL(p||""),enabled:!!p});console.log("getAllBanners response:",x),O.useEffect(()=>{x?.data&&a(x.data.map(T=>{const F=String(T.image||""),Z=$L(F),K=T.created_at?new Date(T.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"";return{id:String(T.id),image:Z,rawPath:F,dateCreated:K,isSelected:!1}}))},[x?.data]);const _=hs({mutationFn:async T=>{const F=await RL(T,p||"");return console.log("addBanner response:",F),F},onSuccess:()=>{j(),e&&e(!1)},onError:T=>{console.log("addBanner error:",T),alert("Failed to add banner.")}}),C=hs({mutationFn:async T=>{const F=await UL(T,p||"");return console.log("deleteBanner response:",F),F},onSuccess:()=>{j(),d(!1),f(null)},onError:T=>{console.log("deleteBanner error:",T),alert("Failed to delete banner.")}}),S=hs({mutationFn:async({id:T,formData:F})=>{const Z=await IL(T,F,p||"");return console.log("updateBanner response:",Z),Z},onSuccess:()=>{j(),o(null),e&&e(!1)},onError:T=>{console.log("updateBanner error:",T),alert("Failed to update banner.")}}),L=T=>{a(F=>F.map(Z=>Z.id===T?{...Z,isSelected:!Z.isSelected}:Z))},E=T=>{a(F=>F.map(Z=>({...Z,isSelected:T})))},P=T=>{const F=s.find(Z=>Z.id===T);F&&(o(F),e&&e(!0))},V=(T,F)=>{if(r)if(T){const Z=new FormData;Z.append("image",T),S.mutate({id:r.id,formData:Z})}else o(null),e&&e(!1);else if(T){const Z=new FormData;Z.append("image",T),_.mutate(Z)}},ae=T=>{const F=s.find(Z=>Z.id===T);F&&(f(F),d(!0))},G=()=>{d(!1),f(null)},U=()=>{h&&C.mutate(h.id)},I=s.length>0&&s.every(T=>T.isSelected),ee=s.some(T=>T.isSelected);return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[w?n.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"Loading banners..."}):y?n.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load banners."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:I,ref:T=>{T&&(T.indeterminate=ee&&!I)},onChange:T=>E(T.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Banner Image"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(T=>n.jsxs("tr",{className:"bg-[#F8F8F8] transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:T.isSelected||!1,onChange:()=>L(T.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center align-middle",children:n.jsx("div",{className:"flex justify-center items-center w-48 h-20 rounded-lg overflow-hidden border border-gray-200 mx-auto",children:n.jsx("img",{src:T.image,alt:`Banner ${T.id}`,className:"w-full h-full object-cover",onError:F=>{const Z=F.target;Z.src="/assets/images/banner.png"}})})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:T.dateCreated})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>P(T.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Banner"}),n.jsx("button",{onClick:()=>ae(T.id),className:"bg-red-500 text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},T.id))})]}),!w&&!y&&s.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No banners found."})})]}),n.jsx(PL,{isOpen:t||!!r,onClose:()=>{e&&e(!1),o(null)},onSave:V,...r?{image:r.image,modalTitle:"Edit Banner"}:{modalTitle:"New Banner"}}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[n.jsx("button",{onClick:G,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:"/assets/images/cross.png",alt:""})}),n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),n.jsx("p",{className:"mb-8 text-gray-700",children:"Are you sure you want to delete this banner?"}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:G,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),n.jsx("button",{onClick:U,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})})]})},WL=({isOpen:t,onClose:e,onSave:s,subject:a="",message:r="",modalTitle:o="New Notification"})=>{const[c,d]=O.useState(a),[h,f]=O.useState(r);O.useEffect(()=>{d(a)},[a,t]),O.useEffect(()=>{f(r)},[r,t]);const p=()=>{(o==="Edit Notification"||c.trim())&&h.trim()&&(s(c,h),d(""),f(""),e())},x=()=>{d(""),f(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 w-150 max-w-2xl mx-4 relative",children:[n.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:lt.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:o}),o!=="Edit Notification"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Type subject",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:h,onChange:w=>f(w.target.value),placeholder:"Type Message",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm resize-none"})]}),n.jsx("button",{onClick:p,className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Save"})]})}):null},GL=async t=>await ht(ft.ADMIN.NotificationsList,"GET",void 0,t),YL=async(t,e)=>await ht(ft.ADMIN.AddNotification,"POST",t,e),KL=async(t,e)=>await ht(ft.ADMIN.DeleteNotification(t),"DELETE",void 0,e),XL=async(t,e,s)=>await ht(ft.ADMIN.UpdateNotification(t),"PUT",e,s),QL=()=>{const[t,e]=O.useState("notification"),[s,a]=O.useState([]),[r,o]=O.useState(!1),[c,d]=O.useState(!1),[h,f]=O.useState(null),[p,x]=O.useState(!1),[w,y]=O.useState(null),[j,_]=O.useState(1),[C]=O.useState(10),S=Xt.get("token"),{data:L,isLoading:E,isError:P,refetch:V}=Qt({queryKey:["all-notifications"],queryFn:()=>GL(S||""),enabled:!!S});O.useEffect(()=>{L?.data&&a(L.data.map(D=>({id:String(D.id),message:D.message,dateCreated:D.created_at?new Date(D.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",isSelected:!1})))},[L?.data]);const ae=hs({mutationFn:async({subject:D,message:W})=>await YL({subject:D,message:W},S||""),onSuccess:()=>{V(),o(!1)},onError:()=>{alert("Failed to add notification.")}}),G=hs({mutationFn:async D=>await KL(D,S||""),onSuccess:()=>{V()},onError:()=>{alert("Failed to delete notification.")}}),U=hs({mutationFn:async({id:D,message:W})=>await XL(D,{title:"",message:W,type:""},S||""),onSuccess:()=>{V(),f(null),o(!1)},onError:()=>{alert("Failed to update notification.")}}),I=D=>{a(W=>W.map(z=>z.id===D?{...z,isSelected:!z.isSelected}:z))},ee=D=>{a(W=>W.map(z=>({...z,isSelected:D})))},T=D=>{const W=s.find(z=>z.id===D);W&&(f(W),o(!0))},F=D=>{const W=s.find(z=>z.id===D);W&&(y(W),x(!0))},Z=()=>{w&&(G.mutate(w.id),x(!1),y(null))},K=()=>{x(!1),y(null)},fe=(D,W)=>{h?U.mutate({id:h.id,message:W}):ae.mutate({subject:D,message:W})},R=s.length>0&&s.every(D=>D.isSelected),ie=s.some(D=>D.isSelected),re=Math.ceil(s.length/C),me=(j-1)*C,X=me+C,de=s.slice(me,X);return O.useEffect(()=>{_(1)},[t]),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"inline-flex bg-white rounded-full p-2 border border-[#CDCDCD]",children:TL.map(D=>n.jsx("button",{onClick:()=>e(D.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===D.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:D.label},D.id))}),n.jsx("button",{onClick:()=>{f(null),t==="notification"?o(!0):d(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:t==="banner"?"New Banner":"New Notification"})]}),t==="notification"?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[E?n.jsx(Mn,{message:"Loading notifications..."}):P?n.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load notifications."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:R,ref:D=>{D&&(D.indeterminate=ie&&!R)},onChange:D=>ee(D.target.checked),className:"w-4 h-4 text-[#273E8E] bg-[#F8F8F8] border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Notification"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:de.map((D,W)=>n.jsxs("tr",{className:`${W%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:D.isSelected||!1,onChange:()=>I(D.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-800",children:D.message})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:D.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>T(D.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Notification"}),n.jsx("button",{onClick:()=>F(D.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},D.id))})]}),re>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",me+1," to ",Math.min(X,s.length)," of ",s.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(D=>Math.max(D-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,re)},(D,W)=>{let z;return re<=5||j<=3?z=W+1:j>=re-2?z=re-4+W:z=j-2+W,n.jsx("button",{onClick:()=>_(z),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===z?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:z},z)})}),n.jsx("button",{onClick:()=>_(D=>Math.min(D+1,re)),disabled:j===re,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===re?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),!E&&!P&&s.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No notifications found."})})]}):n.jsx(VL,{isModalOpen:c,setIsModalOpen:d}),n.jsx(WL,{isOpen:r,onClose:()=>{o(!1),f(null)},onSave:fe,...h?{subject:"",message:h.message,modalTitle:"Edit Notification"}:{modalTitle:"New Notification"}}),n.jsx(Om,{isOpen:p,onClose:K,onConfirm:Z,message:"Are you sure you want to delete this notification?"})]})},ZL=[{id:"1",categoryName:"Solar Panel",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",categoryName:"Inverter",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1},{id:"3",categoryName:"Batteries",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1}],JL=[{id:"1",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"3",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1}],eD=t=>{const e=new FormData;return e.append("title",t.title),e.append("icon",t.icon),e},tD=async(t,e)=>{const s=eD(t);return await ht(ft.ADMIN.AddCategory,"POST",s,e)},sD=async(t,e)=>await ht(ft.ADMIN.DeleteCategory(t),"DELETE",void 0,e),nD="https://troosolar.hmstech.org/api",jv=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:r})=>{const[o,c]=O.useState(""),[d,h]=O.useState(null),[f,p]=O.useState(""),[x,w]=O.useState(null),[y,j]=O.useState(!1),_=Xt.get("token");O.useEffect(()=>{a&&r?(c(r.categoryName||""),p(r.status||""),w(r.image||null),h(null),console.log(" Modal opened in edit mode:",{editData:r,categoryName:r.categoryName,status:r.status,imagePreview:r.image})):(c(""),h(null),p(""),w(null),console.log(" Modal opened in add mode  state reset"))},[a,r,t]);const C=V=>{const ae=V.target.files?.[0];if(ae){if(!ae.type.startsWith("image/")){alert("Please select a valid image file");return}if(ae.size>5*1024*1024){alert("Please select an image smaller than 5MB");return}h(ae);const G=URL.createObjectURL(ae);w(G),console.log(" New image selected:",ae)}},S=V=>{V.preventDefault()},L=V=>{V.preventDefault();const ae=V.dataTransfer.files;if(ae.length>0){const G=ae[0];if(G.type.startsWith("image/")){h(G);const U=URL.createObjectURL(G);w(U),console.log(" Image dropped:",G)}else alert("Please drop a valid image file")}},E=async()=>{j(!0);try{if(!a)o&&d&&f&&(console.log(" Adding category:",{title:o,status:f,icon:d.name}),await tD({title:o,icon:d},_||""));else if(r&&o&&f){const V=new FormData;V.append("title",o),V.append("status",f),d&&V.append("icon",d),console.log(" Updating category FormData:",Array.from(V.entries())),await qs.post(`${nD}/categories/${r.id}/update`,V,{headers:{Authorization:`Bearer ${_}`,Accept:"application/json","Content-Type":"multipart/form-data"}})}await s(o,d,f),c(""),h(null),p(""),w(null),e()}catch(V){console.error("Save error:",V)}finally{j(!1)}},P=()=>{c(""),h(null),p(""),w(null),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Category":"Add Category"}),n.jsx("button",{onClick:P,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"px-6 py-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),n.jsx("input",{type:"text",value:o,onChange:V=>c(V.target.value),placeholder:"Type category name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:S,onDrop:L,onClick:()=>document.getElementById("imageUpload")?.click(),children:[x?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:x,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto border-2 border-gray-200"}),n.jsx("button",{onClick:V=>{V.stopPropagation(),h(null),w(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:d?.name}),n.jsx("button",{onClick:V=>{V.stopPropagation(),document.getElementById("imageUpload")?.click()},className:"text-[#273E8E] text-sm font-medium hover:underline",children:"Change Photo"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-700 font-medium",children:"Upload category photo"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Drag and drop your photo here, or click to browse"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports: JPG, PNG, GIF (Max: 5MB)"})]})]}),n.jsx("input",{id:"imageUpload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:C,className:"hidden"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:f,onChange:V=>p(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Update Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Pending",children:"Pending"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"px-6 py-4",children:n.jsx("button",{onClick:E,disabled:!o.trim()||!f||y,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?"Saving...":"Save"})})]})}):null},aD=t=>{const e=new FormData;return e.append("title",t.title),e.append("category_id",t.category_id.toString()),e},iD=async(t,e)=>{const s=aD(t);return await ht(ft.ADMIN.AddBrand,"POST",s,e)},rD=async(t,e,s)=>(console.log("updateBrand called with:",{id:t,payload:e,token:s?"present":"missing"}),await ht(ft.ADMIN.UpdateBrand(t),"PUT",e,s)),oD=async(t,e)=>await ht(ft.ADMIN.DeleteBrand(t),"DELETE",void 0,e),Sv=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:r})=>{const[o,c]=O.useState(""),[d,h]=O.useState(""),[f,p]=O.useState(""),x=Xt.get("token"),{data:w,isLoading:y}=Qt({queryKey:["categories"],queryFn:()=>Xm(x||""),enabled:!!x&&t}),j=O.useMemo(()=>w?.data||[],[w]);O.useEffect(()=>{a&&r?(c(r.category||""),h(r.brandName||""),p(r.status||"")):(c(""),h(""),p(""))},[a,r,t]);const _=hs({mutationFn:E=>iD({title:E.title,category_id:E.category_id},x||""),onSuccess:()=>{s(o,d,f),c(""),h(""),p(""),e()}}),C=hs({mutationFn:E=>rD(E.id,{title:E.title,category_id:E.category_id},x||""),onSuccess:()=>{s(o,d,f),c(""),h(""),p(""),e()}}),S=()=>{if(o.trim()&&d.trim()&&f)if(a&&r){const E={id:r.id,title:d,category_id:o};console.log("Update Brand Payload:",E),console.log("Category Name (ID):",o),console.log("Brand Name:",d),C.mutate(E)}else{const E={title:d,category_id:o};console.log("Add Brand Payload:",E),_.mutate(E)}},L=()=>{c(""),h(""),p(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Brand":"Add Brand"}),n.jsx("button",{onClick:L,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:lt.cross,alt:""})})]}),n.jsxs("div",{className:"px-6 py-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:o,onChange:E=>c(E.target.value),disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:y?"Loading categories...":"Select category"}),j.map(E=>n.jsx("option",{value:E.id.toString(),children:E.title},E.id))]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:y?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}):n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Name"}),n.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Enter brand name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:f,onChange:E=>p(E.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Pending",children:"Pending"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"px-6 py-4",children:n.jsx("button",{onClick:S,disabled:!o.trim()||!d.trim()||!f,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors cursor-pointer",children:_.isPending||C.isPending?"Saving...":"Save"})})]})}):null},lD="https://troosolar.hmstech.org",cD=()=>{const[t,e]=O.useState(ZL),[s,a]=O.useState(JL),[r,o]=O.useState("categories"),[c,d]=O.useState(!1),[h,f]=O.useState(!1),[p,x]=O.useState(!1),[w,y]=O.useState(null),[j,_]=O.useState(!1),[C,S]=O.useState(null),[L,E]=O.useState(!1),[P,V]=O.useState(null),[ae,G]=O.useState(!1),[U,I]=O.useState(null),[ee,T]=O.useState(1),[F]=O.useState(10),[Z,K]=O.useState(!1),[fe,R]=O.useState(""),ie=O.useRef(null),re=[{value:"",label:"Categories",icon:null},{value:"solar-panels",label:"Solar Panels",icon:"/assets/images/solarpanel.png"},{value:"batteries",label:"Batteries",icon:"/assets/images/batteries.png"},{value:"inverters",label:"Inverters",icon:"/assets/images/inverters.png"},{value:"mttp-chargers",label:"MTTP Chargers",icon:"/assets/images/mttpcharger.png"},{value:"led-bulbs",label:"LED Bulbs",icon:"/assets/images/bulb.png"},{value:"solar-fans",label:"Solar Fans",icon:"/assets/images/solarfans.png"}],me=ze=>{R(ze.value),K(!1)},X=()=>{K(!Z)},de=()=>re.find(ze=>ze.value===fe)||re[0];O.useEffect(()=>{const ze=nt=>{ie.current&&!ie.current.contains(nt.target)&&K(!1)};return document.addEventListener("mousedown",ze),()=>{document.removeEventListener("mousedown",ze)}},[]);const D=ze=>{e(nt=>nt.map(st=>st.id===ze?{...st,isSelected:!st.isSelected}:st))},W=ze=>{e(nt=>nt.map(st=>({...st,isSelected:ze})))},z=Xt.get("token"),{data:$,isLoading:ne,isError:te,refetch:ge}=Qt({queryKey:["all-categories"],queryFn:()=>Xm(z||""),enabled:!!z});O.useEffect(()=>{$&&$?.status==="success"&&Array.isArray($.data)&&e($.data.map(ze=>({id:String(ze.id),categoryName:ze.title,image:ze.icon?`${lD}${ze.icon}`:"/assets/images/category.png",dateCreated:ze.created_at?new Date(ze.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[$]);const Ne=ze=>{const nt=t.find(st=>st.id===ze);nt&&(y(nt),x(!0))},Oe=async(ze,nt,st)=>{if(nt){const Ds=URL.createObjectURL(nt),ss={id:(t.length+1).toString(),categoryName:ze,image:Ds,dateCreated:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"),status:st,isSelected:!1};e(Ft=>[...Ft,ss])}},Xe=async(ze,nt,st)=>{x(!1),y(null),ge()},Re=ze=>{a(nt=>nt.map(st=>st.id===ze?{...st,isSelected:!st.isSelected}:st))},Je=ze=>{a(nt=>nt.map(st=>({...st,isSelected:ze})))},{data:ke,isLoading:he,isError:Rt,refetch:Te}=Qt({queryKey:["all-brands"],queryFn:()=>ox(z||""),enabled:!!z});O.useEffect(()=>{ke&&ke?.status==="success"&&Array.isArray(ke.data)&&a(ke.data.map(ze=>({id:String(ze.id),brandName:ze.title,category:ze.category_id?String(ze.category_id):"",dateCreated:ze.created_at?new Date(ze.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[ke]);const et=hs({mutationFn:ze=>sD(ze,z||""),onSuccess:()=>{ge()}}),Fe=ze=>{const nt=t.find(st=>st.id===ze);nt&&(S(nt),_(!0))},Ve=()=>{C&&(et.mutate(C.id),_(!1),S(null))},Ze=()=>{_(!1),S(null)},St=hs({mutationFn:ze=>oD(ze,z||""),onSuccess:()=>{Te()}}),xt=ze=>{const nt=s.find(st=>st.id===ze);nt&&(V(nt),E(!0))},Zt=()=>{P&&(St.mutate(P.id),E(!1),V(null))},Ye=()=>{E(!1),V(null)},ct=ze=>{const nt=s.find(st=>st.id===ze);nt&&(I(nt),G(!0))},vt=async(ze,nt,st)=>{f(!1),Te()},At=async(ze,nt,st)=>{G(!1),I(null),Te()},ye=t.every(ze=>ze.isSelected),tt=t.some(ze=>ze.isSelected),ot=s.every(ze=>ze.isSelected),Ht=s.some(ze=>ze.isSelected),Yt=r==="categories"?t:s,it=Math.ceil(Yt.length/F),kt=(ee-1)*F,is=kt+F,jt=Yt.slice(kt,is);return O.useEffect(()=>{T(1)},[r]),n.jsxs("div",{className:"w-full ",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"bg-[#FFFFFF] rounded-full p-2 flex border border-gray-200 cursor-pointer",children:[n.jsx("button",{onClick:()=>o("categories"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${r==="categories"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Categories"}),n.jsx("button",{onClick:()=>o("brand"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${r==="brand"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Brand"})]}),n.jsxs("div",{className:"relative",ref:ie,children:[n.jsxs("button",{onClick:X,className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 flex items-center justify-between min-w-[140px] focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E]",children:[n.jsxs("div",{className:"flex items-center",children:[de().icon&&n.jsx("img",{src:de().icon||"",alt:de().label,className:"w-4 h-4 mr-2 object-contain",onError:ze=>{const nt=ze.target;nt.style.display="none"}}),n.jsx("span",{children:de().label})]}),n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Z&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-y-auto",style:{width:"397px",height:"400px"},children:n.jsx("div",{className:"p-3",children:re.slice(1).map(ze=>n.jsxs("button",{onClick:()=>me(ze),className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-lg mb-2 last:mb-0 ${fe===ze.value?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-transparent"}`,children:[ze.icon&&n.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#BEBEF1] rounded-full ",children:n.jsx("img",{src:ze.icon||"",alt:ze.label,className:"w-12 h-12 object-contain",onError:nt=>{const st=nt.target;st.style.display="none"}})}),n.jsx("span",{className:"font-medium text-gray-800",children:ze.label})]},ze.value))})})]})]}),n.jsx("button",{onClick:()=>{r==="categories"?d(!0):f(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:r==="categories"?"Add New Category":"Add New Brand"})]}),r==="categories"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[ne?n.jsx(Mn,{message:"Loading categories..."}):te?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load categories."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:ye,ref:ze=>{ze&&(ze.indeterminate=tt&&!ye)},onChange:ze=>W(ze.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Category Name"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Image"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:jt.map((ze,nt)=>{const st=ze;return n.jsxs("tr",{className:`${nt%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:st.isSelected||!1,onChange:()=>D(st.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:st.categoryName})}),n.jsx("td",{className:"px-6 py-4 flex justify-center items-center",children:n.jsx("div",{className:"w-12 h-12  overflow-hidden ",children:n.jsx("img",{src:st.image,alt:`${st.categoryName} category`,className:"w-full h-full object-cover",onError:Ds=>{const ss=Ds.target;ss.src="/assets/images/category.png"}})})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:st.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${st.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:st.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>Ne(st.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),n.jsx("button",{onClick:()=>Fe(st.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},st.id)})})]}),it>1&&r==="categories"&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",kt+1," to ",Math.min(is,t.length)," of ",t.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T(ze=>Math.max(ze-1,1)),disabled:ee===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,it)},(ze,nt)=>{let st;return it<=5||ee<=3?st=nt+1:ee>=it-2?st=it-4+nt:st=ee-2+nt,n.jsx("button",{onClick:()=>T(st),className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===st?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:st},st)})}),n.jsx("button",{onClick:()=>T(ze=>Math.min(ze+1,it)),disabled:ee===it,className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===it?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),t.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No categories found."})}),n.jsx(Om,{isOpen:j,onClose:Ze,onConfirm:Ve,message:"Are you sure you want to delete this category?"})]}),r==="brand"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[he?n.jsx(Mn,{message:"Loading brands..."}):Rt?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load brands."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:ot,ref:ze=>{ze&&(ze.indeterminate=Ht&&!ot)},onChange:ze=>Je(ze.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Brand Name"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Category"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:jt.map((ze,nt)=>{const st=ze;return n.jsxs("tr",{className:`${nt%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:st.isSelected||!1,onChange:()=>Re(st.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:st.brandName})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:st.category})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:st.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${st.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:st.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>ct(st.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Brand"}),n.jsx("button",{onClick:()=>xt(st.id),className:"bg-[#FF0000] text-white px-8 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},st.id)})})]}),it>1&&r==="brand"&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",kt+1," to ",Math.min(is,s.length)," of ",s.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T(ze=>Math.max(ze-1,1)),disabled:ee===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,it)},(ze,nt)=>{let st;return it<=5||ee<=3?st=nt+1:ee>=it-2?st=it-4+nt:st=ee-2+nt,n.jsx("button",{onClick:()=>T(st),className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===st?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:st},st)})}),n.jsx("button",{onClick:()=>T(ze=>Math.min(ze+1,it)),disabled:ee===it,className:`px-3 py-2 text-sm font-medium rounded-md border ${ee===it?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),s.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No brands found."})}),n.jsx(Om,{isOpen:L,onClose:Ye,onConfirm:Zt,message:"Are you sure you want to delete this brand?"})]}),n.jsx(jv,{isOpen:c,onClose:()=>d(!1),onSave:Oe}),n.jsx(jv,{isOpen:p,onClose:()=>{x(!1),y(null)},onSave:Xe,editMode:!0,editData:w}),n.jsx(Sv,{isOpen:h,onClose:()=>f(!1),onSave:vt}),n.jsx(Sv,{isOpen:ae,onClose:()=>{G(!1),I(null)},onSave:At,editMode:!0,editData:U||void 0})]})},uD=()=>{const[t,e]=O.useState("admins"),s=[{id:"admins",label:"Admins"},{id:"tools",label:"Tools"},{id:"product",label:"Product"},{id:"financing",label:"Financing Partner"},{id:"notifications",label:"Notifications"}];return n.jsxs("div",{className:"min-[#F5F7FF]  bg-[#F5F7FF]",children:[n.jsx(Jn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-3xl font-semibold mb-8",children:"Settings"}),n.jsx("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:s.map(a=>n.jsxs("button",{onClick:()=>e(a.id),className:`pb-2 cursor-pointer relative ${t===a.id?"text-black font-semibold":"text-[#00000080]"}`,children:[a.label,t===a.id&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]},a.id))}),n.jsxs("div",{className:t==="admins"?"":"px-6",children:[t==="admins"&&n.jsx(SL,{}),t==="tools"&&n.jsx(OL,{}),t==="product"&&n.jsx(cD,{}),t==="financing"&&n.jsx(EL,{}),t==="notifications"&&n.jsx(QL,{})]})]})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),_v=t=>{const e=hD(t);return e.charAt(0).toUpperCase()+e.slice(1)},gN=(...t)=>t.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),fD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:c,...d},h)=>O.createElement("svg",{ref:h,...mD,width:e,height:e,stroke:t,strokeWidth:a?Number(s)*24/Number(e):s,className:gN("lucide",r),...!o&&!fD(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>O.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=(t,e)=>{const s=O.forwardRef(({className:a,...r},o)=>O.createElement(pD,{ref:o,iconNode:e,className:gN(`lucide-${dD(_v(t))}`,`lucide-${t}`,a),...r}));return s.displayName=_v(t),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xD=xN("eye-off",gD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yD=xN("eye",bD),Va=({type:t="text",id:e,label:s,placeholder:a,value:r,onChange:o,isPassword:c=!1,hidePassword:d=!1,setHidePassword:h,isMobile:f=!1,icon:p})=>n.jsxs("div",{className:f?"":"mb-4",children:[n.jsx("label",{htmlFor:e,className:"block mb-3  text-[16px] text-gray-600",children:s}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?d?"password":"text":t,id:e,placeholder:a,className:"w-full border border-gray-300 bg-white rounded-lg p-3 pr-12  focus:outline-none focus:ring-2 text-[16px] focus:ring-blue-500",value:r,onChange:o}),!c&&p&&(typeof p=="string"?n.jsx("img",{src:p,alt:"",className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5"}):n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:p})),c&&h&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",onClick:()=>h(!d),children:d?n.jsx(xD,{size:20}):n.jsx(yD,{size:20})})]})]}),vD=()=>{const t=vi(),e=wi(),s=t.pathname==="/login",[a,r]=O.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",code:""}),[o,c]=O.useState(!0),[d,h]=O.useState(null),{mutate:f,isPending:p}=hs({mutationFn:x6,onSuccess:y=>{y?.token&&Xt.set("token",y.token,{expires:7}),h(null),e("/dashboard")},onError:y=>{h(y?.message||"Login failed")}}),x=y=>{const{id:j,value:_}=y.target;r(C=>({...C,[j]:_}))},w=y=>{y.preventDefault(),h(null),a.email&&a.password&&f({email:a.email,password:a.password})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"w-full h-screen sm:flex hidden overflow-clip",children:[n.jsxs("div",{className:"relative w-1/2 overflow-hidden",children:[n.jsx("img",{src:lt.loginImage,alt:"Login Visual",className:"w-full h-full object-cover",loading:"lazy"}),n.jsx("div",{className:"absolute bottom-24 left-12 text-white w-[80%]",children:n.jsxs("p",{className:"text-lg  leading-relaxed",children:["Providing affordable, sustainable and reliable ",n.jsx("br",{}),"solar energy solutions for millions ",n.jsx("br",{}),"of Nigerians"]})}),n.jsxs("div",{className:"absolute bottom-6 left-12 flex gap-4",children:[n.jsx("img",{src:lt.insta,alt:"Instagram",className:"h-10 w-10"}),n.jsx("img",{src:lt.whatsApp,alt:"WhatsApp",className:"h-10 w-10"}),n.jsx("img",{src:lt.twitter,alt:"Twitter",className:"h-10 w-10"}),n.jsx("img",{src:lt.yt,alt:"YouTube",className:"h-10 w-10"})]})]}),n.jsx("div",{className:"w-1/2 bg-[#f5f7ff] flex justify-center items-center",children:n.jsx("div",{className:"w-[90%] max-w-[600px] p-6 bg-white rounded-2xl shadow-lg",children:n.jsxs("form",{className:"space-y-6",onSubmit:w,children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:lt.logo1,alt:"Logo",className:"w-[200px] mx-auto mb-6",loading:"lazy"}),n.jsx("h2",{className:"text-3xl font-semibold",children:s?"Login":"Create an Account"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s?"Login to access your account":"Provide your personal information to help us know you better"})]}),n.jsxs("div",{className:"space-y-4",children:[!s&&n.jsxs(n.Fragment,{children:[n.jsx(Va,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x}),n.jsx(Va,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x})]}),n.jsx(Va,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x}),n.jsx("div",{className:"sm:hidden block",children:!s&&n.jsxs(n.Fragment,{children:[n.jsx(Va,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:o,setHidePassword:c,value:a.password,onChange:x}),n.jsx(Va,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x}),n.jsx(Va,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x})]})}),n.jsx(Va,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:o,setHidePassword:c,value:a.password,onChange:x})]}),d&&n.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),n.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-lg transition duration-200 flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?n.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:s?"Login":"Create Account"]})]})})})]}),n.jsxs("div",{className:"w-full min-h-screen sm:hidden block relative",children:[n.jsx("img",{src:lt.loginImageForSm,className:"w-full h-[40vh] object-cover",alt:"Mobile Background"}),n.jsxs("div",{className:"bg-[#273e8e] absolute top-[31vh] w-full rounded-t-4xl shadow-md p-6 text-center mb-6",children:[n.jsx("img",{src:lt.smLogo,alt:"Logo",className:"mx-auto mb-2 w-28"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Login":"Create an account"}),n.jsx("p",{className:"text-xs text-white",children:s?"Login to access your account":"Provide your personal information to help us know you better"})]}),n.jsxs("form",{className:"space-y-4 p-4 mt-24",onSubmit:w,children:[!s&&n.jsxs(n.Fragment,{children:[n.jsx(Va,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x,isMobile:!0}),n.jsx(Va,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x,isMobile:!0})]}),n.jsx(Va,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x,isMobile:!0}),!s&&n.jsxs(n.Fragment,{children:[n.jsx(Va,{id:"phone",label:"Phone Number",placeholder:"Phone Number",type:"tel",value:a.phone,onChange:x,isMobile:!0}),n.jsx(Va,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x,isMobile:!0})]}),n.jsx(Va,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:o,setHidePassword:c,value:a.password,onChange:x,isMobile:!0}),!s&&n.jsx(Va,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x,isMobile:!0}),d&&n.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),n.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-full flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?n.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:s?"Login":"Create Account"]})]})]})]})},sm=[{id:"1",name:"Adewale Faizah",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Pending"},{id:"2",name:"John Adam",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Answered"},{id:"3",name:"Chris Banner",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Closed"},{id:"4",name:"Adam Waa",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Pending"},{id:"5",name:"Anita Shawn",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Pending"},{id:"6",name:"Adewale Faizah",productName:"Newman Inverter",amount:"N1,100,000",date:"05-07-25",time:"07:22AM",status:"Pending"}],wD=async t=>await ht(ft.ADMIN.AllTickets,"GET",void 0,t),ND=async(t,e)=>await ht(ft.ADMIN.TicketShow(t),"GET",void 0,e),jD=async(t,e,s)=>await ht(ft.ADMIN.ReplyTicket(t),"POST",e,s),SD=async(t,e,s)=>await ht(ft.ADMIN.TicketStatusUpdate(t),"POST",e,s),_D=({isOpen:t,onClose:e,ticket:s,onStatusUpdate:a})=>{const[r,o]=O.useState("Change Status"),[c,d]=O.useState(""),[h,f]=O.useState([]),p=O.useRef(null),x=Xt.get("token"),w=s?.id,{data:y,isLoading:j,isError:_,refetch:C}=Qt({queryKey:["single-ticket-detail",w],queryFn:()=>ND(w||"",x||""),enabled:t&&!!w&&!!x});O.useEffect(()=>{if(!y?.data)return;const G=y.data.messages.map((U,I)=>({id:I,role:U.sender==="admin"?"admin":"user",text:U.message,at:U.date?U.date.replace(" "," / "):""}));f(G),o(y.data.status.charAt(0).toUpperCase()+y.data.status.slice(1))},[y?.data]),O.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[h.length]),O.useEffect(()=>{if(!t)return;const G=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[t,e]);const S=O.useMemo(()=>({id:y?.data?.ticket_id??s?.id??"",subject:y?.data?.subject??"Loan Issues",firstRepayment:"July 3, 2025",userName:y?.data?.user_name??s?.name??"Unknown",status:y?.data?.status??s?.status??"Pending",date:y?.data?.date??s?.date??""}),[y?.data,s]),L=hs({mutationFn:async G=>await jD(S.id,{message:G},x||""),onSuccess:()=>{C(),d("")},onError:()=>{alert("Failed to send message.")}}),E=hs({mutationFn:async G=>await SD(S.id,{status:G.toLowerCase()},x||""),onSuccess:()=>{C(),a?.(),console.log("Ticket status updated successfully")},onError:G=>{console.error("Failed to update ticket status:",G),alert("Failed to update ticket status.")}}),P=()=>{const G=c.trim();!G||!S.id||L.mutate(G)},V=G=>{G==="Change Status"||!S.id||(console.log("Updating ticket status to:",G),E.mutate(G))},ae=G=>{G.key==="Enter"&&(G.preventDefault(),P())};return!t||!s?null:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-end bg-black/30 h-full",onMouseDown:G=>{G.target===G.currentTarget&&e()},children:n.jsxs("div",{className:"bg-[#F7F7F8] rounded-2xl w-full max-w-[480px] shadow-xl relative overflow-hidden h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 bg-white",children:[n.jsx("div",{children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Message"})}),n.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[n.jsx("div",{className:"flex justify-end px-5 pt-3 pb-0",children:n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white disabled:opacity-50 disabled:cursor-not-allowed pr-8",value:r,onChange:G=>{const U=G.target.value;o(U),V(U)},disabled:E.isPending,children:[n.jsx("option",{children:"Change Status"}),n.jsx("option",{children:"Pending"}),n.jsx("option",{children:"Answered"}),n.jsx("option",{children:"Closed"})]}),E.isPending&&n.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})}),n.jsx("button",{onClick:e,className:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-gray-100","aria-label":"Close",children:n.jsx("img",{src:lt.cross,alt:"",className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"px-5 pt-3 pb-3",children:n.jsx("div",{className:"rounded-xl bg-white border border-gray-200 p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-y-3 text-sm",children:[n.jsx("div",{className:"text-gray-600",children:"Ticket ID"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:S.id}),n.jsx("div",{className:"text-gray-600",children:"Subject"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:S.subject}),n.jsx("div",{className:"text-gray-600",children:"First Repayment"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:S.firstRepayment})]})})}),n.jsx("div",{className:"px-5 pb-3 flex-1 overflow-y-auto",children:j?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading messages..."}):_?n.jsx("div",{className:"text-center text-red-500 py-8",children:"Failed to load messages."}):n.jsx("div",{ref:p,className:"flex flex-col gap-3 mt-1 max-h-full pr-1",children:h.map(G=>n.jsx("div",{className:`flex ${G.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:"flex flex-col max-w-[78%]",children:[n.jsx("div",{className:G.role==="user"?"self-end bg-[#273E8E] text-white px-4 py-2 rounded-2xl rounded-tr-md shadow-sm text-sm":"self-start bg-[#F3F3F3] text-gray-900 px-4 py-2 rounded-2xl rounded-tl-md shadow-sm text-sm",children:G.text}),n.jsx("span",{className:`mt-1 text-[11px] ${G.role==="user"?"self-end text-gray-400":"self-start text-gray-400"}`,children:G.at})]})},G.id))})}),n.jsx("div",{className:"px-5 pb-5 pt-2 bg-white border-t border-gray-200",style:{position:"sticky",bottom:0,zIndex:2},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 border border-[#CDCDCD] rounded-full px-4 py-3 text-sm focus:outline-none",value:c,onChange:G=>d(G.target.value),onKeyDown:ae,disabled:L.isPending}),n.jsx("button",{onClick:P,disabled:!c.trim()||L.isPending,className:"p-2 rounded-full bg-[#273E8E] disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1e3270] transition","aria-label":"Send message",children:n.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:"white",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})})]})})]})})},AD=()=>{const[t,e]=O.useState("All"),[s,a]=O.useState(""),[r,o]=O.useState([]),[c,d]=O.useState(!1),[h,f]=O.useState(!1),[p,x]=O.useState(null),[w,y]=O.useState(1),[j]=O.useState(10),_=Xt.get("token"),C=$o(),{data:S,isLoading:L,isError:E}=Qt({queryKey:["all-tickets"],queryFn:()=>wD(_||""),enabled:!!_}),P=()=>{console.log("Invalidating tickets query to refresh data..."),C.invalidateQueries({queryKey:["all-tickets"]})},V=S?.data?.summary||{total_tickets:sm.length,pending_tickets:sm.filter(R=>R.status==="Pending").length,answered_tickets:sm.filter(R=>R.status==="Answered").length},ae=S?.data?.tickets?.map(R=>({id:String(R.ticket_id),name:R.user_name,productName:R.subject,amount:"",date:R.date?.split(" ")[0]||"",time:R.date?.split(" ")[1]||"",status:R.status.charAt(0).toUpperCase()+R.status.slice(1)}))||[],G=ae.length>0?ae:sm,U=G.filter(R=>{const ie=t==="All"||R.status.toLowerCase()===t.toLowerCase(),re=!s||R.name.toLowerCase().includes(s.toLowerCase())||R.productName.toLowerCase().includes(s.toLowerCase())||R.amount.toLowerCase().includes(s.toLowerCase())||R.date.toLowerCase().includes(s.toLowerCase())||R.status.toLowerCase().includes(s.toLowerCase());return ie&&re}),I=Math.ceil(U.length/j),ee=(w-1)*j,T=ee+j,F=U.slice(ee,T);yi.useEffect(()=>{y(1)},[s,t]);const Z=()=>{console.log("Notification clicked")},K=()=>{o(c?[]:G.map(R=>R.id)),d(!c)},fe=R=>{r.includes(R)?o(r.filter(ie=>ie!==R)):o([...r,R])};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:Z}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tickets"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:L?n.jsx(Eh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Tickets"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V.total_tickets})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V.pending_tickets})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Answered"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V.answered_tickets})]})]})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tickets Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Pending"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Pending"),children:"Pending"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Answered"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Answered"),children:"Answered"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Closed"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Closed"),children:"Closed"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:R=>a(R.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:L?n.jsx(Mn,{message:"Loading tickets..."}):E?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load tickets."}):U.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No tickets found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:c,onChange:K})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Ticket Id"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:F.map((R,ie)=>n.jsxs("tr",{className:`${ie%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:r.includes(R.id),onChange:()=>fe(R.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:R.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:R.id}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:R.productName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[R.date,R.time?`/${R.time}`:""]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] border",style:{backgroundColor:R.status.toLowerCase()==="answered"?"#E6F7FF":R.status.toLowerCase()==="pending"?"#FFF4E6":R.status.toLowerCase()==="closed"?"#FFE6E6":"#F5F5F5",color:R.status.toLowerCase()==="answered"?"#008000":R.status.toLowerCase()==="pending"?"#FF8C00":R.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderColor:R.status.toLowerCase()==="answered"?"#008000":R.status.toLowerCase()==="pending"?"#FF8C00":R.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderWidth:"1px",borderStyle:"solid"},children:[n.jsx("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:R.status.toLowerCase()==="answered"?"#008000":R.status.toLowerCase()==="pending"?"#FF8C00":R.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",display:"inline-block"}}),R.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>{let re=R;if(S?.data?.tickets){const me=S.data.tickets.find(X=>String(X.ticket_id)===R.id);me&&(re={...R,id:String(me.ticket_id),name:me.user_name,productName:me.subject,amount:"",date:me.date?.split(" ")[0]||"",time:me.date?.split(" ")[1]||"",status:me.status.charAt(0).toUpperCase()+me.status.slice(1),ticket_id:me.ticket_id})}x(re),f(!0)},children:"View Details"})})]},R.id))})]})}),I>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ee+1," to ",Math.min(T,U.length)," of ",U.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y(R=>Math.max(R-1,1)),disabled:w===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,I)},(R,ie)=>{let re;return I<=5||w<=3?re=ie+1:w>=I-2?re=I-4+ie:re=w-2+ie,n.jsx("button",{onClick:()=>y(re),className:`px-3 py-2 text-sm font-medium rounded-md border ${w===re?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:re},re)})}),n.jsx("button",{onClick:()=>y(R=>Math.min(R+1,I)),disabled:w===I,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===I?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),n.jsx(_D,{isOpen:h,onClose:()=>f(!1),ticket:p,onStatusUpdate:P})]})},CD=({onNotificationClick:t})=>n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),kD=({stats:t,isLoading:e=!1})=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("img",{src:s.icon,alt:s.label,className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:s.label}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:s.value})]})]},a))}),ED=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:s,setShowMoreActionsDropdown:a,showSortByDropdown:r,setShowSortByDropdown:o,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:y=""})=>{const[j,_]=O.useState(y);O.useEffect(()=>{_(y)},[y]);const C=L=>{_(L.target.value),x&&x(L.target.value),w&&w(c)},S=L=>{d(L),a(!1),w&&w(L)};return n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"relative",ref:t,children:[n.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!s),o(!1)},children:[n.jsx("span",{children:c}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s&&n.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1 ",children:[n.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("More Actions"),children:"More Actions"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("Active"),children:"Active"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>S("Inactive"),children:"Inactive"})]})})]}),n.jsxs("div",{className:"relative",ref:e,children:[n.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{o(!r),a(!1)},children:[n.jsx("span",{children:h}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Sort By"),children:"Sort By"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Alphabetically"),children:"Alphabetically"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Date Registered"),children:"Date Registered"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>f("Active Users"),children:"Active Users"})]})})]})]}),n.jsx("div",{className:"flex gap-3 mb-3",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:j,onChange:C,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})})]})},LD=({users:t,dotsDropdownRefs:e,openDropdownIndex:s,setOpenDropdownIndex:a,navigate:r,onApproveLoan:o})=>n.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loan calculations found."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((c,d)=>n.jsxs("tr",{className:`${d%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"p-4 text-center font-medium",children:c.name}),n.jsx("td",{className:"p-4 text-center text-black",children:c.email}),n.jsx("td",{className:"p-4 text-center text-black",children:c.phone}),n.jsx("td",{className:"p-4 text-center text-black",children:c.bvn}),n.jsx("td",{className:"p-4 text-center text-black",children:c.date}),n.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{o?.(c)},children:"Offer"}),n.jsxs("div",{className:"relative ml-2.5",ref:h=>{e.current[d]=h},children:[n.jsx("img",{className:"cursor-pointer",src:lt.dots,alt:"",onClick:()=>{a(s===d?null:d)}}),s===d&&n.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${c.id}/loans`),a(null)},children:"View Loans"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${c.id}/transactions`),a(null)},children:"View Transactions"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{r(`/user-activity/${c.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},d))})]})}),DD=()=>{const t=wi(),e=$o(),[s,a]=O.useState(!1),[r,o]=O.useState(!1),[c,d]=O.useState(!1),[h,f]=O.useState("Sort By"),[p,x]=O.useState(null),w=O.useRef(null),y=O.useRef(null),j=O.useRef([]),[_,C]=O.useState({name:"",email:"",phone:"",bvn:"",password:""}),[S,L]=O.useState(!1),[E,P]=O.useState(null),[V,ae]=O.useState({amount:"",duration:""}),G=Xt.get("token"),{data:U,isLoading:I,isError:ee}=Qt({queryKey:["mono-loan-calculations"],queryFn:()=>EE(G||""),enabled:!!G});console.log("Mono Loan Calculations Data:",U);const T=hs({mutationFn:async Re=>{if(!E?.id)throw new Error("No loan selected");return await FC(E.id,Re,G||"")},onSuccess:()=>{console.log("Loan approved successfully"),L(!1),P(null),ae({amount:"",duration:""}),e.invalidateQueries({queryKey:["mono-loan-calculations"]})},onError:Re=>{console.error("Failed to approve loan:",Re),alert("Failed to approve loan. Please try again.")}}),F=yi.useMemo(()=>U?.data?.loan_calculations?U.data.loan_calculations.map(Re=>({id:String(Re.id),name:`${Re.user_first_name} ${Re.user_sur_name}`,email:Re.user_email,phone:Re.user_phone,bvn:"",date:Re.created_at?new Date(Re.created_at).toLocaleDateString("en-GB"):"",is_active:Re.status==="pending"?1:0,loanData:{id:Re.id,user_first_name:Re.user_first_name,user_sur_name:Re.user_sur_name,user_email:Re.user_email,user_phone:Re.user_phone,loan_amount:Re.loan_amount,repayment_duration:Re.repayment_duration,monthly_payment:Re.monthly_payment,interest_percentage:Re.interest_percentage}})):[],[U]),Z=U?.data?.summary?[{label:"Total Calculations",value:U.data.summary.total_calculations,icon:"/assets/images/Users.png"},{label:"Approved Calculations",value:U.data.summary.approved_calculations,icon:"/assets/images/Users.png"},{label:"Pending Calculations",value:U.data.summary.pending_calculations,icon:"/assets/images/Users.png"}]:uw,K=Re=>{Re.loanData&&(P(Re.loanData),ae({amount:Re.loanData.loan_amount.toString(),duration:Re.loanData.repayment_duration.toString()}),L(!0))},fe=Re=>{if(Re.preventDefault(),!V.amount||!V.duration){alert("Please fill in all fields");return}T.mutate(V)},R=()=>{L(!1),P(null),ae({amount:"",duration:""})},[ie,re]=O.useState(""),[me,X]=O.useState("More Actions"),[de,D]=O.useState(1),[W]=O.useState(10),z=yi.useMemo(()=>{let Je=F;return me==="Active"?Je=Je.filter(ke=>ke.is_active===1):me==="Inactive"&&(Je=Je.filter(ke=>ke.is_active===0)),ie&&(Je=Je.filter(ke=>ke.name.toLowerCase().includes(ie.toLowerCase())||ke.email.toLowerCase().includes(ie.toLowerCase())||ke.phone.toLowerCase().includes(ie.toLowerCase()))),Je},[F,ie,me]),$=Math.ceil(z.length/W),ne=(de-1)*W,te=ne+W,ge=z.slice(ne,te);O.useEffect(()=>{D(1)},[ie,me]);const Ne=Re=>{re(Re)},Oe=Re=>{X(Re)};O.useEffect(()=>{const Re=Je=>{w.current&&!w.current.contains(Je.target)&&o(!1),y.current&&!y.current.contains(Je.target)&&d(!1),j.current.every(he=>!he||!he.contains(Je.target))&&x(null)};return document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[]);const Xe=()=>{console.log("Notification clicked in User Management")};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(CD,{onNotificationClick:Xe}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Loan Approval"}),n.jsx(kD,{stats:Z,isLoading:I}),n.jsx("div",{className:"mb-5",children:n.jsx("h1",{className:"font-bold text-2xl",children:"Loan Calculations"})}),n.jsx(ED,{moreActionsRef:w,sortByRef:y,showMoreActionsDropdown:r,setShowMoreActionsDropdown:o,showSortByDropdown:c,setShowSortByDropdown:d,selectedMoreAction:me,setSelectedMoreAction:X,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:a,onSearch:Ne,onAction:Oe,searchTerm:ie}),I?n.jsx("div",{className:"py-8 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500",children:"Loading loan calculations..."})]})}):ee?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan calculations."}):n.jsxs(n.Fragment,{children:[n.jsx(LD,{users:ge,dotsDropdownRefs:j,openDropdownIndex:p,setOpenDropdownIndex:x,navigate:t,onApproveLoan:K}),$>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ne+1," to ",Math.min(te,z.length)," of ",z.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>D(Re=>Math.max(Re-1,1)),disabled:de===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${de===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,$)},(Re,Je)=>{let ke;return $<=5||de<=3?ke=Je+1:de>=$-2?ke=$-4+Je:ke=de-2+Je,n.jsx("button",{onClick:()=>D(ke),className:`px-3 py-2 text-sm font-medium rounded-md border ${de===ke?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ke},ke)})}),n.jsx("button",{onClick:()=>D(Re=>Math.min(Re+1,$)),disabled:de===$,className:`px-3 py-2 text-sm font-medium rounded-md border ${de===$?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),S&&E&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Offer Loan"}),n.jsx("button",{onClick:R,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[E.user_first_name," ",E.user_sur_name]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:E.user_email}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Loan Details:"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{children:["Amount: ",E.loan_amount?.toLocaleString()]}),n.jsxs("p",{children:["Duration: ",E.repayment_duration," months"]}),n.jsxs("p",{children:["Monthly Payment: ",E.monthly_payment]}),n.jsxs("p",{children:["Interest Rate: ",E.interest_percentage,"%"]})]})]})]}),n.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Amount"}),n.jsx("input",{type:"number",value:V.amount,onChange:Re=>ae({...V,amount:Re.target.value}),placeholder:"Enter approved amount",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Duration (months)"}),n.jsx("input",{type:"number",value:V.duration,onChange:Re=>ae({...V,duration:Re.target.value}),placeholder:"Enter approved duration",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:T.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${T.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#1f2f7a] cursor-pointer"}`,children:T.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Offering..."]}):"Offer Loan"})]})]})]})})]})},MD=async(t,e)=>{let s=ft.ADMIN.BNPLApplicationsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.customer_type&&a.append("customer_type",e.customer_type),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const r=a.toString();r&&(s+=`?${r}`)}return await ht(s,"GET",void 0,t)},FD=async(t,e)=>await ht(ft.ADMIN.BNPLApplicationShow(t),"GET",void 0,e),OD=async(t,e)=>{let s=ft.ADMIN.BNPLGuarantorsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const r=a.toString();r&&(s+=`?${r}`)}return await ht(s,"GET",void 0,t)},TD=async(t,e)=>{let s=ft.ADMIN.BuyNowOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const r=a.toString();r&&(s+=`?${r}`)}return await ht(s,"GET",void 0,t)},PD=async(t,e)=>await ht(ft.ADMIN.BuyNowOrderShow(t),"GET",void 0,e),BD=async(t,e)=>{let s=ft.ADMIN.BNPLOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const r=a.toString();r&&(s+=`?${r}`)}return await ht(s,"GET",void 0,t)},RD=async(t,e)=>await ht(ft.ADMIN.BNPLOrderShow(t),"GET",void 0,e),UD=async(t,e,s)=>await ht(ft.ADMIN.BNPLApplicationUpdateStatus(t),"PUT",e,s),ID=async(t,e,s)=>await ht(ft.ADMIN.BNPLGuarantorUpdateStatus(t),"PUT",e,s),zD=async(t,e,s)=>await ht(ft.ADMIN.BuyNowOrderUpdateStatus(t),"PUT",e,s),qD=()=>{const[t,e]=O.useState("BNPL Applications"),[s,a]=O.useState("All"),[r,o]=O.useState(""),[c,d]=O.useState(1),[h]=O.useState(15),[f,p]=O.useState(null),[x,w]=O.useState(!1),[y,j]=O.useState(!1),[_,C]=O.useState({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),S=Xt.get("token")||"",L=$o(),E=()=>{const te={per_page:h,page:c};return s!=="All"&&(te.status=s.toLowerCase()),r&&(te.search=r),te},{data:P,isLoading:V}=Qt({queryKey:["bnpl-applications",s,r,c],queryFn:()=>MD(S,E()),enabled:t==="BNPL Applications"&&!!S}),{data:ae,isLoading:G}=Qt({queryKey:["bnpl-guarantors",s,c],queryFn:()=>OD(S,E()),enabled:t==="BNPL Guarantors"&&!!S}),{data:U,isLoading:I}=Qt({queryKey:["buy-now-orders",s,r,c],queryFn:()=>TD(S,E()),enabled:t==="Buy Now Orders"&&!!S}),{data:ee,isLoading:T}=Qt({queryKey:["bnpl-orders",s,r,c],queryFn:()=>BD(S,E()),enabled:t==="BNPL Orders"&&!!S}),F=hs({mutationFn:async te=>await UD(f.id,te,S),onSuccess:()=>{L.invalidateQueries({queryKey:["bnpl-applications"]}),j(!1),p(null),C({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),Z=hs({mutationFn:async te=>await ID(f.id,te,S),onSuccess:()=>{L.invalidateQueries({queryKey:["bnpl-guarantors"]}),j(!1),p(null),C({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),K=hs({mutationFn:async te=>await zD(f.id,te,S),onSuccess:()=>{L.invalidateQueries({queryKey:["buy-now-orders"]}),j(!1),p(null),C({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),fe=async te=>{p(te);try{let ge;t==="BNPL Applications"?ge=await FD(te.id,S):t==="Buy Now Orders"?ge=await PD(te.id,S):t==="BNPL Orders"?ge=await RD(te.id,S):ge={data:te},p(ge.data),w(!0)}catch(ge){console.error("Failed to fetch details:",ge),alert("Failed to load details. Please try again.")}},R=te=>{p(te),C({status:te.status||te.order_status||"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),j(!0)},ie=()=>{if(!_.status){alert("Please select a status");return}const te={status:_.status};_.admin_notes&&(te.admin_notes=_.admin_notes),_.status==="counter_offer"&&(_.counter_offer_min_deposit&&(te.counter_offer_min_deposit=Number(_.counter_offer_min_deposit)),_.counter_offer_min_tenor&&(te.counter_offer_min_tenor=Number(_.counter_offer_min_tenor))),t==="BNPL Applications"?F.mutate(te):t==="BNPL Guarantors"?Z.mutate(te):t==="Buy Now Orders"&&K.mutate({order_status:_.status,admin_notes:_.admin_notes})},re=()=>{switch(t){case"BNPL Applications":return P?.data;case"BNPL Guarantors":return ae?.data;case"Buy Now Orders":return U?.data;case"BNPL Orders":return ee?.data;default:return null}},me=()=>{switch(t){case"BNPL Applications":return V;case"BNPL Guarantors":return G;case"Buy Now Orders":return I;case"BNPL Orders":return T;default:return!1}},X=te=>{const ge=te.toLowerCase();return ge==="approved"||ge==="delivered"?{backgroundColor:"#10B981",color:"white"}:ge==="pending"||ge==="processing"?{backgroundColor:"#F59E0B",color:"white"}:ge==="rejected"||ge==="cancelled"?{backgroundColor:"#EF4444",color:"white"}:ge==="counter_offer"||ge==="shipped"?{backgroundColor:"#3B82F6",color:"white"}:{backgroundColor:"#6B7280",color:"white"}},de=te=>`${Number(te).toLocaleString()}`,D=te=>new Date(te).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),W=re(),z=W?.data||[],$=W?.total||0,ne=Math.ceil($/h);return O.useEffect(()=>{d(1)},[s,r,t]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Jn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BNPL & Buy Now Management"})}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:["BNPL Applications","BNPL Guarantors","Buy Now Orders","BNPL Orders"].map(te=>n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t===te?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e(te),children:te},te))})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:me()?n.jsx(Eh,{count:3}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:lt.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$})]})]})})})}),n.jsx("div",{className:"mb-6 bg-white rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:s,onChange:te=>a(te.target.value),children:[n.jsx("option",{value:"All",children:"All Status"}),t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:te=>o(te.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:me()?n.jsx(Mn,{message:"Loading..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Loan Amount"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Duration"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Phone"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]})]})}),n.jsx("tbody",{className:"bg-white",children:z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No data found"})}):z.map((te,ge)=>n.jsxs("tr",{className:`${ge%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.id}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[te.user?`${te.user.first_name} ${te.user.sur_name}`:"N/A",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:te.user?.email||""})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:de(te.loan_amount)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[te.repayment_duration," months"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:X(te.status),children:te.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D(te.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>fe(te),children:"View"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>R(te),children:"Update"})]})})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.id}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.full_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:te.phone}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:te.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:X(te.status),children:te.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D(te.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>R(te),children:"Update"})})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.id}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[te.user?`${te.user.first_name} ${te.user.sur_name}`:"N/A",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:te.user?.email||""})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:de(te.total_price)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:X(te.order_status),children:te.order_status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:D(te.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>fe(te),children:"View"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>R(te),children:"Update"})]})})]})]},te.id))})]})}),ne>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",(c-1)*h+1," to"," ",Math.min(c*h,$)," of ",$," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>d(te=>Math.max(te-1,1)),disabled:c===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${c===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ne)},(te,ge)=>{let Ne;return ne<=5||c<=3?Ne=ge+1:c>=ne-2?Ne=ne-4+ge:Ne=c-2+ge,n.jsx("button",{onClick:()=>d(Ne),className:`px-3 py-2 text-sm font-medium rounded-md border ${c===Ne?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Ne},Ne)})}),n.jsx("button",{onClick:()=>d(te=>Math.min(te+1,ne)),disabled:c===ne,className:`px-3 py-2 text-sm font-medium rounded-md border ${c===ne?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]}),x&&f&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Details"}),n.jsx("button",{onClick:()=>{w(!1),p(null)},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(f).map(([te,ge])=>typeof ge=="object"&&ge!==null?n.jsxs("div",{className:"border-b pb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-700 capitalize mb-2",children:te.replace(/_/g," ")}),n.jsx("div",{className:"pl-4 space-y-1",children:Object.entries(ge).map(([Ne,Oe])=>n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"font-medium capitalize",children:[Ne.replace(/_/g," "),":"]})," ",typeof Oe=="object"?JSON.stringify(Oe):String(Oe)]},Ne))})]},te):n.jsxs("div",{className:"border-b pb-2",children:[n.jsxs("span",{className:"font-semibold text-gray-700 capitalize",children:[te.replace(/_/g," "),":"]})," ",n.jsx("span",{className:"text-gray-600",children:te.includes("amount")||te.includes("price")?de(ge):String(ge)})]},te))})]})}),y&&f&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Status"}),n.jsx("button",{onClick:()=>{j(!1),p(null),C({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:_.status,onChange:te=>C({..._,status:te.target.value}),children:[n.jsx("option",{value:"",children:"Select Status"}),t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),_.status==="counter_offer"&&t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Deposit"}),n.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:_.counter_offer_min_deposit,onChange:te=>C({..._,counter_offer_min_deposit:te.target.value}),placeholder:"Enter minimum deposit"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Tenor"}),n.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:_.counter_offer_min_tenor,onChange:te=>C({..._,counter_offer_min_tenor:te.target.value}),placeholder:"Enter minimum tenor (months)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),n.jsx("textarea",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",rows:3,value:_.admin_notes,onChange:te=>C({..._,admin_notes:te.target.value}),placeholder:"Enter admin notes..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{j(!1),p(null),C({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:ie,disabled:!_.status||F.isPending||Z.isPending||K.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${_.status&&!F.isPending&&!Z.isPending&&!K.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[(F.isPending||Z.isPending||K.isPending)&&n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Update Status"]})]})]})})]})};function HD({children:t}){const e=Xt.get("token"),s=vi();return e?n.jsx(n.Fragment,{children:t}):n.jsx(N4,{to:"/login",replace:!0,state:{from:s}})}function $D(){return n.jsx(K4,{basename:"/",children:n.jsxs(_4,{children:[n.jsx(hn,{path:"login",element:n.jsx(vD,{})}),n.jsxs(hn,{path:"/",element:n.jsx(HD,{children:n.jsx(v6,{})}),children:[n.jsx(hn,{index:!0,element:n.jsx(sy,{})}),n.jsx(hn,{path:"dashboard",element:n.jsx(sy,{})}),n.jsx(hn,{path:"user-mgt",element:n.jsx(CC,{})}),n.jsx(hn,{path:"credit-score",element:n.jsx(qE,{})}),n.jsx(hn,{path:"loans-mgt",element:n.jsx($E,{})}),n.jsx(hn,{path:"loans-approval",element:n.jsx(DD,{})}),n.jsx(hn,{path:"loans-disbursement",element:n.jsx(XE,{})}),n.jsx(hn,{path:"transactions",element:n.jsx(ZE,{})}),n.jsx(hn,{path:"balances",element:n.jsx(nL,{})}),n.jsx(hn,{path:"shop-mgt",element:n.jsx(xL,{})}),n.jsx(hn,{path:"bnpl-buynow",element:n.jsx(qD,{})}),n.jsx(hn,{path:"referral-mgt",element:n.jsx(bL,{})}),n.jsx(hn,{path:"tickets",element:n.jsx(AD,{})}),n.jsx(hn,{path:"analytics",element:n.jsx(wL,{})}),n.jsx(hn,{path:"settings",element:n.jsx(uD,{})}),n.jsx(hn,{path:"user-activity/:id",element:n.jsx(EC,{})}),n.jsx(hn,{path:"user-activity/:id/loans",element:n.jsx(ME,{})}),n.jsx(hn,{path:"user-activity/:id/transactions",element:n.jsx(PE,{})}),n.jsx(hn,{path:"user-activity/:id/orders",element:n.jsx(IE,{})})]})]})})}const VD=new j3;Lj.createRoot(document.getElementById("root")).render(n.jsx(O.StrictMode,{children:n.jsx(k3,{client:VD,children:n.jsx($D,{})})}));export{Cs as _,WD as c,vj as g};
