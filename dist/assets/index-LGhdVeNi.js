(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();var cM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ep={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function wj(){if(s2)return Hu;s2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Hu.Fragment=e,Hu.jsx=s,Hu.jsxs=s,Hu}var n2;function Nj(){return n2||(n2=1,ep.exports=wj()),ep.exports}var n=Nj(),tp={exports:{}},is={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function jj(){if(a2)return is;a2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function C(Y,de,T){this.props=Y,this.context=de,this.refs=A,this.updater=T||y}C.prototype.isReactComponent={},C.prototype.setState=function(Y,de){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,de,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function _(){}_.prototype=C.prototype;function E(Y,de,T){this.props=Y,this.context=de,this.refs=A,this.updater=T||y}var M=E.prototype=new _;M.constructor=E,j(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function K(Y,de,T,F,q,I){return T=I.ref,{$$typeof:t,type:Y,key:de,ref:T!==void 0?T:null,props:I}}function U(Y,de){return K(Y.type,de,void 0,void 0,void 0,Y.props)}function $(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function te(Y){var de={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(T){return de[T]})}var P=/\/+/g;function O(Y,de){return typeof Y=="object"&&Y!==null&&Y.key!=null?te(""+Y.key):de.toString(36)}function H(){}function G(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(H,H):(Y.status="pending",Y.then(function(de){Y.status==="pending"&&(Y.status="fulfilled",Y.value=de)},function(de){Y.status==="pending"&&(Y.status="rejected",Y.reason=de)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function re(Y,de,T,F,q){var I=typeof Y;(I==="undefined"||I==="boolean")&&(Y=null);var se=!1;if(Y===null)se=!0;else switch(I){case"bigint":case"string":case"number":se=!0;break;case"object":switch(Y.$$typeof){case t:case e:se=!0;break;case p:return se=Y._init,re(se(Y._payload),de,T,F,q)}}if(se)return q=q(Y),se=F===""?"."+O(Y,0):F,B(q)?(T="",se!=null&&(T=se.replace(P,"$&/")+"/"),re(q,de,T,"",function(Se){return Se})):q!=null&&($(q)&&(q=U(q,T+(q.key==null||Y&&Y.key===q.key?"":(""+q.key).replace(P,"$&/")+"/")+se)),de.push(q)),1;se=0;var fe=F===""?".":F+":";if(B(Y))for(var be=0;be<Y.length;be++)F=Y[be],I=fe+O(F,be),se+=re(F,de,T,I,q);else if(be=w(Y),typeof be=="function")for(Y=be.call(Y),be=0;!(F=Y.next()).done;)F=F.value,I=fe+O(F,be++),se+=re(F,de,T,I,q);else if(I==="object"){if(typeof Y.then=="function")return re(G(Y),de,T,F,q);throw de=String(Y),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return se}function ee(Y,de,T){if(Y==null)return Y;var F=[],q=0;return re(Y,F,"","",function(I){return de.call(T,I,q++)}),F}function ie(Y){if(Y._status===-1){var de=Y._result;de=de(),de.then(function(T){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=T)},function(T){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=T)}),Y._status===-1&&(Y._status=0,Y._result=de)}if(Y._status===1)return Y._result.default;throw Y._result}var le=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function ce(){}return is.Children={map:ee,forEach:function(Y,de,T){ee(Y,function(){de.apply(this,arguments)},T)},count:function(Y){var de=0;return ee(Y,function(){de++}),de},toArray:function(Y){return ee(Y,function(de){return de})||[]},only:function(Y){if(!$(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},is.Component=C,is.Fragment=s,is.Profiler=i,is.PureComponent=E,is.StrictMode=a,is.Suspense=h,is.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,is.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return z.H.useMemoCache(Y)}},is.cache=function(Y){return function(){return Y.apply(null,arguments)}},is.cloneElement=function(Y,de,T){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var F=j({},Y.props),q=Y.key,I=void 0;if(de!=null)for(se in de.ref!==void 0&&(I=void 0),de.key!==void 0&&(q=""+de.key),de)!ne.call(de,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&de.ref===void 0||(F[se]=de[se]);var se=arguments.length-2;if(se===1)F.children=T;else if(1<se){for(var fe=Array(se),be=0;be<se;be++)fe[be]=arguments[be+2];F.children=fe}return K(Y.type,q,void 0,void 0,I,F)},is.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},is.createElement=function(Y,de,T){var F,q={},I=null;if(de!=null)for(F in de.key!==void 0&&(I=""+de.key),de)ne.call(de,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(q[F]=de[F]);var se=arguments.length-2;if(se===1)q.children=T;else if(1<se){for(var fe=Array(se),be=0;be<se;be++)fe[be]=arguments[be+2];q.children=fe}if(Y&&Y.defaultProps)for(F in se=Y.defaultProps,se)q[F]===void 0&&(q[F]=se[F]);return K(Y,I,void 0,void 0,null,q)},is.createRef=function(){return{current:null}},is.forwardRef=function(Y){return{$$typeof:d,render:Y}},is.isValidElement=$,is.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ie}},is.memo=function(Y,de){return{$$typeof:f,type:Y,compare:de===void 0?null:de}},is.startTransition=function(Y){var de=z.T,T={};z.T=T;try{var F=Y(),q=z.S;q!==null&&q(T,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ce,le)}catch(I){le(I)}finally{z.T=de}},is.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},is.use=function(Y){return z.H.use(Y)},is.useActionState=function(Y,de,T){return z.H.useActionState(Y,de,T)},is.useCallback=function(Y,de){return z.H.useCallback(Y,de)},is.useContext=function(Y){return z.H.useContext(Y)},is.useDebugValue=function(){},is.useDeferredValue=function(Y,de){return z.H.useDeferredValue(Y,de)},is.useEffect=function(Y,de,T){var F=z.H;if(typeof T=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(Y,de)},is.useId=function(){return z.H.useId()},is.useImperativeHandle=function(Y,de,T){return z.H.useImperativeHandle(Y,de,T)},is.useInsertionEffect=function(Y,de){return z.H.useInsertionEffect(Y,de)},is.useLayoutEffect=function(Y,de){return z.H.useLayoutEffect(Y,de)},is.useMemo=function(Y,de){return z.H.useMemo(Y,de)},is.useOptimistic=function(Y,de){return z.H.useOptimistic(Y,de)},is.useReducer=function(Y,de,T){return z.H.useReducer(Y,de,T)},is.useRef=function(Y){return z.H.useRef(Y)},is.useState=function(Y){return z.H.useState(Y)},is.useSyncExternalStore=function(Y,de,T){return z.H.useSyncExternalStore(Y,de,T)},is.useTransition=function(){return z.H.useTransition()},is.version="19.1.0",is}var r2;function Ax(){return r2||(r2=1,tp.exports=jj()),tp.exports}var L=Ax();const _r=vj(L);var sp={exports:{}},$u={},np={exports:{}},ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function _j(){return i2||(i2=1,function(t){function e(ee,ie){var le=ee.length;ee.push(ie);e:for(;0<le;){var ce=le-1>>>1,Y=ee[ce];if(0<i(Y,ie))ee[ce]=ie,ee[le]=Y,le=ce;else break e}}function s(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var ie=ee[0],le=ee.pop();if(le!==ie){ee[0]=le;e:for(var ce=0,Y=ee.length,de=Y>>>1;ce<de;){var T=2*(ce+1)-1,F=ee[T],q=T+1,I=ee[q];if(0>i(F,le))q<Y&&0>i(I,F)?(ee[ce]=I,ee[q]=le,ce=q):(ee[ce]=F,ee[T]=le,ce=T);else if(q<Y&&0>i(I,le))ee[ce]=I,ee[q]=le,ce=q;else break e}}return ie}function i(ee,ie){var le=ee.sortIndex-ie.sortIndex;return le!==0?le:ee.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,x=null,w=3,y=!1,j=!1,A=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var ie=s(f);ie!==null;){if(ie.callback===null)a(f);else if(ie.startTime<=ee)a(f),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=s(f)}}function z(ee){if(A=!1,B(ee),!j)if(s(h)!==null)j=!0,ne||(ne=!0,O());else{var ie=s(f);ie!==null&&re(z,ie.startTime-ee)}}var ne=!1,K=-1,U=5,$=-1;function te(){return C?!0:!(t.unstable_now()-$<U)}function P(){if(C=!1,ne){var ee=t.unstable_now();$=ee;var ie=!0;try{e:{j=!1,A&&(A=!1,E(K),K=-1),y=!0;var le=w;try{t:{for(B(ee),x=s(h);x!==null&&!(x.expirationTime>ee&&te());){var ce=x.callback;if(typeof ce=="function"){x.callback=null,w=x.priorityLevel;var Y=ce(x.expirationTime<=ee);if(ee=t.unstable_now(),typeof Y=="function"){x.callback=Y,B(ee),ie=!0;break t}x===s(h)&&a(h),B(ee)}else a(h);x=s(h)}if(x!==null)ie=!0;else{var de=s(f);de!==null&&re(z,de.startTime-ee),ie=!1}}break e}finally{x=null,w=le,y=!1}ie=void 0}}finally{ie?O():ne=!1}}}var O;if(typeof M=="function")O=function(){M(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=P,O=function(){G.postMessage(null)}}else O=function(){_(P,0)};function re(ee,ie){K=_(function(){ee(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var le=w;w=ie;try{return ee()}finally{w=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var le=w;w=ee;try{return ie()}finally{w=le}},t.unstable_scheduleCallback=function(ee,ie,le){var ce=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ce+le:ce):le=ce,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,ee={id:p++,callback:ie,priorityLevel:ee,startTime:le,expirationTime:Y,sortIndex:-1},le>ce?(ee.sortIndex=le,e(f,ee),s(h)===null&&ee===s(f)&&(A?(E(K),K=-1):A=!0,re(z,le-ce))):(ee.sortIndex=Y,e(h,ee),j||y||(j=!0,ne||(ne=!0,O()))),ee},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(ee){var ie=w;return function(){var le=w;w=ie;try{return ee.apply(this,arguments)}finally{w=le}}}}(ap)),ap}var l2;function Sj(){return l2||(l2=1,np.exports=_j()),np.exports}var rp={exports:{}},Na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function Aj(){if(o2)return Na;o2=1;var t=Ax();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Na.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},Na.flushSync=function(h){var f=c.T,p=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=p,a.d.f()}},Na.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Na.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Na.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:y}):p==="script"&&a.d.X(h,{crossOrigin:x,integrity:w,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Na.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Na.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);a.d.L(h,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Na.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Na.requestFormReset=function(h){a.d.r(h)},Na.unstable_batchedUpdates=function(h,f){return h(f)},Na.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Na.useFormStatus=function(){return c.H.useHostTransitionStatus()},Na.version="19.1.0",Na}var c2;function Cj(){if(c2)return rp.exports;c2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=Aj(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function kj(){if(d2)return $u;d2=1;var t=Sj(),e=Ax(),s=Cj();function a(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(a(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(a(188));return o!==r?null:r}for(var u=r,m=o;;){var b=u.return;if(b===null)break;var N=b.alternate;if(N===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===u)return d(b),r;if(N===m)return d(b),o;N=N.sibling}throw Error(a(188))}if(u.return!==m.return)u=b,m=N;else{for(var R=!1,J=b.child;J;){if(J===u){R=!0,u=b,m=N;break}if(J===m){R=!0,m=b,u=N;break}J=J.sibling}if(!R){for(J=N.child;J;){if(J===u){R=!0,u=N,m=b;break}if(J===m){R=!0,m=N,u=b;break}J=J.sibling}if(!R)throw Error(a(189))}}if(u.alternate!==m)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var H=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===H?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case ne:return"SuspenseList";case $:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case M:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return o=r.displayName||null,o!==null?o:G(r.type)||"Memo";case U:o=r._payload,r=r._init;try{return G(r(o))}catch{}}return null}var re=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ce=[],Y=-1;function de(r){return{current:r}}function T(r){0>Y||(r.current=ce[Y],ce[Y]=null,Y--)}function F(r,o){Y++,ce[Y]=r.current,r.current=o}var q=de(null),I=de(null),se=de(null),fe=de(null);function be(r,o){switch(F(se,o),F(I,r),F(q,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Lb(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Lb(o),r=Db(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}T(q),F(q,r)}function Se(){T(q),T(I),T(se)}function Oe(r){r.memoizedState!==null&&F(fe,r);var o=q.current,u=Db(o,r.type);o!==u&&(F(I,r),F(q,u))}function He(r){I.current===r&&(T(q),T(I)),fe.current===r&&(T(fe),Bu._currentValue=le)}var Be=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,ue=t.unstable_shouldYield,Dt=t.unstable_requestPaint,at=t.unstable_now,gt=t.unstable_getCurrentPriorityLevel,Je=t.unstable_ImmediatePriority,xt=t.unstable_UserBlockingPriority,rt=t.unstable_NormalPriority,At=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,ut=t.log,Te=t.unstable_setDisableYieldValue,Ge=null,pt=null;function jt(r){if(typeof ut=="function"&&Te(r),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Ge,r)}catch{}}var ft=Math.clz32?Math.clz32:qt,ve=Math.log,Ke=Math.LN2;function qt(r){return r>>>=0,r===0?32:31-(ve(r)/Ke|0)|0}var Rt=256,it=4194304;function Ot(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ls(r,o,u){var m=r.pendingLanes;if(m===0)return 0;var b=0,N=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var J=m&134217727;return J!==0?(m=J&~N,m!==0?b=Ot(m):(R&=J,R!==0?b=Ot(R):u||(u=J&~r,u!==0&&(b=Ot(u))))):(J=m&~N,J!==0?b=Ot(J):R!==0?b=Ot(R):u||(u=m&~r,u!==0&&(b=Ot(u)))),b===0?0:o!==0&&o!==b&&(o&N)===0&&(N=b&-b,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:b}function mt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Gt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var r=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),r}function As(){var r=it;return it<<=1,(it&62914560)===0&&(it=4194304),r}function Qe(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function ct(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function We(r,o,u,m,b,N){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var J=r.entanglements,xe=r.expirationTimes,De=r.hiddenUpdates;for(u=R&~u;0<u;){var Ve=31-ft(u),Ze=1<<Ve;J[Ve]=0,xe[Ve]=-1;var Me=De[Ve];if(Me!==null)for(De[Ve]=null,Ve=0;Ve<Me.length;Ve++){var Fe=Me[Ve];Fe!==null&&(Fe.lane&=-536870913)}u&=~Ze}m!==0&&as(r,m,0),N!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=N&~(R&~o))}function as(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var m=31-ft(o);r.entangledLanes|=o,r.entanglements[m]=r.entanglements[m]|1073741824|u&4194090}function Xn(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var m=31-ft(u),b=1<<m;b&o|r[m]&o&&(r[m]|=o),u&=~b}}function Xs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ka(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:Qb(r.type))}function Pt(r,o){var u=ie.p;try{return ie.p=r,o()}finally{ie.p=u}}var Sn=Math.random().toString(36).slice(2),xs="__reactFiber$"+Sn,bt="__reactProps$"+Sn,Ds="__reactContainer$"+Sn,Ms="__reactEvents$"+Sn,mn="__reactListeners$"+Sn,nn="__reactHandles$"+Sn,Hn="__reactResources$"+Sn,X="__reactMarker$"+Sn;function Ie(r){delete r[xs],delete r[bt],delete r[Ms],delete r[mn],delete r[nn]}function yt(r){var o=r[xs];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ds]||u[xs]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Tb(r);r!==null;){if(u=r[xs])return u;r=Tb(r)}return o}r=u,u=r.parentNode}return null}function ss(r){if(r=r[xs]||r[Ds]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Bt(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(a(33))}function Hs(r){var o=r[Hn];return o||(o=r[Hn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Bs(r){r[X]=!0}var va=new Set,ir={};function An(r,o){Ea(r,o),Ea(r+"Capture",o)}function Ea(r,o){for(ir[r]=o,r=0;r<o.length;r++)va.add(o[r])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Vl={};function Hc(r){return Be.call(Vl,r)?!0:Be.call(zc,r)?!1:$l.test(r)?Vl[r]=!0:(zc[r]=!0,!1)}function ol(r,o,u){if(Hc(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function oa(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function La(r,o,u,m){if(m===null)r.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+m)}}var Wl,Gl;function ni(r){if(Wl===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Wl=o&&o[1]||"",Gl=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+r+Gl}var Yl=!1;function Kl(r,o){if(!r||Yl)return"";Yl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Fe){var Me=Fe}Reflect.construct(r,[],Ze)}else{try{Ze.call()}catch(Fe){Me=Fe}r.call(Ze.prototype)}}else{try{throw Error()}catch(Fe){Me=Fe}(Ze=r())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Fe){if(Fe&&Me&&typeof Fe.stack=="string")return[Fe.stack,Me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),R=N[0],J=N[1];if(R&&J){var xe=R.split(`
`),De=J.split(`
`);for(b=m=0;m<xe.length&&!xe[m].includes("DetermineComponentFrameRoot");)m++;for(;b<De.length&&!De[b].includes("DetermineComponentFrameRoot");)b++;if(m===xe.length||b===De.length)for(m=xe.length-1,b=De.length-1;1<=m&&0<=b&&xe[m]!==De[b];)b--;for(;1<=m&&0<=b;m--,b--)if(xe[m]!==De[b]){if(m!==1||b!==1)do if(m--,b--,0>b||xe[m]!==De[b]){var Ve=`
`+xe[m].replace(" at new "," at ");return r.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",r.displayName)),Ve}while(1<=m&&0<=b);break}}}finally{Yl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ni(u):""}function Ql(r){switch(r.tag){case 26:case 27:case 5:return ni(r.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return Kl(r.type,!1);case 11:return Kl(r.type.render,!1);case 1:return Kl(r.type,!0);case 31:return ni("Activity");default:return""}}function $c(r){try{var o="";do o+=Ql(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ws(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Vo(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vc(r){var o=Vo(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),m=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,N=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return b.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ia(r){r._valueTracker||(r._valueTracker=Vc(r))}function Oi(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return r&&(m=Vo(r)?r.checked?"true":"false":r.value),r=m,r!==u?(o.setValue(r),!0):!1}function wa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cl=/[\n"\\]/g;function bs(r){return r.replace(cl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function dl(r,o,u,m,b,N,R,J){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ws(o)):r.value!==""+ws(o)&&(r.value=""+ws(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?Wo(r,R,ws(o)):u!=null?Wo(r,R,ws(u)):m!=null&&r.removeAttribute("value"),b==null&&N!=null&&(r.defaultChecked=!!N),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?r.name=""+ws(J):r.removeAttribute("name")}function Wc(r,o,u,m,b,N,R,J){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+ws(u):"",o=o!=null?""+ws(o):u,J||o===r.value||(r.value=o),r.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=J?r.checked:!!m,r.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function Wo(r,o,u){o==="number"&&wa(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Ti(r,o,u,m){if(r=r.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<r.length;u++)b=o.hasOwnProperty("$"+r[u].value),r[u].selected!==b&&(r[u].selected=b),b&&m&&(r[u].defaultSelected=!0)}else{for(u=""+ws(u),o=null,b=0;b<r.length;b++){if(r[b].value===u){r[b].selected=!0,m&&(r[b].defaultSelected=!0);return}o!==null||r[b].disabled||(o=r[b])}o!==null&&(o.selected=!0)}}function lr(r,o,u){if(o!=null&&(o=""+ws(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+ws(u):""}function Go(r,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(a(92));if(re(m)){if(1<m.length)throw Error(a(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=ws(o),r.defaultValue=u,m=r.textContent,m===u&&m!==""&&m!==null&&(r.value=m)}function ai(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(r,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":m?r.setProperty(o,u):typeof u!="number"||u===0||Pi.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Gc(r,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(r=r.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&u[b]!==m&&Xl(r,b,m)}else for(var N in o)o.hasOwnProperty(N)&&Xl(r,N,o[N])}function Yo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(r){return Ko.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ar=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qa=null,Cr=null;function $t(r){var o=ss(r);if(o&&(r=o.stateNode)){var u=r[bt]||null;e:switch(r=o.stateNode,o.type){case"input":if(dl(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+bs(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==r&&m.form===r.form){var b=m[bt]||null;if(!b)throw Error(a(90));dl(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===r.form&&Oi(m)}break e;case"textarea":lr(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ti(r,!!u.multiple,o,!1)}}}var Xo=!1;function Yc(r,o,u){if(Xo)return r(o,u);Xo=!0;try{var m=r(o);return m}finally{if(Xo=!1,(qa!==null||Cr!==null)&&(cf(),qa&&(o=qa,r=Cr,Cr=qa=null,$t(o),r)))for(o=0;o<r.length;o++)$t(r[o])}}function ul(r,o){var u=r.stateNode;if(u===null)return null;var m=u[bt]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(or)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{cr=!1}var kr=null,Zo=null,ri=null;function Zl(){if(ri)return ri;var r,o=Zo,u=o.length,m,b="value"in kr?kr.value:kr.textContent,N=b.length;for(r=0;r<u&&o[r]===b[r];r++);var R=u-r;for(m=1;m<=R&&o[u-m]===b[N-m];m++);return ri=b.slice(r,1<m?1-m:void 0)}function Er(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ii(){return!0}function hl(){return!1}function Jn(r){function o(u,m,b,N,R){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var J in r)r.hasOwnProperty(J)&&(u=r[J],this[J]=u?u(N):N[J]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ii:hl,this.isPropagationStopped=hl,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),o}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Jn(dr),ur=p({},dr,{view:0,detail:0}),fl=Jn(ur),ml,Bi,li,Lr=p({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==li&&(li&&r.type==="mousemove"?(ml=r.screenX-li.screenX,Bi=r.screenY-li.screenY):Bi=ml=0,li=r),ml)},movementY:function(r){return"movementY"in r?r.movementY:Bi}}),Jl=Jn(Lr),Jo=p({},Lr,{dataTransfer:0}),Ma=Jn(Jo),Dr=p({},ur,{relatedTarget:0}),S=Jn(Dr),W=p({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),pe=Jn(W),ge=p({},dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_e=Jn(ge),$e=p({},dr,{data:0}),tt=Jn($e),_t={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jt(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ht[r])?!!o[r]:!1}function gs(){return Jt}var Zs=p({},ur,{key:function(r){if(r.key){var o=_t[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Er(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Lt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(r){return r.type==="keypress"?Er(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Er(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yn=Jn(Zs),Es=p({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=Jn(Es),wn=p({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),$n=Jn(wn),oi=p({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ui=Jn(oi),Zd=p({},Lr,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=Jn(Zd),pl=p({},dr,{newState:0,oldState:0}),hr=Jn(pl),ec=[9,13,27,32],Ii=or&&"CompositionEvent"in window,za=null;or&&"documentMode"in document&&(za=document.documentMode);var Un=or&&"TextEvent"in window&&!za,Mr=or&&(!Ii||za&&8<za&&11>=za),Fr=" ",xl=!1;function eo(r,o){switch(r){case"keyup":return ec.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ci=!1;function to(r,o){switch(r){case"compositionend":return ea(o);case"keypress":return o.which!==32?null:(xl=!0,Fr);case"textInput":return r=o.data,r===Fr&&xl?null:r;default:return null}}function Qc(r,o){if(ci)return r==="compositionend"||!Ii&&eo(r,o)?(r=Zl(),ri=Zo=kr=null,ci=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mr&&o.locale!=="ko"?null:o.data;default:return null}}var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Cn[r.type]:o==="textarea"}function so(r,o,u,m){qa?Cr?Cr.push(m):Cr=[m]:qa=m,o=pf(o,"onChange"),0<o.length&&(u=new Ri("onChange","change",null,u,m),r.push({event:u,listeners:o}))}var di=null,Ha=null;function no(r){Sb(r,0)}function Vn(r){var o=Bt(r);if(Oi(o))return r}function ca(r,o){if(r==="change")return o}var qi=!1;if(or){var $a;if(or){var Or="oninput"in document;if(!Or){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),Or=typeof ao.oninput=="function"}$a=Or}else $a=!1;qi=$a&&(!document.documentMode||9<document.documentMode)}function ui(){di&&(di.detachEvent("onpropertychange",an),Ha=di=null)}function an(r){if(r.propertyName==="value"&&Vn(Ha)){var o=[];so(o,Ha,r,Qo(r)),Yc(no,o)}}function Jd(r,o,u){r==="focusin"?(ui(),di=o,Ha=u,di.attachEvent("onpropertychange",an)):r==="focusout"&&ui()}function Tr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vn(Ha)}function Pr(r,o){if(r==="click")return Vn(o)}function ro(r,o){if(r==="input"||r==="change")return Vn(o)}function tc(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var In=typeof Object.is=="function"?Object.is:tc;function Rr(r,o){if(In(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!Be.call(o,b)||!In(r[b],o[b]))return!1}return!0}function zi(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hi(r,o){var u=zi(r);r=0;for(var m;u;){if(u.nodeType===3){if(m=r+u.textContent.length,r<=o&&m>=o)return{node:u,offset:o-r};r=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zi(u)}}function Br(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Br(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function io(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=wa(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=wa(r.document)}return o}function da(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Ur=or&&"documentMode"in document&&11>=document.documentMode,Ns=null,Ls=null,$s=null,Js=!1;function Ir(r,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Js||Ns==null||Ns!==wa(m)||(m=Ns,"selectionStart"in m&&da(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$s&&Rr($s,m)||($s=m,m=pf(Ls,"onSelect"),0<m.length&&(o=new Ri("onSelect","select",null,o,u),r.push({event:o,listeners:m}),o.target=Ns)))}function Va(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var ua={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},gl={},eu={};or&&(eu=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function $i(r){if(gl[r])return gl[r];if(!ua[r])return r;var o=ua[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in eu)return gl[r]=o[u];return r}var tu=$i("animationend"),su=$i("animationiteration"),nu=$i("animationstart"),Eh=$i("transitionrun"),Lh=$i("transitionstart"),Dh=$i("transitioncancel"),au=$i("transitionend"),ru=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Wa(r,o){ru.set(r,o),An(o,[r])}var lo=new WeakMap;function Oa(r,o){if(typeof r=="object"&&r!==null){var u=lo.get(r);return u!==void 0?u:(o={value:r,source:o,stack:$c(o)},lo.set(r,o),o)}return{value:r,source:o,stack:$c(o)}}var Ta=[],bl=0,Zc=0;function sc(){for(var r=bl,o=Zc=bl=0;o<r;){var u=Ta[o];Ta[o++]=null;var m=Ta[o];Ta[o++]=null;var b=Ta[o];Ta[o++]=null;var N=Ta[o];if(Ta[o++]=null,m!==null&&b!==null){var R=m.pending;R===null?b.next=b:(b.next=R.next,R.next=b),m.pending=b}N!==0&&ed(u,b,N)}}function nc(r,o,u,m){Ta[bl++]=r,Ta[bl++]=o,Ta[bl++]=u,Ta[bl++]=m,Zc|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Jc(r,o,u,m){return nc(r,o,u,m),vl(r)}function yl(r,o){return nc(r,null,null,o),vl(r)}function ed(r,o,u){r.lanes|=u;var m=r.alternate;m!==null&&(m.lanes|=u);for(var b=!1,N=r.return;N!==null;)N.childLanes|=u,m=N.alternate,m!==null&&(m.childLanes|=u),N.tag===22&&(r=N.stateNode,r===null||r._visibility&1||(b=!0)),r=N,N=N.return;return r.tag===3?(N=r.stateNode,b&&o!==null&&(b=31-ft(u),r=N.hiddenUpdates,m=r[b],m===null?r[b]=[o]:m.push(o),o.lane=u|536870912),N):null}function vl(r){if(50<Lu)throw Lu=0,_0=null,Error(a(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var qn={};function Ga(r,o,u,m){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(r,o,u,m){return new Ga(r,o,u,m)}function oo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qr(r,o){var u=r.alternate;return u===null?(u=ta(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function ac(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function wl(r,o,u,m,b,N){var R=0;if(m=r,typeof r=="function")oo(r)&&(R=1);else if(typeof r=="string")R=lj(r,u,q.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case $:return r=ta(31,u,o,b),r.elementType=$,r.lanes=N,r;case j:return hi(u.children,b,N,o);case A:R=8,b|=24;break;case C:return r=ta(12,u,o,b|2),r.elementType=C,r.lanes=N,r;case z:return r=ta(13,u,o,b),r.elementType=z,r.lanes=N,r;case ne:return r=ta(19,u,o,b),r.elementType=ne,r.lanes=N,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case M:R=10;break e;case E:R=9;break e;case B:R=11;break e;case K:R=14;break e;case U:R=16,m=null;break e}R=29,u=Error(a(130,r===null?"null":typeof r,"")),m=null}return o=ta(R,u,o,b),o.elementType=r,o.type=m,o.lanes=N,o}function hi(r,o,u,m){return r=ta(7,r,m,o),r.lanes=u,r}function td(r,o,u){return r=ta(6,r,null,o),r.lanes=u,r}function rc(r,o,u){return o=ta(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Vi=[],fi=0,co=null,sd=0,Ya=[],Pa=0,Nl=null,mi=1,pi="";function jl(r,o){Vi[fi++]=sd,Vi[fi++]=co,co=r,sd=o}function Mh(r,o,u){Ya[Pa++]=mi,Ya[Pa++]=pi,Ya[Pa++]=Nl,Nl=r;var m=mi;r=pi;var b=32-ft(m)-1;m&=~(1<<b),u+=1;var N=32-ft(o)+b;if(30<N){var R=b-b%5;N=(m&(1<<R)-1).toString(32),m>>=R,b-=R,mi=1<<32-ft(o)+b|u<<b|m,pi=N+r}else mi=1<<N|u<<b|m,pi=r}function ic(r){r.return!==null&&(jl(r,1),Mh(r,1,0))}function lc(r){for(;r===co;)co=Vi[--fi],Vi[fi]=null,sd=Vi[--fi],Vi[fi]=null;for(;r===Nl;)Nl=Ya[--Pa],Ya[Pa]=null,pi=Ya[--Pa],Ya[Pa]=null,mi=Ya[--Pa],Ya[Pa]=null}var kn=null,rn=null,js=!1,Wi=null,zr=!1,iu=Error(a(519));function _l(r){var o=Error(a(418,""));throw uo(Oa(o,r)),iu}function Fh(r){var o=r.stateNode,u=r.type,m=r.memoizedProps;switch(o[xs]=r,o[bt]=m,u){case"dialog":fs("cancel",o),fs("close",o);break;case"iframe":case"object":case"embed":fs("load",o);break;case"video":case"audio":for(u=0;u<Mu.length;u++)fs(Mu[u],o);break;case"source":fs("error",o);break;case"img":case"image":case"link":fs("error",o),fs("load",o);break;case"details":fs("toggle",o);break;case"input":fs("invalid",o),Wc(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ia(o);break;case"select":fs("invalid",o);break;case"textarea":fs("invalid",o),Go(o,m.value,m.defaultValue,m.children),Ia(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||Eb(o.textContent,u)?(m.popover!=null&&(fs("beforetoggle",o),fs("toggle",o)),m.onScroll!=null&&fs("scroll",o),m.onScrollEnd!=null&&fs("scrollend",o),m.onClick!=null&&(o.onclick=xf),o=!0):o=!1,o||_l(r)}function xi(r){for(kn=r.return;kn;)switch(kn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:kn=kn.return}}function ha(r){if(r!==kn)return!1;if(!js)return xi(r),js=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||I0(r.type,r.memoizedProps)),u=!u),u&&rn&&_l(r),xi(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){rn=_i(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}rn=null}}else o===27?(o=rn,Co(r.type)?(r=$0,$0=null,rn=r):rn=o):rn=kn?_i(r.stateNode.nextSibling):null;return!0}function Ra(){rn=kn=null,js=!1}function Oh(){var r=Wi;return r!==null&&(Qa===null?Qa=r:Qa.push.apply(Qa,r),Wi=null),r}function uo(r){Wi===null?Wi=[r]:Wi.push(r)}var Hr=de(null),zn=null,gi=null;function Gi(r,o,u){F(Hr,o._currentValue),o._currentValue=u}function $r(r){r._currentValue=Hr.current,T(Hr)}function nd(r,o,u){for(;r!==null;){var m=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),r===u)break;r=r.return}}function ad(r,o,u,m){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var N=b.dependencies;if(N!==null){var R=b.child;N=N.firstContext;e:for(;N!==null;){var J=N;N=b;for(var xe=0;xe<o.length;xe++)if(J.context===o[xe]){N.lanes|=u,J=N.alternate,J!==null&&(J.lanes|=u),nd(N.return,u,r),m||(R=null);break e}N=J.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(a(341));R.lanes|=u,N=R.alternate,N!==null&&(N.lanes|=u),nd(R,u,r),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===r){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function ho(r,o,u,m){r=null;for(var b=o,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var J=b.type;In(b.pendingProps.value,R.value)||(r!==null?r.push(J):r=[J])}}else if(b===fe.current){if(R=b.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}b=b.return}r!==null&&ad(o,r,u,m),o.flags|=262144}function rd(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vr(r){zn=r,gi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return id(zn,r)}function Yi(r,o){return zn===null&&Vr(r),id(r,o)}function id(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},gi===null){if(r===null)throw Error(a(308));gi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else gi=gi.next=o;return u}var Km=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,m){r.push(m)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},Th=t.unstable_scheduleCallback,Qm=t.unstable_NormalPriority,Ln={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new Km,data:new Map,refCount:0}}function oc(r){r.refCount--,r.refCount===0&&Th(Qm,function(){r.controller.abort()})}var cc=null,ou=0,Sl=0,bi=null;function Xm(r,o){if(cc===null){var u=cc=[];ou=0,Sl=D0(),bi={status:"pending",value:void 0,then:function(m){u.push(m)}}}return ou++,o.then(Ph,Ph),o}function Ph(){if(--ou===0&&cc!==null){bi!==null&&(bi.status="fulfilled");var r=cc;cc=null,Sl=0,bi=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Rh(r,o){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return r.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var g=ee.S;ee.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Xm(r,o),g!==null&&g(r,o)};var v=de(null);function k(){var r=v.current;return r!==null?r:Ks.pooledCache}function D(r,o){o===null?F(v,v.current):F(v,o.pool)}function V(){var r=k();return r===null?null:{parent:Ln._currentValue,pool:r}}var Q=Error(a(460)),Z=Error(a(474)),ae=Error(a(542)),oe={then:function(){}};function me(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ye(){}function Le(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(ye,ye),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ce(r),r;default:if(typeof o.status=="string")o.then(ye,ye);else{if(r=Ks,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=o,r.status="pending",r.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ce(r),r}throw he=o,Q}}var he=null;function Ne(){if(he===null)throw Error(a(459));var r=he;return he=null,r}function Ce(r){if(r===Q||r===ae)throw Error(a(483))}var Ue=!1;function Ee(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ze(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qe(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function st(r,o,u){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Os&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=vl(r),ed(r,null,u),o}return nc(r,m,o,u),vl(r)}function Xe(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,Xn(r,u)}}function Et(r,o){var u=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?b=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?b=N=o:N=N.next=o}else b=N=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var vt=!1;function Yt(){if(vt){var r=bi;if(r!==null)throw r}}function wt(r,o,u,m){vt=!1;var b=r.updateQueue;Ue=!1;var N=b.firstBaseUpdate,R=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var xe=J,De=xe.next;xe.next=null,R===null?N=De:R.next=De,R=xe;var Ve=r.alternate;Ve!==null&&(Ve=Ve.updateQueue,J=Ve.lastBaseUpdate,J!==R&&(J===null?Ve.firstBaseUpdate=De:J.next=De,Ve.lastBaseUpdate=xe))}if(N!==null){var Ze=b.baseState;R=0,Ve=De=xe=null,J=N;do{var Me=J.lane&-536870913,Fe=Me!==J.lane;if(Fe?(vs&Me)===Me:(m&Me)===Me){Me!==0&&Me===Sl&&(vt=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Wt=r,It=J;Me=o;var qs=u;switch(It.tag){case 1:if(Wt=It.payload,typeof Wt=="function"){Ze=Wt.call(qs,Ze,Me);break e}Ze=Wt;break e;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=It.payload,Me=typeof Wt=="function"?Wt.call(qs,Ze,Me):Wt,Me==null)break e;Ze=p({},Ze,Me);break e;case 2:Ue=!0}}Me=J.callback,Me!==null&&(r.flags|=64,Fe&&(r.flags|=8192),Fe=b.callbacks,Fe===null?b.callbacks=[Me]:Fe.push(Me))}else Fe={lane:Me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ve===null?(De=Ve=Fe,xe=Ze):Ve=Ve.next=Fe,R|=Me;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;Fe=J,J=Fe.next,Fe.next=null,b.lastBaseUpdate=Fe,b.shared.pending=null}}while(!0);Ve===null&&(xe=Ze),b.baseState=xe,b.firstBaseUpdate=De,b.lastBaseUpdate=Ve,N===null&&(b.shared.lanes=0),jo|=R,r.lanes=R,r.memoizedState=Ze}}function ds(r,o){if(typeof r!="function")throw Error(a(191,r));r.call(o)}function Nn(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)ds(u[r],o)}var Vt=de(null),Nt=de(0);function dt(r,o){r=Fl,F(Nt,r),F(Vt,o),Fl=r|o.baseLanes}function en(){F(Nt,Fl),F(Vt,Vt.current)}function Kt(){Fl=Nt.current,T(Vt),T(Nt)}var ns=0,St=null,Zt=null,ms=null,Vs=!1,pn=!1,xn=!1,ln=0,cs=0,ps=null,on=0;function Ut(){throw Error(a(321))}function Dn(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!In(r[u],o[u]))return!1;return!0}function Ba(r,o,u,m,b,N){return ns=N,St=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ee.H=r===null||r.memoizedState===null?cg:dg,xn=!1,N=u(m,b),xn=!1,pn&&(N=fa(o,u,m,b)),cn(r),N}function cn(r){ee.H=Kh;var o=Zt!==null&&Zt.next!==null;if(ns=0,ms=Zt=St=null,Vs=!1,cs=0,ps=null,o)throw Error(a(300));r===null||na||(r=r.dependencies,r!==null&&rd(r)&&(na=!0))}function fa(r,o,u,m){St=r;var b=0;do{if(pn&&(ps=null),cs=0,pn=!1,25<=b)throw Error(a(301));if(b+=1,ms=Zt=null,r.updateQueue!=null){var N=r.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ee.H=bN,N=o(u,m)}while(pn);return N}function Fs(){var r=ee.H,o=r.useState()[0];return o=typeof o.then=="function"?Gn(o):o,r=r.useState()[0],(Zt!==null?Zt.memoizedState:null)!==r&&(St.flags|=1024),o}function gn(){var r=ln!==0;return ln=0,r}function ma(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Wn(r){if(Vs){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Vs=!1}ns=0,ms=Zt=St=null,pn=!1,cs=ln=0,ps=null}function Us(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?St.memoizedState=ms=r:ms=ms.next=r,ms}function ys(){if(Zt===null){var r=St.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var o=ms===null?St.memoizedState:ms.next;if(o!==null)ms=o,Zt=r;else{if(r===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ms===null?St.memoizedState=ms=r:ms=ms.next=r}return ms}function sa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gn(r){var o=cs;return cs+=1,ps===null&&(ps=[]),r=Le(ps,r,o),o=St,(ms===null?o.memoizedState:ms.next)===null&&(o=o.alternate,ee.H=o===null||o.memoizedState===null?cg:dg),r}function Cs(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Gn(r);if(r.$$typeof===M)return En(r)}throw Error(a(438,String(r)))}function pa(r){var o=null,u=St.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=St.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=sa(),St.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),m=0;m<r;m++)u[m]=te;return o.index++,u}function Mn(r,o){return typeof o=="function"?o(r):o}function Wr(r){var o=ys();return fr(o,Zt,r)}function fr(r,o,u){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=u;var b=r.baseQueue,N=m.pending;if(N!==null){if(b!==null){var R=b.next;b.next=N.next,N.next=R}o.baseQueue=b=N,m.pending=null}if(N=r.baseState,b===null)r.memoizedState=N;else{o=b.next;var J=R=null,xe=null,De=o,Ve=!1;do{var Ze=De.lane&-536870913;if(Ze!==De.lane?(vs&Ze)===Ze:(ns&Ze)===Ze){var Me=De.revertLane;if(Me===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ze===Sl&&(Ve=!0);else if((ns&Me)===Me){De=De.next,Me===Sl&&(Ve=!0);continue}else Ze={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},xe===null?(J=xe=Ze,R=N):xe=xe.next=Ze,St.lanes|=Me,jo|=Me;Ze=De.action,xn&&u(N,Ze),N=De.hasEagerState?De.eagerState:u(N,Ze)}else Me={lane:Ze,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},xe===null?(J=xe=Me,R=N):xe=xe.next=Me,St.lanes|=Ze,jo|=Ze;De=De.next}while(De!==null&&De!==o);if(xe===null?R=N:xe.next=J,!In(N,r.memoizedState)&&(na=!0,Ve&&(u=bi,u!==null)))throw u;r.memoizedState=N,r.baseState=R,r.baseQueue=xe,m.lastRenderedState=N}return b===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function Fn(r){var o=ys(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var m=u.dispatch,b=u.pending,N=o.memoizedState;if(b!==null){u.pending=null;var R=b=b.next;do N=r(N,R.action),R=R.next;while(R!==b);In(N,o.memoizedState)||(na=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,m]}function dc(r,o,u){var m=St,b=ys(),N=js;if(N){if(u===void 0)throw Error(a(407));u=u()}else u=o();var R=!In((Zt||b).memoizedState,u);R&&(b.memoizedState=u,na=!0),b=b.queue;var J=fo.bind(null,m,b,r);if(xo(2048,8,J,[r]),b.getSnapshot!==o||R||ms!==null&&ms.memoizedState.tag&1){if(m.flags|=2048,vi(9,mc(),uc.bind(null,m,b,u,o),null),Ks===null)throw Error(a(349));N||(ns&124)!==0||ld(m,o,u)}return u}function ld(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=St.updateQueue,o===null?(o=sa(),St.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function uc(r,o,u,m){o.value=u,o.getSnapshot=m,Bh(o)&&Uh(r)}function fo(r,o,u){return u(function(){Bh(o)&&Uh(r)})}function Bh(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!In(r,u)}catch{return!0}}function Uh(r){var o=yl(r,2);o!==null&&yr(o,r,2)}function hc(r){var o=Us();if(typeof r=="function"){var u=r;if(r=u(),xn){jt(!0);try{u()}finally{jt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:r},o}function yi(r,o,u,m){return r.baseState=u,fr(r,Zt,typeof m=="function"?m:Mn)}function Zm(r,o,u,m,b){if(Yh(r))throw Error(a(485));if(r=o.action,r!==null){var N={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){N.listeners.push(R)}};ee.T!==null?u(!0):N.isTransition=!1,m(N),u=o.pending,u===null?(N.next=o.pending=N,Ih(o,N)):(N.next=u.next,o.pending=u.next=N)}}function Ih(r,o){var u=o.action,m=o.payload,b=r.state;if(o.isTransition){var N=ee.T,R={};ee.T=R;try{var J=u(b,m),xe=ee.S;xe!==null&&xe(R,J),qh(r,o,J)}catch(De){mo(r,o,De)}finally{ee.T=N}}else try{N=u(b,m),qh(r,o,N)}catch(De){mo(r,o,De)}}function qh(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){cu(r,o,m)},function(m){return mo(r,o,m)}):cu(r,o,u)}function cu(r,o,u){o.status="fulfilled",o.value=u,du(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Ih(r,u)))}function mo(r,o,u){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,du(o),o=o.next;while(o!==m)}r.action=null}function du(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function uu(r,o){return o}function fc(r,o){if(js){var u=Ks.formState;if(u!==null){e:{var m=St;if(js){if(rn){t:{for(var b=rn,N=zr;b.nodeType!==8;){if(!N){b=null;break t}if(b=_i(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){rn=_i(b.nextSibling),m=b.data==="F!";break e}}_l(m)}m=!1}m&&(o=u[0])}}return u=Us(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:o},u.queue=m,u=ig.bind(null,St,m),m.dispatch=u,m=hc(!1),N=Jm.bind(null,St,!1,m.queue),m=Us(),b={state:o,dispatch:null,action:r,pending:null},m.queue=b,u=Zm.bind(null,St,b,N,u),b.dispatch=u,m.memoizedState=r,[o,u,!1]}function od(r){var o=ys();return po(o,Zt,r)}function po(r,o,u){if(o=fr(r,o,uu)[0],r=Wr(Mn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Gn(o)}catch(R){throw R===Q?ae:R}else m=o;o=ys();var b=o.queue,N=b.dispatch;return u!==o.memoizedState&&(St.flags|=2048,vi(9,mc(),zh.bind(null,b,u),null)),[m,N,r]}function zh(r,o){r.action=o}function Hh(r){var o=ys(),u=Zt;if(u!==null)return po(o,u,r);ys(),o=o.memoizedState,u=ys();var m=u.queue.dispatch;return u.memoizedState=r,[o,m,!1]}function vi(r,o,u,m){return r={tag:r,create:u,deps:m,inst:o,next:null},o=St.updateQueue,o===null&&(o=sa(),St.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(m=u.next,u.next=r,r.next=m,o.lastEffect=r),r}function mc(){return{destroy:void 0,resource:void 0}}function cd(){return ys().memoizedState}function mr(r,o,u,m){var b=Us();m=m===void 0?null:m,St.flags|=r,b.memoizedState=vi(1|o,mc(),u,m)}function xo(r,o,u,m){var b=ys();m=m===void 0?null:m;var N=b.memoizedState.inst;Zt!==null&&m!==null&&Dn(m,Zt.memoizedState.deps)?b.memoizedState=vi(o,N,u,m):(St.flags|=r,b.memoizedState=vi(1|o,N,u,m))}function hu(r,o){mr(8390656,8,r,o)}function $h(r,o){xo(2048,8,r,o)}function fu(r,o){return xo(4,2,r,o)}function Al(r,o){return xo(4,4,r,o)}function Vh(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function mu(r,o,u){u=u!=null?u.concat([r]):null,xo(4,4,Vh.bind(null,o,r),u)}function pu(){}function xu(r,o){var u=ys();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Dn(o,m[1])?m[0]:(u.memoizedState=[r,o],r)}function Wh(r,o){var u=ys();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Dn(o,m[1]))return m[0];if(m=r(),xn){jt(!0);try{r()}finally{jt(!1)}}return u.memoizedState=[m,o],m}function Cl(r,o,u){return u===void 0||(ns&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=sb(),St.lanes|=r,jo|=r,u)}function dd(r,o,u,m){return In(u,o)?u:Vt.current!==null?(r=Cl(r,u,m),In(r,o)||(na=!0),r):(ns&42)===0?(na=!0,r.memoizedState=u):(r=sb(),St.lanes|=r,jo|=r,o)}function pc(r,o,u,m,b){var N=ie.p;ie.p=N!==0&&8>N?N:8;var R=ee.T,J={};ee.T=J,Jm(r,!1,o,u);try{var xe=b(),De=ee.S;if(De!==null&&De(J,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ve=Rh(xe,m);vu(r,o,Ve,br(r))}else vu(r,o,m,br(r))}catch(Ze){vu(r,o,{then:function(){},status:"rejected",reason:Ze},br())}finally{ie.p=N,ee.T=R}}function wi(){}function Gr(r,o,u,m){if(r.tag!==5)throw Error(a(476));var b=Ni(r).queue;pc(r,b,o,le,u===null?wi:function(){return xc(r),u(m)})}function Ni(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:le},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function xc(r){var o=Ni(r).next.queue;vu(r,o,{},br())}function gc(){return En(Bu)}function gu(){return ys().memoizedState}function Gh(){return ys().memoizedState}function bu(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=br();r=qe(u);var m=st(o,r,u);m!==null&&(yr(m,o,u),Xe(m,o,u)),o={cache:lu()},r.payload=o;return}o=o.return}}function yu(r,o,u){var m=br();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Yh(r)?lg(o,u):(u=Jc(r,o,u,m),u!==null&&(yr(u,r,m),og(u,o,m)))}function ig(r,o,u){var m=br();vu(r,o,u,m)}function vu(r,o,u,m){var b={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yh(r))lg(o,b);else{var N=r.alternate;if(r.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var R=o.lastRenderedState,J=N(R,u);if(b.hasEagerState=!0,b.eagerState=J,In(J,R))return nc(r,o,b,0),Ks===null&&sc(),!1}catch{}finally{}if(u=Jc(r,o,b,m),u!==null)return yr(u,r,m),og(u,o,m),!0}return!1}function Jm(r,o,u,m){if(m={lane:2,revertLane:D0(),action:m,hasEagerState:!1,eagerState:null,next:null},Yh(r)){if(o)throw Error(a(479))}else o=Jc(r,u,m,2),o!==null&&yr(o,r,2)}function Yh(r){var o=r.alternate;return r===St||o!==null&&o===St}function lg(r,o){pn=Vs=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function og(r,o,u){if((u&4194048)!==0){var m=o.lanes;m&=r.pendingLanes,u|=m,o.lanes=u,Xn(r,u)}}var Kh={readContext:En,use:Cs,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},cg={readContext:En,use:Cs,useCallback:function(r,o){return Us().memoizedState=[r,o===void 0?null:o],r},useContext:En,useEffect:hu,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,mr(4194308,4,Vh.bind(null,o,r),u)},useLayoutEffect:function(r,o){return mr(4194308,4,r,o)},useInsertionEffect:function(r,o){mr(4,2,r,o)},useMemo:function(r,o){var u=Us();o=o===void 0?null:o;var m=r();if(xn){jt(!0);try{r()}finally{jt(!1)}}return u.memoizedState=[m,o],m},useReducer:function(r,o,u){var m=Us();if(u!==void 0){var b=u(o);if(xn){jt(!0);try{u(o)}finally{jt(!1)}}}else b=o;return m.memoizedState=m.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},m.queue=r,r=r.dispatch=yu.bind(null,St,r),[m.memoizedState,r]},useRef:function(r){var o=Us();return r={current:r},o.memoizedState=r},useState:function(r){r=hc(r);var o=r.queue,u=ig.bind(null,St,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:pu,useDeferredValue:function(r,o){var u=Us();return Cl(u,r,o)},useTransition:function(){var r=hc(!1);return r=pc.bind(null,St,r.queue,!0,!1),Us().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var m=St,b=Us();if(js){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Ks===null)throw Error(a(349));(vs&124)!==0||ld(m,o,u)}b.memoizedState=u;var N={value:u,getSnapshot:o};return b.queue=N,hu(fo.bind(null,m,N,r),[r]),m.flags|=2048,vi(9,mc(),uc.bind(null,m,N,u,o),null),u},useId:function(){var r=Us(),o=Ks.identifierPrefix;if(js){var u=pi,m=mi;u=(m&~(1<<32-ft(m)-1)).toString(32)+u,o=""+o+"R"+u,u=ln++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=on++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:gc,useFormState:fc,useActionState:fc,useOptimistic:function(r){var o=Us();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Jm.bind(null,St,!0,u),u.dispatch=o,[r,o]},useMemoCache:pa,useCacheRefresh:function(){return Us().memoizedState=bu.bind(null,St)}},dg={readContext:En,use:Cs,useCallback:xu,useContext:En,useEffect:$h,useImperativeHandle:mu,useInsertionEffect:fu,useLayoutEffect:Al,useMemo:Wh,useReducer:Wr,useRef:cd,useState:function(){return Wr(Mn)},useDebugValue:pu,useDeferredValue:function(r,o){var u=ys();return dd(u,Zt.memoizedState,r,o)},useTransition:function(){var r=Wr(Mn)[0],o=ys().memoizedState;return[typeof r=="boolean"?r:Gn(r),o]},useSyncExternalStore:dc,useId:gu,useHostTransitionStatus:gc,useFormState:od,useActionState:od,useOptimistic:function(r,o){var u=ys();return yi(u,Zt,r,o)},useMemoCache:pa,useCacheRefresh:Gh},bN={readContext:En,use:Cs,useCallback:xu,useContext:En,useEffect:$h,useImperativeHandle:mu,useInsertionEffect:fu,useLayoutEffect:Al,useMemo:Wh,useReducer:Fn,useRef:cd,useState:function(){return Fn(Mn)},useDebugValue:pu,useDeferredValue:function(r,o){var u=ys();return Zt===null?Cl(u,r,o):dd(u,Zt.memoizedState,r,o)},useTransition:function(){var r=Fn(Mn)[0],o=ys().memoizedState;return[typeof r=="boolean"?r:Gn(r),o]},useSyncExternalStore:dc,useId:gu,useHostTransitionStatus:gc,useFormState:Hh,useActionState:Hh,useOptimistic:function(r,o){var u=ys();return Zt!==null?yi(u,Zt,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:pa,useCacheRefresh:Gh},ud=null,wu=0;function Qh(r){var o=wu;return wu+=1,ud===null&&(ud=[]),Le(ud,r,o)}function Nu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Xh(r,o){throw o.$$typeof===x?Error(a(525)):(r=Object.prototype.toString.call(o),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function ug(r){var o=r._init;return o(r._payload)}function hg(r){function o(je,we){if(r){var ke=je.deletions;ke===null?(je.deletions=[we],je.flags|=16):ke.push(we)}}function u(je,we){if(!r)return null;for(;we!==null;)o(je,we),we=we.sibling;return null}function m(je){for(var we=new Map;je!==null;)je.key!==null?we.set(je.key,je):we.set(je.index,je),je=je.sibling;return we}function b(je,we){return je=qr(je,we),je.index=0,je.sibling=null,je}function N(je,we,ke){return je.index=ke,r?(ke=je.alternate,ke!==null?(ke=ke.index,ke<we?(je.flags|=67108866,we):ke):(je.flags|=67108866,we)):(je.flags|=1048576,we)}function R(je){return r&&je.alternate===null&&(je.flags|=67108866),je}function J(je,we,ke,Ye){return we===null||we.tag!==6?(we=td(ke,je.mode,Ye),we.return=je,we):(we=b(we,ke),we.return=je,we)}function xe(je,we,ke,Ye){var Ct=ke.type;return Ct===j?Ve(je,we,ke.props.children,Ye,ke.key):we!==null&&(we.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===U&&ug(Ct)===we.type)?(we=b(we,ke.props),Nu(we,ke),we.return=je,we):(we=wl(ke.type,ke.key,ke.props,null,je.mode,Ye),Nu(we,ke),we.return=je,we)}function De(je,we,ke,Ye){return we===null||we.tag!==4||we.stateNode.containerInfo!==ke.containerInfo||we.stateNode.implementation!==ke.implementation?(we=rc(ke,je.mode,Ye),we.return=je,we):(we=b(we,ke.children||[]),we.return=je,we)}function Ve(je,we,ke,Ye,Ct){return we===null||we.tag!==7?(we=hi(ke,je.mode,Ye,Ct),we.return=je,we):(we=b(we,ke),we.return=je,we)}function Ze(je,we,ke){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=td(""+we,je.mode,ke),we.return=je,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case w:return ke=wl(we.type,we.key,we.props,null,je.mode,ke),Nu(ke,we),ke.return=je,ke;case y:return we=rc(we,je.mode,ke),we.return=je,we;case U:var Ye=we._init;return we=Ye(we._payload),Ze(je,we,ke)}if(re(we)||O(we))return we=hi(we,je.mode,ke,null),we.return=je,we;if(typeof we.then=="function")return Ze(je,Qh(we),ke);if(we.$$typeof===M)return Ze(je,Yi(je,we),ke);Xh(je,we)}return null}function Me(je,we,ke,Ye){var Ct=we!==null?we.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Ct!==null?null:J(je,we,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case w:return ke.key===Ct?xe(je,we,ke,Ye):null;case y:return ke.key===Ct?De(je,we,ke,Ye):null;case U:return Ct=ke._init,ke=Ct(ke._payload),Me(je,we,ke,Ye)}if(re(ke)||O(ke))return Ct!==null?null:Ve(je,we,ke,Ye,null);if(typeof ke.then=="function")return Me(je,we,Qh(ke),Ye);if(ke.$$typeof===M)return Me(je,we,Yi(je,ke),Ye);Xh(je,ke)}return null}function Fe(je,we,ke,Ye,Ct){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return je=je.get(ke)||null,J(we,je,""+Ye,Ct);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case w:return je=je.get(Ye.key===null?ke:Ye.key)||null,xe(we,je,Ye,Ct);case y:return je=je.get(Ye.key===null?ke:Ye.key)||null,De(we,je,Ye,Ct);case U:var us=Ye._init;return Ye=us(Ye._payload),Fe(je,we,ke,Ye,Ct)}if(re(Ye)||O(Ye))return je=je.get(ke)||null,Ve(we,je,Ye,Ct,null);if(typeof Ye.then=="function")return Fe(je,we,ke,Qh(Ye),Ct);if(Ye.$$typeof===M)return Fe(je,we,ke,Yi(we,Ye),Ct);Xh(we,Ye)}return null}function Wt(je,we,ke,Ye){for(var Ct=null,us=null,Ft=we,zt=we=0,ra=null;Ft!==null&&zt<ke.length;zt++){Ft.index>zt?(ra=Ft,Ft=null):ra=Ft.sibling;var _s=Me(je,Ft,ke[zt],Ye);if(_s===null){Ft===null&&(Ft=ra);break}r&&Ft&&_s.alternate===null&&o(je,Ft),we=N(_s,we,zt),us===null?Ct=_s:us.sibling=_s,us=_s,Ft=ra}if(zt===ke.length)return u(je,Ft),js&&jl(je,zt),Ct;if(Ft===null){for(;zt<ke.length;zt++)Ft=Ze(je,ke[zt],Ye),Ft!==null&&(we=N(Ft,we,zt),us===null?Ct=Ft:us.sibling=Ft,us=Ft);return js&&jl(je,zt),Ct}for(Ft=m(Ft);zt<ke.length;zt++)ra=Fe(Ft,je,zt,ke[zt],Ye),ra!==null&&(r&&ra.alternate!==null&&Ft.delete(ra.key===null?zt:ra.key),we=N(ra,we,zt),us===null?Ct=ra:us.sibling=ra,us=ra);return r&&Ft.forEach(function(Mo){return o(je,Mo)}),js&&jl(je,zt),Ct}function It(je,we,ke,Ye){if(ke==null)throw Error(a(151));for(var Ct=null,us=null,Ft=we,zt=we=0,ra=null,_s=ke.next();Ft!==null&&!_s.done;zt++,_s=ke.next()){Ft.index>zt?(ra=Ft,Ft=null):ra=Ft.sibling;var Mo=Me(je,Ft,_s.value,Ye);if(Mo===null){Ft===null&&(Ft=ra);break}r&&Ft&&Mo.alternate===null&&o(je,Ft),we=N(Mo,we,zt),us===null?Ct=Mo:us.sibling=Mo,us=Mo,Ft=ra}if(_s.done)return u(je,Ft),js&&jl(je,zt),Ct;if(Ft===null){for(;!_s.done;zt++,_s=ke.next())_s=Ze(je,_s.value,Ye),_s!==null&&(we=N(_s,we,zt),us===null?Ct=_s:us.sibling=_s,us=_s);return js&&jl(je,zt),Ct}for(Ft=m(Ft);!_s.done;zt++,_s=ke.next())_s=Fe(Ft,je,zt,_s.value,Ye),_s!==null&&(r&&_s.alternate!==null&&Ft.delete(_s.key===null?zt:_s.key),we=N(_s,we,zt),us===null?Ct=_s:us.sibling=_s,us=_s);return r&&Ft.forEach(function(yj){return o(je,yj)}),js&&jl(je,zt),Ct}function qs(je,we,ke,Ye){if(typeof ke=="object"&&ke!==null&&ke.type===j&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case w:e:{for(var Ct=ke.key;we!==null;){if(we.key===Ct){if(Ct=ke.type,Ct===j){if(we.tag===7){u(je,we.sibling),Ye=b(we,ke.props.children),Ye.return=je,je=Ye;break e}}else if(we.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===U&&ug(Ct)===we.type){u(je,we.sibling),Ye=b(we,ke.props),Nu(Ye,ke),Ye.return=je,je=Ye;break e}u(je,we);break}else o(je,we);we=we.sibling}ke.type===j?(Ye=hi(ke.props.children,je.mode,Ye,ke.key),Ye.return=je,je=Ye):(Ye=wl(ke.type,ke.key,ke.props,null,je.mode,Ye),Nu(Ye,ke),Ye.return=je,je=Ye)}return R(je);case y:e:{for(Ct=ke.key;we!==null;){if(we.key===Ct)if(we.tag===4&&we.stateNode.containerInfo===ke.containerInfo&&we.stateNode.implementation===ke.implementation){u(je,we.sibling),Ye=b(we,ke.children||[]),Ye.return=je,je=Ye;break e}else{u(je,we);break}else o(je,we);we=we.sibling}Ye=rc(ke,je.mode,Ye),Ye.return=je,je=Ye}return R(je);case U:return Ct=ke._init,ke=Ct(ke._payload),qs(je,we,ke,Ye)}if(re(ke))return Wt(je,we,ke,Ye);if(O(ke)){if(Ct=O(ke),typeof Ct!="function")throw Error(a(150));return ke=Ct.call(ke),It(je,we,ke,Ye)}if(typeof ke.then=="function")return qs(je,we,Qh(ke),Ye);if(ke.$$typeof===M)return qs(je,we,Yi(je,ke),Ye);Xh(je,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,we!==null&&we.tag===6?(u(je,we.sibling),Ye=b(we,ke),Ye.return=je,je=Ye):(u(je,we),Ye=td(ke,je.mode,Ye),Ye.return=je,je=Ye),R(je)):u(je,we)}return function(je,we,ke,Ye){try{wu=0;var Ct=qs(je,we,ke,Ye);return ud=null,Ct}catch(Ft){if(Ft===Q||Ft===ae)throw Ft;var us=ta(29,Ft,null,je.mode);return us.lanes=Ye,us.return=je,us}finally{}}}var hd=hg(!0),fg=hg(!1),Yr=de(null),Ki=null;function go(r){var o=r.alternate;F(Yn,Yn.current&1),F(Yr,r),Ki===null&&(o===null||Vt.current!==null||o.memoizedState!==null)&&(Ki=r)}function mg(r){if(r.tag===22){if(F(Yn,Yn.current),F(Yr,r),Ki===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ki=r)}}else bo()}function bo(){F(Yn,Yn.current),F(Yr,Yr.current)}function kl(r){T(Yr),Ki===r&&(Ki=null),T(Yn)}var Yn=de(0);function Zh(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||H0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function e0(r,o,u,m){o=r.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var t0={enqueueSetState:function(r,o,u){r=r._reactInternals;var m=br(),b=qe(m);b.payload=o,u!=null&&(b.callback=u),o=st(r,b,m),o!==null&&(yr(o,r,m),Xe(o,r,m))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var m=br(),b=qe(m);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=st(r,b,m),o!==null&&(yr(o,r,m),Xe(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=br(),m=qe(u);m.tag=2,o!=null&&(m.callback=o),o=st(r,m,u),o!==null&&(yr(o,r,u),Xe(o,r,u))}};function pg(r,o,u,m,b,N,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,N,R):o.prototype&&o.prototype.isPureReactComponent?!Rr(u,m)||!Rr(b,N):!0}function xg(r,o,u,m){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==r&&t0.enqueueReplaceState(o,o.state,null)}function bc(r,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var b in r)u[b]===void 0&&(u[b]=r[b])}return u}var Jh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function gg(r){Jh(r)}function bg(r){console.error(r)}function yg(r){Jh(r)}function ef(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function vg(r,o,u){try{var m=r.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function s0(r,o,u){return u=qe(u),u.tag=3,u.payload={element:null},u.callback=function(){ef(r,o)},u}function wg(r){return r=qe(r),r.tag=3,r}function Ng(r,o,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var N=m.value;r.payload=function(){return b(N)},r.callback=function(){vg(o,u,m)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){vg(o,u,m),typeof b!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function yN(r,o,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ho(o,u,b,!0),u=Yr.current,u!==null){switch(u.tag){case 13:return Ki===null?A0():u.alternate===null&&jn===0&&(jn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===oe?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),k0(r,m,b)),!1;case 22:return u.flags|=65536,m===oe?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),k0(r,m,b)),!1}throw Error(a(435,u.tag))}return k0(r,m,b),A0(),!1}if(js)return o=Yr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==iu&&(r=Error(a(422),{cause:m}),uo(Oa(r,u)))):(m!==iu&&(o=Error(a(423),{cause:m}),uo(Oa(o,u))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,m=Oa(m,u),b=s0(r.stateNode,m,b),Et(r,b),jn!==4&&(jn=2)),!1;var N=Error(a(520),{cause:m});if(N=Oa(N,u),Eu===null?Eu=[N]:Eu.push(N),jn!==4&&(jn=2),o===null)return!0;m=Oa(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=b&-b,u.lanes|=r,r=s0(u.stateNode,m,r),Et(u,r),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_o===null||!_o.has(N))))return u.flags|=65536,b&=-b,u.lanes|=b,b=wg(b),Ng(b,r,u,m),Et(u,b),!1}u=u.return}while(u!==null);return!1}var jg=Error(a(461)),na=!1;function xa(r,o,u,m){o.child=r===null?fg(o,null,u,m):hd(o,r.child,u,m)}function _g(r,o,u,m,b){u=u.render;var N=o.ref;if("ref"in m){var R={};for(var J in m)J!=="ref"&&(R[J]=m[J])}else R=m;return Vr(o),m=Ba(r,o,u,R,N,b),J=gn(),r!==null&&!na?(ma(r,o,b),El(r,o,b)):(js&&J&&ic(o),o.flags|=1,xa(r,o,m,b),o.child)}function Sg(r,o,u,m,b){if(r===null){var N=u.type;return typeof N=="function"&&!oo(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,Ag(r,o,N,m,b)):(r=wl(u.type,null,m,o,o.mode,b),r.ref=o.ref,r.return=o,o.child=r)}if(N=r.child,!d0(r,b)){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:Rr,u(R,m)&&r.ref===o.ref)return El(r,o,b)}return o.flags|=1,r=qr(N,m),r.ref=o.ref,r.return=o,o.child=r}function Ag(r,o,u,m,b){if(r!==null){var N=r.memoizedProps;if(Rr(N,m)&&r.ref===o.ref)if(na=!1,o.pendingProps=m=N,d0(r,b))(r.flags&131072)!==0&&(na=!0);else return o.lanes=r.lanes,El(r,o,b)}return n0(r,o,u,m,b)}function Cg(r,o,u){var m=o.pendingProps,b=m.children,N=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=N!==null?N.baseLanes|u:u,r!==null){for(b=o.child=r.child,N=0;b!==null;)N=N|b.lanes|b.childLanes,b=b.sibling;o.childLanes=N&~m}else o.childLanes=0,o.child=null;return kg(r,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&D(o,N!==null?N.cachePool:null),N!==null?dt(o,N):en(),mg(o);else return o.lanes=o.childLanes=536870912,kg(r,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(D(o,N.cachePool),dt(o,N),bo(),o.memoizedState=null):(r!==null&&D(o,null),en(),bo());return xa(r,o,b,u),o.child}function kg(r,o,u,m){var b=k();return b=b===null?null:{parent:Ln._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},r!==null&&D(o,null),en(),mg(o),r!==null&&ho(r,o,m,!0),null}function tf(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function n0(r,o,u,m,b){return Vr(o),u=Ba(r,o,u,m,void 0,b),m=gn(),r!==null&&!na?(ma(r,o,b),El(r,o,b)):(js&&m&&ic(o),o.flags|=1,xa(r,o,u,b),o.child)}function Eg(r,o,u,m,b,N){return Vr(o),o.updateQueue=null,u=fa(o,m,u,b),cn(r),m=gn(),r!==null&&!na?(ma(r,o,N),El(r,o,N)):(js&&m&&ic(o),o.flags|=1,xa(r,o,u,N),o.child)}function Lg(r,o,u,m,b){if(Vr(o),o.stateNode===null){var N=qn,R=u.contextType;typeof R=="object"&&R!==null&&(N=En(R)),N=new u(m,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=t0,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=m,N.state=o.memoizedState,N.refs={},Ee(o),R=u.contextType,N.context=typeof R=="object"&&R!==null?En(R):qn,N.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(e0(o,u,R,m),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(R=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),R!==N.state&&t0.enqueueReplaceState(N,N.state,null),wt(o,m,N,b),Yt(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(r===null){N=o.stateNode;var J=o.memoizedProps,xe=bc(u,J);N.props=xe;var De=N.context,Ve=u.contextType;R=qn,typeof Ve=="object"&&Ve!==null&&(R=En(Ve));var Ze=u.getDerivedStateFromProps;Ve=typeof Ze=="function"||typeof N.getSnapshotBeforeUpdate=="function",J=o.pendingProps!==J,Ve||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J||De!==R)&&xg(o,N,m,R),Ue=!1;var Me=o.memoizedState;N.state=Me,wt(o,m,N,b),Yt(),De=o.memoizedState,J||Me!==De||Ue?(typeof Ze=="function"&&(e0(o,u,Ze,m),De=o.memoizedState),(xe=Ue||pg(o,u,xe,m,Me,De,R))?(Ve||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=De),N.props=m,N.state=De,N.context=R,m=xe):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{N=o.stateNode,ze(r,o),R=o.memoizedProps,Ve=bc(u,R),N.props=Ve,Ze=o.pendingProps,Me=N.context,De=u.contextType,xe=qn,typeof De=="object"&&De!==null&&(xe=En(De)),J=u.getDerivedStateFromProps,(De=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==Ze||Me!==xe)&&xg(o,N,m,xe),Ue=!1,Me=o.memoizedState,N.state=Me,wt(o,m,N,b),Yt();var Fe=o.memoizedState;R!==Ze||Me!==Fe||Ue||r!==null&&r.dependencies!==null&&rd(r.dependencies)?(typeof J=="function"&&(e0(o,u,J,m),Fe=o.memoizedState),(Ve=Ue||pg(o,u,Ve,m,Me,Fe,xe)||r!==null&&r.dependencies!==null&&rd(r.dependencies))?(De||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Fe,xe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Fe,xe)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===r.memoizedProps&&Me===r.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Me===r.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Fe),N.props=m,N.state=Fe,N.context=xe,m=Ve):(typeof N.componentDidUpdate!="function"||R===r.memoizedProps&&Me===r.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Me===r.memoizedState||(o.flags|=1024),m=!1)}return N=m,tf(r,o),m=(o.flags&128)!==0,N||m?(N=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,r!==null&&m?(o.child=hd(o,r.child,null,b),o.child=hd(o,null,u,b)):xa(r,o,u,b),o.memoizedState=N.state,r=o.child):r=El(r,o,b),r}function Dg(r,o,u,m){return Ra(),o.flags|=256,xa(r,o,u,m),o.child}var a0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(r){return{baseLanes:r,cachePool:V()}}function i0(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Kr),r}function Mg(r,o,u){var m=o.pendingProps,b=!1,N=(o.flags&128)!==0,R;if((R=N)||(R=r!==null&&r.memoizedState===null?!1:(Yn.current&2)!==0),R&&(b=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(js){if(b?go(o):bo(),js){var J=rn,xe;if(xe=J){e:{for(xe=J,J=zr;xe.nodeType!==8;){if(!J){J=null;break e}if(xe=_i(xe.nextSibling),xe===null){J=null;break e}}J=xe}J!==null?(o.memoizedState={dehydrated:J,treeContext:Nl!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},xe=ta(18,null,null,0),xe.stateNode=J,xe.return=o,o.child=xe,kn=o,rn=null,xe=!0):xe=!1}xe||_l(o)}if(J=o.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return H0(J)?o.lanes=32:o.lanes=536870912,null;kl(o)}return J=m.children,m=m.fallback,b?(bo(),b=o.mode,J=sf({mode:"hidden",children:J},b),m=hi(m,b,u,null),J.return=o,m.return=o,J.sibling=m,o.child=J,b=o.child,b.memoizedState=r0(u),b.childLanes=i0(r,R,u),o.memoizedState=a0,m):(go(o),l0(o,J))}if(xe=r.memoizedState,xe!==null&&(J=xe.dehydrated,J!==null)){if(N)o.flags&256?(go(o),o.flags&=-257,o=o0(r,o,u)):o.memoizedState!==null?(bo(),o.child=r.child,o.flags|=128,o=null):(bo(),b=m.fallback,J=o.mode,m=sf({mode:"visible",children:m.children},J),b=hi(b,J,u,null),b.flags|=2,m.return=o,b.return=o,m.sibling=b,o.child=m,hd(o,r.child,null,u),m=o.child,m.memoizedState=r0(u),m.childLanes=i0(r,R,u),o.memoizedState=a0,o=b);else if(go(o),H0(J)){if(R=J.nextSibling&&J.nextSibling.dataset,R)var De=R.dgst;R=De,m=Error(a(419)),m.stack="",m.digest=R,uo({value:m,source:null,stack:null}),o=o0(r,o,u)}else if(na||ho(r,o,u,!1),R=(u&r.childLanes)!==0,na||R){if(R=Ks,R!==null&&(m=u&-u,m=(m&42)!==0?1:Xs(m),m=(m&(R.suspendedLanes|u))!==0?0:m,m!==0&&m!==xe.retryLane))throw xe.retryLane=m,yl(r,m),yr(R,r,m),jg;J.data==="$?"||A0(),o=o0(r,o,u)}else J.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=xe.treeContext,rn=_i(J.nextSibling),kn=o,js=!0,Wi=null,zr=!1,r!==null&&(Ya[Pa++]=mi,Ya[Pa++]=pi,Ya[Pa++]=Nl,mi=r.id,pi=r.overflow,Nl=o),o=l0(o,m.children),o.flags|=4096);return o}return b?(bo(),b=m.fallback,J=o.mode,xe=r.child,De=xe.sibling,m=qr(xe,{mode:"hidden",children:m.children}),m.subtreeFlags=xe.subtreeFlags&65011712,De!==null?b=qr(De,b):(b=hi(b,J,u,null),b.flags|=2),b.return=o,m.return=o,m.sibling=b,o.child=m,m=b,b=o.child,J=r.child.memoizedState,J===null?J=r0(u):(xe=J.cachePool,xe!==null?(De=Ln._currentValue,xe=xe.parent!==De?{parent:De,pool:De}:xe):xe=V(),J={baseLanes:J.baseLanes|u,cachePool:xe}),b.memoizedState=J,b.childLanes=i0(r,R,u),o.memoizedState=a0,m):(go(o),u=r.child,r=u.sibling,u=qr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function l0(r,o){return o=sf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function sf(r,o){return r=ta(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function o0(r,o,u){return hd(o,r.child,null,u),r=l0(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Fg(r,o,u){r.lanes|=o;var m=r.alternate;m!==null&&(m.lanes|=o),nd(r.return,o,u)}function c0(r,o,u,m,b){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=b)}function Og(r,o,u){var m=o.pendingProps,b=m.revealOrder,N=m.tail;if(xa(r,o,m.children,u),m=Yn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fg(r,u,o);else if(r.tag===19)Fg(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(F(Yn,m),b){case"forwards":for(u=o.child,b=null;u!==null;)r=u.alternate,r!==null&&Zh(r)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),c0(o,!1,b,u,N);break;case"backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(r=b.alternate,r!==null&&Zh(r)===null){o.child=b;break}r=b.sibling,b.sibling=u,u=b,b=r}c0(o,!0,u,null,N);break;case"together":c0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function El(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),jo|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(ho(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(a(153));if(o.child!==null){for(r=o.child,u=qr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=qr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function d0(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&rd(r)))}function vN(r,o,u){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Gi(o,Ln,r.memoizedState.cache),Ra();break;case 27:case 5:Oe(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Gi(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(go(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Mg(r,o,u):(go(o),r=El(r,o,u),r!==null?r.sibling:null);go(o);break;case 19:var b=(r.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ho(r,o,u,!1),m=(u&o.childLanes)!==0),b){if(m)return Og(r,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),F(Yn,Yn.current),m)break;return null;case 22:case 23:return o.lanes=0,Cg(r,o,u);case 24:Gi(o,Ln,r.memoizedState.cache)}return El(r,o,u)}function Tg(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)na=!0;else{if(!d0(r,u)&&(o.flags&128)===0)return na=!1,vN(r,o,u);na=(r.flags&131072)!==0}else na=!1,js&&(o.flags&1048576)!==0&&Mh(o,sd,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var m=o.elementType,b=m._init;if(m=b(m._payload),o.type=m,typeof m=="function")oo(m)?(r=bc(m,r),o.tag=1,o=Lg(null,o,m,r,u)):(o.tag=0,o=n0(null,o,m,r,u));else{if(m!=null){if(b=m.$$typeof,b===B){o.tag=11,o=_g(null,o,m,r,u);break e}else if(b===K){o.tag=14,o=Sg(null,o,m,r,u);break e}}throw o=G(m)||m,Error(a(306,o,""))}}return o;case 0:return n0(r,o,o.type,o.pendingProps,u);case 1:return m=o.type,b=bc(m,o.pendingProps),Lg(r,o,m,b,u);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(a(387));m=o.pendingProps;var N=o.memoizedState;b=N.element,ze(r,o),wt(o,m,null,u);var R=o.memoizedState;if(m=R.cache,Gi(o,Ln,m),m!==N.cache&&ad(o,[Ln],u,!0),Yt(),m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=Dg(r,o,m,u);break e}else if(m!==b){b=Oa(Error(a(424)),o),uo(b),o=Dg(r,o,m,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(rn=_i(r.firstChild),kn=o,js=!0,Wi=null,zr=!0,u=fg(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ra(),m===b){o=El(r,o,u);break e}xa(r,o,m,u)}o=o.child}return o;case 26:return tf(r,o),r===null?(u=Ub(o.type,null,o.pendingProps,null))?o.memoizedState=u:js||(u=o.type,r=o.pendingProps,m=gf(se.current).createElement(u),m[xs]=o,m[bt]=r,ba(m,u,r),Bs(m),o.stateNode=m):o.memoizedState=Ub(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Oe(o),r===null&&js&&(m=o.stateNode=Pb(o.type,o.pendingProps,se.current),kn=o,zr=!0,b=rn,Co(o.type)?($0=b,rn=_i(m.firstChild)):rn=b),xa(r,o,o.pendingProps.children,u),tf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&js&&((b=m=rn)&&(m=YN(m,o.type,o.pendingProps,zr),m!==null?(o.stateNode=m,kn=o,rn=_i(m.firstChild),zr=!1,b=!0):b=!1),b||_l(o)),Oe(o),b=o.type,N=o.pendingProps,R=r!==null?r.memoizedProps:null,m=N.children,I0(b,N)?m=null:R!==null&&I0(b,R)&&(o.flags|=32),o.memoizedState!==null&&(b=Ba(r,o,Fs,null,null,u),Bu._currentValue=b),tf(r,o),xa(r,o,m,u),o.child;case 6:return r===null&&js&&((r=u=rn)&&(u=KN(u,o.pendingProps,zr),u!==null?(o.stateNode=u,kn=o,rn=null,r=!0):r=!1),r||_l(o)),null;case 13:return Mg(r,o,u);case 4:return be(o,o.stateNode.containerInfo),m=o.pendingProps,r===null?o.child=hd(o,null,m,u):xa(r,o,m,u),o.child;case 11:return _g(r,o,o.type,o.pendingProps,u);case 7:return xa(r,o,o.pendingProps,u),o.child;case 8:return xa(r,o,o.pendingProps.children,u),o.child;case 12:return xa(r,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Gi(o,o.type,m.value),xa(r,o,m.children,u),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,Vr(o),b=En(b),m=m(b),o.flags|=1,xa(r,o,m,u),o.child;case 14:return Sg(r,o,o.type,o.pendingProps,u);case 15:return Ag(r,o,o.type,o.pendingProps,u);case 19:return Og(r,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},r===null?(u=sf(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=qr(r.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Cg(r,o,u);case 24:return Vr(o),m=En(Ln),r===null?(b=k(),b===null&&(b=Ks,N=lu(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=u),b=N),o.memoizedState={parent:m,cache:b},Ee(o),Gi(o,Ln,b)):((r.lanes&u)!==0&&(ze(r,o),wt(o,null,null,u),Yt()),b=r.memoizedState,N=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),Gi(o,Ln,m)):(m=N.cache,Gi(o,Ln,m),m!==b.cache&&ad(o,[Ln],u,!0))),xa(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ll(r){r.flags|=4}function Pg(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!$b(o)){if(o=Yr.current,o!==null&&((vs&4194048)===vs?Ki!==null:(vs&62914560)!==vs&&(vs&536870912)===0||o!==Ki))throw he=oe,Z;r.flags|=8192}}function nf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?As():536870912,r.lanes|=o,xd|=o)}function ju(r,o){if(!js)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function bn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,m=0;if(o)for(var b=r.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=m,r.childLanes=u,o}function wN(r,o,u){var m=o.pendingProps;switch(lc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return bn(o),null;case 3:return u=o.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),$r(Ln),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ha(o)?Ll(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Oh())),bn(o),null;case 26:return u=o.memoizedState,r===null?(Ll(o),u!==null?(bn(o),Pg(o,u)):(bn(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Ll(o),bn(o),Pg(o,u)):(bn(o),o.flags&=-16777217):(r.memoizedProps!==m&&Ll(o),bn(o),o.flags&=-16777217),null;case 27:He(o),u=se.current;var b=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(!m){if(o.stateNode===null)throw Error(a(166));return bn(o),null}r=q.current,ha(o)?Fh(o):(r=Pb(b,m,u),o.stateNode=r,Ll(o))}return bn(o),null;case 5:if(He(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(!m){if(o.stateNode===null)throw Error(a(166));return bn(o),null}if(r=q.current,ha(o))Fh(o);else{switch(b=gf(se.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?b.createElement(u,{is:m.is}):b.createElement(u)}}r[xs]=o,r[bt]=m;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=r;e:switch(ba(r,u,m),u){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ll(o)}}return bn(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==m&&Ll(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(a(166));if(r=se.current,ha(o)){if(r=o.stateNode,u=o.memoizedProps,m=null,b=kn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}r[xs]=o,r=!!(r.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Eb(r.nodeValue,u)),r||_l(o)}else r=gf(r).createTextNode(m),r[xs]=o,o.stateNode=r}return bn(o),null;case 13:if(m=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=ha(o),m!==null&&m.dehydrated!==null){if(r===null){if(!b)throw Error(a(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[xs]=o}else Ra(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),b=!1}else b=Oh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(kl(o),o):(kl(o),null)}if(kl(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,r=r!==null&&r.memoizedState!==null,u){m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==b&&(m.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),nf(o,o.updateQueue),bn(o),null;case 4:return Se(),r===null&&T0(o.stateNode.containerInfo),bn(o),null;case 10:return $r(o.type),bn(o),null;case 19:if(T(Yn),b=o.memoizedState,b===null)return bn(o),null;if(m=(o.flags&128)!==0,N=b.rendering,N===null)if(m)ju(b,!1);else{if(jn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(N=Zh(r),N!==null){for(o.flags|=128,ju(b,!1),r=N.updateQueue,o.updateQueue=r,nf(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)ac(u,r),u=u.sibling;return F(Yn,Yn.current&1|2),o.child}r=r.sibling}b.tail!==null&&at()>lf&&(o.flags|=128,m=!0,ju(b,!1),o.lanes=4194304)}else{if(!m)if(r=Zh(N),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,nf(o,r),ju(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!js)return bn(o),null}else 2*at()-b.renderingStartTime>lf&&u!==536870912&&(o.flags|=128,m=!0,ju(b,!1),o.lanes=4194304);b.isBackwards?(N.sibling=o.child,o.child=N):(r=b.last,r!==null?r.sibling=N:o.child=N,b.last=N)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=at(),o.sibling=null,r=Yn.current,F(Yn,m?r&1|2:r&1),o):(bn(o),null);case 22:case 23:return kl(o),Kt(),m=o.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),u=o.updateQueue,u!==null&&nf(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),r!==null&&T(v),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),$r(Ln),bn(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function NN(r,o){switch(lc(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return $r(Ln),Se(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 13:if(kl(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Ra()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return T(Yn),null;case 4:return Se(),null;case 10:return $r(o.type),null;case 22:case 23:return kl(o),Kt(),r!==null&&T(v),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return $r(Ln),null;case 25:return null;default:return null}}function Rg(r,o){switch(lc(o),o.tag){case 3:$r(Ln),Se();break;case 26:case 27:case 5:He(o);break;case 4:Se();break;case 13:kl(o);break;case 19:T(Yn);break;case 10:$r(o.type);break;case 22:case 23:kl(o),Kt(),r!==null&&T(v);break;case 24:$r(Ln)}}function _u(r,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&r)===r){m=void 0;var N=u.create,R=u.inst;m=N(),R.destroy=m}u=u.next}while(u!==b)}}catch(J){Ws(o,o.return,J)}}function yo(r,o,u){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var N=b.next;m=N;do{if((m.tag&r)===r){var R=m.inst,J=R.destroy;if(J!==void 0){R.destroy=void 0,b=o;var xe=u,De=J;try{De()}catch(Ve){Ws(b,xe,Ve)}}}m=m.next}while(m!==N)}}catch(Ve){Ws(o,o.return,Ve)}}function Bg(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Nn(o,u)}catch(m){Ws(r,r.return,m)}}}function Ug(r,o,u){u.props=bc(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(m){Ws(r,o,m)}}function Su(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(b){Ws(r,o,b)}}function Qi(r,o){var u=r.ref,m=r.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){Ws(r,o,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Ws(r,o,b)}else u.current=null}function Ig(r){var o=r.type,u=r.memoizedProps,m=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){Ws(r,r.return,b)}}function u0(r,o,u){try{var m=r.stateNode;HN(m,r.type,u,o),m[bt]=o}catch(b){Ws(r,r.return,b)}}function qg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Co(r.type)||r.tag===4}function h0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Co(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function f0(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=xf));else if(m!==4&&(m===27&&Co(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(f0(r,o,u),r=r.sibling;r!==null;)f0(r,o,u),r=r.sibling}function af(r,o,u){var m=r.tag;if(m===5||m===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(m!==4&&(m===27&&Co(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(af(r,o,u),r=r.sibling;r!==null;)af(r,o,u),r=r.sibling}function zg(r){var o=r.stateNode,u=r.memoizedProps;try{for(var m=r.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);ba(o,m,u),o[xs]=r,o[bt]=u}catch(N){Ws(r,r.return,N)}}var Dl=!1,On=!1,m0=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,aa=null;function jN(r,o){if(r=r.containerInfo,B0=jf,r=io(r),da(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,J=-1,xe=-1,De=0,Ve=0,Ze=r,Me=null;t:for(;;){for(var Fe;Ze!==u||b!==0&&Ze.nodeType!==3||(J=R+b),Ze!==N||m!==0&&Ze.nodeType!==3||(xe=R+m),Ze.nodeType===3&&(R+=Ze.nodeValue.length),(Fe=Ze.firstChild)!==null;)Me=Ze,Ze=Fe;for(;;){if(Ze===r)break t;if(Me===u&&++De===b&&(J=R),Me===N&&++Ve===m&&(xe=R),(Fe=Ze.nextSibling)!==null)break;Ze=Me,Me=Ze.parentNode}Ze=Fe}u=J===-1||xe===-1?null:{start:J,end:xe}}else u=null}u=u||{start:0,end:0}}else u=null;for(U0={focusedElem:r,selectionRange:u},jf=!1,aa=o;aa!==null;)if(o=aa,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,aa=r;else for(;aa!==null;){switch(o=aa,N=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&N!==null){r=void 0,u=o,b=N.memoizedProps,N=N.memoizedState,m=u.stateNode;try{var Wt=bc(u.type,b,u.elementType===u.type);r=m.getSnapshotBeforeUpdate(Wt,N),m.__reactInternalSnapshotBeforeUpdate=r}catch(It){Ws(u,u.return,It)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)z0(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":z0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=o.sibling,r!==null){r.return=o.return,aa=r;break}aa=o.return}}function $g(r,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vo(r,u),m&4&&_u(5,u);break;case 1:if(vo(r,u),m&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){Ws(u,u.return,R)}else{var b=bc(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(b,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Ws(u,u.return,R)}}m&64&&Bg(u),m&512&&Su(u,u.return);break;case 3:if(vo(r,u),m&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Nn(r,o)}catch(R){Ws(u,u.return,R)}}break;case 27:o===null&&m&4&&zg(u);case 26:case 5:vo(r,u),o===null&&m&4&&Ig(u),m&512&&Su(u,u.return);break;case 12:vo(r,u);break;case 13:vo(r,u),m&4&&Gg(r,u),m&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=MN.bind(null,u),QN(r,u))));break;case 22:if(m=u.memoizedState!==null||Dl,!m){o=o!==null&&o.memoizedState!==null||On,b=Dl;var N=On;Dl=m,(On=o)&&!N?wo(r,u,(u.subtreeFlags&8772)!==0):vo(r,u),Dl=b,On=N}break;case 30:break;default:vo(r,u)}}function Vg(r){var o=r.alternate;o!==null&&(r.alternate=null,Vg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Ie(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dn=null,Ka=!1;function Ml(r,o,u){for(u=u.child;u!==null;)Wg(r,o,u),u=u.sibling}function Wg(r,o,u){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ge,u)}catch{}switch(u.tag){case 26:On||Qi(u,o),Ml(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||Qi(u,o);var m=dn,b=Ka;Co(u.type)&&(dn=u.stateNode,Ka=!1),Ml(r,o,u),Ou(u.stateNode),dn=m,Ka=b;break;case 5:On||Qi(u,o);case 6:if(m=dn,b=Ka,dn=null,Ml(r,o,u),dn=m,Ka=b,dn!==null)if(Ka)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(u.stateNode)}catch(N){Ws(u,o,N)}else try{dn.removeChild(u.stateNode)}catch(N){Ws(u,o,N)}break;case 18:dn!==null&&(Ka?(r=dn,Ob(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),zu(r)):Ob(dn,u.stateNode));break;case 4:m=dn,b=Ka,dn=u.stateNode.containerInfo,Ka=!0,Ml(r,o,u),dn=m,Ka=b;break;case 0:case 11:case 14:case 15:On||yo(2,u,o),On||yo(4,u,o),Ml(r,o,u);break;case 1:On||(Qi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Ug(u,o,m)),Ml(r,o,u);break;case 21:Ml(r,o,u);break;case 22:On=(m=On)||u.memoizedState!==null,Ml(r,o,u),On=m;break;default:Ml(r,o,u)}}function Gg(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zu(r)}catch(u){Ws(o,o.return,u)}}function _N(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Hg),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Hg),o;default:throw Error(a(435,r.tag))}}function p0(r,o){var u=_N(r);o.forEach(function(m){var b=FN.bind(null,r,m);u.has(m)||(u.add(m),m.then(b,b))})}function pr(r,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],N=r,R=o,J=R;e:for(;J!==null;){switch(J.tag){case 27:if(Co(J.type)){dn=J.stateNode,Ka=!1;break e}break;case 5:dn=J.stateNode,Ka=!1;break e;case 3:case 4:dn=J.stateNode.containerInfo,Ka=!0;break e}J=J.return}if(dn===null)throw Error(a(160));Wg(N,R,b),dn=null,Ka=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Yg(o,r),o=o.sibling}var ji=null;function Yg(r,o){var u=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:pr(o,r),xr(r),m&4&&(yo(3,r,r.return),_u(3,r),yo(5,r,r.return));break;case 1:pr(o,r),xr(r),m&512&&(On||u===null||Qi(u,u.return)),m&64&&Dl&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=ji;if(pr(o,r),xr(r),m&512&&(On||u===null||Qi(u,u.return)),m&4){var N=u!==null?u.memoizedState:null;if(m=r.memoizedState,u===null)if(m===null)if(r.stateNode===null){e:{m=r.type,u=r.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":N=b.getElementsByTagName("title")[0],(!N||N[X]||N[xs]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(m),b.head.insertBefore(N,b.querySelector("head > title"))),ba(N,m,u),N[xs]=r,Bs(N),m=N;break e;case"link":var R=zb("link","href",b).get(m+(u.href||""));if(R){for(var J=0;J<R.length;J++)if(N=R[J],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(J,1);break t}}N=b.createElement(m),ba(N,m,u),b.head.appendChild(N);break;case"meta":if(R=zb("meta","content",b).get(m+(u.content||""))){for(J=0;J<R.length;J++)if(N=R[J],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(J,1);break t}}N=b.createElement(m),ba(N,m,u),b.head.appendChild(N);break;default:throw Error(a(468,m))}N[xs]=r,Bs(N),m=N}r.stateNode=m}else Hb(b,r.type,r.stateNode);else r.stateNode=qb(b,m,r.memoizedProps);else N!==m?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,m===null?Hb(b,r.type,r.stateNode):qb(b,m,r.memoizedProps)):m===null&&r.stateNode!==null&&u0(r,r.memoizedProps,u.memoizedProps)}break;case 27:pr(o,r),xr(r),m&512&&(On||u===null||Qi(u,u.return)),u!==null&&m&4&&u0(r,r.memoizedProps,u.memoizedProps);break;case 5:if(pr(o,r),xr(r),m&512&&(On||u===null||Qi(u,u.return)),r.flags&32){b=r.stateNode;try{ai(b,"")}catch(Fe){Ws(r,r.return,Fe)}}m&4&&r.stateNode!=null&&(b=r.memoizedProps,u0(r,b,u!==null?u.memoizedProps:b)),m&1024&&(m0=!0);break;case 6:if(pr(o,r),xr(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,u=r.stateNode;try{u.nodeValue=m}catch(Fe){Ws(r,r.return,Fe)}}break;case 3:if(vf=null,b=ji,ji=bf(o.containerInfo),pr(o,r),ji=b,xr(r),m&4&&u!==null&&u.memoizedState.isDehydrated)try{zu(o.containerInfo)}catch(Fe){Ws(r,r.return,Fe)}m0&&(m0=!1,Kg(r));break;case 4:m=ji,ji=bf(r.stateNode.containerInfo),pr(o,r),xr(r),ji=m;break;case 12:pr(o,r),xr(r);break;case 13:pr(o,r),xr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(w0=at()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,p0(r,m)));break;case 22:b=r.memoizedState!==null;var xe=u!==null&&u.memoizedState!==null,De=Dl,Ve=On;if(Dl=De||b,On=Ve||xe,pr(o,r),On=Ve,Dl=De,xr(r),m&8192)e:for(o=r.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||xe||Dl||On||yc(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){xe=u=o;try{if(N=xe.stateNode,b)R=N.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{J=xe.stateNode;var Ze=xe.memoizedProps.style,Me=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;J.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(Fe){Ws(xe,xe.return,Fe)}}}else if(o.tag===6){if(u===null){xe=o;try{xe.stateNode.nodeValue=b?"":xe.memoizedProps}catch(Fe){Ws(xe,xe.return,Fe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=r.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,p0(r,u))));break;case 19:pr(o,r),xr(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,p0(r,m)));break;case 30:break;case 21:break;default:pr(o,r),xr(r)}}function xr(r){var o=r.flags;if(o&2){try{for(var u,m=r.return;m!==null;){if(qg(m)){u=m;break}m=m.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,N=h0(r);af(r,N,b);break;case 5:var R=u.stateNode;u.flags&32&&(ai(R,""),u.flags&=-33);var J=h0(r);af(r,J,R);break;case 3:case 4:var xe=u.stateNode.containerInfo,De=h0(r);f0(r,De,xe);break;default:throw Error(a(161))}}catch(Ve){Ws(r,r.return,Ve)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Kg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Kg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function vo(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$g(r,o.alternate,o),o=o.sibling}function yc(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),yc(o);break;case 1:Qi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Ug(o,o.return,u),yc(o);break;case 27:Ou(o.stateNode);case 26:case 5:Qi(o,o.return),yc(o);break;case 22:o.memoizedState===null&&yc(o);break;case 30:yc(o);break;default:yc(o)}r=r.sibling}}function wo(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=r,N=o,R=N.flags;switch(N.tag){case 0:case 11:case 15:wo(b,N,u),_u(4,N);break;case 1:if(wo(b,N,u),m=N,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(De){Ws(m,m.return,De)}if(m=N,b=m.updateQueue,b!==null){var J=m.stateNode;try{var xe=b.shared.hiddenCallbacks;if(xe!==null)for(b.shared.hiddenCallbacks=null,b=0;b<xe.length;b++)ds(xe[b],J)}catch(De){Ws(m,m.return,De)}}u&&R&64&&Bg(N),Su(N,N.return);break;case 27:zg(N);case 26:case 5:wo(b,N,u),u&&m===null&&R&4&&Ig(N),Su(N,N.return);break;case 12:wo(b,N,u);break;case 13:wo(b,N,u),u&&R&4&&Gg(b,N);break;case 22:N.memoizedState===null&&wo(b,N,u),Su(N,N.return);break;case 30:break;default:wo(b,N,u)}o=o.sibling}}function x0(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&oc(u))}function g0(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&oc(r))}function Xi(r,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Qg(r,o,u,m),o=o.sibling}function Qg(r,o,u,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Xi(r,o,u,m),b&2048&&_u(9,o);break;case 1:Xi(r,o,u,m);break;case 3:Xi(r,o,u,m),b&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&oc(r)));break;case 12:if(b&2048){Xi(r,o,u,m),r=o.stateNode;try{var N=o.memoizedProps,R=N.id,J=N.onPostCommit;typeof J=="function"&&J(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(xe){Ws(o,o.return,xe)}}else Xi(r,o,u,m);break;case 13:Xi(r,o,u,m);break;case 23:break;case 22:N=o.stateNode,R=o.alternate,o.memoizedState!==null?N._visibility&2?Xi(r,o,u,m):Au(r,o):N._visibility&2?Xi(r,o,u,m):(N._visibility|=2,fd(r,o,u,m,(o.subtreeFlags&10256)!==0)),b&2048&&x0(R,o);break;case 24:Xi(r,o,u,m),b&2048&&g0(o.alternate,o);break;default:Xi(r,o,u,m)}}function fd(r,o,u,m,b){for(b=b&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=r,R=o,J=u,xe=m,De=R.flags;switch(R.tag){case 0:case 11:case 15:fd(N,R,J,xe,b),_u(8,R);break;case 23:break;case 22:var Ve=R.stateNode;R.memoizedState!==null?Ve._visibility&2?fd(N,R,J,xe,b):Au(N,R):(Ve._visibility|=2,fd(N,R,J,xe,b)),b&&De&2048&&x0(R.alternate,R);break;case 24:fd(N,R,J,xe,b),b&&De&2048&&g0(R.alternate,R);break;default:fd(N,R,J,xe,b)}o=o.sibling}}function Au(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,m=o,b=m.flags;switch(m.tag){case 22:Au(u,m),b&2048&&x0(m.alternate,m);break;case 24:Au(u,m),b&2048&&g0(m.alternate,m);break;default:Au(u,m)}o=o.sibling}}var Cu=8192;function md(r){if(r.subtreeFlags&Cu)for(r=r.child;r!==null;)Xg(r),r=r.sibling}function Xg(r){switch(r.tag){case 26:md(r),r.flags&Cu&&r.memoizedState!==null&&cj(ji,r.memoizedState,r.memoizedProps);break;case 5:md(r);break;case 3:case 4:var o=ji;ji=bf(r.stateNode.containerInfo),md(r),ji=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Cu,Cu=16777216,md(r),Cu=o):md(r));break;default:md(r)}}function Zg(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ku(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];aa=m,eb(m,r)}Zg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jg(r),r=r.sibling}function Jg(r){switch(r.tag){case 0:case 11:case 15:ku(r),r.flags&2048&&yo(9,r,r.return);break;case 3:ku(r);break;case 12:ku(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,rf(r)):ku(r);break;default:ku(r)}}function rf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];aa=m,eb(m,r)}Zg(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:yo(8,o,o.return),rf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,rf(o));break;default:rf(o)}r=r.sibling}}function eb(r,o){for(;aa!==null;){var u=aa;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:oc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,aa=m;else e:for(u=r;aa!==null;){m=aa;var b=m.sibling,N=m.return;if(Vg(m),m===u){aa=null;break e}if(b!==null){b.return=N,aa=b;break e}aa=N}}}var SN={getCacheForType:function(r){var o=En(Ln),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},AN=typeof WeakMap=="function"?WeakMap:Map,Os=0,Ks=null,hs=null,vs=0,Ts=0,gr=null,No=!1,pd=!1,b0=!1,Fl=0,jn=0,jo=0,vc=0,y0=0,Kr=0,xd=0,Eu=null,Qa=null,v0=!1,w0=0,lf=1/0,of=null,_o=null,ga=0,So=null,gd=null,bd=0,N0=0,j0=null,tb=null,Lu=0,_0=null;function br(){if((Os&2)!==0&&vs!==0)return vs&-vs;if(ee.T!==null){var r=Sl;return r!==0?r:D0()}return ka()}function sb(){Kr===0&&(Kr=(vs&536870912)===0||js?Tt():536870912);var r=Yr.current;return r!==null&&(r.flags|=32),Kr}function yr(r,o,u){(r===Ks&&(Ts===2||Ts===9)||r.cancelPendingCommit!==null)&&(yd(r,0),Ao(r,vs,Kr,!1)),ct(r,u),((Os&2)===0||r!==Ks)&&(r===Ks&&((Os&2)===0&&(vc|=u),jn===4&&Ao(r,vs,Kr,!1)),Zi(r))}function nb(r,o,u){if((Os&6)!==0)throw Error(a(327));var m=!u&&(o&124)===0&&(o&r.expiredLanes)===0||mt(r,o),b=m?EN(r,o):C0(r,o,!0),N=m;do{if(b===0){pd&&!m&&Ao(r,o,0,!1);break}else{if(u=r.current.alternate,N&&!CN(u)){b=C0(r,o,!1),N=!1;continue}if(b===2){if(N=o,r.errorRecoveryDisabledLanes&N)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var J=r;b=Eu;var xe=J.current.memoizedState.isDehydrated;if(xe&&(yd(J,R).flags|=256),R=C0(J,R,!1),R!==2){if(b0&&!xe){J.errorRecoveryDisabledLanes|=N,vc|=N,b=4;break e}N=Qa,Qa=b,N!==null&&(Qa===null?Qa=N:Qa.push.apply(Qa,N))}b=R}if(N=!1,b!==2)continue}}if(b===1){yd(r,0),Ao(r,o,0,!0);break}e:{switch(m=r,N=b,N){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Ao(m,o,Kr,!No);break e;case 2:Qa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(b=w0+300-at(),10<b)){if(Ao(m,o,Kr,!No),ls(m,0,!0)!==0)break e;m.timeoutHandle=Mb(ab.bind(null,m,u,Qa,of,v0,o,Kr,vc,xd,No,N,2,-0,0),b);break e}ab(m,u,Qa,of,v0,o,Kr,vc,xd,No,N,0,-0,0)}}break}while(!0);Zi(r)}function ab(r,o,u,m,b,N,R,J,xe,De,Ve,Ze,Me,Fe){if(r.timeoutHandle=-1,Ze=o.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:oj},Xg(o),Ze=dj(),Ze!==null)){r.cancelPendingCommit=Ze(ub.bind(null,r,o,N,u,m,b,R,J,xe,Ve,1,Me,Fe)),Ao(r,N,R,!De);return}ub(r,o,N,u,m,b,R,J,xe)}function CN(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],N=b.getSnapshot;b=b.value;try{if(!In(N(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ao(r,o,u,m){o&=~y0,o&=~vc,r.suspendedLanes|=o,r.pingedLanes&=~o,m&&(r.warmLanes|=o),m=r.expirationTimes;for(var b=o;0<b;){var N=31-ft(b),R=1<<N;m[N]=-1,b&=~R}u!==0&&as(r,u,o)}function cf(){return(Os&6)===0?(Du(0),!1):!0}function S0(){if(hs!==null){if(Ts===0)var r=hs.return;else r=hs,gi=zn=null,Wn(r),ud=null,wu=0,r=hs;for(;r!==null;)Rg(r.alternate,r),r=r.return;hs=null}}function yd(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,VN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),S0(),Ks=r,hs=u=qr(r.current,null),vs=o,Ts=0,gr=null,No=!1,pd=mt(r,o),b0=!1,xd=Kr=y0=vc=jo=jn=0,Qa=Eu=null,v0=!1,(o&8)!==0&&(o|=o&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=o;0<m;){var b=31-ft(m),N=1<<b;o|=r[b],m&=~N}return Fl=o,sc(),u}function rb(r,o){St=null,ee.H=Kh,o===Q||o===ae?(o=Ne(),Ts=3):o===Z?(o=Ne(),Ts=4):Ts=o===jg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gr=o,hs===null&&(jn=1,ef(r,Oa(o,r.current)))}function ib(){var r=ee.H;return ee.H=Kh,r===null?Kh:r}function lb(){var r=ee.A;return ee.A=SN,r}function A0(){jn=4,No||(vs&4194048)!==vs&&Yr.current!==null||(pd=!0),(jo&134217727)===0&&(vc&134217727)===0||Ks===null||Ao(Ks,vs,Kr,!1)}function C0(r,o,u){var m=Os;Os|=2;var b=ib(),N=lb();(Ks!==r||vs!==o)&&(of=null,yd(r,o)),o=!1;var R=jn;e:do try{if(Ts!==0&&hs!==null){var J=hs,xe=gr;switch(Ts){case 8:S0(),R=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(o=!0);var De=Ts;if(Ts=0,gr=null,vd(r,J,xe,De),u&&pd){R=0;break e}break;default:De=Ts,Ts=0,gr=null,vd(r,J,xe,De)}}kN(),R=jn;break}catch(Ve){rb(r,Ve)}while(!0);return o&&r.shellSuspendCounter++,gi=zn=null,Os=m,ee.H=b,ee.A=N,hs===null&&(Ks=null,vs=0,sc()),R}function kN(){for(;hs!==null;)ob(hs)}function EN(r,o){var u=Os;Os|=2;var m=ib(),b=lb();Ks!==r||vs!==o?(of=null,lf=at()+500,yd(r,o)):pd=mt(r,o);e:do try{if(Ts!==0&&hs!==null){o=hs;var N=gr;t:switch(Ts){case 1:Ts=0,gr=null,vd(r,o,N,1);break;case 2:case 9:if(me(N)){Ts=0,gr=null,cb(o);break}o=function(){Ts!==2&&Ts!==9||Ks!==r||(Ts=7),Zi(r)},N.then(o,o);break e;case 3:Ts=7;break e;case 4:Ts=5;break e;case 7:me(N)?(Ts=0,gr=null,cb(o)):(Ts=0,gr=null,vd(r,o,N,7));break;case 5:var R=null;switch(hs.tag){case 26:R=hs.memoizedState;case 5:case 27:var J=hs;if(!R||$b(R)){Ts=0,gr=null;var xe=J.sibling;if(xe!==null)hs=xe;else{var De=J.return;De!==null?(hs=De,df(De)):hs=null}break t}}Ts=0,gr=null,vd(r,o,N,5);break;case 6:Ts=0,gr=null,vd(r,o,N,6);break;case 8:S0(),jn=6;break e;default:throw Error(a(462))}}LN();break}catch(Ve){rb(r,Ve)}while(!0);return gi=zn=null,ee.H=m,ee.A=b,Os=u,hs!==null?0:(Ks=null,vs=0,sc(),jn)}function LN(){for(;hs!==null&&!ue();)ob(hs)}function ob(r){var o=Tg(r.alternate,r,Fl);r.memoizedProps=r.pendingProps,o===null?df(r):hs=o}function cb(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Eg(u,o,o.pendingProps,o.type,void 0,vs);break;case 11:o=Eg(u,o,o.pendingProps,o.type.render,o.ref,vs);break;case 5:Wn(o);default:Rg(u,o),o=hs=ac(o,Fl),o=Tg(u,o,Fl)}r.memoizedProps=r.pendingProps,o===null?df(r):hs=o}function vd(r,o,u,m){gi=zn=null,Wn(o),ud=null,wu=0;var b=o.return;try{if(yN(r,b,o,u,vs)){jn=1,ef(r,Oa(u,r.current)),hs=null;return}}catch(N){if(b!==null)throw hs=b,N;jn=1,ef(r,Oa(u,r.current)),hs=null;return}o.flags&32768?(js||m===1?r=!0:pd||(vs&536870912)!==0?r=!1:(No=r=!0,(m===2||m===9||m===3||m===6)&&(m=Yr.current,m!==null&&m.tag===13&&(m.flags|=16384))),db(o,r)):df(o)}function df(r){var o=r;do{if((o.flags&32768)!==0){db(o,No);return}r=o.return;var u=wN(o.alternate,o,Fl);if(u!==null){hs=u;return}if(o=o.sibling,o!==null){hs=o;return}hs=o=r}while(o!==null);jn===0&&(jn=5)}function db(r,o){do{var u=NN(r.alternate,r);if(u!==null){u.flags&=32767,hs=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){hs=r;return}hs=r=u}while(r!==null);jn=6,hs=null}function ub(r,o,u,m,b,N,R,J,xe){r.cancelPendingCommit=null;do uf();while(ga!==0);if((Os&6)!==0)throw Error(a(327));if(o!==null){if(o===r.current)throw Error(a(177));if(N=o.lanes|o.childLanes,N|=Zc,We(r,u,N,R,J,xe),r===Ks&&(hs=Ks=null,vs=0),gd=o,So=r,bd=u,N0=N,j0=b,tb=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ON(rt,function(){return xb(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=ee.T,ee.T=null,b=ie.p,ie.p=2,R=Os,Os|=4;try{jN(r,o,u)}finally{Os=R,ie.p=b,ee.T=m}}ga=1,hb(),fb(),mb()}}function hb(){if(ga===1){ga=0;var r=So,o=gd,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null;var m=ie.p;ie.p=2;var b=Os;Os|=4;try{Yg(o,r);var N=U0,R=io(r.containerInfo),J=N.focusedElem,xe=N.selectionRange;if(R!==J&&J&&J.ownerDocument&&Br(J.ownerDocument.documentElement,J)){if(xe!==null&&da(J)){var De=xe.start,Ve=xe.end;if(Ve===void 0&&(Ve=De),"selectionStart"in J)J.selectionStart=De,J.selectionEnd=Math.min(Ve,J.value.length);else{var Ze=J.ownerDocument||document,Me=Ze&&Ze.defaultView||window;if(Me.getSelection){var Fe=Me.getSelection(),Wt=J.textContent.length,It=Math.min(xe.start,Wt),qs=xe.end===void 0?It:Math.min(xe.end,Wt);!Fe.extend&&It>qs&&(R=qs,qs=It,It=R);var je=Hi(J,It),we=Hi(J,qs);if(je&&we&&(Fe.rangeCount!==1||Fe.anchorNode!==je.node||Fe.anchorOffset!==je.offset||Fe.focusNode!==we.node||Fe.focusOffset!==we.offset)){var ke=Ze.createRange();ke.setStart(je.node,je.offset),Fe.removeAllRanges(),It>qs?(Fe.addRange(ke),Fe.extend(we.node,we.offset)):(ke.setEnd(we.node,we.offset),Fe.addRange(ke))}}}}for(Ze=[],Fe=J;Fe=Fe.parentNode;)Fe.nodeType===1&&Ze.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ze.length;J++){var Ye=Ze[J];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}jf=!!B0,U0=B0=null}finally{Os=b,ie.p=m,ee.T=u}}r.current=o,ga=2}}function fb(){if(ga===2){ga=0;var r=So,o=gd,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ee.T,ee.T=null;var m=ie.p;ie.p=2;var b=Os;Os|=4;try{$g(r,o.alternate,o)}finally{Os=b,ie.p=m,ee.T=u}}ga=3}}function mb(){if(ga===4||ga===3){ga=0,Dt();var r=So,o=gd,u=bd,m=tb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ga=5:(ga=0,gd=So=null,pb(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(_o=null),Zn(u),o=o.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ge,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=ee.T,b=ie.p,ie.p=2,ee.T=null;try{for(var N=r.onRecoverableError,R=0;R<m.length;R++){var J=m[R];N(J.value,{componentStack:J.stack})}}finally{ee.T=o,ie.p=b}}(bd&3)!==0&&uf(),Zi(r),b=r.pendingLanes,(u&4194090)!==0&&(b&42)!==0?r===_0?Lu++:(Lu=0,_0=r):Lu=0,Du(0)}}function pb(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,oc(o)))}function uf(r){return hb(),fb(),mb(),xb()}function xb(){if(ga!==5)return!1;var r=So,o=N0;N0=0;var u=Zn(bd),m=ee.T,b=ie.p;try{ie.p=32>u?32:u,ee.T=null,u=j0,j0=null;var N=So,R=bd;if(ga=0,gd=So=null,bd=0,(Os&6)!==0)throw Error(a(331));var J=Os;if(Os|=4,Jg(N.current),Qg(N,N.current,R,u),Os=J,Du(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ge,N)}catch{}return!0}finally{ie.p=b,ee.T=m,pb(r,o)}}function gb(r,o,u){o=Oa(u,o),o=s0(r.stateNode,o,2),r=st(r,o,2),r!==null&&(ct(r,2),Zi(r))}function Ws(r,o,u){if(r.tag===3)gb(r,r,u);else for(;o!==null;){if(o.tag===3){gb(o,r,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_o===null||!_o.has(m))){r=Oa(u,r),u=wg(2),m=st(o,u,2),m!==null&&(Ng(u,m,o,r),ct(m,2),Zi(m));break}}o=o.return}}function k0(r,o,u){var m=r.pingCache;if(m===null){m=r.pingCache=new AN;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(b0=!0,b.add(u),r=DN.bind(null,r,o,u),o.then(r,r))}function DN(r,o,u){var m=r.pingCache;m!==null&&m.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ks===r&&(vs&u)===u&&(jn===4||jn===3&&(vs&62914560)===vs&&300>at()-w0?(Os&2)===0&&yd(r,0):y0|=u,xd===vs&&(xd=0)),Zi(r)}function bb(r,o){o===0&&(o=As()),r=yl(r,o),r!==null&&(ct(r,o),Zi(r))}function MN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),bb(r,u)}function FN(r,o){var u=0;switch(r.tag){case 13:var m=r.stateNode,b=r.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(o),bb(r,u)}function ON(r,o){return et(r,o)}var hf=null,wd=null,E0=!1,ff=!1,L0=!1,wc=0;function Zi(r){r!==wd&&r.next===null&&(wd===null?hf=wd=r:wd=wd.next=r),ff=!0,E0||(E0=!0,PN())}function Du(r,o){if(!L0&&ff){L0=!0;do for(var u=!1,m=hf;m!==null;){if(r!==0){var b=m.pendingLanes;if(b===0)var N=0;else{var R=m.suspendedLanes,J=m.pingedLanes;N=(1<<31-ft(42|r)+1)-1,N&=b&~(R&~J),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,Nb(m,N))}else N=vs,N=ls(m,m===Ks?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||mt(m,N)||(u=!0,Nb(m,N));m=m.next}while(u);L0=!1}}function TN(){yb()}function yb(){ff=E0=!1;var r=0;wc!==0&&($N()&&(r=wc),wc=0);for(var o=at(),u=null,m=hf;m!==null;){var b=m.next,N=vb(m,o);N===0?(m.next=null,u===null?hf=b:u.next=b,b===null&&(wd=u)):(u=m,(r!==0||(N&3)!==0)&&(ff=!0)),m=b}Du(r)}function vb(r,o){for(var u=r.suspendedLanes,m=r.pingedLanes,b=r.expirationTimes,N=r.pendingLanes&-62914561;0<N;){var R=31-ft(N),J=1<<R,xe=b[R];xe===-1?((J&u)===0||(J&m)!==0)&&(b[R]=Gt(J,o)):xe<=o&&(r.expiredLanes|=J),N&=~J}if(o=Ks,u=vs,u=ls(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,u===0||r===o&&(Ts===2||Ts===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&Ae(m),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||mt(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(m!==null&&Ae(m),Zn(u)){case 2:case 8:u=xt;break;case 32:u=rt;break;case 268435456:u=Pe;break;default:u=rt}return m=wb.bind(null,r),u=et(u,m),r.callbackPriority=o,r.callbackNode=u,o}return m!==null&&m!==null&&Ae(m),r.callbackPriority=2,r.callbackNode=null,2}function wb(r,o){if(ga!==0&&ga!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(uf()&&r.callbackNode!==u)return null;var m=vs;return m=ls(r,r===Ks?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:(nb(r,m,o),vb(r,at()),r.callbackNode!=null&&r.callbackNode===u?wb.bind(null,r):null)}function Nb(r,o){if(uf())return null;nb(r,o,!0)}function PN(){WN(function(){(Os&6)!==0?et(Je,TN):yb()})}function D0(){return wc===0&&(wc=Tt()),wc}function jb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Sr(""+r)}function _b(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function RN(r,o,u,m,b){if(o==="submit"&&u&&u.stateNode===b){var N=jb((b[bt]||null).action),R=m.submitter;R&&(o=(o=R[bt]||null)?jb(o.formAction):R.getAttribute("formAction"),o!==null&&(N=o,R=null));var J=new Ri("action","action",null,m,b);r.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wc!==0){var xe=R?_b(b,R):new FormData(b);Gr(u,{pending:!0,data:xe,method:b.method,action:N},null,xe)}}else typeof N=="function"&&(J.preventDefault(),xe=R?_b(b,R):new FormData(b),Gr(u,{pending:!0,data:xe,method:b.method,action:N},N,xe))},currentTarget:b}]})}}for(var M0=0;M0<Xc.length;M0++){var F0=Xc[M0],BN=F0.toLowerCase(),UN=F0[0].toUpperCase()+F0.slice(1);Wa(BN,"on"+UN)}Wa(tu,"onAnimationEnd"),Wa(su,"onAnimationIteration"),Wa(nu,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(Eh,"onTransitionRun"),Wa(Lh,"onTransitionStart"),Wa(Dh,"onTransitionCancel"),Wa(au,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Sb(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var m=r[u],b=m.event;m=m.listeners;e:{var N=void 0;if(o)for(var R=m.length-1;0<=R;R--){var J=m[R],xe=J.instance,De=J.currentTarget;if(J=J.listener,xe!==N&&b.isPropagationStopped())break e;N=J,b.currentTarget=De;try{N(b)}catch(Ve){Jh(Ve)}b.currentTarget=null,N=xe}else for(R=0;R<m.length;R++){if(J=m[R],xe=J.instance,De=J.currentTarget,J=J.listener,xe!==N&&b.isPropagationStopped())break e;N=J,b.currentTarget=De;try{N(b)}catch(Ve){Jh(Ve)}b.currentTarget=null,N=xe}}}}function fs(r,o){var u=o[Ms];u===void 0&&(u=o[Ms]=new Set);var m=r+"__bubble";u.has(m)||(Ab(o,r,2,!1),u.add(m))}function O0(r,o,u){var m=0;o&&(m|=4),Ab(u,r,m,o)}var mf="_reactListening"+Math.random().toString(36).slice(2);function T0(r){if(!r[mf]){r[mf]=!0,va.forEach(function(u){u!=="selectionchange"&&(IN.has(u)||O0(u,!1,r),O0(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[mf]||(o[mf]=!0,O0("selectionchange",!1,o))}}function Ab(r,o,u,m){switch(Qb(o)){case 2:var b=fj;break;case 8:b=mj;break;default:b=K0}u=b.bind(null,o,u,r),b=void 0,!cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?r.addEventListener(o,u,{capture:!0,passive:b}):r.addEventListener(o,u,!0):b!==void 0?r.addEventListener(o,u,{passive:b}):r.addEventListener(o,u,!1)}function P0(r,o,u,m,b){var N=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var J=m.stateNode.containerInfo;if(J===b)break;if(R===4)for(R=m.return;R!==null;){var xe=R.tag;if((xe===3||xe===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;J!==null;){if(R=yt(J),R===null)return;if(xe=R.tag,xe===5||xe===6||xe===26||xe===27){m=N=R;continue e}J=J.parentNode}}m=m.return}Yc(function(){var De=N,Ve=Qo(u),Ze=[];e:{var Me=ru.get(r);if(Me!==void 0){var Fe=Ri,Wt=r;switch(r){case"keypress":if(Er(u)===0)break e;case"keydown":case"keyup":Fe=yn;break;case"focusin":Wt="focus",Fe=S;break;case"focusout":Wt="blur",Fe=S;break;case"beforeblur":case"afterblur":Fe=S;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=$n;break;case tu:case su:case nu:Fe=pe;break;case au:Fe=Ui;break;case"scroll":case"scrollend":Fe=fl;break;case"wheel":Fe=Kc;break;case"copy":case"cut":case"paste":Fe=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=vn;break;case"toggle":case"beforetoggle":Fe=hr}var It=(o&4)!==0,qs=!It&&(r==="scroll"||r==="scrollend"),je=It?Me!==null?Me+"Capture":null:Me;It=[];for(var we=De,ke;we!==null;){var Ye=we;if(ke=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||ke===null||je===null||(Ye=ul(we,je),Ye!=null&&It.push(Fu(we,Ye,ke))),qs)break;we=we.return}0<It.length&&(Me=new Fe(Me,Wt,null,u,Ve),Ze.push({event:Me,listeners:It}))}}if((o&7)===0){e:{if(Me=r==="mouseover"||r==="pointerover",Fe=r==="mouseout"||r==="pointerout",Me&&u!==Ar&&(Wt=u.relatedTarget||u.fromElement)&&(yt(Wt)||Wt[Ds]))break e;if((Fe||Me)&&(Me=Ve.window===Ve?Ve:(Me=Ve.ownerDocument)?Me.defaultView||Me.parentWindow:window,Fe?(Wt=u.relatedTarget||u.toElement,Fe=De,Wt=Wt?yt(Wt):null,Wt!==null&&(qs=l(Wt),It=Wt.tag,Wt!==qs||It!==5&&It!==27&&It!==6)&&(Wt=null)):(Fe=null,Wt=De),Fe!==Wt)){if(It=Jl,Ye="onMouseLeave",je="onMouseEnter",we="mouse",(r==="pointerout"||r==="pointerover")&&(It=vn,Ye="onPointerLeave",je="onPointerEnter",we="pointer"),qs=Fe==null?Me:Bt(Fe),ke=Wt==null?Me:Bt(Wt),Me=new It(Ye,we+"leave",Fe,u,Ve),Me.target=qs,Me.relatedTarget=ke,Ye=null,yt(Ve)===De&&(It=new It(je,we+"enter",Wt,u,Ve),It.target=ke,It.relatedTarget=qs,Ye=It),qs=Ye,Fe&&Wt)t:{for(It=Fe,je=Wt,we=0,ke=It;ke;ke=Nd(ke))we++;for(ke=0,Ye=je;Ye;Ye=Nd(Ye))ke++;for(;0<we-ke;)It=Nd(It),we--;for(;0<ke-we;)je=Nd(je),ke--;for(;we--;){if(It===je||je!==null&&It===je.alternate)break t;It=Nd(It),je=Nd(je)}It=null}else It=null;Fe!==null&&Cb(Ze,Me,Fe,It,!1),Wt!==null&&qs!==null&&Cb(Ze,qs,Wt,It,!0)}}e:{if(Me=De?Bt(De):window,Fe=Me.nodeName&&Me.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Me.type==="file")var Ct=ca;else if(Fa(Me))if(qi)Ct=ro;else{Ct=Tr;var us=Jd}else Fe=Me.nodeName,!Fe||Fe.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?De&&Yo(De.elementType)&&(Ct=ca):Ct=Pr;if(Ct&&(Ct=Ct(r,De))){so(Ze,Ct,u,Ve);break e}us&&us(r,Me,De),r==="focusout"&&De&&Me.type==="number"&&De.memoizedProps.value!=null&&Wo(Me,"number",Me.value)}switch(us=De?Bt(De):window,r){case"focusin":(Fa(us)||us.contentEditable==="true")&&(Ns=us,Ls=De,$s=null);break;case"focusout":$s=Ls=Ns=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,Ir(Ze,u,Ve);break;case"selectionchange":if(Ur)break;case"keydown":case"keyup":Ir(Ze,u,Ve)}var Ft;if(Ii)e:{switch(r){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ci?eo(r,u)&&(zt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(zt="onCompositionStart");zt&&(Mr&&u.locale!=="ko"&&(ci||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ci&&(Ft=Zl()):(kr=Ve,Zo="value"in kr?kr.value:kr.textContent,ci=!0)),us=pf(De,zt),0<us.length&&(zt=new tt(zt,r,null,u,Ve),Ze.push({event:zt,listeners:us}),Ft?zt.data=Ft:(Ft=ea(u),Ft!==null&&(zt.data=Ft)))),(Ft=Un?to(r,u):Qc(r,u))&&(zt=pf(De,"onBeforeInput"),0<zt.length&&(us=new tt("onBeforeInput","beforeinput",null,u,Ve),Ze.push({event:us,listeners:zt}),us.data=Ft)),RN(Ze,r,De,u,Ve)}Sb(Ze,o)})}function Fu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function pf(r,o){for(var u=o+"Capture",m=[];r!==null;){var b=r,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=ul(r,u),b!=null&&m.unshift(Fu(r,b,N)),b=ul(r,o),b!=null&&m.push(Fu(r,b,N))),r.tag===3)return m;r=r.return}return[]}function Nd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,o,u,m,b){for(var N=o._reactName,R=[];u!==null&&u!==m;){var J=u,xe=J.alternate,De=J.stateNode;if(J=J.tag,xe!==null&&xe===m)break;J!==5&&J!==26&&J!==27||De===null||(xe=De,b?(De=ul(u,N),De!=null&&R.unshift(Fu(u,De,xe))):b||(De=ul(u,N),De!=null&&R.push(Fu(u,De,xe)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var qN=/\r\n?/g,zN=/\u0000|\uFFFD/g;function kb(r){return(typeof r=="string"?r:""+r).replace(qN,`
`).replace(zN,"")}function Eb(r,o){return o=kb(o),kb(r)===o}function xf(){}function Is(r,o,u,m,b,N){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ai(r,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ai(r,""+m);break;case"className":oa(r,"class",m);break;case"tabIndex":oa(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(r,u,m);break;case"style":Gc(r,m,N);break;case"data":if(o!=="object"){oa(r,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Sr(""+m),r.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Is(r,o,"name",b.name,b,null),Is(r,o,"formEncType",b.formEncType,b,null),Is(r,o,"formMethod",b.formMethod,b,null),Is(r,o,"formTarget",b.formTarget,b,null)):(Is(r,o,"encType",b.encType,b,null),Is(r,o,"method",b.method,b,null),Is(r,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(u);break}m=Sr(""+m),r.setAttribute(u,m);break;case"onClick":m!=null&&(r.onclick=xf);break;case"onScroll":m!=null&&fs("scroll",r);break;case"onScrollEnd":m!=null&&fs("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}u=Sr(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""+m):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":m===!0?r.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(u,m):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(u,m):r.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(u):r.setAttribute(u,m);break;case"popover":fs("beforetoggle",r),fs("toggle",r),ol(r,"popover",m);break;case"xlinkActuate":La(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":La(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":La(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":La(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":La(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":La(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":La(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":La(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":La(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ol(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xd.get(u)||u,ol(r,u,m))}}function R0(r,o,u,m,b,N){switch(u){case"style":Gc(r,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"children":typeof m=="string"?ai(r,m):(typeof m=="number"||typeof m=="bigint")&&ai(r,""+m);break;case"onScroll":m!=null&&fs("scroll",r);break;case"onScrollEnd":m!=null&&fs("scrollend",r);break;case"onClick":m!=null&&(r.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),N=r[bt]||null,N=N!=null?N[u]:null,typeof N=="function"&&r.removeEventListener(o,N,b),typeof m=="function")){typeof N!="function"&&N!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,m,b);break e}u in r?r[u]=m:m===!0?r.setAttribute(u,""):ol(r,u,m)}}}function ba(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fs("error",r),fs("load",r);var m=!1,b=!1,N;for(N in u)if(u.hasOwnProperty(N)){var R=u[N];if(R!=null)switch(N){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Is(r,o,N,R,u,null)}}b&&Is(r,o,"srcSet",u.srcSet,u,null),m&&Is(r,o,"src",u.src,u,null);return;case"input":fs("invalid",r);var J=N=R=b=null,xe=null,De=null;for(m in u)if(u.hasOwnProperty(m)){var Ve=u[m];if(Ve!=null)switch(m){case"name":b=Ve;break;case"type":R=Ve;break;case"checked":xe=Ve;break;case"defaultChecked":De=Ve;break;case"value":N=Ve;break;case"defaultValue":J=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(a(137,o));break;default:Is(r,o,m,Ve,u,null)}}Wc(r,N,J,xe,De,R,b,!1),Ia(r);return;case"select":fs("invalid",r),m=R=N=null;for(b in u)if(u.hasOwnProperty(b)&&(J=u[b],J!=null))switch(b){case"value":N=J;break;case"defaultValue":R=J;break;case"multiple":m=J;default:Is(r,o,b,J,u,null)}o=N,u=R,r.multiple=!!m,o!=null?Ti(r,!!m,o,!1):u!=null&&Ti(r,!!m,u,!0);return;case"textarea":fs("invalid",r),N=b=m=null;for(R in u)if(u.hasOwnProperty(R)&&(J=u[R],J!=null))switch(R){case"value":m=J;break;case"defaultValue":b=J;break;case"children":N=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(91));break;default:Is(r,o,R,J,u,null)}Go(r,m,b,N),Ia(r);return;case"option":for(xe in u)if(u.hasOwnProperty(xe)&&(m=u[xe],m!=null))switch(xe){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Is(r,o,xe,m,u,null)}return;case"dialog":fs("beforetoggle",r),fs("toggle",r),fs("cancel",r),fs("close",r);break;case"iframe":case"object":fs("load",r);break;case"video":case"audio":for(m=0;m<Mu.length;m++)fs(Mu[m],r);break;case"image":fs("error",r),fs("load",r);break;case"details":fs("toggle",r);break;case"embed":case"source":case"link":fs("error",r),fs("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in u)if(u.hasOwnProperty(De)&&(m=u[De],m!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Is(r,o,De,m,u,null)}return;default:if(Yo(o)){for(Ve in u)u.hasOwnProperty(Ve)&&(m=u[Ve],m!==void 0&&R0(r,o,Ve,m,u,void 0));return}}for(J in u)u.hasOwnProperty(J)&&(m=u[J],m!=null&&Is(r,o,J,m,u,null))}function HN(r,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,R=null,J=null,xe=null,De=null,Ve=null;for(Fe in u){var Ze=u[Fe];if(u.hasOwnProperty(Fe)&&Ze!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":xe=Ze;default:m.hasOwnProperty(Fe)||Is(r,o,Fe,null,m,Ze)}}for(var Me in m){var Fe=m[Me];if(Ze=u[Me],m.hasOwnProperty(Me)&&(Fe!=null||Ze!=null))switch(Me){case"type":N=Fe;break;case"name":b=Fe;break;case"checked":De=Fe;break;case"defaultChecked":Ve=Fe;break;case"value":R=Fe;break;case"defaultValue":J=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,o));break;default:Fe!==Ze&&Is(r,o,Me,Fe,m,Ze)}}dl(r,R,J,xe,De,Ve,N,b);return;case"select":Fe=R=J=Me=null;for(N in u)if(xe=u[N],u.hasOwnProperty(N)&&xe!=null)switch(N){case"value":break;case"multiple":Fe=xe;default:m.hasOwnProperty(N)||Is(r,o,N,null,m,xe)}for(b in m)if(N=m[b],xe=u[b],m.hasOwnProperty(b)&&(N!=null||xe!=null))switch(b){case"value":Me=N;break;case"defaultValue":J=N;break;case"multiple":R=N;default:N!==xe&&Is(r,o,b,N,m,xe)}o=J,u=R,m=Fe,Me!=null?Ti(r,!!u,Me,!1):!!m!=!!u&&(o!=null?Ti(r,!!u,o,!0):Ti(r,!!u,u?[]:"",!1));return;case"textarea":Fe=Me=null;for(J in u)if(b=u[J],u.hasOwnProperty(J)&&b!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Is(r,o,J,null,m,b)}for(R in m)if(b=m[R],N=u[R],m.hasOwnProperty(R)&&(b!=null||N!=null))switch(R){case"value":Me=b;break;case"defaultValue":Fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==N&&Is(r,o,R,b,m,N)}lr(r,Me,Fe);return;case"option":for(var Wt in u)if(Me=u[Wt],u.hasOwnProperty(Wt)&&Me!=null&&!m.hasOwnProperty(Wt))switch(Wt){case"selected":r.selected=!1;break;default:Is(r,o,Wt,null,m,Me)}for(xe in m)if(Me=m[xe],Fe=u[xe],m.hasOwnProperty(xe)&&Me!==Fe&&(Me!=null||Fe!=null))switch(xe){case"selected":r.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Is(r,o,xe,Me,m,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in u)Me=u[It],u.hasOwnProperty(It)&&Me!=null&&!m.hasOwnProperty(It)&&Is(r,o,It,null,m,Me);for(De in m)if(Me=m[De],Fe=u[De],m.hasOwnProperty(De)&&Me!==Fe&&(Me!=null||Fe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(137,o));break;default:Is(r,o,De,Me,m,Fe)}return;default:if(Yo(o)){for(var qs in u)Me=u[qs],u.hasOwnProperty(qs)&&Me!==void 0&&!m.hasOwnProperty(qs)&&R0(r,o,qs,void 0,m,Me);for(Ve in m)Me=m[Ve],Fe=u[Ve],!m.hasOwnProperty(Ve)||Me===Fe||Me===void 0&&Fe===void 0||R0(r,o,Ve,Me,m,Fe);return}}for(var je in u)Me=u[je],u.hasOwnProperty(je)&&Me!=null&&!m.hasOwnProperty(je)&&Is(r,o,je,null,m,Me);for(Ze in m)Me=m[Ze],Fe=u[Ze],!m.hasOwnProperty(Ze)||Me===Fe||Me==null&&Fe==null||Is(r,o,Ze,Me,m,Fe)}var B0=null,U0=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function Lb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function I0(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var q0=null;function $N(){var r=window.event;return r&&r.type==="popstate"?r===q0?!1:(q0=r,!0):(q0=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(r){return Fb.resolve(null).then(r).catch(GN)}:Mb;function GN(r){setTimeout(function(){throw r})}function Co(r){return r==="head"}function Ob(r,o){var u=o,m=0,b=0;do{var N=u.nextSibling;if(r.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<m&&8>m){u=m;var R=r.ownerDocument;if(u&1&&Ou(R.documentElement),u&2&&Ou(R.body),u&4)for(u=R.head,Ou(u),R=u.firstChild;R;){var J=R.nextSibling,xe=R.nodeName;R[X]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=J}}if(b===0){r.removeChild(N),zu(o);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:m=u.charCodeAt(0)-48;else m=0;u=N}while(u);zu(o)}function z0(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":z0(u),Ie(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function YN(r,o,u,m){for(;r.nodeType===1;){var b=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[X])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(N=r.getAttribute("rel"),N==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(N!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(N=r.getAttribute("src"),(N!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===N)return r}else return r;if(r=_i(r.nextSibling),r===null)break}return null}function KN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=_i(r.nextSibling),r===null))return null;return r}function H0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function QN(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function _i(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var $0=null;function Tb(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function Pb(r,o,u){switch(o=gf(u),r){case"html":if(r=o.documentElement,!r)throw Error(a(452));return r;case"head":if(r=o.head,!r)throw Error(a(453));return r;case"body":if(r=o.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Ou(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Ie(r)}var Qr=new Map,Rb=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ol=ie.d;ie.d={f:XN,r:ZN,D:JN,C:ej,L:tj,m:sj,X:aj,S:nj,M:rj};function XN(){var r=Ol.f(),o=cf();return r||o}function ZN(r){var o=ss(r);o!==null&&o.tag===5&&o.type==="form"?xc(o):Ol.r(r)}var jd=typeof document>"u"?null:document;function Bb(r,o,u){var m=jd;if(m&&typeof o=="string"&&o){var b=bs(o);b='link[rel="'+r+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),Rb.has(b)||(Rb.add(b),r={rel:r,crossOrigin:u,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),ba(o,"link",r),Bs(o),m.head.appendChild(o)))}}function JN(r){Ol.D(r),Bb("dns-prefetch",r,null)}function ej(r,o){Ol.C(r,o),Bb("preconnect",r,o)}function tj(r,o,u){Ol.L(r,o,u);var m=jd;if(m&&r&&o){var b='link[rel="preload"][as="'+bs(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+bs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+bs(u.imageSizes)+'"]')):b+='[href="'+bs(r)+'"]';var N=b;switch(o){case"style":N=_d(r);break;case"script":N=Sd(r)}Qr.has(N)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),Qr.set(N,r),m.querySelector(b)!==null||o==="style"&&m.querySelector(Tu(N))||o==="script"&&m.querySelector(Pu(N))||(o=m.createElement("link"),ba(o,"link",r),Bs(o),m.head.appendChild(o)))}}function sj(r,o){Ol.m(r,o);var u=jd;if(u&&r){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+bs(m)+'"][href="'+bs(r)+'"]',N=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Sd(r)}if(!Qr.has(N)&&(r=p({rel:"modulepreload",href:r},o),Qr.set(N,r),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Pu(N)))return}m=u.createElement("link"),ba(m,"link",r),Bs(m),u.head.appendChild(m)}}}function nj(r,o,u){Ol.S(r,o,u);var m=jd;if(m&&r){var b=Hs(m).hoistableStyles,N=_d(r);o=o||"default";var R=b.get(N);if(!R){var J={loading:0,preload:null};if(R=m.querySelector(Tu(N)))J.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=Qr.get(N))&&V0(r,u);var xe=R=m.createElement("link");Bs(xe),ba(xe,"link",r),xe._p=new Promise(function(De,Ve){xe.onload=De,xe.onerror=Ve}),xe.addEventListener("load",function(){J.loading|=1}),xe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,yf(R,o,m)}R={type:"stylesheet",instance:R,count:1,state:J},b.set(N,R)}}}function aj(r,o){Ol.X(r,o);var u=jd;if(u&&r){var m=Hs(u).hoistableScripts,b=Sd(r),N=m.get(b);N||(N=u.querySelector(Pu(b)),N||(r=p({src:r,async:!0},o),(o=Qr.get(b))&&W0(r,o),N=u.createElement("script"),Bs(N),ba(N,"link",r),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function rj(r,o){Ol.M(r,o);var u=jd;if(u&&r){var m=Hs(u).hoistableScripts,b=Sd(r),N=m.get(b);N||(N=u.querySelector(Pu(b)),N||(r=p({src:r,async:!0,type:"module"},o),(o=Qr.get(b))&&W0(r,o),N=u.createElement("script"),Bs(N),ba(N,"link",r),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function Ub(r,o,u,m){var b=(b=se.current)?bf(b):null;if(!b)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_d(u.href),u=Hs(b).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=_d(u.href);var N=Hs(b).hoistableStyles,R=N.get(r);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(r,R),(N=b.querySelector(Tu(r)))&&!N._p&&(R.instance=N,R.state.loading=5),Qr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Qr.set(r,u),N||ij(b,r,u,R.state))),o&&m===null)throw Error(a(528,""));return R}if(o&&m!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sd(u),u=Hs(b).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function _d(r){return'href="'+bs(r)+'"'}function Tu(r){return'link[rel="stylesheet"]['+r+"]"}function Ib(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function ij(r,o,u,m){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=r.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ba(o,"link",u),Bs(o),r.head.appendChild(o))}function Sd(r){return'[src="'+bs(r)+'"]'}function Pu(r){return"script[async]"+r}function qb(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=r.querySelector('style[data-href~="'+bs(u.href)+'"]');if(m)return o.instance=m,Bs(m),m;var b=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),Bs(m),ba(m,"style",b),yf(m,u.precedence,r),o.instance=m;case"stylesheet":b=_d(u.href);var N=r.querySelector(Tu(b));if(N)return o.state.loading|=4,o.instance=N,Bs(N),N;m=Ib(u),(b=Qr.get(b))&&V0(m,b),N=(r.ownerDocument||r).createElement("link"),Bs(N);var R=N;return R._p=new Promise(function(J,xe){R.onload=J,R.onerror=xe}),ba(N,"link",m),o.state.loading|=4,yf(N,u.precedence,r),o.instance=N;case"script":return N=Sd(u.src),(b=r.querySelector(Pu(N)))?(o.instance=b,Bs(b),b):(m=u,(b=Qr.get(N))&&(m=p({},u),W0(m,b)),r=r.ownerDocument||r,b=r.createElement("script"),Bs(b),ba(b,"link",m),r.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,yf(m,u.precedence,r));return o.instance}function yf(r,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,N=b,R=0;R<m.length;R++){var J=m[R];if(J.dataset.precedence===o)N=J;else if(N!==b)break}N?N.parentNode.insertBefore(r,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function V0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function W0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var vf=null;function zb(r,o,u){if(vf===null){var m=new Map,b=vf=new Map;b.set(u,m)}else b=vf,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(r))return m;for(m.set(r,null),u=u.getElementsByTagName(r),b=0;b<u.length;b++){var N=u[b];if(!(N[X]||N[xs]||r==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var R=N.getAttribute(o)||"";R=r+R;var J=m.get(R);J?J.push(N):m.set(R,[N])}}return m}function Hb(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function lj(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $b(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ru=null;function oj(){}function cj(r,o,u){if(Ru===null)throw Error(a(475));var m=Ru;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=_d(u.href),N=r.querySelector(Tu(b));if(N){r=N._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=wf.bind(m),r.then(m,m)),o.state.loading|=4,o.instance=N,Bs(N);return}N=r.ownerDocument||r,u=Ib(u),(b=Qr.get(b))&&V0(u,b),N=N.createElement("link"),Bs(N);var R=N;R._p=new Promise(function(J,xe){R.onload=J,R.onerror=xe}),ba(N,"link",u),o.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=wf.bind(m),r.addEventListener("load",o),r.addEventListener("error",o))}}function dj(){if(Ru===null)throw Error(a(475));var r=Ru;return r.stylesheets&&r.count===0&&G0(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&G0(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function wf(){if(this.count--,this.count===0){if(this.stylesheets)G0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nf=null;function G0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nf=new Map,o.forEach(uj,r),Nf=null,wf.call(r))}function uj(r,o){if(!(o.state.loading&4)){var u=Nf.get(r);if(u)var m=u.get(null);else{u=new Map,Nf.set(r,u);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var R=b[N];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),m=R)}m&&u.set(null,m)}b=o.instance,R=b.getAttribute("data-precedence"),N=u.get(R)||m,N===m&&u.set(null,b),u.set(R,b),this.count++,m=wf.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),N?N.parentNode.insertBefore(b,N.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),o.state.loading|=4}}var Bu={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function hj(r,o,u,m,b,N,R,J){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qe(0),this.hiddenUpdates=Qe(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Vb(r,o,u,m,b,N,R,J,xe,De,Ve,Ze){return r=new hj(r,o,u,R,J,xe,De,Ze),o=1,N===!0&&(o|=24),N=ta(3,null,null,o),r.current=N,N.stateNode=r,o=lu(),o.refCount++,r.pooledCache=o,o.refCount++,N.memoizedState={element:m,isDehydrated:u,cache:o},Ee(N),r}function Wb(r){return r?(r=qn,r):qn}function Gb(r,o,u,m,b,N){b=Wb(b),m.context===null?m.context=b:m.pendingContext=b,m=qe(o),m.payload={element:u},N=N===void 0?null:N,N!==null&&(m.callback=N),u=st(r,m,o),u!==null&&(yr(u,r,o),Xe(u,r,o))}function Yb(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Y0(r,o){Yb(r,o),(r=r.alternate)&&Yb(r,o)}function Kb(r){if(r.tag===13){var o=yl(r,67108864);o!==null&&yr(o,r,67108864),Y0(r,67108864)}}var jf=!0;function fj(r,o,u,m){var b=ee.T;ee.T=null;var N=ie.p;try{ie.p=2,K0(r,o,u,m)}finally{ie.p=N,ee.T=b}}function mj(r,o,u,m){var b=ee.T;ee.T=null;var N=ie.p;try{ie.p=8,K0(r,o,u,m)}finally{ie.p=N,ee.T=b}}function K0(r,o,u,m){if(jf){var b=Q0(m);if(b===null)P0(r,o,m,_f,u),Xb(r,m);else if(xj(b,r,o,u,m))m.stopPropagation();else if(Xb(r,m),o&4&&-1<pj.indexOf(r)){for(;b!==null;){var N=ss(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var R=Ot(N.pendingLanes);if(R!==0){var J=N;for(J.pendingLanes|=2,J.entangledLanes|=2;R;){var xe=1<<31-ft(R);J.entanglements[1]|=xe,R&=~xe}Zi(N),(Os&6)===0&&(lf=at()+500,Du(0))}}break;case 13:J=yl(N,2),J!==null&&yr(J,N,2),cf(),Y0(N,2)}if(N=Q0(m),N===null&&P0(r,o,m,_f,u),N===b)break;b=N}b!==null&&m.stopPropagation()}else P0(r,o,m,null,u)}}function Q0(r){return r=Qo(r),X0(r)}var _f=null;function X0(r){if(_f=null,r=yt(r),r!==null){var o=l(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return _f=r,null}function Qb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Je:return 2;case xt:return 8;case rt:case At:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Z0=!1,ko=null,Eo=null,Lo=null,Uu=new Map,Iu=new Map,Do=[],pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(r,o){switch(r){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Uu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(o.pointerId)}}function qu(r,o,u,m,b,N){return r===null||r.nativeEvent!==N?(r={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[b]},o!==null&&(o=ss(o),o!==null&&Kb(o)),r):(r.eventSystemFlags|=m,o=r.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),r)}function xj(r,o,u,m,b){switch(o){case"focusin":return ko=qu(ko,r,o,u,m,b),!0;case"dragenter":return Eo=qu(Eo,r,o,u,m,b),!0;case"mouseover":return Lo=qu(Lo,r,o,u,m,b),!0;case"pointerover":var N=b.pointerId;return Uu.set(N,qu(Uu.get(N)||null,r,o,u,m,b)),!0;case"gotpointercapture":return N=b.pointerId,Iu.set(N,qu(Iu.get(N)||null,r,o,u,m,b)),!0}return!1}function Zb(r){var o=yt(r.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){r.blockedOn=o,Pt(r.priority,function(){if(u.tag===13){var m=br();m=Xs(m);var b=yl(u,m);b!==null&&yr(b,u,m),Y0(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Q0(r.nativeEvent);if(u===null){u=r.nativeEvent;var m=new u.constructor(u.type,u);Ar=m,u.target.dispatchEvent(m),Ar=null}else return o=ss(u),o!==null&&Kb(o),r.blockedOn=u,!1;o.shift()}return!0}function Jb(r,o,u){Sf(r)&&u.delete(o)}function gj(){Z0=!1,ko!==null&&Sf(ko)&&(ko=null),Eo!==null&&Sf(Eo)&&(Eo=null),Lo!==null&&Sf(Lo)&&(Lo=null),Uu.forEach(Jb),Iu.forEach(Jb)}function Af(r,o){r.blockedOn===o&&(r.blockedOn=null,Z0||(Z0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gj)))}var Cf=null;function e2(r){Cf!==r&&(Cf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cf===r&&(Cf=null);for(var o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],b=r[o+2];if(typeof m!="function"){if(X0(m||u)===null)continue;break}var N=ss(u);N!==null&&(r.splice(o,3),o-=3,Gr(N,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function zu(r){function o(xe){return Af(xe,r)}ko!==null&&Af(ko,r),Eo!==null&&Af(Eo,r),Lo!==null&&Af(Lo,r),Uu.forEach(o),Iu.forEach(o);for(var u=0;u<Do.length;u++){var m=Do[u];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Do.length&&(u=Do[0],u.blockedOn===null);)Zb(u),u.blockedOn===null&&Do.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],N=u[m+1],R=b[bt]||null;if(typeof N=="function")R||e2(u);else if(R){var J=null;if(N&&N.hasAttribute("formAction")){if(b=N,R=N[bt]||null)J=R.formAction;else if(X0(b)!==null)continue}else J=R.action;typeof J=="function"?u[m+1]=J:(u.splice(m,3),m-=3),e2(u)}}}function J0(r){this._internalRoot=r}kf.prototype.render=J0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,m=br();Gb(u,m,r,o,null,null)},kf.prototype.unmount=J0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Gb(r.current,2,null,r,null,null),cf(),o[Ds]=null}};function kf(r){this._internalRoot=r}kf.prototype.unstable_scheduleHydration=function(r){if(r){var o=ka();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Do.length&&o!==0&&o<Do[u].priority;u++);Do.splice(u,0,r),u===0&&Zb(r)}};var t2=e.version;if(t2!=="19.1.0")throw Error(a(527,t2,"19.1.0"));ie.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var bj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Ge=Ef.inject(bj),pt=Ef}catch{}}return $u.createRoot=function(r,o){if(!i(r))throw Error(a(299));var u=!1,m="",b=gg,N=bg,R=yg,J=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(J=o.unstable_transitionCallbacks)),o=Vb(r,1,!1,null,null,u,m,b,N,R,J,null),r[Ds]=o.current,T0(r),new J0(o)},$u.hydrateRoot=function(r,o,u){if(!i(r))throw Error(a(299));var m=!1,b="",N=gg,R=bg,J=yg,xe=null,De=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(xe=u.unstable_transitionCallbacks),u.formState!==void 0&&(De=u.formState)),o=Vb(r,1,!0,o,u??null,m,b,N,R,J,xe,De),o.context=Wb(null),u=o.current,m=br(),m=Xs(m),b=qe(m),b.callback=null,st(u,b,m),u=m,o.current.lanes=u,ct(o,u),Zi(o),r[Ds]=o.current,T0(r),new kf(o)},$u.version="19.1.0",$u}var u2;function Ej(){if(u2)return sp.exports;u2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sp.exports=kj(),sp.exports}var Lj=Ej(),Vu={},h2;function Dj(){if(h2)return Vu;h2=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=c,Vu.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,y){const j=new l,A=w.length;if(A<2)return j;const C=y?.decode||p;let _=0;do{const E=w.indexOf("=",_);if(E===-1)break;const M=w.indexOf(";",_),B=M===-1?A:M;if(E>B){_=w.lastIndexOf(";",E-1)+1;continue}const z=d(w,_,E),ne=h(w,E,z),K=w.slice(z,ne);if(j[K]===void 0){let U=d(w,E+1,B),$=h(w,B,U);const te=C(w.slice(U,$));j[K]=te}_=B+1}while(_<A);return j}function d(w,y,j){do{const A=w.charCodeAt(y);if(A!==32&&A!==9)return y}while(++y<j);return j}function h(w,y,j){for(;y>j;){const A=w.charCodeAt(--y);if(A!==32&&A!==9)return y+1}return j}function f(w,y,j){const A=j?.encode||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=A(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let _=w+"="+C;if(!j)return _;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);_+="; Max-Age="+j.maxAge}if(j.domain){if(!s.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);_+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);_+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);_+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(_+="; HttpOnly"),j.secure&&(_+="; Secure"),j.partitioned&&(_+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return _}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return i.call(w)==="[object Date]"}return Vu}Dj();var f2="popstate";function Mj(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return Yp("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(a,i){return typeof i=="string"?i:ch(i)}return Oj(e,s,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fj(){return Math.random().toString(36).substring(2,10)}function m2(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,s=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zd(e):e,state:s,key:e&&e.key||a||Fj()}}function ch({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function zd(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function Oj(t,e,s,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let C=p(),_=C==null?null:C-f;f=C,h&&h({action:d,location:A.location,delta:_})}function w(C,_){d="PUSH";let E=Yp(A.location,C,_);f=p()+1;let M=m2(E,f),B=A.createHref(E);try{c.pushState(M,"",B)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(B)}l&&h&&h({action:d,location:A.location,delta:1})}function y(C,_){d="REPLACE";let E=Yp(A.location,C,_);f=p();let M=m2(E,f),B=A.createHref(E);c.replaceState(M,"",B),l&&h&&h({action:d,location:A.location,delta:0})}function j(C){return Tj(C)}let A={get action(){return d},get location(){return t(i,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(f2,x),h=C,()=>{i.removeEventListener(f2,x),h=null}},createHref(C){return e(i,C)},createURL:j,encodeLocation(C){let _=j(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:y,go(C){return c.go(C)}};return A}function Tj(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),fn(s,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:ch(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function Sv(t,e,s="/"){return Pj(t,e,s,!1)}function Pj(t,e,s,a){let i=typeof e=="string"?zd(e):e,l=Hl(i.pathname||"/",s);if(l==null)return null;let c=Av(t);Rj(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=Yj(l);d=Wj(c[h],f,a)}return d}function Av(t,e=[],s=[],a=""){let i=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(fn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let f=zl([a,h.relativePath]),p=s.concat(h);l.children&&l.children.length>0&&(fn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Av(l.children,e,p,f)),!(l.path==null&&!l.index)&&e.push({path:f,score:$j(f,l.index),routesMeta:p})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))i(l,c);else for(let d of Cv(l.path))i(l,c,d)}),e}function Cv(t){let e=t.split("/");if(e.length===0)return[];let[s,...a]=e,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=Cv(a.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Rj(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:Vj(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var Bj=/^:[\w-]+$/,Uj=3,Ij=2,qj=1,zj=10,Hj=-2,p2=t=>t==="*";function $j(t,e){let s=t.split("/"),a=s.length;return s.some(p2)&&(a+=Hj),e&&(a+=Ij),s.filter(i=>!p2(i)).reduce((i,l)=>i+(Bj.test(l)?Uj:l===""?qj:zj),a)}function Vj(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function Wj(t,e,s=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],f=d===a.length-1,p=l==="/"?e:e.slice(l.length)||"/",x=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),w=h.route;if(!x&&f&&s&&!a[a.length-1].route.index&&(x=pm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:zl([l,x.pathname]),pathnameBase:Zj(zl([l,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(l=zl([l,x.pathnameBase]))}return c}function pm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=Gj(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:x},w)=>{if(p==="*"){let j=d[w]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=d[w];return x&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function Gj(t,e=!1,s=!0){Jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function Yj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function Kj(t,e="/"){let{pathname:s,search:a="",hash:i=""}=typeof t=="string"?zd(t):t;return{pathname:s?s.startsWith("/")?s:Qj(s,e):e,search:Jj(a),hash:e4(i)}}function Qj(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function ip(t,e,s,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xj(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Cx(t){let e=Xj(t);return e.map((s,a)=>a===e.length-1?s.pathname:s.pathnameBase)}function kx(t,e,s,a=!1){let i;typeof t=="string"?i=zd(t):(i={...t},fn(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=s;else{let x=e.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),x-=1;i.pathname=w.join("/")}d=x>=0?e[x]:"/"}let h=Kj(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var zl=t=>t.join("/").replace(/\/\/+/g,"/"),Zj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kv=["POST","PUT","PATCH","DELETE"];new Set(kv);var s4=["GET",...kv];new Set(s4);var Hd=L.createContext(null);Hd.displayName="DataRouter";var Fm=L.createContext(null);Fm.displayName="DataRouterState";var Ev=L.createContext({isTransitioning:!1});Ev.displayName="ViewTransition";var n4=L.createContext(new Map);n4.displayName="Fetchers";var a4=L.createContext(null);a4.displayName="Await";var Li=L.createContext(null);Li.displayName="Navigation";var bh=L.createContext(null);bh.displayName="Location";var si=L.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Ex=L.createContext(null);Ex.displayName="RouteError";function r4(t,{relative:e}={}){fn($d(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=L.useContext(Li),{hash:i,pathname:l,search:c}=vh(t,{relative:e}),d=l;return s!=="/"&&(d=l==="/"?s:zl([s,l])),a.createHref({pathname:d,search:c,hash:i})}function $d(){return L.useContext(bh)!=null}function ar(){return fn($d(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(bh).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dv(t){L.useContext(Li).static||L.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=L.useContext(si);return t?v4():i4()}function i4(){fn($d(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Hd),{basename:e,navigator:s}=L.useContext(Li),{matches:a}=L.useContext(si),{pathname:i}=ar(),l=JSON.stringify(Cx(a)),c=L.useRef(!1);return Dv(()=>{c.current=!0}),L.useCallback((h,f={})=>{if(Jr(c.current,Lv),!c.current)return;if(typeof h=="number"){s.go(h);return}let p=kx(h,JSON.parse(l),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zl([e,p.pathname])),(f.replace?s.replace:s.push)(p,f.state,f)},[e,s,l,i,t])}var l4=L.createContext(null);function o4(t){let e=L.useContext(si).outlet;return e&&L.createElement(l4.Provider,{value:t},e)}function yh(){let{matches:t}=L.useContext(si),e=t[t.length-1];return e?e.params:{}}function vh(t,{relative:e}={}){let{matches:s}=L.useContext(si),{pathname:a}=ar(),i=JSON.stringify(Cx(s));return L.useMemo(()=>kx(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function c4(t,e){return Mv(t,e)}function Mv(t,e,s,a){fn($d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(Li),{matches:l}=L.useContext(si),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let _=p&&p.path||"";Fv(h,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=ar(),w;if(e){let _=typeof e=="string"?zd(e):e;fn(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),w=_}else w=x;let y=w.pathname||"/",j=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let A=Sv(t,{pathname:j});Jr(p||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=m4(A&&A.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:zl([f,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:zl([f,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,s,a);return e&&C?L.createElement(bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function d4(){let t=y4(),e=t4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),s?L.createElement("pre",{style:i},s):null,c)}var u4=L.createElement(d4,null),h4=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(si.Provider,{value:this.props.routeContext},L.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f4({routeContext:t,match:e,children:s}){let a=L.useContext(Hd);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(si.Provider,{value:t},s)}function m4(t,e=[],s=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,l=s?.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);fn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=s,w=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let x,w=!1,y=null,j=null;s&&(x=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||u4,c&&(d<0&&p===0?(Fv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):d===p&&(w=!0,j=f.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,p+1)),C=()=>{let _;return x?_=y:w?_=j:f.route.Component?_=L.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,L.createElement(f4,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:s!=null},children:_})};return s&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?L.createElement(h4,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}function Lx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p4(t){let e=L.useContext(Hd);return fn(e,Lx(t)),e}function x4(t){let e=L.useContext(Fm);return fn(e,Lx(t)),e}function g4(t){let e=L.useContext(si);return fn(e,Lx(t)),e}function Dx(t){let e=g4(t),s=e.matches[e.matches.length-1];return fn(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function b4(){return Dx("useRouteId")}function y4(){let t=L.useContext(Ex),e=x4("useRouteError"),s=Dx("useRouteError");return t!==void 0?t:e.errors?.[s]}function v4(){let{router:t}=p4("useNavigate"),e=Dx("useNavigate"),s=L.useRef(!1);return Dv(()=>{s.current=!0}),L.useCallback(async(i,l={})=>{Jr(s.current,Lv),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var x2={};function Fv(t,e,s){!e&&!x2[t]&&(x2[t]=!0,Jr(!1,s))}L.memo(w4);function w4({routes:t,future:e,state:s}){return Mv(t,void 0,s,e)}function N4({to:t,replace:e,state:s,relative:a}){fn($d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=L.useContext(Li);Jr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(si),{pathname:c}=ar(),d=ya(),h=kx(t,Cx(l),c,a==="path"),f=JSON.stringify(h);return L.useEffect(()=>{d(JSON.parse(f),{replace:e,state:s,relative:a})},[d,f,a,e,s]),null}function j4(t){return o4(t.context)}function hn(t){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _4({basename:t="/",children:e=null,location:s,navigationType:a="POP",navigator:i,static:l=!1}){fn(!$d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof s=="string"&&(s=zd(s));let{pathname:h="/",search:f="",hash:p="",state:x=null,key:w="default"}=s,y=L.useMemo(()=>{let j=Hl(h,c);return j==null?null:{location:{pathname:j,search:f,hash:p,state:x,key:w},navigationType:a}},[c,h,f,p,x,w,a]);return Jr(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:L.createElement(Li.Provider,{value:d},L.createElement(bh.Provider,{children:e,value:y}))}function S4({children:t,location:e}){return c4(Kp(t),e)}function Kp(t,e=[]){let s=[];return L.Children.forEach(t,(a,i)=>{if(!L.isValidElement(a))return;let l=[...e,i];if(a.type===L.Fragment){s.push.apply(s,Kp(a.props.children,l));return}fn(a.type===hn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Kp(a.props.children,l)),s.push(c)}),s}var tm="get",sm="application/x-www-form-urlencoded";function Om(t){return t!=null&&typeof t.tagName=="string"}function A4(t){return Om(t)&&t.tagName.toLowerCase()==="button"}function C4(t){return Om(t)&&t.tagName.toLowerCase()==="form"}function k4(t){return Om(t)&&t.tagName.toLowerCase()==="input"}function E4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L4(t,e){return t.button===0&&(!e||e==="_self")&&!E4(t)}function Qp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let a=t[s];return e.concat(Array.isArray(a)?a.map(i=>[s,i]):[[s,a]])},[]))}function D4(t,e){let s=Qp(t);return e&&e.forEach((a,i)=>{s.has(i)||e.getAll(i).forEach(l=>{s.append(i,l)})}),s}var Lf=null;function M4(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var F4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(t){return t!=null&&!F4.has(t)?(Jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):t}function O4(t,e){let s,a,i,l,c;if(C4(t)){let d=t.getAttribute("action");a=d?Hl(d,e):null,s=t.getAttribute("method")||tm,i=lp(t.getAttribute("enctype"))||sm,l=new FormData(t)}else if(A4(t)||k4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(a=h?Hl(h,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||tm,i=lp(t.getAttribute("formenctype"))||lp(d.getAttribute("enctype"))||sm,l=new FormData(d,t),!M4()){let{name:f,type:p,value:x}=t;if(p==="image"){let w=f?`${f}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else f&&l.append(f,x)}}else{if(Om(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=tm,a=null,i=sm,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:s.toLowerCase(),encType:i,formData:l,body:c}}function Mx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function T4(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function R4(t,e,s){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await T4(l,s);return c.links?c.links():[]}return[]}));return q4(a.flat(1).filter(P4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function g2(t,e,s,a,i,l){let c=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,d=(h,f)=>s[f].pathname!==h.pathname||s[f].route.path?.endsWith("*")&&s[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{let p=a.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function B4(t,e,{includeHydrateFallback:s}={}){return U4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function U4(t){return[...new Set(t)]}function I4(t){let e={},s=Object.keys(t).sort();for(let a of s)e[a]=t[a];return e}function q4(t,e){let s=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(I4(i));return s.has(l)||(s.add(l),a.push({key:l,link:i})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z4=new Set([100,101,204,205]);function H4(t,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname="_root.data":e&&Hl(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function Ov(){let t=L.useContext(Hd);return Mx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $4(){let t=L.useContext(Fm);return Mx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fx=L.createContext(void 0);Fx.displayName="FrameworkContext";function Tv(){let t=L.useContext(Fx);return Mx(t,"You must render this element inside a <HydratedRouter> element"),t}function V4(t,e){let s=L.useContext(Fx),[a,i]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=_=>{_.forEach(E=>{c(E.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[t]),L.useEffect(()=>{if(a){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[a]);let y=()=>{i(!0)},j=()=>{i(!1),c(!1)};return s?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Wu(d,y),onBlur:Wu(h,j),onMouseEnter:Wu(f,y),onMouseLeave:Wu(p,j),onTouchStart:Wu(x,y)}]:[!1,w,{}]}function Wu(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function W4({page:t,...e}){let{router:s}=Ov(),a=L.useMemo(()=>Sv(s.routes,t,s.basename),[s.routes,t,s.basename]);return a?L.createElement(Y4,{page:t,matches:a,...e}):null}function G4(t){let{manifest:e,routeModules:s}=Tv(),[a,i]=L.useState([]);return L.useEffect(()=>{let l=!1;return R4(t,e,s).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,s]),a}function Y4({page:t,matches:e,...s}){let a=ar(),{manifest:i,routeModules:l}=Tv(),{basename:c}=Ov(),{loaderData:d,matches:h}=$4(),f=L.useMemo(()=>g2(t,e,h,i,a,"data"),[t,e,h,i,a]),p=L.useMemo(()=>g2(t,e,h,i,a,"assets"),[t,e,h,i,a]),x=L.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let j=new Set,A=!1;if(e.forEach(_=>{let E=i.routes[_.route.id];!E||!E.hasLoader||(!f.some(M=>M.route.id===_.route.id)&&_.route.id in d&&l[_.route.id]?.shouldRevalidate||E.hasClientLoader?A=!0:j.add(_.route.id))}),j.size===0)return[];let C=H4(t,c);return A&&j.size>0&&C.searchParams.set("_routes",e.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[c,d,a,i,f,e,t,l]),w=L.useMemo(()=>B4(p,i),[p,i]),y=G4(p);return L.createElement(L.Fragment,null,x.map(j=>L.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),w.map(j=>L.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),y.map(({key:j,link:A})=>L.createElement("link",{key:j,...A})))}function K4(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pv&&(window.__reactRouterVersion="7.6.3")}catch{}function Q4({basename:t,children:e,window:s}){let a=L.useRef();a.current==null&&(a.current=Mj({window:s,v5Compat:!0}));let i=a.current,[l,c]=L.useState({action:i.action,location:i.location}),d=L.useCallback(h=>{L.startTransition(()=>c(h))},[c]);return L.useLayoutEffect(()=>i.listen(d),[i,d]),L.createElement(_4,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tm=L.forwardRef(function({onClick:e,discover:s="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:x,...w},y){let{basename:j}=L.useContext(Li),A=typeof f=="string"&&Rv.test(f),C,_=!1;if(typeof f=="string"&&A&&(C=f,Pv))try{let $=new URL(window.location.href),te=f.startsWith("//")?new URL($.protocol+f):new URL(f),P=Hl(te.pathname,j);te.origin===$.origin&&P!=null?f=P+te.search+te.hash:_=!0}catch{Jr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=r4(f,{relative:i}),[M,B,z]=V4(a,w),ne=e3(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:x});function K($){e&&e($),$.defaultPrevented||ne($)}let U=L.createElement("a",{...w,...z,href:C||E,onClick:_||l?e:K,ref:K4(y,B),target:h,"data-discover":!A&&s==="render"?"true":void 0});return M&&!A?L.createElement(L.Fragment,null,U,L.createElement(W4,{page:E})):U});Tm.displayName="Link";var X4=L.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let x=vh(c,{relative:f.relative}),w=ar(),y=L.useContext(Fm),{navigator:j,basename:A}=L.useContext(Li),C=y!=null&&r3(x)&&d===!0,_=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,E=w.pathname,M=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(E=E.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&A&&(M=Hl(M,A)||M);const B=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let z=E===_||!i&&E.startsWith(_)&&E.charAt(B)==="/",ne=M!=null&&(M===_||!i&&M.startsWith(_)&&M.charAt(_.length)==="/"),K={isActive:z,isPending:ne,isTransitioning:C},U=z?e:void 0,$;typeof a=="function"?$=a(K):$=[a,z?"active":null,ne?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(K):l;return L.createElement(Tm,{...f,"aria-current":U,className:$,ref:p,style:te,to:c,viewTransition:d},typeof h=="function"?h(K):h)});X4.displayName="NavLink";var Z4=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:a,replace:i,state:l,method:c=tm,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:x,...w},y)=>{let j=n3(),A=a3(d,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Rv.test(d),E=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let B=M.nativeEvent.submitter,z=B?.getAttribute("formmethod")||c;j(B||M.currentTarget,{fetcherKey:e,method:z,navigate:s,replace:i,state:l,relative:f,preventScrollReset:p,viewTransition:x})};return L.createElement("form",{ref:y,method:C,action:A,onSubmit:a?h:E,...w,"data-discover":!_&&t==="render"?"true":void 0})});Z4.displayName="Form";function J4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bv(t){let e=L.useContext(Hd);return fn(e,J4(t)),e}function e3(t,{target:e,replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=ya(),h=ar(),f=vh(t,{relative:l});return L.useCallback(p=>{if(L4(p,e)){p.preventDefault();let x=s!==void 0?s:ch(h)===ch(f);d(t,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:c})}},[h,d,f,s,a,e,t,i,l,c])}function Uv(t){Jr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Qp(t)),s=L.useRef(!1),a=ar(),i=L.useMemo(()=>D4(a.search,s.current?null:e.current),[a.search]),l=ya(),c=L.useCallback((d,h)=>{const f=Qp(typeof d=="function"?d(i):d);s.current=!0,l("?"+f,h)},[l,i]);return[i,c]}var t3=0,s3=()=>`__${String(++t3)}__`;function n3(){let{router:t}=Bv("useSubmit"),{basename:e}=L.useContext(Li),s=b4();return L.useCallback(async(a,i={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=O4(a,e);if(i.navigate===!1){let p=i.fetcherKey||s3();await t.fetch(p,s,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function a3(t,{relative:e}={}){let{basename:s}=L.useContext(Li),a=L.useContext(si);fn(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...vh(t||".",{relative:e})},c=ar();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:zl([s,l.pathname])),ch(l)}function r3(t,e={}){let s=L.useContext(Ev);fn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Bv("useViewTransitionState"),i=vh(t,{relative:e.relative});if(!s.isTransitioning)return!1;let l=Hl(s.currentLocation.pathname,a)||s.currentLocation.pathname,c=Hl(s.nextLocation.pathname,a)||s.nextLocation.pathname;return pm(i.pathname,c)!=null||pm(i.pathname,l)!=null}[...z4];const i3=({name:t,link:e,sub:s=[],isActiveCheck:a,icon:i,onClick:l,menuStatus:c})=>{const d=ar(),[h,f]=L.useState(a);return d.pathname.split("/")[1]==e.split("/")[1]&&console.log("true"),L.useEffect(()=>{f(d.pathname.split("/")[1]==e.split("/")[1]||s.some(p=>d.pathname===p.link||d.pathname.split("/")[1]===e.split("/")[1]))},[d.pathname,e,s]),n.jsx("div",{className:"relative",children:n.jsxs(Tm,{to:e,onClick:l,className:`group  flex items-center py-3 rounded-md transition-all duration-200 mx-4 relative group:
          ${h?"bg-white text-[#273E8E]":"text-gray-400 hover:bg-white hover:text-[#273E8E]"}`,children:[n.jsx("img",{src:i,alt:`${t} icon`,className:`w-10 h-10 ${h?"invert":"group-hover:invert"} `}),!c&&n.jsx("span",{className:"font-medium",children:t}),n.jsx("div",{className:`absolute right-1 top-1/2 h-[40%] bg-[#273E8E] w-1 rounded hidden transform -translate-y-1/2 ${h?"block":"group-hover:block"}`})]})})},ht={logo:"/assets/sidebar/logo.svg",dashboard:"/assets/sidebar/dashboard.svg",usermgt:"/assets/sidebar/userMgt.svg",creditMgt:"/assets/sidebar/credit.svg",Loanmgt:"/assets/sidebar/loan.svg",loansDisbursement:"/assets/sidebar/loanBank.svg",Transactions:"/assets/sidebar/transaction.svg",balance:"/assets/sidebar/balance.svg",ShopMgt:"/assets/sidebar/shopMgt.svg",referral:"/assets/sidebar/referral.svg",tickets:"/assets/sidebar/tickets.svg",analytics:"/assets/sidebar/Analytics.svg",settings:"/assets/sidebar/setting.svg",logout:"/assets/sidebar/SignOut.svg",bell:"/assets/images/bell.svg",dots:"/assets/images/3dots.svg",cross:"/assets/images/cross.svg",arrow:"/assets/images/arrow.svg",users:"/assets/images/Users.png",tick:"/assets/images/tick.svg",minibundle:"/assets/images/minibundle.png",maxibundle:"/assets/images/maxibundle.png",plus:"/assets/images/plus.svg",minus:"/assets/images/minus.svg",Lightning:"/assets/images/Lightning.svg",loginImage:"/assets/images/loginImage.jpg",insta:"/assets/images/insta.png",whatsApp:"/assets/images/whatsApp.png",twitter:"/assets/images/twitter.png",yt:"/assets/images/yt.png",logo1:"/assets/images/logo.png",loginImageForSm:"/assets/images/loginImageForSm.jpg",smLogo:"/assets/images/smLogo.png"},l3=[{name:"Dashboard",link:"/dashboard",icon:ht.dashboard,sublinks:[]},{name:"User Mgt",link:"/user-mgt",icon:ht.usermgt,sublinks:[]},{name:"Credit Score",link:"/credit-score",icon:ht.creditMgt,sublinks:[]},{name:"Initial Loan Applications",link:"/loans-approval",icon:ht.Loanmgt,sublinks:[]},{name:"Loans Mgt",link:"/loans-mgt",icon:ht.Loanmgt,sublinks:[]},{name:"Loans Disbursement",link:"/loans-disbursement",icon:ht.loansDisbursement,sublinks:[]},{name:"Transactions",link:"/transactions",icon:ht.Transactions,sublinks:[]},{name:"Balances",link:"/balances",icon:ht.balance,sublinks:[]},{name:"Shop Mgt",link:"/shop-mgt",icon:ht.ShopMgt,sublinks:[]},{name:"BNPL & Buy Now",link:"/bnpl-buynow",icon:ht.ShopMgt,sublinks:[]},{name:"Referral Mgt",link:"/referral-mgt",icon:ht.referral,sublinks:[]},{name:"Tickets",link:"/tickets",icon:ht.tickets,sublinks:[]},{name:"Analytics",link:"/analytics",icon:ht.analytics,sublinks:[]},{name:"Settings",link:"/settings",icon:ht.settings,sublinks:[]}];var Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function Ua(){}function o3(t,e){return typeof t=="function"?t(e):t}function Xp(t){return typeof t=="number"&&t>=0&&t!==1/0}function Iv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uo(t,e){return typeof t=="function"?t(e):t}function Zr(t,e){return typeof t=="function"?t(e):t}function b2(t,e){const{type:s="all",exact:a,fetchStatus:i,predicate:l,queryKey:c,stale:d}=t;if(c){if(a){if(e.queryHash!==Ox(c,e.options))return!1}else if(!dh(e.queryKey,c))return!1}if(s!=="all"){const h=e.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||l&&!l(e))}function y2(t,e){const{exact:s,status:a,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(s){if(Tc(e.options.mutationKey)!==Tc(l))return!1}else if(!dh(e.options.mutationKey,l))return!1}return!(a&&e.state.status!==a||i&&!i(e))}function Ox(t,e){return(e?.queryKeyHashFn||Tc)(t)}function Tc(t){return JSON.stringify(t,(e,s)=>Zp(s)?Object.keys(s).sort().reduce((a,i)=>(a[i]=s[i],a),{}):s)}function dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>dh(t[s],e[s])):!1}var c3=Object.prototype.hasOwnProperty;function qv(t,e){if(t===e)return t;const s=v2(t)&&v2(e);if(!s&&!(Zp(t)&&Zp(e)))return e;const i=(s?t:Object.keys(t)).length,l=s?e:Object.keys(e),c=l.length,d=s?new Array(c):{};let h=0;for(let f=0;f<c;f++){const p=s?f:l[f],x=t[p],w=e[p];if(x===w){d[p]=x,(s?f<i:c3.call(t,p))&&h++;continue}if(x===null||w===null||typeof x!="object"||typeof w!="object"){d[p]=w;continue}const y=qv(x,w);d[p]=y,y===x&&h++}return i===c&&h===i?t:d}function xm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function v2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!w2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!w2(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function w2(t){return Object.prototype.toString.call(t)==="[object Object]"}function d3(t){return new Promise(e=>{setTimeout(e,t)})}function Jp(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?qv(t,e):e}function u3(t,e,s=0){const a=[...t,e];return s&&a.length>s?a.slice(1):a}function h3(t,e,s=0){const a=[e,...t];return s&&a.length>s?a.slice(0,-1):a}var Tx=Symbol();function zv(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Tx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Hv(t,e){return typeof t=="function"?t(...e):!!t}var f3=class extends Vd{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Px=new f3,m3=class extends Vd{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!Oc&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(s=>{s(t)}))}isOnline(){return this.#t}},gm=new m3;function ex(){let t,e;const s=new Promise((i,l)=>{t=i,e=l});s.status="pending",s.catch(()=>{});function a(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},s.reject=i=>{a({status:"rejected",reason:i}),e(i)},s}function p3(t){return Math.min(1e3*2**t,3e4)}function $v(t){return(t??"online")==="online"?gm.isOnline():!0}var tx=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Vv(t){let e=!1,s=0,a;const i=ex(),l=()=>i.status!=="pending",c=A=>{if(!l()){const C=new tx(A);w(C),t.onCancel?.(C)}},d=()=>{e=!0},h=()=>{e=!1},f=()=>Px.isFocused()&&(t.networkMode==="always"||gm.isOnline())&&t.canRun(),p=()=>$v(t.networkMode)&&t.canRun(),x=A=>{l()||(a?.(),i.resolve(A))},w=A=>{l()||(a?.(),i.reject(A))},y=()=>new Promise(A=>{a=C=>{(l()||f())&&A(C)},t.onPause?.()}).then(()=>{a=void 0,l()||t.onContinue?.()}),j=()=>{if(l())return;let A;const C=s===0?t.initialPromise:void 0;try{A=C??t.fn()}catch(_){A=Promise.reject(_)}Promise.resolve(A).then(x).catch(_=>{if(l())return;const E=t.retry??(Oc?0:3),M=t.retryDelay??p3,B=typeof M=="function"?M(s,_):M,z=E===!0||typeof E=="number"&&s<E||typeof E=="function"&&E(s,_);if(e||!z){w(_);return}s++,t.onFail?.(s,_),d3(B).then(()=>f()?void 0:y()).then(()=>{e?w(_):j()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(a?.(),i),cancelRetry:d,continueRetry:h,canStart:p,start:()=>(p()?j():y().then(j),i)}}var x3=t=>setTimeout(t,0);function g3(){let t=[],e=0,s=d=>{d()},a=d=>{d()},i=x3;const l=d=>{e?t.push(d):i(()=>{s(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{a(()=>{d.forEach(h=>{s(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{s=d},setBatchNotifyFunction:d=>{a=d},setScheduler:d=>{i=d}}}var Kn=g3(),Wv=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xp(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},b3=class extends Wv{#t;#e;#s;#n;#a;#i;#l;constructor(t){super(),this.#l=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=y3(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,e){const s=Jp(this.state.data,t,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(t,e){this.#r({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(Ua).catch(Ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Uo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Iv(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#l=!0,s.signal)})},i=()=>{const d=zv(this.options,e),f=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return a(p),p})();return this.#l=!1,this.options.persister?this.options.persister(d,f,this):d(f)},c=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return a(d),d})();this.options.behavior?.onFetch(c,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#r({type:"fetch",meta:c.fetchOptions?.meta}),this.#a=Vv({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof tx&&d.revert&&this.setState({...this.#e,fetchStatus:"idle"}),s.abort()},onFail:(d,h)=>{this.#r({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#a.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#s.config.onSuccess?.(d,this),this.#s.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof tx){if(d.silent)return this.#a.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#r({type:"error",error:d}),this.#s.config.onError?.(d,this),this.#s.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#r(t){const e=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Gv(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?a:void 0,a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=e(this.state),Kn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function Gv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$v(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function y3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,a=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var v3=class extends Vd{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,s){const a=e.queryKey,i=e.queryHash??Ox(a,e);let l=this.get(i);return l||(l=new b3({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(s=>b2(e,s))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(s=>b2(t,s)):e}notify(t){Kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},w3=class extends Wv{#t;#e;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Yv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#s=Vv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#n({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const l=await this.options.onMutate?.(t);l!==this.state.context&&this.#n({type:"pending",context:l,variables:t,isPaused:a})}const i=await this.#s.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Kn.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Yv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var N3=class extends Vd{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,e,s){const a=new w3({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:s});return this.add(a),a}add(t){this.#t.add(t);const e=Df(t);if(typeof e=="string"){const s=this.#e.get(e);s?s.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Df(t);if(typeof e=="string"){const s=this.#e.get(e);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Df(t);if(typeof e=="string"){const a=this.#e.get(e)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const e=Df(t);return typeof e=="string"?this.#e.get(e)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(s=>y2(e,s))}findAll(t={}){return this.getAll().filter(e=>y2(t,e))}notify(t){Kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ua))))}};function Df(t){return t.options.scope?.id}function N2(t){return{onFetch:(e,s)=>{const a=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const f=async()=>{let p=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},w=zv(e.options,e.fetchOptions),y=async(j,A,C)=>{if(p)return Promise.reject();if(A==null&&j.pages.length)return Promise.resolve(j);const E=(()=>{const ne={client:e.client,queryKey:e.queryKey,pageParam:A,direction:C?"backward":"forward",meta:e.options.meta};return x(ne),ne})(),M=await w(E),{maxPages:B}=e.options,z=C?h3:u3;return{pages:z(j.pages,M,B),pageParams:z(j.pageParams,A,B)}};if(i&&l.length){const j=i==="backward",A=j?j3:j2,C={pages:l,pageParams:c},_=A(a,C);d=await y(C,_,j)}else{const j=t??l.length;do{const A=h===0?c[0]??a.initialPageParam:j2(a,d);if(h>0&&A==null)break;d=await y(d,A),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=f}}}function j2(t,{pages:e,pageParams:s}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,s[a],s):void 0}function j3(t,{pages:e,pageParams:s}){return e.length>0?t.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var _3=class{#t;#e;#s;#n;#a;#i;#l;#r;constructor(t={}){this.#t=t.queryCache||new v3,this.#e=t.mutationCache||new N3,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Px.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=gm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=this.#t.build(this,e),a=s.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Uo(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:s})=>{const a=s.data;return[e,a]})}setQueryData(t,e,s){const a=this.defaultQueryOptions({queryKey:t}),l=this.#t.get(a.queryHash)?.state.data,c=o3(e,l);if(c!==void 0)return this.#t.build(this,a).setData(c,{...s,manual:!0})}setQueriesData(t,e,s){return Kn.batch(()=>this.#t.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,s)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Kn.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=this.#t;return Kn.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},a=Kn.batch(()=>this.#t.findAll(t).map(i=>i.cancel(s)));return Promise.all(a).then(Ua).catch(Ua)}invalidateQueries(t,e={}){return Kn.batch(()=>(this.#t.findAll(t).forEach(s=>{s.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},a=Kn.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,s);return s.throwOnError||(l=l.catch(Ua)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(Ua)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=this.#t.build(this,e);return s.isStaleByTime(Uo(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ua).catch(Ua)}fetchInfiniteQuery(t){return t.behavior=N2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ua).catch(Ua)}ensureInfiniteQueryData(t){return t.behavior=N2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gm.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#n.set(Tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],s={};return e.forEach(a=>{dh(t,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(t,e){this.#a.set(Tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],s={};return e.forEach(a=>{dh(t,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ox(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tx&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},S3=class extends Vd{constructor(t,e){super(),this.options=e,this.#t=t,this.#r=null,this.#l=ex(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#s=void 0;#n=void 0;#a;#i;#l;#r;#p;#h;#f;#c;#d;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),_2(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sx(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sx(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,s=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),e._defaulted&&!xm(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&S2(this.#e,s,this.options,e)&&this.#u(),this.updateResult(),a&&(this.#e!==s||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||Uo(this.options.staleTime,this.#e)!==Uo(e.staleTime,this.#e))&&this.#x();const i=this.#g();a&&(this.#e!==s||Zr(this.options.enabled,this.#e)!==Zr(e.enabled,this.#e)||i!==this.#o)&&this.#b(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),s=this.createResult(e,t);return C3(this,s)&&(this.#n=s,this.#i=this.options,this.#a=this.#e.state),s}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),e?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),s=this.#t.getQueryCache().build(this.#t,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#N();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ua)),e}#x(){this.#v();const t=Uo(this.options.staleTime,this.#e);if(Oc||this.#n.isStale||!Xp(t))return;const s=Iv(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#o=t,!(Oc||Zr(this.options.enabled,this.#e)===!1||!Xp(this.#o)||this.#o===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||Px.isFocused())&&this.#u()},this.#o))}#y(){this.#x(),this.#b(this.#g())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,e){const s=this.#e,a=this.options,i=this.#n,l=this.#a,c=this.#i,h=t!==s?t.state:this.#s,{state:f}=t;let p={...f},x=!1,w;if(e._optimisticResults){const U=this.hasListeners(),$=!U&&_2(t,e),te=U&&S2(t,s,e,a);($||te)&&(p={...p,...Gv(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:j,status:A}=p;w=p.data;let C=!1;if(e.placeholderData!==void 0&&w===void 0&&A==="pending"){let U;i?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(U=i.data,C=!0):U=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,U!==void 0&&(A="success",w=Jp(i?.data,U,e),x=!0)}if(e.select&&w!==void 0&&!C)if(i&&w===l?.data&&e.select===this.#p)w=this.#h;else try{this.#p=e.select,w=e.select(w),w=Jp(i?.data,w,e),this.#h=w,this.#r=null}catch(U){this.#r=U}this.#r&&(y=this.#r,w=this.#h,j=Date.now(),A="error");const _=p.fetchStatus==="fetching",E=A==="pending",M=A==="error",B=E&&_,z=w!==void 0,K={status:A,fetchStatus:p.fetchStatus,isPending:E,isSuccess:A==="success",isError:M,isInitialLoading:B,isLoading:B,data:w,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:j,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:M&&!z,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:M&&z,isStale:Rx(t,e),refetch:this.refetch,promise:this.#l,isEnabled:Zr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=P=>{K.status==="error"?P.reject(K.error):K.data!==void 0&&P.resolve(K.data)},$=()=>{const P=this.#l=K.promise=ex();U(P)},te=this.#l;switch(te.status){case"pending":t.queryHash===s.queryHash&&U(te);break;case"fulfilled":(K.status==="error"||K.data!==te.value)&&$();break;case"rejected":(K.status!=="error"||K.error!==te.reason)&&$();break}}return K}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#i=this.options,this.#a.data!==void 0&&(this.#f=this.#e),xm(e,t))return;this.#n=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(c=>{const d=c;return this.#n[d]!==t[d]&&l.has(d)})};this.#j({listeners:s()})}#N(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(t){Kn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function A3(t,e){return Zr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _2(t,e){return A3(t,e)||t.state.data!==void 0&&sx(t,e,e.refetchOnMount)}function sx(t,e,s){if(Zr(e.enabled,t)!==!1&&Uo(e.staleTime,t)!=="static"){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&Rx(t,e)}return!1}function S2(t,e,s,a){return(t!==e||Zr(a.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Rx(t,s)}function Rx(t,e){return Zr(e.enabled,t)!==!1&&t.isStaleByTime(Uo(e.staleTime,t))}function C3(t,e){return!xm(t.getCurrentResult(),e)}var k3=class extends Vd{#t;#e=void 0;#s;#n;constructor(e,s){super(),this.#t=e,this.setOptions(s),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const s=this.options;this.options=this.#t.defaultMutationOptions(e),xm(this.options,s)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&Tc(s.mutationKey)!==Tc(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,s){return this.#n=s,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){const e=this.#s?.state??Yv();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Kn.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#e.variables,a=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,s,a),this.#n.onSettled?.(e.data,null,s,a)):e?.type==="error"&&(this.#n.onError?.(e.error,s,a),this.#n.onSettled?.(void 0,e.error,s,a))}this.listeners.forEach(s=>{s(this.#e)})})}},Kv=L.createContext(void 0),il=t=>{const e=L.useContext(Kv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},E3=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(Kv.Provider,{value:t,children:e})),Qv=L.createContext(!1),L3=()=>L.useContext(Qv);Qv.Provider;function D3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var M3=L.createContext(D3()),F3=()=>L.useContext(M3),O3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},T3=t=>{L.useEffect(()=>{t.clearReset()},[t])},P3=({result:t,errorResetBoundary:e,throwOnError:s,query:a,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(i&&t.data===void 0||Hv(s,[t.error,a])),R3=t=>{if(t.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...i)=>s(a(...i)):s(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},B3=(t,e)=>t.isLoading&&t.isFetching&&!e,U3=(t,e)=>t?.suspense&&e.isPending,A2=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function I3(t,e,s){const a=L3(),i=F3(),l=il(),c=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",R3(c),O3(c,i),T3(i);const d=!l.getQueryCache().get(c.queryHash),[h]=L.useState(()=>new e(l,c)),f=h.getOptimisticResult(c),p=!a&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(x=>{const w=p?h.subscribe(Kn.batchCalls(x)):Ua;return h.updateResult(),w},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),L.useEffect(()=>{h.setOptions(c)},[c,h]),U3(c,f))throw A2(c,h,i);if(P3({result:f,errorResetBoundary:i,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,f),c.experimental_prefetchInRender&&!Oc&&B3(f,a)&&(d?A2(c,h,i):l.getQueryCache().get(c.queryHash)?.promise)?.catch(Ua).finally(()=>{h.updateResult()}),c.notifyOnChangeProps?f:h.trackResult(f)}function Xt(t,e){return I3(t,S3)}function os(t,e){const s=il(),[a]=L.useState(()=>new k3(s,t));L.useEffect(()=>{a.setOptions(t)},[a,t]);const i=L.useSyncExternalStore(L.useCallback(c=>a.subscribe(Kn.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=L.useCallback((c,d)=>{a.mutate(c,d).catch(Ua)},[a]);if(i.error&&Hv(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}/*! js-cookie v3.0.5 | MIT */function Mf(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)t[a]=s[a]}return t}var q3={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function nx(t,e){function s(i,l,c){if(!(typeof document>"u")){c=Mf({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var h in c)c[h]&&(d+="; "+h,c[h]!==!0&&(d+="="+c[h].split(";")[0]));return document.cookie=i+"="+t.write(l,i)+d}}function a(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},d=0;d<l.length;d++){var h=l[d].split("="),f=h.slice(1).join("=");try{var p=decodeURIComponent(h[0]);if(c[p]=t.read(f,p),i===p)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:a,remove:function(i,l){s(i,"",Mf({},l,{expires:-1}))},withAttributes:function(i){return nx(this.converter,Mf({},this.attributes,i))},withConverter:function(i){return nx(Mf({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ts=nx(q3,{path:"/"});function Xv(t,e){return function(){return t.apply(e,arguments)}}const{toString:z3}=Object.prototype,{getPrototypeOf:Bx}=Object,{iterator:Pm,toStringTag:Zv}=Symbol,Rm=(t=>e=>{const s=z3.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Di=t=>(t=t.toLowerCase(),e=>Rm(e)===t),Bm=t=>e=>typeof e===t,{isArray:Wd}=Array,uh=Bm("undefined");function wh(t){return t!==null&&!uh(t)&&t.constructor!==null&&!uh(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jv=Di("ArrayBuffer");function H3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jv(t.buffer),e}const $3=Bm("string"),tr=Bm("function"),e5=Bm("number"),Nh=t=>t!==null&&typeof t=="object",V3=t=>t===!0||t===!1,nm=t=>{if(Rm(t)!=="object")return!1;const e=Bx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Zv in t)&&!(Pm in t)},W3=t=>{if(!Nh(t)||wh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},G3=Di("Date"),Y3=Di("File"),K3=Di("Blob"),Q3=Di("FileList"),X3=t=>Nh(t)&&tr(t.pipe),Z3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=Rm(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},J3=Di("URLSearchParams"),[e_,t_,s_,n_]=["ReadableStream","Request","Response","Headers"].map(Di),a_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jh(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Wd(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{if(wh(t))return;const l=s?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(a=0;a<c;a++)d=l[a],e.call(null,t[d],d,t)}}function t5(t,e){if(wh(t))return null;e=e.toLowerCase();const s=Object.keys(t);let a=s.length,i;for(;a-- >0;)if(i=s[a],e===i.toLowerCase())return i;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s5=t=>!uh(t)&&t!==Ec;function ax(){const{caseless:t}=s5(this)&&this||{},e={},s=(a,i)=>{const l=t&&t5(e,i)||i;nm(e[l])&&nm(a)?e[l]=ax(e[l],a):nm(a)?e[l]=ax({},a):Wd(a)?e[l]=a.slice():e[l]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&jh(arguments[a],s);return e}const r_=(t,e,s,{allOwnKeys:a}={})=>(jh(e,(i,l)=>{s&&tr(i)?t[l]=Xv(i,s):t[l]=i},{allOwnKeys:a}),t),i_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l_=(t,e,s,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},o_=(t,e,s,a)=>{let i,l,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!a||a(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=s!==!1&&Bx(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},c_=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const a=t.indexOf(e,s);return a!==-1&&a===s},d_=t=>{if(!t)return null;if(Wd(t))return t;let e=t.length;if(!e5(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},u_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bx(Uint8Array)),h_=(t,e)=>{const a=(t&&t[Pm]).call(t);let i;for(;(i=a.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},f_=(t,e)=>{let s;const a=[];for(;(s=t.exec(e))!==null;)a.push(s);return a},m_=Di("HTMLFormElement"),p_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,i){return a.toUpperCase()+i}),C2=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),x_=Di("RegExp"),n5=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),a={};jh(s,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(a[l]=c||i)}),Object.defineProperties(t,a)},g_=t=>{n5(t,(e,s)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(tr(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},b_=(t,e)=>{const s={},a=i=>{i.forEach(l=>{s[l]=!0})};return Wd(t)?a(t):a(String(t).split(e)),s},y_=()=>{},v_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function w_(t){return!!(t&&tr(t.append)&&t[Zv]==="FormData"&&t[Pm])}const N_=t=>{const e=new Array(10),s=(a,i)=>{if(Nh(a)){if(e.indexOf(a)>=0)return;if(wh(a))return a;if(!("toJSON"in a)){e[i]=a;const l=Wd(a)?[]:{};return jh(a,(c,d)=>{const h=s(c,i+1);!uh(h)&&(l[d]=h)}),e[i]=void 0,l}}return a};return s(t,0)},j_=Di("AsyncFunction"),__=t=>t&&(Nh(t)||tr(t))&&tr(t.then)&&tr(t.catch),a5=((t,e)=>t?setImmediate:e?((s,a)=>(Ec.addEventListener("message",({source:i,data:l})=>{i===Ec&&l===s&&a.length&&a.shift()()},!1),i=>{a.push(i),Ec.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",tr(Ec.postMessage)),S_=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||a5,A_=t=>t!=null&&tr(t[Pm]),Re={isArray:Wd,isArrayBuffer:Jv,isBuffer:wh,isFormData:Z3,isArrayBufferView:H3,isString:$3,isNumber:e5,isBoolean:V3,isObject:Nh,isPlainObject:nm,isEmptyObject:W3,isReadableStream:e_,isRequest:t_,isResponse:s_,isHeaders:n_,isUndefined:uh,isDate:G3,isFile:Y3,isBlob:K3,isRegExp:x_,isFunction:tr,isStream:X3,isURLSearchParams:J3,isTypedArray:u_,isFileList:Q3,forEach:jh,merge:ax,extend:r_,trim:a_,stripBOM:i_,inherits:l_,toFlatObject:o_,kindOf:Rm,kindOfTest:Di,endsWith:c_,toArray:d_,forEachEntry:h_,matchAll:f_,isHTMLForm:m_,hasOwnProperty:C2,hasOwnProp:C2,reduceDescriptors:n5,freezeMethods:g_,toObjectSet:b_,toCamelCase:p_,noop:y_,toFiniteNumber:v_,findKey:t5,global:Ec,isContextDefined:s5,isSpecCompliantForm:w_,toJSONObject:N_,isAsyncFn:j_,isThenable:__,setImmediate:a5,asap:S_,isIterable:A_};function rs(t,e,s,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}Re.inherits(rs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const r5=rs.prototype,i5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{i5[t]={value:t}});Object.defineProperties(rs,i5);Object.defineProperty(r5,"isAxiosError",{value:!0});rs.from=(t,e,s,a,i,l)=>{const c=Object.create(r5);return Re.toFlatObject(t,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),rs.call(c,t.message,e,s,a,i),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const C_=null;function rx(t){return Re.isPlainObject(t)||Re.isArray(t)}function l5(t){return Re.endsWith(t,"[]")?t.slice(0,-2):t}function k2(t,e,s){return t?t.concat(e).map(function(i,l){return i=l5(i),!s&&l?"["+i+"]":i}).join(s?".":""):e}function k_(t){return Re.isArray(t)&&!t.some(rx)}const E_=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function Um(t,e,s){if(!Re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=Re.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,C){return!Re.isUndefined(C[A])});const a=s.metaTokens,i=s.visitor||p,l=s.dots,c=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(Re.isDate(j))return j.toISOString();if(Re.isBoolean(j))return j.toString();if(!h&&Re.isBlob(j))throw new rs("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(j)||Re.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,A,C){let _=j;if(j&&!C&&typeof j=="object"){if(Re.endsWith(A,"{}"))A=a?A:A.slice(0,-2),j=JSON.stringify(j);else if(Re.isArray(j)&&k_(j)||(Re.isFileList(j)||Re.endsWith(A,"[]"))&&(_=Re.toArray(j)))return A=l5(A),_.forEach(function(M,B){!(Re.isUndefined(M)||M===null)&&e.append(c===!0?k2([A],B,l):c===null?A:A+"[]",f(M))}),!1}return rx(j)?!0:(e.append(k2(C,A,l),f(j)),!1)}const x=[],w=Object.assign(E_,{defaultVisitor:p,convertValue:f,isVisitable:rx});function y(j,A){if(!Re.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(j),Re.forEach(j,function(_,E){(!(Re.isUndefined(_)||_===null)&&i.call(e,_,Re.isString(E)?E.trim():E,A,w))===!0&&y(_,A?A.concat(E):[E])}),x.pop()}}if(!Re.isObject(t))throw new TypeError("data must be an object");return y(t),e}function E2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Ux(t,e){this._pairs=[],t&&Um(t,this,e)}const o5=Ux.prototype;o5.append=function(e,s){this._pairs.push([e,s])};o5.toString=function(e){const s=e?function(a){return e.call(this,a,E2)}:E2;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function L_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function c5(t,e,s){if(!e)return t;const a=s&&s.encode||L_;Re.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let l;if(i?l=i(e,s):l=Re.isURLSearchParams(e)?e.toString():new Ux(e,s).toString(a),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class L2{constructor(){this.handlers=[]}use(e,s,a){return this.handlers.push({fulfilled:e,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(a){a!==null&&e(a)})}}const d5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D_=typeof URLSearchParams<"u"?URLSearchParams:Ux,M_=typeof FormData<"u"?FormData:null,F_=typeof Blob<"u"?Blob:null,O_={isBrowser:!0,classes:{URLSearchParams:D_,FormData:M_,Blob:F_},protocols:["http","https","file","blob","url","data"]},Ix=typeof window<"u"&&typeof document<"u",ix=typeof navigator=="object"&&navigator||void 0,T_=Ix&&(!ix||["ReactNative","NativeScript","NS"].indexOf(ix.product)<0),P_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R_=Ix&&window.location.href||"http://localhost",B_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ix,hasStandardBrowserEnv:T_,hasStandardBrowserWebWorkerEnv:P_,navigator:ix,origin:R_},Symbol.toStringTag,{value:"Module"})),Ca={...B_,...O_};function U_(t,e){return Um(t,new Ca.classes.URLSearchParams,{visitor:function(s,a,i,l){return Ca.isNode&&Re.isBuffer(s)?(this.append(a,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function I_(t){return Re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q_(t){const e={},s=Object.keys(t);let a;const i=s.length;let l;for(a=0;a<i;a++)l=s[a],e[l]=t[l];return e}function u5(t){function e(s,a,i,l){let c=s[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=l>=s.length;return c=!c&&Re.isArray(i)?i.length:c,h?(Re.hasOwnProp(i,c)?i[c]=[i[c],a]:i[c]=a,!d):((!i[c]||!Re.isObject(i[c]))&&(i[c]=[]),e(s,a,i[c],l)&&Re.isArray(i[c])&&(i[c]=q_(i[c])),!d)}if(Re.isFormData(t)&&Re.isFunction(t.entries)){const s={};return Re.forEachEntry(t,(a,i)=>{e(I_(a),i,s,0)}),s}return null}function z_(t,e,s){if(Re.isString(t))try{return(e||JSON.parse)(t),Re.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const _h={transitional:d5,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const a=s.getContentType()||"",i=a.indexOf("application/json")>-1,l=Re.isObject(e);if(l&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i?JSON.stringify(u5(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return U_(e,this.formSerializer).toString();if((d=Re.isFileList(e))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Um(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(s.setContentType("application/json",!1),z_(e)):e}],transformResponse:[function(e){const s=this.transitional||_h.transitional,a=s&&s.forcedJSONParsing,i=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(a&&!this.responseType||i)){const c=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?rs.from(d,rs.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ca.classes.FormData,Blob:Ca.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],t=>{_h.headers[t]={}});const H_=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$_=t=>{const e={};let s,a,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),s=c.substring(0,i).trim().toLowerCase(),a=c.substring(i+1).trim(),!(!s||e[s]&&H_[s])&&(s==="set-cookie"?e[s]?e[s].push(a):e[s]=[a]:e[s]=e[s]?e[s]+", "+a:a)}),e},D2=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function am(t){return t===!1||t==null?t:Re.isArray(t)?t.map(am):String(t)}function V_(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)e[a[1]]=a[2];return e}const W_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function op(t,e,s,a,i){if(Re.isFunction(a))return a.call(this,e,s);if(i&&(e=s),!!Re.isString(e)){if(Re.isString(a))return e.indexOf(a)!==-1;if(Re.isRegExp(a))return a.test(e)}}function G_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,a)=>s.toUpperCase()+a)}function Y_(t,e){const s=Re.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(i,l,c){return this[a].call(this,e,i,l,c)},configurable:!0})})}let sr=class{constructor(e){e&&this.set(e)}set(e,s,a){const i=this;function l(d,h,f){const p=Gu(h);if(!p)throw new Error("header name must be a non-empty string");const x=Re.findKey(i,p);(!x||i[x]===void 0||f===!0||f===void 0&&i[x]!==!1)&&(i[x||h]=am(d))}const c=(d,h)=>Re.forEach(d,(f,p)=>l(f,p,h));if(Re.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(Re.isString(e)&&(e=e.trim())&&!W_(e))c($_(e),s);else if(Re.isObject(e)&&Re.isIterable(e)){let d={},h,f;for(const p of e){if(!Re.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(h=d[f])?Re.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,s)}else e!=null&&l(s,e,a);return this}get(e,s){if(e=Gu(e),e){const a=Re.findKey(this,e);if(a){const i=this[a];if(!s)return i;if(s===!0)return V_(i);if(Re.isFunction(s))return s.call(this,i,a);if(Re.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Gu(e),e){const a=Re.findKey(this,e);return!!(a&&this[a]!==void 0&&(!s||op(this,this[a],a,s)))}return!1}delete(e,s){const a=this;let i=!1;function l(c){if(c=Gu(c),c){const d=Re.findKey(a,c);d&&(!s||op(a,a[d],d,s))&&(delete a[d],i=!0)}}return Re.isArray(e)?e.forEach(l):l(e),i}clear(e){const s=Object.keys(this);let a=s.length,i=!1;for(;a--;){const l=s[a];(!e||op(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const s=this,a={};return Re.forEach(this,(i,l)=>{const c=Re.findKey(a,l);if(c){s[c]=am(i),delete s[l];return}const d=e?G_(l):String(l).trim();d!==l&&delete s[l],s[d]=am(i),a[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return Re.forEach(this,(a,i)=>{a!=null&&a!==!1&&(s[i]=e&&Re.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const a=new this(e);return s.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[D2]=this[D2]={accessors:{}}).accessors,i=this.prototype;function l(c){const d=Gu(c);a[d]||(Y_(i,c),a[d]=!0)}return Re.isArray(e)?e.forEach(l):l(e),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(sr.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[s]=a}}});Re.freezeMethods(sr);function cp(t,e){const s=this||_h,a=e||s,i=sr.from(a.headers);let l=a.data;return Re.forEach(t,function(d){l=d.call(s,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function h5(t){return!!(t&&t.__CANCEL__)}function Gd(t,e,s){rs.call(this,t??"canceled",rs.ERR_CANCELED,e,s),this.name="CanceledError"}Re.inherits(Gd,rs,{__CANCEL__:!0});function f5(t,e,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):e(new rs("Request failed with status code "+s.status,[rs.ERR_BAD_REQUEST,rs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function K_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Q_(t,e){t=t||10;const s=new Array(t),a=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=a[l];c||(c=f),s[i]=h,a[i]=f;let x=l,w=0;for(;x!==i;)w+=s[x++],x=x%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),f-c<e)return;const y=p&&f-p;return y?Math.round(w*1e3/y):void 0}}function X_(t,e){let s=0,a=1e3/e,i,l;const c=(f,p=Date.now())=>{s=p,i=null,l&&(clearTimeout(l),l=null),t(...f)};return[(...f)=>{const p=Date.now(),x=p-s;x>=a?c(f,p):(i=f,l||(l=setTimeout(()=>{l=null,c(i)},a-x)))},()=>i&&c(i)]}const bm=(t,e,s=3)=>{let a=0;const i=Q_(50,250);return X_(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,h=c-a,f=i(h),p=c<=d;a=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},s)},M2=(t,e)=>{const s=t!=null;return[a=>e[0]({lengthComputable:s,total:t,loaded:a}),e[1]]},F2=t=>(...e)=>Re.asap(()=>t(...e)),Z_=Ca.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Ca.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Ca.origin),Ca.navigator&&/(msie|trident)/i.test(Ca.navigator.userAgent)):()=>!0,J_=Ca.hasStandardBrowserEnv?{write(t,e,s,a,i,l){const c=[t+"="+encodeURIComponent(e)];Re.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),Re.isString(a)&&c.push("path="+a),Re.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function t6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function m5(t,e,s){let a=!e6(e);return t&&(a||s==!1)?t6(t,e):e}const O2=t=>t instanceof sr?{...t}:t;function Pc(t,e){e=e||{};const s={};function a(f,p,x,w){return Re.isPlainObject(f)&&Re.isPlainObject(p)?Re.merge.call({caseless:w},f,p):Re.isPlainObject(p)?Re.merge({},p):Re.isArray(p)?p.slice():p}function i(f,p,x,w){if(Re.isUndefined(p)){if(!Re.isUndefined(f))return a(void 0,f,x,w)}else return a(f,p,x,w)}function l(f,p){if(!Re.isUndefined(p))return a(void 0,p)}function c(f,p){if(Re.isUndefined(p)){if(!Re.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,x){if(x in e)return a(f,p);if(x in t)return a(void 0,f)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,x)=>i(O2(f),O2(p),x,!0)};return Re.forEach(Object.keys({...t,...e}),function(p){const x=h[p]||i,w=x(t[p],e[p],p);Re.isUndefined(w)&&x!==d||(s[p]=w)}),s}const p5=t=>{const e=Pc({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=sr.from(c),e.url=c5(m5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(Re.isFormData(s)){if(Ca.hasStandardBrowserEnv||Ca.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[f,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Ca.hasStandardBrowserEnv&&(a&&Re.isFunction(a)&&(a=a(e)),a||a!==!1&&Z_(e.url))){const f=i&&l&&J_.read(l);f&&c.set(i,f)}return e},s6=typeof XMLHttpRequest<"u",n6=s6&&function(t){return new Promise(function(s,a){const i=p5(t);let l=i.data;const c=sr.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=i,p,x,w,y,j;function A(){y&&y(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function _(){if(!C)return;const M=sr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),z={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:t,request:C};f5(function(K){s(K),A()},function(K){a(K),A()},z),C=null}"onloadend"in C?C.onloadend=_:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(_)},C.onabort=function(){C&&(a(new rs("Request aborted",rs.ECONNABORTED,t,C)),C=null)},C.onerror=function(){a(new rs("Network Error",rs.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||d5;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),a(new rs(B,z.clarifyTimeoutError?rs.ETIMEDOUT:rs.ECONNABORTED,t,C)),C=null},l===void 0&&c.setContentType(null),"setRequestHeader"in C&&Re.forEach(c.toJSON(),function(B,z){C.setRequestHeader(z,B)}),Re.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),d&&d!=="json"&&(C.responseType=i.responseType),f&&([w,j]=bm(f,!0),C.addEventListener("progress",w)),h&&C.upload&&([x,y]=bm(h),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(p=M=>{C&&(a(!M||M.type?new Gd(null,t,C):M),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=K_(i.url);if(E&&Ca.protocols.indexOf(E)===-1){a(new rs("Unsupported protocol "+E+":",rs.ERR_BAD_REQUEST,t));return}C.send(l||null)})},a6=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let a=new AbortController,i;const l=function(f){if(!i){i=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof rs?p:new Gd(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new rs(`timeout ${e} of ms exceeded`,rs.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(l):f.removeEventListener("abort",l)}),t=null)};t.forEach(f=>f.addEventListener("abort",l));const{signal:h}=a;return h.unsubscribe=()=>Re.asap(d),h}},r6=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let a=0,i;for(;a<s;)i=a+e,yield t.slice(a,i),a=i},i6=async function*(t,e){for await(const s of l6(t))yield*r6(s,e)},l6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:a}=await e.read();if(s)break;yield a}}finally{await e.cancel()}},T2=(t,e,s,a)=>{const i=i6(t,e);let l=0,c,d=h=>{c||(c=!0,a&&a(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await i.next();if(f){d(),h.close();return}let x=p.byteLength;if(s){let w=l+=x;s(w)}h.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},Im=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x5=Im&&typeof ReadableStream=="function",o6=Im&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),g5=(t,...e)=>{try{return!!t(...e)}catch{return!1}},c6=x5&&g5(()=>{let t=!1;const e=new Request(Ca.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P2=64*1024,lx=x5&&g5(()=>Re.isReadableStream(new Response("").body)),ym={stream:lx&&(t=>t.body)};Im&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ym[e]&&(ym[e]=Re.isFunction(t[e])?s=>s[e]():(s,a)=>{throw new rs(`Response type '${e}' is not supported`,rs.ERR_NOT_SUPPORT,a)})})})(new Response);const d6=async t=>{if(t==null)return 0;if(Re.isBlob(t))return t.size;if(Re.isSpecCompliantForm(t))return(await new Request(Ca.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(t)||Re.isArrayBuffer(t))return t.byteLength;if(Re.isURLSearchParams(t)&&(t=t+""),Re.isString(t))return(await o6(t)).byteLength},u6=async(t,e)=>{const s=Re.toFiniteNumber(t.getContentLength());return s??d6(e)},h6=Im&&(async t=>{let{url:e,method:s,data:a,signal:i,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:w}=p5(t);f=f?(f+"").toLowerCase():"text";let y=a6([i,l&&l.toAbortSignal()],c),j;const A=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(h&&c6&&s!=="get"&&s!=="head"&&(C=await u6(p,a))!==0){let z=new Request(e,{method:"POST",body:a,duplex:"half"}),ne;if(Re.isFormData(a)&&(ne=z.headers.get("content-type"))&&p.setContentType(ne),z.body){const[K,U]=M2(C,bm(F2(h)));a=T2(z.body,P2,K,U)}}Re.isString(x)||(x=x?"include":"omit");const _="credentials"in Request.prototype;j=new Request(e,{...w,signal:y,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:_?x:void 0});let E=await fetch(j,w);const M=lx&&(f==="stream"||f==="response");if(lx&&(d||M&&A)){const z={};["status","statusText","headers"].forEach($=>{z[$]=E[$]});const ne=Re.toFiniteNumber(E.headers.get("content-length")),[K,U]=d&&M2(ne,bm(F2(d),!0))||[];E=new Response(T2(E.body,P2,K,()=>{U&&U(),A&&A()}),z)}f=f||"text";let B=await ym[Re.findKey(ym,f)||"text"](E,t);return!M&&A&&A(),await new Promise((z,ne)=>{f5(z,ne,{data:B,headers:sr.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:j})})}catch(_){throw A&&A(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new rs("Network Error",rs.ERR_NETWORK,t,j),{cause:_.cause||_}):rs.from(_,_&&_.code,t,j)}}),ox={http:C_,xhr:n6,fetch:h6};Re.forEach(ox,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const R2=t=>`- ${t}`,f6=t=>Re.isFunction(t)||t===null||t===!1,b5={getAdapter:t=>{t=Re.isArray(t)?t:[t];const{length:e}=t;let s,a;const i={};for(let l=0;l<e;l++){s=t[l];let c;if(a=s,!f6(s)&&(a=ox[(c=String(s)).toLowerCase()],a===void 0))throw new rs(`Unknown adapter '${c}'`);if(a)break;i[c||"#"+l]=a}if(!a){const l=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(R2).join(`
`):" "+R2(l[0]):"as no adapter specified";throw new rs("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:ox};function dp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gd(null,t)}function B2(t){return dp(t),t.headers=sr.from(t.headers),t.data=cp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),b5.getAdapter(t.adapter||_h.adapter)(t).then(function(a){return dp(t),a.data=cp.call(t,t.transformResponse,a),a.headers=sr.from(a.headers),a},function(a){return h5(a)||(dp(t),a&&a.response&&(a.response.data=cp.call(t,t.transformResponse,a.response),a.response.headers=sr.from(a.response.headers))),Promise.reject(a)})}const y5="1.11.0",qm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qm[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const U2={};qm.transitional=function(e,s,a){function i(l,c){return"[Axios v"+y5+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,d)=>{if(e===!1)throw new rs(i(c," has been removed"+(s?" in "+s:"")),rs.ERR_DEPRECATED);return s&&!U2[c]&&(U2[c]=!0,console.warn(i(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(l,c,d):!0}};qm.spelling=function(e){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function m6(t,e,s){if(typeof t!="object")throw new rs("options must be an object",rs.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const l=a[i],c=e[l];if(c){const d=t[l],h=d===void 0||c(d,l,t);if(h!==!0)throw new rs("option "+l+" must be "+h,rs.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new rs("Unknown option "+l,rs.ERR_BAD_OPTION)}}const rm={assertOptions:m6,validators:qm},Ji=rm.validators;let Dc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new L2,response:new L2}}async request(e,s){try{return await this._request(e,s)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Pc(this.defaults,s);const{transitional:a,paramsSerializer:i,headers:l}=s;a!==void 0&&rm.assertOptions(a,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(Re.isFunction(i)?s.paramsSerializer={serialize:i}:rm.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),rm.assertOptions(s,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&Re.merge(l.common,l[s.method]);l&&Re.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),s.headers=sr.concat(c,l);const d=[];let h=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(s)===!1||(h=h&&A.synchronous,d.unshift(A.fulfilled,A.rejected))});const f=[];this.interceptors.response.forEach(function(A){f.push(A.fulfilled,A.rejected)});let p,x=0,w;if(!h){const j=[B2.bind(this),void 0];for(j.unshift(...d),j.push(...f),w=j.length,p=Promise.resolve(s);x<w;)p=p.then(j[x++],j[x++]);return p}w=d.length;let y=s;for(x=0;x<w;){const j=d[x++],A=d[x++];try{y=j(y)}catch(C){A.call(this,C);break}}try{p=B2.call(this,y)}catch(j){return Promise.reject(j)}for(x=0,w=f.length;x<w;)p=p.then(f[x++],f[x++]);return p}getUri(e){e=Pc(this.defaults,e);const s=m5(e.baseURL,e.url,e.allowAbsoluteUrls);return c5(s,e.params,e.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(e){Dc.prototype[e]=function(s,a){return this.request(Pc(a||{},{method:e,url:s,data:(a||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function s(a){return function(l,c,d){return this.request(Pc(d||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Dc.prototype[e]=s(),Dc.prototype[e+"Form"]=s(!0)});let p6=class v5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const a=this;this.promise.then(i=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](i);a._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(d=>{a.subscribe(d),l=d}).then(i);return c.cancel=function(){a.unsubscribe(l)},c},e(function(l,c,d){a.reason||(a.reason=new Gd(l,c,d),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=a=>{e.abort(a)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new v5(function(i){e=i}),cancel:e}}};function x6(t){return function(s){return t.apply(null,s)}}function g6(t){return Re.isObject(t)&&t.isAxiosError===!0}const cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cx).forEach(([t,e])=>{cx[e]=t});function w5(t){const e=new Dc(t),s=Xv(Dc.prototype.request,e);return Re.extend(s,Dc.prototype,e,{allOwnKeys:!0}),Re.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return w5(Pc(t,i))},s}const Qs=w5(_h);Qs.Axios=Dc;Qs.CanceledError=Gd;Qs.CancelToken=p6;Qs.isCancel=h5;Qs.VERSION=y5;Qs.toFormData=Um;Qs.AxiosError=rs;Qs.Cancel=Qs.CanceledError;Qs.all=function(e){return Promise.all(e)};Qs.spread=x6;Qs.isAxiosError=g6;Qs.mergeConfig=Pc;Qs.AxiosHeaders=sr;Qs.formToJSON=t=>u5(Re.isHTMLForm(t)?new FormData(t):t);Qs.getAdapter=b5.getAdapter;Qs.HttpStatusCode=cx;Qs.default=Qs;const{Axios:fM,AxiosError:mM,CanceledError:pM,isCancel:xM,CancelToken:gM,VERSION:bM,all:yM,Cancel:vM,isAxiosError:wM,spread:NM,toFormData:jM,AxiosHeaders:_M,HttpStatusCode:SM,formToJSON:AM,getAdapter:CM,mergeConfig:kM}=Qs;class I2 extends Error{data;statusText="";statusCode;constructor(e,s,a,i){super(),this.data=e,this.message=a,this.statusText=s,this.statusCode=i}}const lt=async(t,e,s,a)=>{let i;i={Authorization:a?`Bearer ${a}`:"","Content-Type":"application/json"},s&&s instanceof FormData&&(i["Content-Type"]="multipart/form-data");try{let l;switch(e){case"GET":l=await Qs.get(t,{headers:i});break;case"POST":l=await Qs.post(t,s,{headers:i});break;case"PUT":l=await Qs.put(t,s,{headers:i});break;case"DELETE":l=await Qs.delete(t,{headers:i});break;default:throw new Error("Unsupported HTTP method")}return l?.data}catch(l){throw console.log(l),Qs.isAxiosError(l)&&l.response?(l.response.status===401&&(ts.remove("token"),window.location.pathname!=="/login"&&(window.location.href="/login")),new I2(l.response.data,l.response.data?.status||l.response.statusText,l.response.data?.message||"Something Went wrong",l.response.status)):new I2(void 0,"Network or server error occurred","Something went wrong")}},nt="https://troosolar.hmstech.org/api",ot={ADMIN:{Login:nt+"/admin-login",Logout:nt+"/logout",Dashboard:nt+"/admin/dashboard",UsersList:nt+"/all-users",UserUpdate:t=>`${nt}/update-user/${t}`,UserShow:t=>`${nt}/single-user/${t}`,UpdateUser:nt+"/update-user",AllLoanStatus:nt+"/all-loan-status",FullLoanDetail:t=>`${nt}/full-loan-detail/${t}`,SingleLoanDetail:t=>`${nt}/single-loan-detail/${t}`,AllLoanDistributed:nt+"/all-loan-distributed",LoanDistribute:t=>`${nt}/loan-distributed/${t}`,SingleDocument:t=>`${nt}/single-document/${t}`,SingleBeneficiary:t=>`${nt}/single-beneficiary/${t}`,SendToPartner:t=>`${nt}/send-to-partner/${t}`,LinkAccounts:t=>`${nt}/link-accounts/${t}`,OrdersList:nt+"/orders",OrderShow:t=>`${nt}/orders/${t}`,OrderShowUser:t=>`${nt}/orders/user/${t}`,ProductsList:nt+"/products",ProductCreate:nt+"/products",ProductShow:t=>`${nt}/products/${t}`,ProductUpdate:t=>`${nt}/products/${t}/update`,ProductDelete:t=>`${nt}/products/${t}`,BundleCreate:nt+"/bundles",BundleList:nt+"/bundles",BundleShow:t=>`${nt}/bundles/${t}`,BundleUpdate:t=>`${nt}/bundles/${t}/update`,DeleteBundle:t=>`${nt}/bundles/${t}`,TransactionsList:nt+"/transactions",TransactionShow:t=>`${nt}/transactions/user/${t}`,AllTransaction:nt+"/admin/users",AllBalances:nt+"/all-balances",AllTickets:nt+"/admin/tickets",TicketShow:t=>`${nt}/admin/tickets/${t}`,ReplyTicket:t=>`${nt}/admin/tickets/${t}/reply`,AdminNotificationsCreate:nt+"/admin/notifications",NotificationsList:nt+"/admin/notifications",AddNotification:nt+"/admin/notifications",DeleteNotification:t=>`${nt}/admin/notifications/${t}`,UpdateNotification:t=>`${nt}/admin/notifications/${t}`,BannersList:nt+"/admin/banners",AddBanner:nt+"/admin/banners",DeleteBanner:t=>`${nt}/admin/banners/${t}`,UpdateBanner:t=>`${nt}/admin/banners/${t}`,FinancingPartnersList:nt+"/admin/all-partners",AddFinancingPartner:nt+"/admin/add-partner",DeleteFinancingPartner:t=>`${nt}/admin/delete_partner/${t}`,UpdateFinancingPartner:t=>`${nt}/admin/update-partner/${t}`,CategoriesList:nt+"/categories",AddCategory:nt+"/categories",DeleteCategory:t=>`${nt}/categories/${t}`,UpdateCategory:t=>`${nt}/categories/${t}/update`,BrandsList:nt+"/brands",AddBrand:nt+"/brands",DeleteBrand:t=>`${nt}/brands/${t}`,UpdateBrand:t=>`${nt}/brands/${t}`,BrandById:t=>`${nt}/brands/${t}`,BrandByCategory:t=>`${nt}/categories/${t}/brands`,GetSingleBrandByCategory:(t,e)=>`${nt}/categories/${t}/brands/${e}`,AddUser:nt+"/add-user",Get_User_Kyc_Detail:t=>`${nt}/loan-kyc-details/${t}`,TicketStatusUpdate:t=>`${nt}/admin/tickets/${t}/status`,EditUser:t=>`${nt}/admin/user/edit-user/${t}`,SendToPartnerDetail:t=>`${nt}/admin/send-to-partner/${t}`,MonoLoanCalculation:nt+"/mono-loan-calculations",MonoLoanCalculationApproval:t=>`${nt}/mono-loan/${t}`,LoanGrant:t=>`${nt}/loan-application-grant/${t}`,RepaymentHistory:t=>`${nt}/admin/installments/with-history/${t}`,UpdateOrderStatus:t=>`${nt}/admin/order-update-status/${t}`,BNPLApplicationsList:nt+"/admin/bnpl/applications",BNPLApplicationShow:t=>`${nt}/admin/bnpl/applications/${t}`,BNPLApplicationUpdateStatus:t=>`${nt}/admin/bnpl/applications/${t}/status`,BNPLGuarantorsList:nt+"/admin/bnpl/guarantors",BNPLGuarantorUpdateStatus:t=>`${nt}/admin/bnpl/guarantors/${t}/status`,BuyNowOrdersList:nt+"/admin/orders/buy-now",BuyNowOrderShow:t=>`${nt}/admin/orders/buy-now/${t}`,BuyNowOrderUpdateStatus:t=>`${nt}/admin/orders/buy-now/${t}/status`,BNPLOrdersList:nt+"/admin/orders/bnpl",BNPLOrderShow:t=>`${nt}/admin/orders/bnpl/${t}`,OrderSummary:t=>`${nt}/orders/${t}/summary`,OrderInvoiceDetails:t=>`${nt}/orders/${t}/invoice-details`,LoanConfiguration:nt+"/config/loan-configuration",AddOns:nt+"/config/add-ons",DeliveryLocations:t=>t?`${nt}/config/delivery-locations?state_id=${t}`:`${nt}/config/delivery-locations`,AuditRequestsList:nt+"/admin/audit/requests",AuditRequestShow:t=>`${nt}/admin/audit/requests/${t}`,AuditRequestUpdateStatus:t=>`${nt}/admin/audit/requests/${t}/status`,AuditUsersWithRequests:nt+"/admin/audit/users-with-requests",CreateCustomOrder:nt+"/admin/cart/create-custom-order",GetCartProducts:nt+"/admin/cart/products",GetUserCart:t=>`${nt}/admin/cart/user/${t}`,RemoveCartItem:(t,e)=>`${nt}/admin/cart/user/${t}/item/${e}`,ClearUserCart:t=>`${nt}/admin/cart/user/${t}/clear`,ResendCartEmail:t=>`${nt}/admin/cart/resend-email/${t}`,Analytics:nt+"/admin/analytics",ReferralSettings:nt+"/admin/referral/settings",ReferralList:nt+"/admin/referral/list",ReferralUserDetails:t=>`${nt}/admin/referral/user/${t}`}},b6=async t=>await lt(ot.ADMIN.Login,"POST",t),y6=async()=>{const t=ts.get("token");return await lt(ot.ADMIN.Logout,"POST",{},t)},v6=({setMobileOpen:t})=>{const e=ar(),s=ya(),[a,i]=L.useState("/dashboard"),[l,c]=L.useState(!1);L.useEffect(()=>{i(e.pathname)},[e.pathname]);const{mutate:d,isPending:h}=os({mutationFn:y6,onSuccess:()=>{ts.remove("token"),s("/login")},onError:p=>{console.error("Logout failed:",p),ts.remove("token"),s("/login")}}),f=()=>{d()};return n.jsxs("div",{className:`h-screen pb-10 overflow-auto transition-all duration-300 ${l?"w-[80px]":"w-[300px]"} bg-[#273E8E] text-white`,style:{scrollbarWidth:"thin",scrollbarColor:"white #273E8E"},children:[n.jsx("div",{className:"flex justify-end lg:hidden p-4",children:n.jsx("button",{className:"text-xl cursor-pointer",onClick:()=>t(!1),children:""})}),n.jsxs("div",{className:"flex items-center justify-between px-4",children:[n.jsx(Tm,{to:"/dashboard",children:n.jsx("img",{src:ht.logo,alt:"logo",className:"w-50 h-auto"})}),l&&n.jsx("div",{onClick:()=>c(!1),className:"absolute top-4 left-4 bg-gray-800 p-2 rounded-md",children:n.jsx("i",{className:"bi bi-arrow-left-short text-2xl"})})]}),n.jsx("nav",{className:"",children:n.jsx("ul",{className:"space-y-2",children:l3.map((p,x)=>n.jsx("li",{children:n.jsx(i3,{name:p.name,link:p.link,icon:p.icon,sub:p.sublinks,isActiveCheck:a===p.link,onClick:()=>i(p.link),menuStatus:l})},x))})}),n.jsx("div",{className:" pt-4 border-t-2 border-[#ffffff79] mx-4 mt-4 flex items-center justify-center",children:n.jsxs("button",{onClick:f,disabled:h,className:`flex items-center p-2 py-4 cursor-pointer gap-2 text-white font-bold rounded-lg w-full hover:border hover:border-white ${h?"opacity-60 cursor-not-allowed":""}`,children:[n.jsx("img",{src:ht.logout,alt:"logout",className:"w-6 h-6"}),!l&&n.jsx("span",{children:h?"Logging out...":"Logout"})]})})]})},w6=()=>{const[t,e]=L.useState(!1);return n.jsxs("div",{className:"flex bg-theme-light",children:[n.jsx("div",{className:`fixed lg:static top-0 left-0 z-20 transition-transform transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:w-fit`,children:n.jsx(v6,{setMobileOpen:e})}),n.jsx("div",{className:"w-full h-screen overflow-auto transition-all duration-300 bg-gray-100",children:n.jsx(j4,{})})]})},N6={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],datasets:[{label:"Approved loans",data:[1500,1500,1500,1500,1500,1500,1500,1500,1500],backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:[300,300,300,300,300,300,300,300,300],backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:[500,500,500,500,500,500,500,500,500],backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:[200,200,200,200,200,200,200,200,200],backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]},j6=[{title:"Total Users",value:"500",color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:"25",color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:"5",color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:"2,000,000",color:"text-green-600",icon:"/assets/images/loans.png"}],_6=["bg-[#e0e7ff]","bg-[#fee2e2]","bg-[#ede9fe]","bg-[#dcfce7]"],q2=["text-blue-700","text-red-600","text-purple-700","text-green-700"],S6=({stats:t})=>n.jsx("div",{className:"flex w-full gap-6",children:t.map((e,s)=>n.jsxs("div",{className:"flex-1 bg-white rounded-[20px] shadow-[0_4px_16px_0_rgba(0,0,0,0.08)] px-6 py-4 flex items-center min-w-[220px]",style:{boxShadow:"0px 4px 16px 0px #E0E7FF"},children:[n.jsx("div",{className:`w-16 h-16 flex items-center justify-center rounded-full ${_6[s]} mr-4`,children:n.jsx("img",{src:e.icon,alt:e.title,className:"w-8 h-8"})}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("span",{className:`text-base font-medium ${q2[s]}`,children:e.title}),n.jsx("span",{className:`text-2xl font-bold ${q2[s]}`,children:e.value})]})]},s))}),A6=({orders:t})=>{const e=ya(),s=()=>{e("/shop-mgt")},a=()=>{e("/shop-mgt")};return n.jsxs("div",{className:"bg-white rounded-lg ",style:{height:420,overflow:"hidden"},children:[n.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#EBEBEB]",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Orders"}),n.jsx("button",{onClick:a,className:"text-blue-600 text-sm hover:underline cursor-pointer",children:"View All"})]}),n.jsx("div",{className:"space-y-3 p-4",style:{height:"350px",overflow:"hidden"},children:!t||t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),n.jsx("p",{className:"text-gray-500 text-lg font-medium mb-2",children:"No Orders Yet"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"There are no recent orders to display."})]}):t.slice(0,3).map((i,l)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-between shadow-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx("img",{src:i.image||"/vite.svg",alt:i.name,className:"w-10 h-10 object-contain",onError:c=>{c.currentTarget.src="/vite.svg"}})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm",children:i.name}),n.jsx("p",{className:"text-blue-900 font-semibold text-base",children:i.price}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Placed by"," ",n.jsx("span",{className:"text-blue-600 underline",children:i.user})]})]})]}),n.jsx("button",{onClick:s,className:"text-white text-sm px-6 cursor-pointer py-2 rounded-full hover:opacity-90 transition font-medium shadow-sm",style:{backgroundColor:"#273E8E"},children:"View More"})]},l))})]})},C6=({users:t})=>{const e=ya(),[s,a]=L.useState(1),[i]=L.useState(10),l=Math.ceil(t.length/i),c=(s-1)*i,d=c+i,h=t.slice(c,d);return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl mt-[-35px] font-bold text-black mb-10",children:"Latest Users"}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200",children:!t||t.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),n.jsx("p",{className:"text-gray-500 text-lg font-medium mb-2",children:"No Users Yet"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"There are no users to display."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] border border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-black font-medium flex justify-center items-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Phone"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"BVN"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Date Registered"}),n.jsx("th",{className:"px-6 py-4 text-black font-medium text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:h.map((f,p)=>n.jsxs("tr",{className:`${p!==h.length-1?"border-b border-gray-100":""} ${p%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap flex justify-center items-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 font-medium text-center",children:f.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.phone}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.bvn}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-black text-center",children:f.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center justify-end gap-4",children:[n.jsx("button",{className:"text-white px-4 py-2 rounded-full cursor-pointer text-sm font-medium transition hover:opacity-90",style:{backgroundColor:"#273E8E"},onClick:()=>{const x={id:f.id||"N/A",name:f.name||"Unknown User",email:f.email||"unknown@email.com",phone:f.phone||"0000000000",bvn:f.bvn||"00000000000",date:f.date||"01/01/1970"};e(`/user-activity/${f.id}`,{state:x})},children:"View Details"}),n.jsx("button",{className:" w-8 h-8 rounded flex items-center justify-center  cursor-pointer",children:n.jsx("img",{src:ht.dots,alt:""})})]})})]},f.id))})]}),l>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",c+1," to ",Math.min(d,t.length)," of ",t.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>a(f=>Math.max(f-1,1)),disabled:s===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${s===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,l)},(f,p)=>{let x;return l<=5||s<=3?x=p+1:s>=l-2?x=l-4+p:x=s-2+p,n.jsx("button",{onClick:()=>a(x),className:`px-3 py-2 text-sm font-medium rounded-md border ${s===x?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x},x)})}),n.jsx("button",{onClick:()=>a(f=>Math.min(f+1,l)),disabled:s===l,className:`px-3 py-2 text-sm font-medium rounded-md border ${s===l?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]})},Qn=({adminName:t="Hi, Admin",adminImage:e="/assets/layout/admin.png",onNotificationClick:s})=>{const a=ya(),i=()=>{s&&s(),a("/settings?tab=notification")};return n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsx("div",{className:"flex justify-end items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"cursor-pointer",onClick:i,children:n.jsx("img",{className:"w-11 h-11",src:ht.bell,alt:""})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:e,alt:"Admin",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"font-medium text-gray-700",children:t})]})]})})})},k6=async t=>await lt(ot.ADMIN.Dashboard,"GET",void 0,t);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sh(t){return t+.5|0}const To=(t,e,s)=>Math.max(Math.min(t,s),e);function th(t){return To(Sh(t*2.55),0,255)}function Io(t){return To(Sh(t*255),0,255)}function Il(t){return To(Sh(t/2.55)/100,0,1)}function z2(t){return To(Sh(t*100),0,100)}const Xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dx=[..."0123456789ABCDEF"],E6=t=>dx[t&15],L6=t=>dx[(t&240)>>4]+dx[t&15],Ff=t=>(t&240)>>4===(t&15),D6=t=>Ff(t.r)&&Ff(t.g)&&Ff(t.b)&&Ff(t.a);function M6(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Xr[t[1]]*17,g:255&Xr[t[2]]*17,b:255&Xr[t[3]]*17,a:e===5?Xr[t[4]]*17:255}:(e===7||e===9)&&(s={r:Xr[t[1]]<<4|Xr[t[2]],g:Xr[t[3]]<<4|Xr[t[4]],b:Xr[t[5]]<<4|Xr[t[6]],a:e===9?Xr[t[7]]<<4|Xr[t[8]]:255})),s}const F6=(t,e)=>t<255?e(t):"";function O6(t){var e=D6(t)?E6:L6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+F6(t.a,e):void 0}const T6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function N5(t,e,s){const a=e*Math.min(s,1-s),i=(l,c=(l+t/30)%12)=>s-a*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function P6(t,e,s){const a=(i,l=(i+t/60)%6)=>s-s*e*Math.max(Math.min(l,4-l,1),0);return[a(5),a(3),a(1)]}function R6(t,e,s){const a=N5(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)a[i]*=1-e-s,a[i]+=e;return a}function B6(t,e,s,a,i){return t===i?(e-s)/a+(e<s?6:0):e===i?(s-t)/a+2:(t-e)/a+4}function qx(t){const s=t.r/255,a=t.g/255,i=t.b/255,l=Math.max(s,a,i),c=Math.min(s,a,i),d=(l+c)/2;let h,f,p;return l!==c&&(p=l-c,f=d>.5?p/(2-l-c):p/(l+c),h=B6(s,a,i,p,l),h=h*60+.5),[h|0,f||0,d]}function zx(t,e,s,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,a)).map(Io)}function Hx(t,e,s){return zx(N5,t,e,s)}function U6(t,e,s){return zx(R6,t,e,s)}function I6(t,e,s){return zx(P6,t,e,s)}function j5(t){return(t%360+360)%360}function q6(t){const e=T6.exec(t);let s=255,a;if(!e)return;e[5]!==a&&(s=e[6]?th(+e[5]):Io(+e[5]));const i=j5(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=U6(i,l,c):e[1]==="hsv"?a=I6(i,l,c):a=Hx(i,l,c),{r:a[0],g:a[1],b:a[2],a:s}}function z6(t,e){var s=qx(t);s[0]=j5(s[0]+e),s=Hx(s),t.r=s[0],t.g=s[1],t.b=s[2]}function H6(t){if(!t)return;const e=qx(t),s=e[0],a=z2(e[1]),i=z2(e[2]);return t.a<255?`hsla(${s}, ${a}%, ${i}%, ${Il(t.a)})`:`hsl(${s}, ${a}%, ${i}%)`}const H2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $6(){const t={},e=Object.keys($2),s=Object.keys(H2);let a,i,l,c,d;for(a=0;a<e.length;a++){for(c=d=e[a],i=0;i<s.length;i++)l=s[i],d=d.replace(l,H2[l]);l=parseInt($2[c],16),t[d]=[l>>16&255,l>>8&255,l&255]}return t}let Of;function V6(t){Of||(Of=$6(),Of.transparent=[0,0,0,0]);const e=Of[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const W6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function G6(t){const e=W6.exec(t);let s=255,a,i,l;if(e){if(e[7]!==a){const c=+e[7];s=e[8]?th(c):To(c*255,0,255)}return a=+e[1],i=+e[3],l=+e[5],a=255&(e[2]?th(a):To(a,0,255)),i=255&(e[4]?th(i):To(i,0,255)),l=255&(e[6]?th(l):To(l,0,255)),{r:a,g:i,b:l,a:s}}}function Y6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Il(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const up=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ad=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function K6(t,e,s){const a=Ad(Il(t.r)),i=Ad(Il(t.g)),l=Ad(Il(t.b));return{r:Io(up(a+s*(Ad(Il(e.r))-a))),g:Io(up(i+s*(Ad(Il(e.g))-i))),b:Io(up(l+s*(Ad(Il(e.b))-l))),a:t.a+s*(e.a-t.a)}}function Tf(t,e,s){if(t){let a=qx(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*s,e===0?360:1)),a=Hx(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function _5(t,e){return t&&Object.assign(e||{},t)}function V2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Io(t[3]))):(e=_5(t,{r:0,g:0,b:0,a:1}),e.a=Io(e.a)),e}function Q6(t){return t.charAt(0)==="r"?G6(t):q6(t)}class hh{constructor(e){if(e instanceof hh)return e;const s=typeof e;let a;s==="object"?a=V2(e):s==="string"&&(a=M6(e)||V6(e)||Q6(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=_5(this._rgb);return e&&(e.a=Il(e.a)),e}set rgb(e){this._rgb=V2(e)}rgbString(){return this._valid?Y6(this._rgb):void 0}hexString(){return this._valid?O6(this._rgb):void 0}hslString(){return this._valid?H6(this._rgb):void 0}mix(e,s){if(e){const a=this.rgb,i=e.rgb;let l;const c=s===l?.5:s,d=2*c-1,h=a.a-i.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;l=1-f,a.r=255&f*a.r+l*i.r+.5,a.g=255&f*a.g+l*i.g+.5,a.b=255&f*a.b+l*i.b+.5,a.a=c*a.a+(1-c)*i.a,this.rgb=a}return this}interpolate(e,s){return e&&(this._rgb=K6(this._rgb,e._rgb,s)),this}clone(){return new hh(this.rgb)}alpha(e){return this._rgb.a=Io(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Sh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tf(this._rgb,2,e),this}darken(e){return Tf(this._rgb,2,-e),this}saturate(e){return Tf(this._rgb,1,e),this}desaturate(e){return Tf(this._rgb,1,-e),this}rotate(e){return z6(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Tl(){}const X6=(()=>{let t=0;return()=>t++})();function Ys(t){return t==null}function la(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ss(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ei(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function el(t,e){return ei(t)?t:e}function ks(t,e){return typeof t>"u"?e:t}const Z6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function tn(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function Ps(t,e,s,a){let i,l,c;if(la(t))for(l=t.length,i=0;i<l;i++)e.call(s,t[i],i);else if(Ss(t))for(c=Object.keys(t),l=c.length,i=0;i<l;i++)e.call(s,t[c[i]],c[i])}function vm(t,e){let s,a,i,l;if(!t||!e||t.length!==e.length)return!1;for(s=0,a=t.length;s<a;++s)if(i=t[s],l=e[s],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function wm(t){if(la(t))return t.map(wm);if(Ss(t)){const e=Object.create(null),s=Object.keys(t),a=s.length;let i=0;for(;i<a;++i)e[s[i]]=wm(t[s[i]]);return e}return t}function S5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function J6(t,e,s,a){if(!S5(t))return;const i=e[t],l=s[t];Ss(i)&&Ss(l)?fh(i,l,a):e[t]=wm(l)}function fh(t,e,s){const a=la(e)?e:[e],i=a.length;if(!Ss(t))return t;s=s||{};const l=s.merger||J6;let c;for(let d=0;d<i;++d){if(c=a[d],!Ss(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)l(h[f],t,c,s)}return t}function ah(t,e){return fh(t,e,{merger:eS})}function eS(t,e,s){if(!S5(t))return;const a=e[t],i=s[t];Ss(a)&&Ss(i)?ah(a,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wm(i))}const W2={"":t=>t,x:t=>t.x,y:t=>t.y};function tS(t){const e=t.split("."),s=[];let a="";for(const i of e)a+=i,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}function sS(t){const e=tS(t);return s=>{for(const a of e){if(a==="")break;s=s&&s[a]}return s}}function Id(t,e){return(W2[e]||(W2[e]=sS(e)))(t)}function $x(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mh=t=>typeof t<"u",Ho=t=>typeof t=="function",G2=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function nS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nr=Math.PI,qo=2*nr,Nm=Number.POSITIVE_INFINITY,aS=nr/180,Ai=nr/2,Nc=nr/4,Y2=nr*2/3,A5=Math.log10,zo=Math.sign;function im(t,e,s){return Math.abs(t-e)<s}function K2(t){const e=Math.round(t);t=im(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(A5(t))),a=t/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function rS(t){const e=[],s=Math.sqrt(t);let a;for(a=1;a<s;a++)t%a===0&&(e.push(a),e.push(t/a));return s===(s|0)&&e.push(s),e.sort((i,l)=>i-l).pop(),e}function iS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jm(t){return!iS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function lS(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function oS(t,e,s){let a,i,l;for(a=0,i=t.length;a<i;a++)l=t[a][s],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function Lc(t){return t*(nr/180)}function cS(t){return t*(180/nr)}function Q2(t){if(!ei(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function dS(t,e){const s=e.x-t.x,a=e.y-t.y,i=Math.sqrt(s*s+a*a);let l=Math.atan2(a,s);return l<-.5*nr&&(l+=qo),{angle:l,distance:i}}function uS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jc(t){return(t%qo+qo)%qo}function hS(t,e,s,a){const i=jc(t),l=jc(e),c=jc(s),d=jc(l-i),h=jc(c-i),f=jc(i-l),p=jc(i-c);return i===l||i===c||a||d>h&&f<p}function Ci(t,e,s){return Math.max(e,Math.min(s,t))}function fS(t){return Ci(t,-32768,32767)}function Md(t,e,s,a=1e-6){return t>=Math.min(e,s)-a&&t<=Math.max(e,s)+a}function Vx(t,e,s){s=s||(c=>t[c]<e);let a=t.length-1,i=0,l;for(;a-i>1;)l=i+a>>1,s(l)?i=l:a=l;return{lo:i,hi:a}}const ux=(t,e,s,a)=>Vx(t,s,a?i=>{const l=t[i][e];return l<s||l===s&&t[i+1][e]===s}:i=>t[i][e]<s),mS=(t,e,s)=>Vx(t,s,a=>t[a][e]>=s);function pS(t,e,s){let a=0,i=t.length;for(;a<i&&t[a]<e;)a++;for(;i>a&&t[i-1]>s;)i--;return a>0||i<t.length?t.slice(a,i):t}const C5=["push","pop","shift","splice","unshift"];function xS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),C5.forEach(s=>{const a="_onData"+$x(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...l){const c=i.apply(this,l);return t._chartjs.listeners.forEach(d=>{typeof d[a]=="function"&&d[a](...l)}),c}})})}function X2(t,e){const s=t._chartjs;if(!s)return;const a=s.listeners,i=a.indexOf(e);i!==-1&&a.splice(i,1),!(a.length>0)&&(C5.forEach(l=>{delete t[l]}),delete t._chartjs)}function k5(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const E5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function L5(t,e){let s=[],a=!1;return function(...i){s=i,a||(a=!0,E5.call(window,()=>{a=!1,t.apply(e,s)}))}}function gS(t,e){let s;return function(...a){return e?(clearTimeout(s),s=setTimeout(t,e,a)):t.apply(this,a),e}}const D5=t=>t==="start"?"left":t==="end"?"right":"center",Nr=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,bS=(t,e,s,a)=>t===(a?"left":"right")?s:t==="center"?(e+s)/2:e,Pf=t=>t===0||t===1,Z2=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*qo/s)),J2=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*qo/s)+1,rh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ai)+1,easeOutSine:t=>Math.sin(t*Ai),easeInOutSine:t=>-.5*(Math.cos(nr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Pf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Pf(t)?t:Z2(t,.075,.3),easeOutElastic:t=>Pf(t)?t:J2(t,.075,.3),easeInOutElastic(t){return Pf(t)?t:t<.5?.5*Z2(t*2,.1125,.45):.5+.5*J2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-rh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?rh.easeInBounce(t*2)*.5:rh.easeOutBounce(t*2-1)*.5+.5};function M5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function e1(t){return M5(t)?t:new hh(t)}function hp(t){return M5(t)?t:new hh(t).saturate(.5).darken(.1).hexString()}const yS=["x","y","borderWidth","radius","tension"],vS=["color","borderColor","backgroundColor"];function wS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vS},numbers:{type:"number",properties:yS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function NS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const t1=new Map;function jS(t,e){e=e||{};const s=t+JSON.stringify(e);let a=t1.get(s);return a||(a=new Intl.NumberFormat(t,e),t1.set(s,a)),a}function F5(t,e,s){return jS(e,s).format(t)}const _S={values(t){return la(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const a=this.chart.options.locale;let i,l=t;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),l=SS(t,s)}const c=A5(Math.abs(l)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),F5(t,a,h)}};function SS(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var O5={formatters:_S};function AS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rc=Object.create(null),hx=Object.create(null);function ih(t,e){if(!e)return t;const s=e.split(".");for(let a=0,i=s.length;a<i;++a){const l=s[a];t=t[l]||(t[l]=Object.create(null))}return t}function fp(t,e,s){return typeof e=="string"?fh(ih(t,e),s):fh(ih(t,""),e)}class CS{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,i)=>hp(i.backgroundColor),this.hoverBorderColor=(a,i)=>hp(i.borderColor),this.hoverColor=(a,i)=>hp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return fp(this,e,s)}get(e){return ih(this,e)}describe(e,s){return fp(hx,e,s)}override(e,s){return fp(Rc,e,s)}route(e,s,a,i){const l=ih(this,e),c=ih(this,a),d="_"+s;Object.defineProperties(l,{[d]:{value:l[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[d],f=c[i];return Ss(h)?Object.assign({},f,h):ks(h,f)},set(h){this[d]=h}}})}apply(e){e.forEach(s=>s(this))}}var Bn=new CS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wS,NS,AS]);function kS(t){return!t||Ys(t.size)||Ys(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function s1(t,e,s,a,i){let l=e[i];return l||(l=e[i]=t.measureText(i).width,s.push(i)),l>a&&(a=l),a}function _c(t,e,s){const a=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*a)/a+i}function n1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function a1(t,e,s,a){T5(t,e,s,a,null)}function T5(t,e,s,a,i){let l,c,d,h,f,p,x,w;const y=e.pointStyle,j=e.rotation,A=e.radius;let C=(j||0)*aS;if(y&&typeof y=="object"&&(l=y.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(s,a),t.rotate(C),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(A)||A<=0)){switch(t.beginPath(),y){default:i?t.ellipse(s,a,i/2,A,0,0,qo):t.arc(s,a,A,0,qo),t.closePath();break;case"triangle":p=i?i/2:A,t.moveTo(s+Math.sin(C)*p,a-Math.cos(C)*A),C+=Y2,t.lineTo(s+Math.sin(C)*p,a-Math.cos(C)*A),C+=Y2,t.lineTo(s+Math.sin(C)*p,a-Math.cos(C)*A),t.closePath();break;case"rectRounded":f=A*.516,h=A-f,c=Math.cos(C+Nc)*h,x=Math.cos(C+Nc)*(i?i/2-f:h),d=Math.sin(C+Nc)*h,w=Math.sin(C+Nc)*(i?i/2-f:h),t.arc(s-x,a-d,f,C-nr,C-Ai),t.arc(s+w,a-c,f,C-Ai,C),t.arc(s+x,a+d,f,C,C+Ai),t.arc(s-w,a+c,f,C+Ai,C+nr),t.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*A,p=i?i/2:h,t.rect(s-p,a-h,2*p,2*h);break}C+=Nc;case"rectRot":x=Math.cos(C)*(i?i/2:A),c=Math.cos(C)*A,d=Math.sin(C)*A,w=Math.sin(C)*(i?i/2:A),t.moveTo(s-x,a-d),t.lineTo(s+w,a-c),t.lineTo(s+x,a+d),t.lineTo(s-w,a+c),t.closePath();break;case"crossRot":C+=Nc;case"cross":x=Math.cos(C)*(i?i/2:A),c=Math.cos(C)*A,d=Math.sin(C)*A,w=Math.sin(C)*(i?i/2:A),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c);break;case"star":x=Math.cos(C)*(i?i/2:A),c=Math.cos(C)*A,d=Math.sin(C)*A,w=Math.sin(C)*(i?i/2:A),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c),C+=Nc,x=Math.cos(C)*(i?i/2:A),c=Math.cos(C)*A,d=Math.sin(C)*A,w=Math.sin(C)*(i?i/2:A),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+w,a-c),t.lineTo(s-w,a+c);break;case"line":c=i?i/2:Math.cos(C)*A,d=Math.sin(C)*A,t.moveTo(s-c,a-d),t.lineTo(s+c,a+d);break;case"dash":t.moveTo(s,a),t.lineTo(s+Math.cos(C)*(i?i/2:A),a+Math.sin(C)*A);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function P5(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Wx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Gx(t){t.restore()}function ES(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ys(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LS(t,e,s,a,i){if(i.strikethrough||i.underline){const l=t.measureText(a),c=e-l.actualBoundingBoxLeft,d=e+l.actualBoundingBoxRight,h=s-l.actualBoundingBoxAscent,f=s+l.actualBoundingBoxDescent,p=i.strikethrough?(h+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(c,p),t.lineTo(d,p),t.stroke()}}function DS(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function _m(t,e,s,a,i,l={}){const c=la(e)?e:[e],d=l.strokeWidth>0&&l.strokeColor!=="";let h,f;for(t.save(),t.font=i.string,ES(t,l),h=0;h<c.length;++h)f=c[h],l.backdrop&&DS(t,l.backdrop),d&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),Ys(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(f,s,a,l.maxWidth)),t.fillText(f,s,a,l.maxWidth),LS(t,s,a,f,l),a+=Number(i.lineHeight);t.restore()}function Sm(t,e){const{x:s,y:a,w:i,h:l,radius:c}=e;t.arc(s+c.topLeft,a+c.topLeft,c.topLeft,1.5*nr,nr,!0),t.lineTo(s,a+l-c.bottomLeft),t.arc(s+c.bottomLeft,a+l-c.bottomLeft,c.bottomLeft,nr,Ai,!0),t.lineTo(s+i-c.bottomRight,a+l),t.arc(s+i-c.bottomRight,a+l-c.bottomRight,c.bottomRight,Ai,0,!0),t.lineTo(s+i,a+c.topRight),t.arc(s+i-c.topRight,a+c.topRight,c.topRight,0,-Ai,!0),t.lineTo(s+c.topLeft,a)}const MS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OS(t,e){const s=(""+t).match(MS);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const TS=t=>+t||0;function R5(t,e){const s={},a=Ss(e),i=a?Object.keys(e):e,l=Ss(t)?a?c=>ks(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of i)s[c]=TS(l(c));return s}function B5(t){return R5(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Od(t){return R5(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ki(t){const e=B5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function er(t,e){t=t||{},e=e||Bn.font;let s=ks(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let a=ks(t.style,e.style);a&&!(""+a).match(FS)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const i={family:ks(t.family,e.family),lineHeight:OS(ks(t.lineHeight,e.lineHeight),s),size:s,style:a,weight:ks(t.weight,e.weight),string:""};return i.string=kS(i),i}function Rf(t,e,s,a){let i,l,c;for(i=0,l=t.length;i<l;++i)if(c=t[i],c!==void 0&&c!==void 0)return c}function PS(t,e,s){const{min:a,max:i}=t,l=Z6(e,(i-a)/2),c=(d,h)=>s&&d===0?0:d+h;return{min:c(a,-Math.abs(l)),max:c(i,l)}}function Yd(t,e){return Object.assign(Object.create(t),e)}function Yx(t,e=[""],s,a,i=()=>t[0]){const l=s||t;typeof a>"u"&&(a=z5("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:a,_getTarget:i,override:d=>Yx([d,...t],e,l,a)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return I5(d,h,()=>$S(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return i1(d).includes(h)},ownKeys(d){return i1(d)},set(d,h,f){const p=d._storage||(d._storage=i());return d[h]=p[h]=f,delete d._keys,!0}})}function qd(t,e,s,a){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:U5(t,a),setContext:l=>qd(t,l,s,a),override:l=>qd(t.override(l),e,s,a)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete t[c],!0},get(l,c,d){return I5(l,c,()=>BS(l,c,d))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(l,c,d){return t[c]=d,delete l[c],!0}})}function U5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:a=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:a,isScriptable:Ho(s)?s:()=>s,isIndexable:Ho(a)?a:()=>a}}const RS=(t,e)=>t?t+$x(e):e,Kx=(t,e)=>Ss(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function I5(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=s();return t[e]=a,a}function BS(t,e,s){const{_proxy:a,_context:i,_subProxy:l,_descriptors:c}=t;let d=a[e];return Ho(d)&&c.isScriptable(e)&&(d=US(e,d,t,s)),la(d)&&d.length&&(d=IS(e,d,t,c.isIndexable)),Kx(e,d)&&(d=qd(d,i,l&&l[e],c)),d}function US(t,e,s,a){const{_proxy:i,_context:l,_subProxy:c,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(l,c||a);return d.delete(t),Kx(t,h)&&(h=Qx(i._scopes,i,t,h)),h}function IS(t,e,s,a){const{_proxy:i,_context:l,_subProxy:c,_descriptors:d}=s;if(typeof l.index<"u"&&a(t))return e[l.index%e.length];if(Ss(e[0])){const h=e,f=i._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=Qx(f,i,t,p);e.push(qd(x,l,c&&c[t],d))}}return e}function q5(t,e,s){return Ho(t)?t(e,s):t}const qS=(t,e)=>t===!0?e:typeof t=="string"?Id(e,t):void 0;function zS(t,e,s,a,i){for(const l of e){const c=qS(s,l);if(c){t.add(c);const d=q5(c._fallback,s,i);if(typeof d<"u"&&d!==s&&d!==a)return d}else if(c===!1&&typeof a<"u"&&s!==a)return null}return!1}function Qx(t,e,s,a){const i=e._rootScopes,l=q5(e._fallback,s,a),c=[...t,...i],d=new Set;d.add(a);let h=r1(d,c,s,l||s,a);return h===null||typeof l<"u"&&l!==s&&(h=r1(d,c,l,h,a),h===null)?!1:Yx(Array.from(d),[""],i,l,()=>HS(e,s,a))}function r1(t,e,s,a,i){for(;s;)s=zS(t,e,s,a,i);return s}function HS(t,e,s){const a=t._getTarget();e in a||(a[e]={});const i=a[e];return la(i)&&Ss(s)?s:i||{}}function $S(t,e,s,a){let i;for(const l of e)if(i=z5(RS(l,t),s),typeof i<"u")return Kx(t,i)?Qx(s,a,t,i):i}function z5(t,e){for(const s of e){if(!s)continue;const a=s[t];if(typeof a<"u")return a}}function i1(t){let e=t._keys;return e||(e=t._keys=VS(t._scopes)),e}function VS(t){const e=new Set;for(const s of t)for(const a of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(a);return Array.from(e)}function Xx(){return typeof window<"u"&&typeof document<"u"}function Zx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Am(t,e,s){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[s])):a=t,a}const zm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function WS(t,e){return zm(t).getPropertyValue(e)}const GS=["top","right","bottom","left"];function Mc(t,e,s){const a={};s=s?"-"+s:"";for(let i=0;i<4;i++){const l=GS[i];a[l]=parseFloat(t[e+"-"+l+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const YS=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function KS(t,e){const s=t.touches,a=s&&s.length?s[0]:t,{offsetX:i,offsetY:l}=a;let c=!1,d,h;if(YS(i,l,t.target))d=i,h=l;else{const f=e.getBoundingClientRect();d=a.clientX-f.left,h=a.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function Ac(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:a}=e,i=zm(s),l=i.boxSizing==="border-box",c=Mc(i,"padding"),d=Mc(i,"border","width"),{x:h,y:f,box:p}=KS(t,s),x=c.left+(p&&d.left),w=c.top+(p&&d.top);let{width:y,height:j}=e;return l&&(y-=c.width+d.width,j-=c.height+d.height),{x:Math.round((h-x)/y*s.width/a),y:Math.round((f-w)/j*s.height/a)}}function QS(t,e,s){let a,i;if(e===void 0||s===void 0){const l=t&&Zx(t);if(!l)e=t.clientWidth,s=t.clientHeight;else{const c=l.getBoundingClientRect(),d=zm(l),h=Mc(d,"border","width"),f=Mc(d,"padding");e=c.width-f.width-h.width,s=c.height-f.height-h.height,a=Am(d.maxWidth,l,"clientWidth"),i=Am(d.maxHeight,l,"clientHeight")}}return{width:e,height:s,maxWidth:a||Nm,maxHeight:i||Nm}}const Bf=t=>Math.round(t*10)/10;function XS(t,e,s,a){const i=zm(t),l=Mc(i,"margin"),c=Am(i.maxWidth,t,"clientWidth")||Nm,d=Am(i.maxHeight,t,"clientHeight")||Nm,h=QS(t,e,s);let{width:f,height:p}=h;if(i.boxSizing==="content-box"){const w=Mc(i,"border","width"),y=Mc(i,"padding");f-=y.width+w.width,p-=y.height+w.height}return f=Math.max(0,f-l.width),p=Math.max(0,a?f/a:p-l.height),f=Bf(Math.min(f,c,h.maxWidth)),p=Bf(Math.min(p,d,h.maxHeight)),f&&!p&&(p=Bf(f/2)),(e!==void 0||s!==void 0)&&a&&h.height&&p>h.height&&(p=h.height,f=Bf(Math.floor(p*a))),{width:f,height:p}}function l1(t,e,s){const a=e||1,i=Math.floor(t.height*a),l=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||c.height!==i||c.width!==l?(t.currentDevicePixelRatio=a,c.height=i,c.width=l,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const ZS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function o1(t,e){const s=WS(t,e),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const JS=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,a){return s-a},leftForLtr(s,a){return s-a}}},e8=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Td(t,e,s){return t?JS(e,s):e8()}function H5(t,e){let s,a;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=a)}function $5(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Uf(t,e,s){return t.options.clip?t[s]:e[s]}function t8(t,e){const{xScale:s,yScale:a}=t;return s&&a?{left:Uf(s,e,"left"),right:Uf(s,e,"right"),top:Uf(a,e,"top"),bottom:Uf(a,e,"bottom")}:e}function s8(t,e){const s=e._clip;if(s.disabled)return!1;const a=t8(e,t.chartArea);return{left:s.left===!1?0:a.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:a.right+(s.right===!0?0:s.right),top:s.top===!1?0:a.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:a.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class n8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,a,i){const l=s.listeners[i],c=s.duration;l.forEach(d=>d({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(a-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=E5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((a,i)=>{if(!a.running||!a.items.length)return;const l=a.items;let c=l.length-1,d=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),d=!0):(l[c]=l[l.length-1],l.pop());d&&(i.draw(),this._notify(i,a,e,"progress")),l.length||(a.running=!1,this._notify(i,a,e,"complete"),a.initial=!1),s+=l.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let a=s.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,a)),a}listen(e,s,a){this._getAnims(e).listeners[s].push(a)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((a,i)=>Math.max(a,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const a=s.items;let i=a.length-1;for(;i>=0;--i)a[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bl=new n8;const c1="transparent",a8={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const a=e1(t||c1),i=a.valid&&e1(e||c1);return i&&i.valid?i.mix(a,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class r8{constructor(e,s,a,i){const l=s[a];i=Rf([e.to,i,l,e.from]);const c=Rf([e.from,l,i]);this._active=!0,this._fn=e.fn||a8[e.type||typeof c],this._easing=rh[e.easing]||rh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=a,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,a){if(this._active){this._notify(!1);const i=this._target[this._prop],l=a-this._start,c=this._duration-l;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Rf([e.to,s,i,e.from]),this._from=Rf([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,a=this._duration,i=this._prop,l=this._from,c=this._loop,d=this._to;let h;if(this._active=l!==d&&(c||s<a),!this._active){this._target[i]=d,this._notify(!0);return}if(s<0){this._target[i]=l;return}h=s/a%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(l,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,a)=>{e.push({res:s,rej:a})})}_notify(e){const s=e?"res":"rej",a=this._promises||[];for(let i=0;i<a.length;i++)a[i][s]()}}class V5{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Ss(e))return;const s=Object.keys(Bn.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const l=e[i];if(!Ss(l))return;const c={};for(const d of s)c[d]=l[d];(la(l.properties)&&l.properties||[i]).forEach(d=>{(d===i||!a.has(d))&&a.set(d,c)})})}_animateOptions(e,s){const a=s.options,i=l8(e,a);if(!i)return[];const l=this._createAnimations(i,a);return a.$shared&&i8(e.options.$animations,a).then(()=>{e.options=a},()=>{}),l}_createAnimations(e,s){const a=this._properties,i=[],l=e.$animations||(e.$animations={}),c=Object.keys(s),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,s));continue}const p=s[f];let x=l[f];const w=a.get(f);if(x)if(w&&x.active()){x.update(w,p,d);continue}else x.cancel();if(!w||!w.duration){e[f]=p;continue}l[f]=x=new r8(w,e,f,p),i.push(x)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const a=this._createAnimations(e,s);if(a.length)return Bl.add(this._chart,a),!0}}function i8(t,e){const s=[],a=Object.keys(e);for(let i=0;i<a.length;i++){const l=t[a[i]];l&&l.active()&&s.push(l.wait())}return Promise.all(s)}function l8(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function d1(t,e){const s=t&&t.options||{},a=s.reverse,i=s.min===void 0?e:0,l=s.max===void 0?e:0;return{start:a?l:i,end:a?i:l}}function o8(t,e,s){if(s===!1)return!1;const a=d1(t,s),i=d1(e,s);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}function c8(t){let e,s,a,i;return Ss(t)?(e=t.top,s=t.right,a=t.bottom,i=t.left):e=s=a=i=t,{top:e,right:s,bottom:a,left:i,disabled:t===!1}}function W5(t,e){const s=[],a=t._getSortedDatasetMetas(e);let i,l;for(i=0,l=a.length;i<l;++i)s.push(a[i].index);return s}function u1(t,e,s,a={}){const i=t.keys,l=a.mode==="single";let c,d,h,f;if(e===null)return;let p=!1;for(c=0,d=i.length;c<d;++c){if(h=+i[c],h===s){if(p=!0,a.all)continue;break}f=t.values[h],ei(f)&&(l||e===0||zo(e)===zo(f))&&(e+=f)}return!p&&!a.all?0:e}function d8(t,e){const{iScale:s,vScale:a}=e,i=s.axis==="x"?"x":"y",l=a.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[i]:p,[l]:t[p]};return d}function mp(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function u8(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function h8(t){const{min:e,max:s,minDefined:a,maxDefined:i}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function f8(t,e,s){const a=t[e]||(t[e]={});return a[s]||(a[s]={})}function h1(t,e,s,a){for(const i of e.getMatchingVisibleMetas(a).reverse()){const l=t[i.index];if(s&&l>0||!s&&l<0)return i.index}return null}function f1(t,e){const{chart:s,_cachedMeta:a}=t,i=s._stacks||(s._stacks={}),{iScale:l,vScale:c,index:d}=a,h=l.axis,f=c.axis,p=u8(l,c,a),x=e.length;let w;for(let y=0;y<x;++y){const j=e[y],{[h]:A,[f]:C}=j,_=j._stacks||(j._stacks={});w=_[f]=f8(i,p,A),w[d]=C,w._top=h1(w,c,!0,a.type),w._bottom=h1(w,c,!1,a.type);const E=w._visualValues||(w._visualValues={});E[d]=C}}function pp(t,e){const s=t.scales;return Object.keys(s).filter(a=>s[a].axis===e).shift()}function m8(t,e){return Yd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function p8(t,e,s){return Yd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Yu(t,e){const s=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const i of e){const l=i._stacks;if(!l||l[a]===void 0||l[a][s]===void 0)return;delete l[a][s],l[a]._visualValues!==void 0&&l[a]._visualValues[s]!==void 0&&delete l[a]._visualValues[s]}}}const xp=t=>t==="reset"||t==="none",m1=(t,e)=>e?t:Object.assign({},t),x8=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:W5(s,!0),values:null};class G5{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),i=(x,w,y,j)=>x==="x"?w:x==="r"?j:y,l=s.xAxisID=ks(a.xAxisID,pp(e,"x")),c=s.yAxisID=ks(a.yAxisID,pp(e,"y")),d=s.rAxisID=ks(a.rAxisID,pp(e,"r")),h=s.indexAxis,f=s.iAxisID=i(h,l,c,d),p=s.vAxisID=i(h,c,l,d);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&X2(this._data,this),e._stacked&&Yu(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(Ss(s)){const i=this._cachedMeta;this._data=d8(s,i)}else if(a!==s){if(a){X2(a,this);const i=this._cachedMeta;Yu(i),i._parsed=[]}s&&Object.isExtensible(s)&&xS(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let i=!1;this._dataCheck();const l=s._stacked;s._stacked=mp(s.vScale,s),s.stack!==a.stack&&(i=!0,Yu(s),s.stack=a.stack),this._resyncElements(e),(i||l!==s._stacked)&&(f1(this,s._parsed),s._stacked=mp(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:a,_data:i}=this,{iScale:l,_stacked:c}=a,d=l.axis;let h=e===0&&s===i.length?!0:a._sorted,f=e>0&&a._parsed[e-1],p,x,w;if(this._parsing===!1)a._parsed=i,a._sorted=!0,w=i;else{la(i[e])?w=this.parseArrayData(a,i,e,s):Ss(i[e])?w=this.parseObjectData(a,i,e,s):w=this.parsePrimitiveData(a,i,e,s);const y=()=>x[d]===null||f&&x[d]<f[d];for(p=0;p<s;++p)a._parsed[p+e]=x=w[p],h&&(y()&&(h=!1),f=x);a._sorted=h}c&&f1(this,w)}parsePrimitiveData(e,s,a,i){const{iScale:l,vScale:c}=e,d=l.axis,h=c.axis,f=l.getLabels(),p=l===c,x=new Array(i);let w,y,j;for(w=0,y=i;w<y;++w)j=w+a,x[w]={[d]:p||l.parse(f[j],j),[h]:c.parse(s[j],j)};return x}parseArrayData(e,s,a,i){const{xScale:l,yScale:c}=e,d=new Array(i);let h,f,p,x;for(h=0,f=i;h<f;++h)p=h+a,x=s[p],d[h]={x:l.parse(x[0],p),y:c.parse(x[1],p)};return d}parseObjectData(e,s,a,i){const{xScale:l,yScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let p,x,w,y;for(p=0,x=i;p<x;++p)w=p+a,y=s[w],f[p]={x:l.parse(Id(y,d),w),y:c.parse(Id(y,h),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const i=this.chart,l=this._cachedMeta,c=s[e.axis],d={keys:W5(i,!0),values:s._stacks[e.axis]._visualValues};return u1(d,c,l.index,{mode:a})}updateRangeFromParsed(e,s,a,i){const l=a[s.axis];let c=l===null?NaN:l;const d=i&&a._stacks[s.axis];i&&d&&(i.values=d,c=u1(i,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const a=this._cachedMeta,i=a._parsed,l=a._sorted&&e===a.iScale,c=i.length,d=this._getOtherScale(e),h=x8(s,a,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=h8(d);let w,y;function j(){y=i[w];const A=y[d.axis];return!ei(y[e.axis])||p>A||x<A}for(w=0;w<c&&!(!j()&&(this.updateRangeFromParsed(f,e,y,h),l));++w);if(l){for(w=c-1;w>=0;--w)if(!j()){this.updateRangeFromParsed(f,e,y,h);break}}return f}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let i,l,c;for(i=0,l=s.length;i<l;++i)c=s[i][e.axis],ei(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,i=s.vScale,l=this.getParsed(e);return{label:a?""+a.getLabelForValue(l[a.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=c8(ks(this.options.clip,o8(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,a=this._cachedMeta,i=a.data||[],l=s.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||i.length-d,f=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(e,l,d,h),p=d;p<d+h;++p){const x=i[p];x.hidden||(x.active&&f?c.push(x):x.draw(e,l))}for(p=0;p<c.length;++p)c[p].draw(e,l)}getStyle(e,s){const a=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const i=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=p8(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=i.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=m8(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=a,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const i=s==="active",l=this._cachedDataOpts,c=e+"-"+s,d=l[c],h=this.enableOptionSharing&&mh(a);if(d)return m1(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),p),y=Object.keys(Bn.elements[e]),j=()=>this.getContext(a,i,s),A=f.resolveNamedOptions(w,y,j,x);return A.$shared&&(A.$shared=h,l[c]=Object.freeze(m1(A,h))),A}_resolveAnimations(e,s,a){const i=this.chart,l=this._cachedDataOpts,c=`animation-${s}`,d=l[c];if(d)return d;let h;if(i.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,s),w=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(w,this.getContext(e,a,s))}const f=new V5(i,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||xp(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const a=this.resolveDataElementOptions(e,s),i=this._sharedOptions,l=this.getSharedOptions(a),c=this.includeOptions(s,l)||l!==i;return this.updateSharedOptions(l,s,a),{sharedOptions:l,includeOptions:c}}updateElement(e,s,a,i){xp(i)?Object.assign(e,a):this._resolveAnimations(s,i).update(e,a)}updateSharedOptions(e,s,a){e&&!xp(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,i){e.active=i;const l=this.getStyle(s,i);this._resolveAnimations(s,a,i).update(e,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const i=a.length,l=s.length,c=Math.min(l,i);c&&this.parse(0,c),l>i?this._insertElements(i,l-i,e):l<i&&this._removeElements(l,i-l)}_insertElements(e,s,a=!0){const i=this._cachedMeta,l=i.data,c=e+s;let d;const h=f=>{for(f.length+=s,d=f.length-1;d>=c;d--)f[d]=f[d-s]};for(h(l),d=e;d<c;++d)l[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,s),a&&this.updateElements(l,e,s,"reset")}updateElements(e,s,a,i){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const i=a._parsed.splice(e,s);a._stacked&&Yu(a,i)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,i]=e;this[s](a,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function g8(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let a=[];for(let i=0,l=s.length;i<l;i++)a=a.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=k5(a.sort((i,l)=>i-l))}return t._cache.$bar}function b8(t){const e=t.iScale,s=g8(e,t.type);let a=e._length,i,l,c,d;const h=()=>{c===32767||c===-32768||(mh(d)&&(a=Math.min(a,Math.abs(c-d)||a)),d=c)};for(i=0,l=s.length;i<l;++i)c=e.getPixelForValue(s[i]),h();for(d=void 0,i=0,l=e.ticks.length;i<l;++i)c=e.getPixelForTick(i),h();return a}function y8(t,e,s,a){const i=s.barThickness;let l,c;return Ys(i)?(l=e.min*s.categoryPercentage,c=s.barPercentage):(l=i*a,c=1),{chunk:l/a,ratio:c,start:e.pixels[t]-l/2}}function v8(t,e,s,a){const i=e.pixels,l=i[t];let c=t>0?i[t-1]:null,d=t<i.length-1?i[t+1]:null;const h=s.categoryPercentage;c===null&&(c=l-(d===null?e.end-e.start:d-l)),d===null&&(d=l+l-c);const f=l-(l-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/a,ratio:s.barPercentage,start:f}}function w8(t,e,s,a){const i=s.parse(t[0],a),l=s.parse(t[1],a),c=Math.min(i,l),d=Math.max(i,l);let h=c,f=d;Math.abs(c)>Math.abs(d)&&(h=d,f=c),e[s.axis]=f,e._custom={barStart:h,barEnd:f,start:i,end:l,min:c,max:d}}function Y5(t,e,s,a){return la(t)?w8(t,e,s,a):e[s.axis]=s.parse(t,a),e}function p1(t,e,s,a){const i=t.iScale,l=t.vScale,c=i.getLabels(),d=i===l,h=[];let f,p,x,w;for(f=s,p=s+a;f<p;++f)w=e[f],x={},x[i.axis]=d||i.parse(c[f],f),h.push(Y5(w,x,l,f));return h}function gp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function N8(t,e,s){return t!==0?zo(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function j8(t){let e,s,a,i,l;return t.horizontal?(e=t.base>t.x,s="left",a="right"):(e=t.base<t.y,s="bottom",a="top"),e?(i="end",l="start"):(i="start",l="end"),{start:s,end:a,reverse:e,top:i,bottom:l}}function _8(t,e,s,a){let i=e.borderSkipped;const l={};if(!i){t.borderSkipped=l;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:f,bottom:p}=j8(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===a?i=f:(s._bottom||0)===a?i=p:(l[x1(p,c,d,h)]=!0,i=f)),l[x1(i,c,d,h)]=!0,t.borderSkipped=l}function x1(t,e,s,a){return a?(t=S8(t,e,s),t=g1(t,s,e)):t=g1(t,e,s),t}function S8(t,e,s){return t===e?s:t===s?e:t}function g1(t,e,s){return t==="start"?e:t==="end"?s:t}function A8(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class C8 extends G5{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,a,i){return p1(e,s,a,i)}parseArrayData(e,s,a,i){return p1(e,s,a,i)}parseObjectData(e,s,a,i){const{iScale:l,vScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=l.axis==="x"?d:h,p=c.axis==="x"?d:h,x=[];let w,y,j,A;for(w=a,y=a+i;w<y;++w)A=s[w],j={},j[l.axis]=l.parse(Id(A,f),w),x.push(Y5(Id(A,p),j,c,w));return x}updateRangeFromParsed(e,s,a,i){super.updateRangeFromParsed(e,s,a,i);const l=a._custom;l&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:i}=s,l=this.getParsed(e),c=l._custom,d=gp(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(l[i.axis]);return{label:""+a.getLabelForValue(l[a.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,i){const l=i==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),f=d.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:w}=this._getSharedOptions(s,i);for(let y=s;y<s+a;y++){const j=this.getParsed(y),A=l||Ys(j[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(y),C=this._calculateBarIndexPixels(y,p),_=(j._stacks||{})[d.axis],E={horizontal:f,base:A.base,enableBorderRadius:!_||gp(j._custom)||c===_._top||c===_._bottom,x:f?A.head:C.center,y:f?C.center:A.head,height:f?C.size:Math.abs(A.size),width:f?Math.abs(A.size):C.size};w&&(E.options=x||this.resolveDataElementOptions(y,e[y].active?"active":i));const M=E.options||e[y].options;_8(E,M,_,c),A8(E,M,p.ratio),this.updateElement(e[y],y,E,i)}}_getStacks(e,s){const{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),l=a.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(s),h=d&&d[a.axis],f=p=>{const x=p._parsed.find(y=>y[a.axis]===h),w=x&&x[p.vScale.axis];if(Ys(w)||isNaN(w))return!0};for(const p of i)if(!(s!==void 0&&f(p))&&((l===!1||c.indexOf(p.stack)===-1||l===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[ks(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,a){const i=this._getStacks(e,a),l=s!==void 0?i.indexOf(s):-1;return l===-1?i.length-1:l}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,i=[];let l,c;for(l=0,c=s.data.length;l<c;++l)i.push(a.getPixelForValue(this.getParsed(l)[a.axis],l));const d=e.barThickness;return{min:d||b8(s),pixels:i,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a,index:i},options:{base:l,minBarLength:c}}=this,d=l||0,h=this.getParsed(e),f=h._custom,p=gp(f);let x=h[s.axis],w=0,y=a?this.applyStack(s,h,a):x,j,A;y!==x&&(w=y-x,y=x),p&&(x=f.barStart,y=f.barEnd-f.barStart,x!==0&&zo(x)!==zo(f.barEnd)&&(w=0),w+=x);const C=!Ys(l)&&!p?l:w;let _=s.getPixelForValue(C);if(this.chart.getDataVisibility(e)?j=s.getPixelForValue(w+y):j=_,A=j-_,Math.abs(A)<c){A=N8(A,s,d)*c,x===d&&(_-=A/2);const E=s.getPixelForDecimal(0),M=s.getPixelForDecimal(1),B=Math.min(E,M),z=Math.max(E,M);_=Math.max(Math.min(_,z),B),j=_+A,a&&!p&&(h._stacks[s.axis]._visualValues[i]=s.getValueForPixel(j)-s.getValueForPixel(_))}if(_===s.getPixelForValue(d)){const E=zo(A)*s.getLineWidthForValue(d)/2;_+=E,A-=E}return{size:A,base:_,head:j,center:j+A/2}}_calculateBarIndexPixels(e,s){const a=s.scale,i=this.options,l=i.skipNull,c=ks(i.maxBarThickness,1/0);let d,h;const f=this._getAxisCount();if(s.grouped){const p=l?this._getStackCount(e):s.stackCount,x=i.barThickness==="flex"?v8(e,s,i,p*f):y8(e,s,i,p*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(ks(w,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+y;d=x.start+x.chunk*j+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else d=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(c,s.min*s.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,i=a.length;let l=0;for(;l<i;++l)this.getParsed(l)[s.axis]!==null&&!a[l].hidden&&a[l].draw(this._ctx)}}function Sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jx{static override(e){Object.assign(Jx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Sc()}parse(){return Sc()}format(){return Sc()}add(){return Sc()}diff(){return Sc()}startOf(){return Sc()}endOf(){return Sc()}}var k8={_date:Jx};function E8(t,e,s,a){const{controller:i,data:l,_sorted:c}=t,d=i._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&l.length){const f=d._reversePixels?mS:ux;if(a){if(i._sharedOptions){const p=l[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const w=f(l,e,s-x),y=f(l,e,s+x);return{lo:w.lo,hi:y.hi}}}}else{const p=f(l,e,s);if(h){const{vScale:x}=i._cachedMeta,{_parsed:w}=t,y=w.slice(0,p.lo+1).reverse().findIndex(A=>!Ys(A[x.axis]));p.lo-=Math.max(0,y);const j=w.slice(p.hi).findIndex(A=>!Ys(A[x.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:l.length-1}}function Hm(t,e,s,a,i){const l=t.getSortedVisibleDatasetMetas(),c=s[e];for(let d=0,h=l.length;d<h;++d){const{index:f,data:p}=l[d],{lo:x,hi:w}=E8(l[d],e,c,i);for(let y=x;y<=w;++y){const j=p[y];j.skip||a(j,f,y)}}}function L8(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(a,i){const l=e?Math.abs(a.x-i.x):0,c=s?Math.abs(a.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function bp(t,e,s,a,i){const l=[];return!i&&!t.isPointInArea(e)||Hm(t,s,e,function(d,h,f){!i&&!P5(d,t.chartArea,0)||d.inRange(e.x,e.y,a)&&l.push({element:d,datasetIndex:h,index:f})},!0),l}function D8(t,e,s,a){let i=[];function l(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],a),{angle:x}=dS(c,{x:e.x,y:e.y});hS(x,f,p)&&i.push({element:c,datasetIndex:d,index:h})}return Hm(t,s,e,l),i}function M8(t,e,s,a,i,l){let c=[];const d=L8(s);let h=Number.POSITIVE_INFINITY;function f(p,x,w){const y=p.inRange(e.x,e.y,i);if(a&&!y)return;const j=p.getCenterPoint(i);if(!(!!l||t.isPointInArea(j))&&!y)return;const C=d(e,j);C<h?(c=[{element:p,datasetIndex:x,index:w}],h=C):C===h&&c.push({element:p,datasetIndex:x,index:w})}return Hm(t,s,e,f),c}function yp(t,e,s,a,i,l){return!l&&!t.isPointInArea(e)?[]:s==="r"&&!a?D8(t,e,s,i):M8(t,e,s,a,i,l)}function b1(t,e,s,a,i){const l=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return Hm(t,s,e,(h,f,p)=>{h[c]&&h[c](e[s],i)&&(l.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(e.x,e.y,i))}),a&&!d?[]:l}var F8={modes:{index(t,e,s,a){const i=Ac(e,t),l=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?bp(t,i,l,a,c):yp(t,i,l,!1,a,c),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,x=f.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:p})}),h):[]},dataset(t,e,s,a){const i=Ac(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?bp(t,i,l,a,c):yp(t,i,l,!1,a,c);if(d.length>0){const h=d[0].datasetIndex,f=t.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(t,e,s,a){const i=Ac(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;return bp(t,i,l,a,c)},nearest(t,e,s,a){const i=Ac(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;return yp(t,i,l,s.intersect,a,c)},x(t,e,s,a){const i=Ac(e,t);return b1(t,i,"x",s.intersect,a)},y(t,e,s,a){const i=Ac(e,t);return b1(t,i,"y",s.intersect,a)}}};const K5=["left","top","right","bottom"];function Ku(t,e){return t.filter(s=>s.pos===e)}function y1(t,e){return t.filter(s=>K5.indexOf(s.pos)===-1&&s.box.axis===e)}function Qu(t,e){return t.sort((s,a)=>{const i=e?a:s,l=e?s:a;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function O8(t){const e=[];let s,a,i,l,c,d;for(s=0,a=(t||[]).length;s<a;++s)i=t[s],{position:l,options:{stack:c,stackWeight:d=1}}=i,e.push({index:s,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&l+c,stackWeight:d});return e}function T8(t){const e={};for(const s of t){const{stack:a,pos:i,stackWeight:l}=s;if(!a||!K5.includes(i))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function P8(t,e){const s=T8(t),{vBoxMaxWidth:a,hBoxMaxHeight:i}=e;let l,c,d;for(l=0,c=t.length;l<c;++l){d=t[l];const{fullSize:h}=d.box,f=s[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*a:h&&e.availableWidth,d.height=i):(d.width=a,d.height=p?p*i:h&&e.availableHeight)}return s}function R8(t){const e=O8(t),s=Qu(e.filter(f=>f.box.fullSize),!0),a=Qu(Ku(e,"left"),!0),i=Qu(Ku(e,"right")),l=Qu(Ku(e,"top"),!0),c=Qu(Ku(e,"bottom")),d=y1(e,"x"),h=y1(e,"y");return{fullSize:s,leftAndTop:a.concat(l),rightAndBottom:i.concat(h).concat(c).concat(d),chartArea:Ku(e,"chartArea"),vertical:a.concat(i).concat(h),horizontal:l.concat(c).concat(d)}}function v1(t,e,s,a){return Math.max(t[s],e[s])+Math.max(t[a],e[a])}function Q5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function B8(t,e,s,a){const{pos:i,box:l}=s,c=t.maxPadding;if(!Ss(i)){s.size&&(t[i]-=s.size);const x=a[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?l.height:l.width),s.size=x.size/x.count,t[i]+=s.size}l.getPadding&&Q5(c,l.getPadding());const d=Math.max(0,e.outerWidth-v1(c,t,"left","right")),h=Math.max(0,e.outerHeight-v1(c,t,"top","bottom")),f=d!==t.w,p=h!==t.h;return t.w=d,t.h=h,s.horizontal?{same:f,other:p}:{same:p,other:f}}function U8(t){const e=t.maxPadding;function s(a){const i=Math.max(e[a]-t[a],0);return t[a]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function I8(t,e){const s=e.maxPadding;function a(i){const l={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{l[c]=Math.max(e[c],s[c])}),l}return a(t?["left","right"]:["top","bottom"])}function sh(t,e,s,a){const i=[];let l,c,d,h,f,p;for(l=0,c=t.length,f=0;l<c;++l){d=t[l],h=d.box,h.update(d.width||e.w,d.height||e.h,I8(d.horizontal,e));const{same:x,other:w}=B8(e,s,d,a);f|=x&&i.length,p=p||w,h.fullSize||i.push(d)}return f&&sh(i,e,s,a)||p}function If(t,e,s,a,i){t.top=s,t.left=e,t.right=e+a,t.bottom=s+i,t.width=a,t.height=i}function w1(t,e,s,a){const i=s.padding;let{x:l,y:c}=e;for(const d of t){const h=d.box,f=a[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const x=e.w*p,w=f.size||h.height;mh(f.start)&&(c=f.start),h.fullSize?If(h,i.left,c,s.outerWidth-i.right-i.left,w):If(h,e.left+f.placed,c,x,w),f.start=c,f.placed+=x,c=h.bottom}else{const x=e.h*p,w=f.size||h.width;mh(f.start)&&(l=f.start),h.fullSize?If(h,l,i.top,w,s.outerHeight-i.bottom-i.top):If(h,l,e.top+f.placed,w,x),f.start=l,f.placed+=x,l=h.right}}e.x=l,e.y=c}var Po={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,a){if(!t)return;const i=ki(t.options.layout.padding),l=Math.max(e-i.width,0),c=Math.max(s-i.height,0),d=R8(t.boxes),h=d.vertical,f=d.horizontal;Ps(t.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=h.reduce((A,C)=>C.box.options&&C.box.options.display===!1?A:A+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/p,hBoxMaxHeight:c/2}),w=Object.assign({},i);Q5(w,ki(a));const y=Object.assign({maxPadding:w,w:l,h:c,x:i.left,y:i.top},i),j=P8(h.concat(f),x);sh(d.fullSize,y,x,j),sh(h,y,x,j),sh(f,y,x,j)&&sh(h,y,x,j),U8(y),w1(d.leftAndTop,y,x,j),y.x+=y.w,y.y+=y.h,w1(d.rightAndBottom,y,x,j),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ps(d.chartArea,A=>{const C=A.box;Object.assign(C,t.chartArea),C.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class X5{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,a){}removeEventListener(e,s,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,a,i){return s=Math.max(0,s||e.width),a=a||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):a)}}isAttached(e){return!0}updateConfig(e){}}class q8 extends X5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lm="$chartjs",z8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N1=t=>t===null||t==="";function H8(t,e){const s=t.style,a=t.getAttribute("height"),i=t.getAttribute("width");if(t[lm]={initial:{height:a,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",N1(i)){const l=o1(t,"width");l!==void 0&&(t.width=l)}if(N1(a))if(t.style.height==="")t.height=t.width/(e||2);else{const l=o1(t,"height");l!==void 0&&(t.height=l)}return t}const Z5=ZS?{passive:!0}:!1;function $8(t,e,s){t&&t.addEventListener(e,s,Z5)}function V8(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Z5)}function W8(t,e){const s=z8[t.type]||t.type,{x:a,y:i}=Ac(t,e);return{type:s,chart:e,native:t,x:a!==void 0?a:null,y:i!==void 0?i:null}}function Cm(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function G8(t,e,s){const a=t.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Cm(d.addedNodes,a),c=c&&!Cm(d.removedNodes,a);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function Y8(t,e,s){const a=t.canvas,i=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Cm(d.removedNodes,a),c=c&&!Cm(d.addedNodes,a);c&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const ph=new Map;let j1=0;function J5(){const t=window.devicePixelRatio;t!==j1&&(j1=t,ph.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function K8(t,e){ph.size||window.addEventListener("resize",J5),ph.set(t,e)}function Q8(t){ph.delete(t),ph.size||window.removeEventListener("resize",J5)}function X8(t,e,s){const a=t.canvas,i=a&&Zx(a);if(!i)return;const l=L5((d,h)=>{const f=i.clientWidth;s(d,h),f<i.clientWidth&&s()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||l(f,p)});return c.observe(i),K8(t,l),c}function vp(t,e,s){s&&s.disconnect(),e==="resize"&&Q8(t)}function Z8(t,e,s){const a=t.canvas,i=L5(l=>{t.ctx!==null&&s(W8(l,t))},t);return $8(a,e,i),i}class J8 extends X5{acquireContext(e,s){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(H8(e,s),a):null}releaseContext(e){const s=e.canvas;if(!s[lm])return!1;const a=s[lm].initial;["height","width"].forEach(l=>{const c=a[l];Ys(c)?s.removeAttribute(l):s.setAttribute(l,c)});const i=a.style||{};return Object.keys(i).forEach(l=>{s.style[l]=i[l]}),s.width=s.width,delete s[lm],!0}addEventListener(e,s,a){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),c={attach:G8,detach:Y8,resize:X8}[s]||Z8;i[s]=c(e,s,a)}removeEventListener(e,s){const a=e.$proxies||(e.$proxies={}),i=a[s];if(!i)return;({attach:vp,detach:vp,resize:vp}[s]||V8)(e,s,i),a[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,a,i){return XS(e,s,a,i)}isAttached(e){const s=e&&Zx(e);return!!(s&&s.isConnected)}}function eA(t){return!Xx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?q8:J8}class Ah{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}hasValue(){return jm(this.x)&&jm(this.y)}getProps(e,s){const a=this.$animations;if(!s||!a)return this;const i={};return e.forEach(l=>{i[l]=a[l]&&a[l].active()?a[l]._to:this[l]}),i}}function tA(t,e){const s=t.options.ticks,a=sA(t),i=Math.min(s.maxTicksLimit||a,a),l=s.major.enabled?aA(e):[],c=l.length,d=l[0],h=l[c-1],f=[];if(c>i)return rA(e,f,l,c/i),f;const p=nA(l,e,i);if(c>0){let x,w;const y=c>1?Math.round((h-d)/(c-1)):null;for(qf(e,f,p,Ys(y)?0:d-y,d),x=0,w=c-1;x<w;x++)qf(e,f,p,l[x],l[x+1]);return qf(e,f,p,h,Ys(y)?e.length:h+y),f}return qf(e,f,p),f}function sA(t){const e=t.options.offset,s=t._tickSize(),a=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(a,i))}function nA(t,e,s){const a=iA(t),i=e.length/s;if(!a)return Math.max(i,1);const l=rS(a);for(let c=0,d=l.length-1;c<d;c++){const h=l[c];if(h>i)return h}return Math.max(i,1)}function aA(t){const e=[];let s,a;for(s=0,a=t.length;s<a;s++)t[s].major&&e.push(s);return e}function rA(t,e,s,a){let i=0,l=s[0],c;for(a=Math.ceil(a),c=0;c<t.length;c++)c===l&&(e.push(t[c]),i++,l=s[i*a])}function qf(t,e,s,a,i){const l=ks(a,0),c=Math.min(ks(i,t.length),t.length);let d=0,h,f,p;for(s=Math.ceil(s),i&&(h=i-a,s=h/Math.floor(h/s)),p=l;p<0;)d++,p=Math.round(l+d*s);for(f=Math.max(l,0);f<c;f++)f===p&&(e.push(t[f]),d++,p=Math.round(l+d*s))}function iA(t){const e=t.length;let s,a;if(e<2)return!1;for(a=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==a)return!1;return a}const lA=t=>t==="left"?"right":t==="right"?"left":t,_1=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,S1=(t,e)=>Math.min(e||t,t);function A1(t,e){const s=[],a=t.length/e,i=t.length;let l=0;for(;l<i;l+=a)s.push(t[Math.floor(l)]);return s}function oA(t,e,s){const a=t.ticks.length,i=Math.min(e,a-1),l=t._startPixel,c=t._endPixel,d=1e-6;let h=t.getPixelForTick(i),f;if(!(s&&(a===1?f=Math.max(h-l,c-h):e===0?f=(t.getPixelForTick(1)-h)/2:f=(h-t.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<l-d||h>c+d)))return h}function cA(t,e){Ps(t,s=>{const a=s.gc,i=a.length/2;let l;if(i>e){for(l=0;l<i;++l)delete s.data[a[l]];a.splice(0,i)}})}function Xu(t){return t.drawTicks?t.tickLength:0}function C1(t,e){if(!t.display)return 0;const s=er(t.font,e),a=ki(t.padding);return(la(t.text)?t.text.length:1)*s.lineHeight+a.height}function dA(t,e){return Yd(t,{scale:e,type:"scale"})}function uA(t,e,s){return Yd(t,{tick:s,index:e,type:"tick"})}function hA(t,e,s){let a=D5(t);return(s&&e!=="right"||!s&&e==="right")&&(a=lA(a)),a}function fA(t,e,s,a){const{top:i,left:l,bottom:c,right:d,chart:h}=t,{chartArea:f,scales:p}=h;let x=0,w,y,j;const A=c-i,C=d-l;if(t.isHorizontal()){if(y=Nr(a,l,d),Ss(s)){const _=Object.keys(s)[0],E=s[_];j=p[_].getPixelForValue(E)+A-e}else s==="center"?j=(f.bottom+f.top)/2+A-e:j=_1(t,s,e);w=d-l}else{if(Ss(s)){const _=Object.keys(s)[0],E=s[_];y=p[_].getPixelForValue(E)-C+e}else s==="center"?y=(f.left+f.right)/2-C+e:y=_1(t,s,e);j=Nr(a,c,i),x=s==="left"?-Ai:Ai}return{titleX:y,titleY:j,maxWidth:w,rotation:x}}class Kd extends Ah{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:a,_suggestedMax:i}=this;return e=el(e,Number.POSITIVE_INFINITY),s=el(s,Number.NEGATIVE_INFINITY),a=el(a,Number.POSITIVE_INFINITY),i=el(i,Number.NEGATIVE_INFINITY),{min:el(e,a),max:el(s,i),minDefined:ei(e),maxDefined:ei(s)}}getMinMax(e){let{min:s,max:a,minDefined:i,maxDefined:l}=this.getUserBounds(),c;if(i&&l)return{min:s,max:a};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,e),i||(s=Math.min(s,c.min)),l||(a=Math.max(a,c.max));return s=l&&s>a?a:s,a=i&&s>a?s:a,{min:el(s,el(a,s)),max:el(a,el(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tn(this.options.beforeUpdate,[this])}update(e,s,a){const{beginAtZero:i,grace:l,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=PS(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?A1(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=tA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,a;this.isHorizontal()?(s=this.left,a=this.right):(s=this.top,a=this.bottom,e=!e),this._startPixel=s,this._endPixel=a,this._reversePixels=e,this._length=a-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tn(this.options.afterUpdate,[this])}beforeSetDimensions(){tn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let a,i,l;for(a=0,i=e.length;a<i;a++)l=e[a],l.label=tn(s.callback,[l.value,a,e],this)}afterTickToLabelConversion(){tn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,a=S1(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,l=s.maxRotation;let c=i,d,h,f;if(!this._isVisible()||!s.display||i>=l||a<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),x=p.widest.width,w=p.highest.height,y=Ci(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/a:y/(a-1),x+6>d&&(d=y/(a-(e.offset?.5:1)),h=this.maxHeight-Xu(e.grid)-s.padding-C1(e.title,this.chart.options.font),f=Math.sqrt(x*x+w*w),c=cS(Math.min(Math.asin(Ci((p.highest.height+6)/d,-1,1)),Math.asin(Ci(h/f,-1,1))-Math.asin(Ci(w/f,-1,1)))),c=Math.max(i,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){tn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:a,title:i,grid:l}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=C1(i,s.options.font);if(d?(e.width=this.maxWidth,e.height=Xu(l)+h):(e.height=this.maxHeight,e.width=Xu(l)+h),a.display&&this.ticks.length){const{first:f,last:p,widest:x,highest:w}=this._getLabelSizes(),y=a.padding*2,j=Lc(this.labelRotation),A=Math.cos(j),C=Math.sin(j);if(d){const _=a.mirror?0:C*x.width+A*w.height;e.height=Math.min(this.maxHeight,e.height+_+y)}else{const _=a.mirror?0:A*x.width+C*w.height;e.width=Math.min(this.maxWidth,e.width+_+y)}this._calculatePadding(f,p,C,A)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,a,i){const{ticks:{align:l,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,y=0;h?f?(w=i*e.width,y=a*s.height):(w=a*e.height,y=i*s.width):l==="start"?y=s.width:l==="end"?w=e.width:l!=="inner"&&(w=e.width/2,y=s.width/2),this.paddingLeft=Math.max((w-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-x+c)*this.width/(this.width-x),0)}else{let p=s.height/2,x=e.height/2;l==="start"?(p=0,x=e.height):l==="end"&&(p=s.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,a;for(s=0,a=e.length;s<a;s++)Ys(e[s].label)&&(e.splice(s,1),a--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let a=this.ticks;s<a.length&&(a=A1(a,s)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,a){const{ctx:i,_longestTextCache:l}=this,c=[],d=[],h=Math.floor(s/S1(s,a));let f=0,p=0,x,w,y,j,A,C,_,E,M,B,z;for(x=0;x<s;x+=h){if(j=e[x].label,A=this._resolveTickFontOptions(x),i.font=C=A.string,_=l[C]=l[C]||{data:{},gc:[]},E=A.lineHeight,M=B=0,!Ys(j)&&!la(j))M=s1(i,_.data,_.gc,M,j),B=E;else if(la(j))for(w=0,y=j.length;w<y;++w)z=j[w],!Ys(z)&&!la(z)&&(M=s1(i,_.data,_.gc,M,z),B+=E);c.push(M),d.push(B),f=Math.max(M,f),p=Math.max(B,p)}cA(l,s);const ne=c.indexOf(f),K=d.indexOf(p),U=$=>({width:c[$]||0,height:d[$]||0});return{first:U(0),last:U(s-1),widest:U(ne),highest:U(K),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return fS(this._alignToPixels?_c(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const a=s[e];return a.$context||(a.$context=uA(this.getContext(),e,a))}return this.$context||(this.$context=dA(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Lc(this.labelRotation),a=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,d=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*a>d*i?d/a:h/i:h*i<d*a?h/a:d/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,a=this.chart,i=this.options,{grid:l,position:c,border:d}=i,h=l.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),w=Xu(l),y=[],j=d.setContext(this.getContext()),A=j.display?j.width:0,C=A/2,_=function(ee){return _c(a,ee,A)};let E,M,B,z,ne,K,U,$,te,P,O,H;if(c==="top")E=_(this.bottom),K=this.bottom-w,$=E-C,P=_(e.top)+C,H=e.bottom;else if(c==="bottom")E=_(this.top),P=e.top,H=_(e.bottom)-C,K=E+C,$=this.top+w;else if(c==="left")E=_(this.right),ne=this.right-w,U=E-C,te=_(e.left)+C,O=e.right;else if(c==="right")E=_(this.left),te=e.left,O=_(e.right)-C,ne=E+C,U=this.left+w;else if(s==="x"){if(c==="center")E=_((e.top+e.bottom)/2+.5);else if(Ss(c)){const ee=Object.keys(c)[0],ie=c[ee];E=_(this.chart.scales[ee].getPixelForValue(ie))}P=e.top,H=e.bottom,K=E+C,$=K+w}else if(s==="y"){if(c==="center")E=_((e.left+e.right)/2);else if(Ss(c)){const ee=Object.keys(c)[0],ie=c[ee];E=_(this.chart.scales[ee].getPixelForValue(ie))}ne=E-C,U=ne-w,te=e.left,O=e.right}const G=ks(i.ticks.maxTicksLimit,x),re=Math.max(1,Math.ceil(x/G));for(M=0;M<x;M+=re){const ee=this.getContext(M),ie=l.setContext(ee),le=d.setContext(ee),ce=ie.lineWidth,Y=ie.color,de=le.dash||[],T=le.dashOffset,F=ie.tickWidth,q=ie.tickColor,I=ie.tickBorderDash||[],se=ie.tickBorderDashOffset;B=oA(this,M,h),B!==void 0&&(z=_c(a,B,ce),f?ne=U=te=O=z:K=$=P=H=z,y.push({tx1:ne,ty1:K,tx2:U,ty2:$,x1:te,y1:P,x2:O,y2:H,width:ce,color:Y,borderDash:de,borderDashOffset:T,tickWidth:F,tickColor:q,tickBorderDash:I,tickBorderDashOffset:se}))}return this._ticksLength=x,this._borderValue=E,y}_computeLabelItems(e){const s=this.axis,a=this.options,{position:i,ticks:l}=a,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:x}=l,w=Xu(a.grid),y=w+p,j=x?-p:y,A=-Lc(this.labelRotation),C=[];let _,E,M,B,z,ne,K,U,$,te,P,O,H="middle";if(i==="top")ne=this.bottom-j,K=this._getXAxisLabelAlignment();else if(i==="bottom")ne=this.top+j,K=this._getXAxisLabelAlignment();else if(i==="left"){const re=this._getYAxisLabelAlignment(w);K=re.textAlign,z=re.x}else if(i==="right"){const re=this._getYAxisLabelAlignment(w);K=re.textAlign,z=re.x}else if(s==="x"){if(i==="center")ne=(e.top+e.bottom)/2+y;else if(Ss(i)){const re=Object.keys(i)[0],ee=i[re];ne=this.chart.scales[re].getPixelForValue(ee)+y}K=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")z=(e.left+e.right)/2-y;else if(Ss(i)){const re=Object.keys(i)[0],ee=i[re];z=this.chart.scales[re].getPixelForValue(ee)}K=this._getYAxisLabelAlignment(w).textAlign}s==="y"&&(h==="start"?H="top":h==="end"&&(H="bottom"));const G=this._getLabelSizes();for(_=0,E=d.length;_<E;++_){M=d[_],B=M.label;const re=l.setContext(this.getContext(_));U=this.getPixelForTick(_)+l.labelOffset,$=this._resolveTickFontOptions(_),te=$.lineHeight,P=la(B)?B.length:1;const ee=P/2,ie=re.color,le=re.textStrokeColor,ce=re.textStrokeWidth;let Y=K;c?(z=U,K==="inner"&&(_===E-1?Y=this.options.reverse?"left":"right":_===0?Y=this.options.reverse?"right":"left":Y="center"),i==="top"?f==="near"||A!==0?O=-P*te+te/2:f==="center"?O=-G.highest.height/2-ee*te+te:O=-G.highest.height+te/2:f==="near"||A!==0?O=te/2:f==="center"?O=G.highest.height/2-ee*te:O=G.highest.height-P*te,x&&(O*=-1),A!==0&&!re.showLabelBackdrop&&(z+=te/2*Math.sin(A))):(ne=U,O=(1-P)*te/2);let de;if(re.showLabelBackdrop){const T=ki(re.backdropPadding),F=G.heights[_],q=G.widths[_];let I=O-T.top,se=0-T.left;switch(H){case"middle":I-=F/2;break;case"bottom":I-=F;break}switch(K){case"center":se-=q/2;break;case"right":se-=q;break;case"inner":_===E-1?se-=q:_>0&&(se-=q/2);break}de={left:se,top:I,width:q+T.width,height:F+T.height,color:re.backdropColor}}C.push({label:B,font:$,textOffset:O,options:{rotation:A,color:ie,strokeColor:le,strokeWidth:ce,textAlign:Y,textBaseline:H,translation:[z,ne],backdrop:de}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Lc(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:a,mirror:i,padding:l}}=this.options,c=this._getLabelSizes(),d=e+l,h=c.widest.width;let f,p;return s==="left"?i?(p=this.right+l,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p=this.left)):s==="right"?i?(p=this.left+l,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:a,top:i,width:l,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(a,i,l,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(l=>l.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,a=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const d=(h,f,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(f.x,f.y),a.stroke(),a.restore())};if(s.display)for(l=0,c=i.length;l<c;++l){const h=i[l];s.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:a,grid:i}}=this,l=a.setContext(this.getContext()),c=a.display?l.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,x,w;this.isHorizontal()?(f=_c(e,this.left,c)-c/2,p=_c(e,this.right,d)+d/2,x=w=h):(x=_c(e,this.top,c)-c/2,w=_c(e,this.bottom,d)+d/2,f=p=h),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(f,x),s.lineTo(p,w),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,i=this._computeLabelArea();i&&Wx(a,i);const l=this.getLabelItems(e);for(const c of l){const d=c.options,h=c.font,f=c.label,p=c.textOffset;_m(a,f,0,p,h,d)}i&&Gx(a)}drawTitle(){const{ctx:e,options:{position:s,title:a,reverse:i}}=this;if(!a.display)return;const l=er(a.font),c=ki(a.padding),d=a.align;let h=l.lineHeight/2;s==="bottom"||s==="center"||Ss(s)?(h+=c.bottom,la(a.text)&&(h+=l.lineHeight*(a.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:x,rotation:w}=fA(this,h,s,d);_m(e,a.text,0,0,l,{color:a.color,maxWidth:x,rotation:w,textAlign:hA(d,s,i),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,a=ks(e.grid&&e.grid.z,-1),i=ks(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Kd.prototype.draw?[{z:s,draw:l=>{this.draw(l)}}]:[{z:a,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",i=[];let l,c;for(l=0,c=s.length;l<c;++l){const d=s[l];d[a]===this.id&&(!e||d.type===e)&&i.push(d)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return er(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zf{constructor(e,s,a){this.type=e,this.scope=s,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let a;xA(s)&&(a=this.register(s));const i=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in i||(i[l]=e,mA(e,c,a),this.override&&Bn.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,a=e.id,i=this.scope;a in s&&delete s[a],i&&a in Bn[i]&&(delete Bn[i][a],this.override&&delete Rc[a])}}function mA(t,e,s){const a=fh(Object.create(null),[s?Bn.get(s):{},Bn.get(e),t.defaults]);Bn.set(e,a),t.defaultRoutes&&pA(e,t.defaultRoutes),t.descriptors&&Bn.describe(e,t.descriptors)}function pA(t,e){Object.keys(e).forEach(s=>{const a=s.split("."),i=a.pop(),l=[t].concat(a).join("."),c=e[s].split("."),d=c.pop(),h=c.join(".");Bn.route(l,i,h,d)})}function xA(t){return"id"in t&&"defaults"in t}class gA{constructor(){this.controllers=new zf(G5,"datasets",!0),this.elements=new zf(Ah,"elements"),this.plugins=new zf(Object,"plugins"),this.scales=new zf(Kd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,a){[...s].forEach(i=>{const l=a||this._getRegistryForType(i);a||l.isForType(i)||l===this.plugins&&i.id?this._exec(e,l,i):Ps(i,c=>{const d=a||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,s,a){const i=$x(e);tn(a["before"+i],[],a),s[e](a),tn(a["after"+i],[],a)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const a=this._typedRegistries[s];if(a.isForType(e))return a}return this.plugins}_get(e,s,a){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return i}}var al=new gA;class bA{constructor(){this._init=[]}notify(e,s,a,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(l,e,s,a);return s==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,s,a,i){i=i||{};for(const l of e){const c=l.plugin,d=c[a],h=[s,i,l.options];if(tn(d,h,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Ys(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const a=e&&e.config,i=ks(a.options&&a.options.plugins,{}),l=yA(a);return i===!1&&!s?[]:wA(e,l,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],a=this._cache,i=(l,c)=>l.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(i(s,a),e,"stop"),this._notify(i(a,s),e,"start")}}function yA(t){const e={},s=[],a=Object.keys(al.plugins.items);for(let l=0;l<a.length;l++)s.push(al.getPlugin(a[l]));const i=t.plugins||[];for(let l=0;l<i.length;l++){const c=i[l];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function vA(t,e){return!e&&t===!1?null:t===!0?{}:t}function wA(t,{plugins:e,localIds:s},a,i){const l=[],c=t.getContext();for(const d of e){const h=d.id,f=vA(a[h],i);f!==null&&l.push({plugin:d,options:NA(t.config,{plugin:d,local:s[h]},f,c)})}return l}function NA(t,{plugin:e,local:s},a,i){const l=t.pluginScopeKeys(e),c=t.getOptionScopes(a,l);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fx(t,e){const s=Bn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function jA(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function _A(t,e){return t===e?"_index_":"_value_"}function k1(t){if(t==="x"||t==="y"||t==="r")return t}function SA(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mx(t,...e){if(k1(t))return t;for(const s of e){const a=s.axis||SA(s.position)||t.length>1&&k1(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function E1(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function AA(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(s.length)return E1(t,"x",s[0])||E1(t,"y",s[0])}return{}}function CA(t,e){const s=Rc[t.type]||{scales:{}},a=e.scales||{},i=fx(t.type,e),l=Object.create(null);return Object.keys(a).forEach(c=>{const d=a[c];if(!Ss(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=mx(c,d,AA(c,t),Bn.scales[d.type]),f=_A(h,i),p=s.scales||{};l[c]=ah(Object.create(null),[{axis:h},d,p[h],p[f]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,h=c.indexAxis||fx(d,e),p=(Rc[d]||{}).scales||{};Object.keys(p).forEach(x=>{const w=jA(x,h),y=c[w+"AxisID"]||w;l[y]=l[y]||Object.create(null),ah(l[y],[{axis:w},a[y],p[x]])})}),Object.keys(l).forEach(c=>{const d=l[c];ah(d,[Bn.scales[d.type],Bn.scale])}),l}function ew(t){const e=t.options||(t.options={});e.plugins=ks(e.plugins,{}),e.scales=CA(t,e)}function tw(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function kA(t){return t=t||{},t.data=tw(t.data),ew(t),t}const L1=new Map,sw=new Set;function Hf(t,e){let s=L1.get(t);return s||(s=e(),L1.set(t,s),sw.add(s)),s}const Zu=(t,e,s)=>{const a=Id(e,s);a!==void 0&&t.add(a)};class EA{constructor(e){this._config=kA(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=tw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ew(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return Hf(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return Hf(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,a=this.type;return Hf(`${a}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const a=this._scopeCache;let i=a.get(e);return(!i||s)&&(i=new Map,a.set(e,i)),i}getOptionScopes(e,s,a){const{options:i,type:l}=this,c=this._cachedScopes(e,a),d=c.get(s);if(d)return d;const h=new Set;s.forEach(p=>{e&&(h.add(e),p.forEach(x=>Zu(h,e,x))),p.forEach(x=>Zu(h,i,x)),p.forEach(x=>Zu(h,Rc[l]||{},x)),p.forEach(x=>Zu(h,Bn,x)),p.forEach(x=>Zu(h,hx,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),sw.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:e,type:s}=this;return[e,Rc[s]||{},Bn.datasets[s]||{},{type:s},Bn,hx]}resolveNamedOptions(e,s,a,i=[""]){const l={$shared:!0},{resolver:c,subPrefixes:d}=D1(this._resolverCache,e,i);let h=c;if(DA(c,s)){l.$shared=!1,a=Ho(a)?a():a;const f=this.createResolver(e,a,d);h=qd(c,a,f)}for(const f of s)l[f]=h[f];return l}createResolver(e,s,a=[""],i){const{resolver:l}=D1(this._resolverCache,e,a);return Ss(s)?qd(l,s,void 0,i):l}}function D1(t,e,s){let a=t.get(e);a||(a=new Map,t.set(e,a));const i=s.join();let l=a.get(i);return l||(l={resolver:Yx(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},a.set(i,l)),l}const LA=t=>Ss(t)&&Object.getOwnPropertyNames(t).some(e=>Ho(t[e]));function DA(t,e){const{isScriptable:s,isIndexable:a}=U5(t);for(const i of e){const l=s(i),c=a(i),d=(c||l)&&t[i];if(l&&(Ho(d)||LA(d))||c&&la(d))return!0}return!1}var MA="4.5.0";const FA=["top","bottom","left","right","chartArea"];function M1(t,e){return t==="top"||t==="bottom"||FA.indexOf(t)===-1&&e==="x"}function F1(t,e){return function(s,a){return s[t]===a[t]?s[e]-a[e]:s[t]-a[t]}}function O1(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),tn(s&&s.onComplete,[t],e)}function OA(t){const e=t.chart,s=e.options.animation;tn(s&&s.onProgress,[t],e)}function nw(t){return Xx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const om={},T1=t=>{const e=nw(t);return Object.values(om).filter(s=>s.canvas===e).pop()};function TA(t,e,s){const a=Object.keys(t);for(const i of a){const l=+i;if(l>=e){const c=t[i];delete t[i],(s>0||l>e)&&(t[l+s]=c)}}}function PA(t,e,s,a){return!s||t.type==="mouseout"?null:a?e:t}let $m=class{static defaults=Bn;static instances=om;static overrides=Rc;static registry=al;static version=MA;static getChart=T1;static register(...e){al.add(...e),P1()}static unregister(...e){al.remove(...e),P1()}constructor(e,s){const a=this.config=new EA(s),i=nw(e),l=T1(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||eA(i)),this.platform.updateConfig(a);const d=this.platform.acquireContext(i,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=X6(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gS(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],om[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Bl.listen(this,"complete",O1),Bl.listen(this,"progress",OA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:a,height:i,_aspectRatio:l}=this;return Ys(e)?s&&l?l:i?a/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return al}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():l1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return n1(this.canvas,this.ctx),this}stop(){return Bl.stop(this),this}resize(e,s){Bl.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const a=this.options,i=this.canvas,l=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,e,s,l),d=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,l1(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),tn(a.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ps(s,(a,i)=>{a.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,a=this.scales,i=Object.keys(a).reduce((c,d)=>(c[d]=!1,c),{});let l=[];s&&(l=l.concat(Object.keys(s).map(c=>{const d=s[c],h=mx(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Ps(l,c=>{const d=c.options,h=d.id,f=mx(h,d),p=ks(d.type,c.dtype);(d.position===void 0||M1(d.position,f)!==M1(c.dposition))&&(d.position=c.dposition),i[h]=!0;let x=null;if(h in a&&a[h].type===p)x=a[h];else{const w=al.getScale(p);x=new w({id:h,type:p,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(d,e)}),Ps(i,(c,d)=>{c||delete a[d]}),Ps(a,c=>{Po.configure(this,c,c.options),Po.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,a=e.length;if(e.sort((i,l)=>i.index-l.index),a>s){for(let i=s;i<a;++i)this._destroyDatasetMeta(i);e.splice(s,a-s)}this._sortedMetasets=e.slice(0).sort(F1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((a,i)=>{s.filter(l=>l===a._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let a,i;for(this._removeUnreferencedMetasets(),a=0,i=s.length;a<i;a++){const l=s[a];let c=this.getDatasetMeta(a);const d=l.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=d,c.indexAxis=l.indexAxis||fx(d,this.options),c.order=l.order||0,c.index=a,c.label=""+l.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const h=al.getController(d),{datasetElementType:f,dataElementType:p}=Bn.datasets[d];Object.assign(h,{dataElementType:al.getElement(p),datasetElementType:f&&al.getElement(f)}),c.controller=new h(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Ps(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const a=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:x}=this.getDatasetMeta(f),w=!i&&l.indexOf(x)===-1;x.buildOrUpdateElements(w),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),i||Ps(l,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(F1("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ps(this.scales,e=>{Po.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!G2(s,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:a,start:i,count:l}of s){const c=a==="_removeElements"?-l:l;TA(e,i,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,a=l=>new Set(e.filter(c=>c[0]===l).map((c,d)=>d+","+c.splice(1).join(","))),i=a(0);for(let l=1;l<s;l++)if(!G2(i,a(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Po.update(this,this.width,this.height,e);const s=this.chartArea,a=s.width<=0||s.height<=0;this._layers=[],Ps(this.boxes,i=>{a&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,a=this.data.datasets.length;s<a;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,a=this.data.datasets.length;s<a;++s)this._updateDataset(s,Ho(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const a=this.getDatasetMeta(e),i={meta:a,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(a.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bl.has(this)?this.attached&&!Bl.running(this)&&Bl.start(this):(this.draw(),O1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,a=[];let i,l;for(i=0,l=s.length;i<l;++i){const c=s[i];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,a={meta:e,index:e.index,cancelable:!0},i=s8(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Wx(s,i),e.controller.draw(),i&&Gx(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return P5(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,a,i){const l=F8.modes[s];return typeof l=="function"?l(this,e,a,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],a=this._metasets;let i=a.filter(l=>l&&l._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},a.push(i)),i}getContext(){return this.$context||(this.$context=Yd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!s.hidden}setDatasetVisibility(e,s){const a=this.getDatasetMeta(e);a.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,a){const i=a?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,i);mh(s)?(l.data[s].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(l,{visible:a}),this.update(d=>d.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Bl.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),n1(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete om[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,a=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c,d)=>{l.offsetX=c,l.offsetY=d,this._eventHandler(l)};Ps(this.options.events,l=>a(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,a=(h,f)=>{s.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(s.removeEventListener(this,h,f),delete e[h])},l=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),a("resize",l),a("detach",c)};c=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),a("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){Ps(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},Ps(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,a){const i=a?"set":"remove";let l,c,d,h;for(s==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){c=e[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],a=e.map(({datasetIndex:l,index:c})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[c],index:c}});!vm(a,s)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,s))}notifyPlugins(e,s,a){return this._plugins.notify(this,e,s,a)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,a){const i=this.options.hover,l=(h,f)=>h.filter(p=>!f.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=l(s,e),d=a?e:l(e,s);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(e,s){const a={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,i)===!1)return;const l=this._handleEvent(e,s,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(l||a.changed)&&this.render(),this}_handleEvent(e,s,a){const{_active:i=[],options:l}=this,c=s,d=this._getActiveElements(e,i,a,c),h=nS(e),f=PA(e,this._lastEvent,a,h);a&&(this._lastEvent=null,tn(l.onHover,[e,d,this],this),h&&tn(l.onClick,[e,d,this],this));const p=!vm(d,i);return(p||s)&&(this._active=d,this._updateHoverStyles(d,i,s)),this._lastEvent=f,p}_getActiveElements(e,s,a,i){if(e.type==="mouseout")return[];if(!a)return s;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,i)}};function P1(){return Ps($m.instances,t=>t._plugins.invalidate())}function aw(t,e){const{x:s,y:a,base:i,width:l,height:c}=t.getProps(["x","y","base","width","height"],e);let d,h,f,p,x;return t.horizontal?(x=c/2,d=Math.min(s,i),h=Math.max(s,i),f=a-x,p=a+x):(x=l/2,d=s-x,h=s+x,f=Math.min(a,i),p=Math.max(a,i)),{left:d,top:f,right:h,bottom:p}}function Ro(t,e,s,a){return t?0:Ci(e,s,a)}function RA(t,e,s){const a=t.options.borderWidth,i=t.borderSkipped,l=B5(a);return{t:Ro(i.top,l.top,0,s),r:Ro(i.right,l.right,0,e),b:Ro(i.bottom,l.bottom,0,s),l:Ro(i.left,l.left,0,e)}}function BA(t,e,s){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,l=Od(i),c=Math.min(e,s),d=t.borderSkipped,h=a||Ss(i);return{topLeft:Ro(!h||d.top||d.left,l.topLeft,0,c),topRight:Ro(!h||d.top||d.right,l.topRight,0,c),bottomLeft:Ro(!h||d.bottom||d.left,l.bottomLeft,0,c),bottomRight:Ro(!h||d.bottom||d.right,l.bottomRight,0,c)}}function UA(t){const e=aw(t),s=e.right-e.left,a=e.bottom-e.top,i=RA(t,s/2,a/2),l=BA(t,s/2,a/2);return{outer:{x:e.left,y:e.top,w:s,h:a,radius:l},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:a-i.t-i.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,l.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(i.b,i.r))}}}}function wp(t,e,s,a){const i=e===null,l=s===null,d=t&&!(i&&l)&&aw(t,a);return d&&(i||Md(e,d.left,d.right))&&(l||Md(s,d.top,d.bottom))}function IA(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qA(t,e){t.rect(e.x,e.y,e.w,e.h)}function Np(t,e,s={}){const a=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,l=(t.x+t.w!==s.x+s.w?e:0)-a,c=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+a,y:t.y+i,w:t.w+l,h:t.h+c,radius:t.radius}}class zA extends Ah{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:a,backgroundColor:i}}=this,{inner:l,outer:c}=UA(this),d=IA(c.radius)?Sm:qA;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),d(e,Np(c,s,l)),e.clip(),d(e,Np(l,-s,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),d(e,Np(l,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,a){return wp(this,e,s,a)}inXRange(e,s){return wp(this,e,null,s)}inYRange(e,s){return wp(this,null,e,s)}getCenterPoint(e){const{x:s,y:a,base:i,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(s+i)/2:s,y:l?a:(a+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const R1=(t,e)=>{let{boxHeight:s=e,boxWidth:a=e}=t;return t.usePointStyle&&(s=Math.min(s,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(e,s)}},HA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class B1 extends Ah{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,a){this.maxWidth=e,this.maxHeight=s,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=tn(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(a=>e.filter(a,this.chart.data))),e.sort&&(s=s.sort((a,i)=>e.sort(a,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,i=er(a.font),l=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=R1(a,l);let f,p;s.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,l,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,i,d,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,s,a,i){const{ctx:l,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+d;let x=e;l.textAlign="left",l.textBaseline="middle";let w=-1,y=-p;return this.legendItems.forEach((j,A)=>{const C=a+s/2+l.measureText(j.text).width;(A===0||f[f.length-1]+C+2*d>c)&&(x+=p,f[f.length-(A>0?0:1)]=0,y+=p,w++),h[A]={left:0,top:y,row:w,width:C,height:i},f[f.length-1]+=C+d}),x}_fitCols(e,s,a,i){const{ctx:l,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-e;let x=d,w=0,y=0,j=0,A=0;return this.legendItems.forEach((C,_)=>{const{itemWidth:E,itemHeight:M}=$A(a,s,l,C,i);_>0&&y+M+2*d>p&&(x+=w+d,f.push({width:w,height:y}),j+=w+d,A++,w=y=0),h[_]={left:j,top:y,col:A,width:E,height:M},w=Math.max(w,E),y+=M+d}),x+=w,f.push({width:w,height:y}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:a,labels:{padding:i},rtl:l}}=this,c=Td(l,this.left,this.width);if(this.isHorizontal()){let d=0,h=Nr(a,this.left+i,this.right-this.lineWidths[d]);for(const f of s)d!==f.row&&(d=f.row,h=Nr(a,this.left+i,this.right-this.lineWidths[d])),f.top+=this.top+e+i,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+i}else{let d=0,h=Nr(a,this.top+e+i,this.bottom-this.columnSizes[d].height);for(const f of s)f.col!==d&&(d=f.col,h=Nr(a,this.top+e+i,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wx(e,this),this._draw(),Gx(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:a,ctx:i}=this,{align:l,labels:c}=e,d=Bn.color,h=Td(e.rtl,this.left,this.width),f=er(c.font),{padding:p}=c,x=f.size,w=x/2;let y;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:j,boxHeight:A,itemHeight:C}=R1(c,x),_=function(ne,K,U){if(isNaN(j)||j<=0||isNaN(A)||A<0)return;i.save();const $=ks(U.lineWidth,1);if(i.fillStyle=ks(U.fillStyle,d),i.lineCap=ks(U.lineCap,"butt"),i.lineDashOffset=ks(U.lineDashOffset,0),i.lineJoin=ks(U.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=ks(U.strokeStyle,d),i.setLineDash(ks(U.lineDash,[])),c.usePointStyle){const te={radius:A*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:$},P=h.xPlus(ne,j/2),O=K+w;T5(i,te,P,O,c.pointStyleWidth&&j)}else{const te=K+Math.max((x-A)/2,0),P=h.leftForLtr(ne,j),O=Od(U.borderRadius);i.beginPath(),Object.values(O).some(H=>H!==0)?Sm(i,{x:P,y:te,w:j,h:A,radius:O}):i.rect(P,te,j,A),i.fill(),$!==0&&i.stroke()}i.restore()},E=function(ne,K,U){_m(i,U.text,ne,K+C/2,f,{strikethrough:U.hidden,textAlign:h.textAlign(U.textAlign)})},M=this.isHorizontal(),B=this._computeTitleHeight();M?y={x:Nr(l,this.left+p,this.right-a[0]),y:this.top+p+B,line:0}:y={x:this.left+p,y:Nr(l,this.top+B+p,this.bottom-s[0].height),line:0},H5(this.ctx,e.textDirection);const z=C+p;this.legendItems.forEach((ne,K)=>{i.strokeStyle=ne.fontColor,i.fillStyle=ne.fontColor;const U=i.measureText(ne.text).width,$=h.textAlign(ne.textAlign||(ne.textAlign=c.textAlign)),te=j+w+U;let P=y.x,O=y.y;h.setWidth(this.width),M?K>0&&P+te+p>this.right&&(O=y.y+=z,y.line++,P=y.x=Nr(l,this.left+p,this.right-a[y.line])):K>0&&O+z>this.bottom&&(P=y.x=P+s[y.line].width+p,y.line++,O=y.y=Nr(l,this.top+B+p,this.bottom-s[y.line].height));const H=h.x(P);if(_(H,O,ne),P=bS($,P+j+w,M?P+te:this.right,e.rtl),E(h.x(P),O,ne),M)y.x+=te+p;else if(typeof ne.text!="string"){const G=f.lineHeight;y.y+=rw(ne,G)+p}else y.y+=z}),$5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,a=er(s.font),i=ki(s.padding);if(!s.display)return;const l=Td(e.rtl,this.left,this.width),c=this.ctx,d=s.position,h=a.size/2,f=i.top+h;let p,x=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,x=Nr(e.align,x,this.right-w);else{const j=this.columnSizes.reduce((A,C)=>Math.max(A,C.height),0);p=f+Nr(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const y=Nr(d,x,x+w);c.textAlign=l.textAlign(D5(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=a.string,_m(c,s.text,y,p,a)}_computeTitleHeight(){const e=this.options.title,s=er(e.font),a=ki(e.padding);return e.display?s.lineHeight+a.height:0}_getLegendItemAt(e,s){let a,i,l;if(Md(e,this.left,this.right)&&Md(s,this.top,this.bottom)){for(l=this.legendHitBoxes,a=0;a<l.length;++a)if(i=l[a],Md(e,i.left,i.left+i.width)&&Md(s,i.top,i.top+i.height))return this.legendItems[a]}return null}handleEvent(e){const s=this.options;if(!GA(e.type,s))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,l=HA(i,a);i&&!l&&tn(s.onLeave,[e,i,this],this),this._hoveredItem=a,a&&!l&&tn(s.onHover,[e,a,this],this)}else a&&tn(s.onClick,[e,a,this],this)}}function $A(t,e,s,a,i){const l=VA(a,t,e,s),c=WA(i,a,e.lineHeight);return{itemWidth:l,itemHeight:c}}function VA(t,e,s,a){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((l,c)=>l.length>c.length?l:c)),e+s.size/2+a.measureText(i).width}function WA(t,e,s){let a=t;return typeof e.text!="string"&&(a=rw(e,s)),a}function rw(t,e){const s=t.text?t.text.length:0;return e*s}function GA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var YA={id:"legend",_element:B1,start(t,e,s){const a=t.legend=new B1({ctx:t.ctx,options:s,chart:t});Po.configure(t,a,s),Po.addBox(t,a)},stop(t){Po.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const a=t.legend;Po.configure(t,a,s),a.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const a=e.datasetIndex,i=s.chart;i.isDatasetVisible(a)?(i.hide(a),e.hidden=!0):(i.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:i,color:l,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),p=ki(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:a||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const nh={average(t){if(!t.length)return!1;let e,s,a=new Set,i=0,l=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();a.add(h.x),i+=h.y,++l}}return l===0||a.size===0?!1:{x:[...a].reduce((d,h)=>d+h)/a.size,y:i/l}},nearest(t,e){if(!t.length)return!1;let s=e.x,a=e.y,i=Number.POSITIVE_INFINITY,l,c,d;for(l=0,c=t.length;l<c;++l){const h=t[l].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=uS(e,f);p<i&&(i=p,d=h)}}if(d){const h=d.tooltipPosition();s=h.x,a=h.y}return{x:s,y:a}}};function sl(t,e){return e&&(la(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ul(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function KA(t,e){const{element:s,datasetIndex:a,index:i}=e,l=t.getDatasetMeta(a).controller,{label:c,value:d}=l.getLabelAndValue(i);return{chart:t,label:c,parsed:l.getParsed(i),raw:t.data.datasets[a].data[i],formattedValue:d,dataset:l.getDataset(),dataIndex:i,datasetIndex:a,element:s}}function U1(t,e){const s=t.chart.ctx,{body:a,footer:i,title:l}=t,{boxWidth:c,boxHeight:d}=e,h=er(e.bodyFont),f=er(e.titleFont),p=er(e.footerFont),x=l.length,w=i.length,y=a.length,j=ki(e.padding);let A=j.height,C=0,_=a.reduce((B,z)=>B+z.before.length+z.lines.length+z.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,x&&(A+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),_){const B=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;A+=y*B+(_-y)*h.lineHeight+(_-1)*e.bodySpacing}w&&(A+=e.footerMarginTop+w*p.lineHeight+(w-1)*e.footerSpacing);let E=0;const M=function(B){C=Math.max(C,s.measureText(B).width+E)};return s.save(),s.font=f.string,Ps(t.title,M),s.font=h.string,Ps(t.beforeBody.concat(t.afterBody),M),E=e.displayColors?c+2+e.boxPadding:0,Ps(a,B=>{Ps(B.before,M),Ps(B.lines,M),Ps(B.after,M)}),E=0,s.font=p.string,Ps(t.footer,M),s.restore(),C+=j.width,{width:C,height:A}}function QA(t,e){const{y:s,height:a}=e;return s<a/2?"top":s>t.height-a/2?"bottom":"center"}function XA(t,e,s,a){const{x:i,width:l}=a,c=s.caretSize+s.caretPadding;if(t==="left"&&i+l+c>e.width||t==="right"&&i-l-c<0)return!0}function ZA(t,e,s,a){const{x:i,width:l}=s,{width:c,chartArea:{left:d,right:h}}=t;let f="center";return a==="center"?f=i<=(d+h)/2?"left":"right":i<=l/2?f="left":i>=c-l/2&&(f="right"),XA(f,t,e,s)&&(f="center"),f}function I1(t,e,s){const a=s.yAlign||e.yAlign||QA(t,s);return{xAlign:s.xAlign||e.xAlign||ZA(t,e,s,a),yAlign:a}}function JA(t,e){let{x:s,width:a}=t;return e==="right"?s-=a:e==="center"&&(s-=a/2),s}function eC(t,e,s){let{y:a,height:i}=t;return e==="top"?a+=s:e==="bottom"?a-=i+s:a-=i/2,a}function q1(t,e,s,a){const{caretSize:i,caretPadding:l,cornerRadius:c}=t,{xAlign:d,yAlign:h}=s,f=i+l,{topLeft:p,topRight:x,bottomLeft:w,bottomRight:y}=Od(c);let j=JA(e,d);const A=eC(e,h,f);return h==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(p,w)+i:d==="right"&&(j+=Math.max(x,y)+i),{x:Ci(j,0,a.width-e.width),y:Ci(A,0,a.height-e.height)}}function $f(t,e,s){const a=ki(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function z1(t){return sl([],Ul(t))}function tC(t,e,s){return Yd(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function H1(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const iw={beforeTitle:Tl,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,a=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return s[e.dataIndex]}return""},afterTitle:Tl,beforeBody:Tl,beforeLabel:Tl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Ys(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Tl,afterBody:Tl,beforeFooter:Tl,footer:Tl,afterFooter:Tl};function Xa(t,e,s,a){const i=t[e].call(s,a);return typeof i>"u"?iw[e].call(s,a):i}class $1 extends Ah{static positioners=nh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,a=this.options.setContext(this.getContext()),i=a.enabled&&s.options.animation&&a.animations,l=new V5(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=tC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,i=Xa(a,"beforeTitle",this,e),l=Xa(a,"title",this,e),c=Xa(a,"afterTitle",this,e);let d=[];return d=sl(d,Ul(i)),d=sl(d,Ul(l)),d=sl(d,Ul(c)),d}getBeforeBody(e,s){return z1(Xa(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:a}=s,i=[];return Ps(e,l=>{const c={before:[],lines:[],after:[]},d=H1(a,l);sl(c.before,Ul(Xa(d,"beforeLabel",this,l))),sl(c.lines,Xa(d,"label",this,l)),sl(c.after,Ul(Xa(d,"afterLabel",this,l))),i.push(c)}),i}getAfterBody(e,s){return z1(Xa(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:a}=s,i=Xa(a,"beforeFooter",this,e),l=Xa(a,"footer",this,e),c=Xa(a,"afterFooter",this,e);let d=[];return d=sl(d,Ul(i)),d=sl(d,Ul(l)),d=sl(d,Ul(c)),d}_createItems(e){const s=this._active,a=this.chart.data,i=[],l=[],c=[];let d=[],h,f;for(h=0,f=s.length;h<f;++h)d.push(KA(this.chart,s[h]));return e.filter&&(d=d.filter((p,x,w)=>e.filter(p,x,w,a))),e.itemSort&&(d=d.sort((p,x)=>e.itemSort(p,x,a))),Ps(d,p=>{const x=H1(e.callbacks,p);i.push(Xa(x,"labelColor",this,p)),l.push(Xa(x,"labelPointStyle",this,p)),c.push(Xa(x,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=d,d}update(e,s){const a=this.options.setContext(this.getContext()),i=this._active;let l,c=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{const d=nh[a.position].call(this,i,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const h=this._size=U1(this,a),f=Object.assign({},d,h),p=I1(this.chart,a,f),x=q1(a,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,a,i){const l=this.getCaretPosition(e,a,i);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(e,s,a){const{xAlign:i,yAlign:l}=this,{caretSize:c,cornerRadius:d}=a,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=Od(d),{x:w,y}=e,{width:j,height:A}=s;let C,_,E,M,B,z;return l==="center"?(B=y+A/2,i==="left"?(C=w,_=C-c,M=B+c,z=B-c):(C=w+j,_=C+c,M=B-c,z=B+c),E=C):(i==="left"?_=w+Math.max(h,p)+c:i==="right"?_=w+j-Math.max(f,x)-c:_=this.caretX,l==="top"?(M=y,B=M-c,C=_-c,E=_+c):(M=y+A,B=M+c,C=_+c,E=_-c),z=M),{x1:C,x2:_,x3:E,y1:M,y2:B,y3:z}}drawTitle(e,s,a){const i=this.title,l=i.length;let c,d,h;if(l){const f=Td(a.rtl,this.x,this.width);for(e.x=$f(this,a.titleAlign,a),s.textAlign=f.textAlign(a.titleAlign),s.textBaseline="middle",c=er(a.titleFont),d=a.titleSpacing,s.fillStyle=a.titleColor,s.font=c.string,h=0;h<l;++h)s.fillText(i[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,h+1===l&&(e.y+=a.titleMarginBottom-d)}}_drawColorBox(e,s,a,i,l){const c=this.labelColors[a],d=this.labelPointStyles[a],{boxHeight:h,boxWidth:f}=l,p=er(l.bodyFont),x=$f(this,"left",l),w=i.x(x),y=h<p.lineHeight?(p.lineHeight-h)/2:0,j=s.y+y;if(l.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},C=i.leftForLtr(w,f)+f/2,_=j+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,a1(e,A,C,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,a1(e,A,C,_)}else{e.lineWidth=Ss(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const A=i.leftForLtr(w,f),C=i.leftForLtr(i.xPlus(w,1),f-2),_=Od(c.borderRadius);Object.values(_).some(E=>E!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Sm(e,{x:A,y:j,w:f,h,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Sm(e,{x:C,y:j+1,w:f-2,h:h-2,radius:_}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(A,j,f,h),e.strokeRect(A,j,f,h),e.fillStyle=c.backgroundColor,e.fillRect(C,j+1,f-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:i}=this,{bodySpacing:l,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=a,x=er(a.bodyFont);let w=x.lineHeight,y=0;const j=Td(a.rtl,this.x,this.width),A=function(U){s.fillText(U,j.x(e.x+y),e.y+w/2),e.y+=w+l},C=j.textAlign(c);let _,E,M,B,z,ne,K;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=$f(this,C,a),s.fillStyle=a.bodyColor,Ps(this.beforeBody,A),y=d&&C!=="right"?c==="center"?f/2+p:f+2+p:0,B=0,ne=i.length;B<ne;++B){for(_=i[B],E=this.labelTextColors[B],s.fillStyle=E,Ps(_.before,A),M=_.lines,d&&M.length&&(this._drawColorBox(s,e,B,j,a),w=Math.max(x.lineHeight,h)),z=0,K=M.length;z<K;++z)A(M[z]),w=x.lineHeight;Ps(_.after,A)}y=0,w=x.lineHeight,Ps(this.afterBody,A),e.y-=l}drawFooter(e,s,a){const i=this.footer,l=i.length;let c,d;if(l){const h=Td(a.rtl,this.x,this.width);for(e.x=$f(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=h.textAlign(a.footerAlign),s.textBaseline="middle",c=er(a.footerFont),s.fillStyle=a.footerColor,s.font=c.string,d=0;d<l;++d)s.fillText(i[d],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,s,a,i){const{xAlign:l,yAlign:c}=this,{x:d,y:h}=e,{width:f,height:p}=a,{topLeft:x,topRight:w,bottomLeft:y,bottomRight:j}=Od(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(d+x,h),c==="top"&&this.drawCaret(e,s,a,i),s.lineTo(d+f-w,h),s.quadraticCurveTo(d+f,h,d+f,h+w),c==="center"&&l==="right"&&this.drawCaret(e,s,a,i),s.lineTo(d+f,h+p-j),s.quadraticCurveTo(d+f,h+p,d+f-j,h+p),c==="bottom"&&this.drawCaret(e,s,a,i),s.lineTo(d+y,h+p),s.quadraticCurveTo(d,h+p,d,h+p-y),c==="center"&&l==="left"&&this.drawCaret(e,s,a,i),s.lineTo(d,h+x),s.quadraticCurveTo(d,h,d+x,h),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,a=this.$animations,i=a&&a.x,l=a&&a.y;if(i||l){const c=nh[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=U1(this,e),h=Object.assign({},c,this._size),f=I1(s,e,h),p=q1(e,h,f,s);(i._to!==p.x||l._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},l={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=ki(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=a,this.drawBackground(l,e,i,s),H5(e,s.textDirection),l.y+=c.top,this.drawTitle(l,e,s),this.drawBody(l,e,s),this.drawFooter(l,e,s),$5(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,i=e.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),l=!vm(a,i),c=this._positionChanged(i,s);(l||c)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,a=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,l=this._active||[],c=this._getActiveElements(e,l,s,a),d=this._positionChanged(c,e),h=s||!vm(c,l)||d;return h&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_getActiveElements(e,s,a,i){const l=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,a);return l.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:a,caretY:i,options:l}=this,c=nh[l.position].call(this,e,s);return c!==!1&&(a!==c.x||i!==c.y)}}var sC={id:"tooltip",_element:$1,positioners:nh,afterInit(t,e,s){s&&(t.tooltip=new $1({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const nC=(t,e,s,a)=>(typeof e=="string"?(s=t.push(e)-1,a.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function aC(t,e,s,a){const i=t.indexOf(e);if(i===-1)return nC(t,e,s,a);const l=t.lastIndexOf(e);return i!==l?s:i}const rC=(t,e)=>t===null?null:Ci(Math.round(t),0,e);function V1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class iC extends Kd{static id="category";static defaults={ticks:{callback:V1}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const a=this.getLabels();for(const{index:i,label:l}of s)a[i]===l&&a.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Ys(e))return null;const a=this.getLabels();return s=isFinite(s)&&a[s]===e?s:aC(a,e,ks(s,e),this._addedLabels),rC(s,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),s||(i=this.getLabels().length-1)),this.min=a,this.max=i}buildTicks(){const e=this.min,s=this.max,a=this.options.offset,i=[];let l=this.getLabels();l=e===0&&s===l.length-1?l:l.slice(e,s+1),this._valueRange=Math.max(l.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=s;c++)i.push({value:c});return i}getLabelForValue(e){return V1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function lC(t,e){const s=[],{bounds:i,step:l,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:x,includeBounds:w}=t,y=l||1,j=p-1,{min:A,max:C}=e,_=!Ys(c),E=!Ys(d),M=!Ys(f),B=(C-A)/(x+1);let z=K2((C-A)/j/y)*y,ne,K,U,$;if(z<1e-14&&!_&&!E)return[{value:A},{value:C}];$=Math.ceil(C/z)-Math.floor(A/z),$>j&&(z=K2($*z/j/y)*y),Ys(h)||(ne=Math.pow(10,h),z=Math.ceil(z*ne)/ne),i==="ticks"?(K=Math.floor(A/z)*z,U=Math.ceil(C/z)*z):(K=A,U=C),_&&E&&l&&lS((d-c)/l,z/1e3)?($=Math.round(Math.min((d-c)/z,p)),z=(d-c)/$,K=c,U=d):M?(K=_?c:K,U=E?d:U,$=f-1,z=(U-K)/$):($=(U-K)/z,im($,Math.round($),z/1e3)?$=Math.round($):$=Math.ceil($));const te=Math.max(Q2(z),Q2(K));ne=Math.pow(10,Ys(h)?te:h),K=Math.round(K*ne)/ne,U=Math.round(U*ne)/ne;let P=0;for(_&&(w&&K!==c?(s.push({value:c}),K<c&&P++,im(Math.round((K+P*z)*ne)/ne,c,W1(c,B,t))&&P++):K<c&&P++);P<$;++P){const O=Math.round((K+P*z)*ne)/ne;if(E&&O>d)break;s.push({value:O})}return E&&w&&U!==d?s.length&&im(s[s.length-1].value,d,W1(d,B,t))?s[s.length-1].value=d:s.push({value:d}):(!E||U===d)&&s.push({value:U}),s}function W1(t,e,{horizontal:s,minRotation:a}){const i=Lc(a),l=(s?Math.sin(i):Math.cos(i))||.001,c=.75*e*(""+t).length;return Math.min(e/l,c)}class oC extends Kd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Ys(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:i,max:l}=this;const c=h=>i=s?i:h,d=h=>l=a?l:h;if(e){const h=zo(i),f=zo(l);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(i===l){let h=l===0?1:Math.abs(l*.05);d(l+h),e||c(i-h)}this.min=i,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:a}=e,i;return a?(i=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const i={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},l=this._range||this,c=lC(i,l);return e.bounds==="ticks"&&oS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const i=(a-s)/Math.max(e.length-1,1)/2;s-=i,a+=i}this._startValue=s,this._endValue=a,this._valueRange=a-s}getLabelForValue(e){return F5(e,this.chart.options.locale,this.options.ticks.format)}}class cC extends oC{static id="linear";static defaults={ticks:{callback:O5.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ei(e)?e:0,this.max=ei(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,a=Lc(this.options.ticks.minRotation),i=(e?Math.sin(a):Math.cos(a))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,l.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ja=Object.keys(Vm);function G1(t,e){return t-e}function Y1(t,e){if(Ys(e))return null;const s=t._adapter,{parser:a,round:i,isoWeekday:l}=t._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),ei(c)||(c=typeof a=="string"?s.parse(c,a):s.parse(c)),c===null?null:(i&&(c=i==="week"&&(jm(l)||l===!0)?s.startOf(c,"isoWeek",l):s.startOf(c,i)),+c)}function K1(t,e,s,a){const i=Ja.length;for(let l=Ja.indexOf(t);l<i-1;++l){const c=Vm[Ja[l]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(d*c.size))<=a)return Ja[l]}return Ja[i-1]}function dC(t,e,s,a,i){for(let l=Ja.length-1;l>=Ja.indexOf(s);l--){const c=Ja[l];if(Vm[c].common&&t._adapter.diff(i,a,c)>=e-1)return c}return Ja[s?Ja.indexOf(s):0]}function uC(t){for(let e=Ja.indexOf(t)+1,s=Ja.length;e<s;++e)if(Vm[Ja[e]].common)return Ja[e]}function Q1(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:a,hi:i}=Vx(s,e),l=s[a]>=e?s[a]:s[i];t[l]=!0}}function hC(t,e,s,a){const i=t._adapter,l=+i.startOf(e[0].value,a),c=e[e.length-1].value;let d,h;for(d=l;d<=c;d=+i.add(d,1,a))h=s[d],h>=0&&(e[h].major=!0);return e}function X1(t,e,s){const a=[],i={},l=e.length;let c,d;for(c=0;c<l;++c)d=e[c],i[d]=c,a.push({value:d,major:!1});return l===0||!s?a:hC(t,a,i,s)}class Z1 extends Kd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const a=e.time||(e.time={}),i=this._adapter=new k8._date(e.adapters.date);i.init(s),ah(a.displayFormats,i.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Y1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:i,max:l,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!d&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=ei(i)&&!isNaN(i)?i:+s.startOf(Date.now(),a),l=ei(l)&&!isNaN(l)?l:+s.endOf(Date.now(),a)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,i=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const l=this.min,c=this.max,d=pS(i,l,c);return this._unit=s.unit||(a.autoSkip?K1(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):dC(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:uC(this._unit),this.initOffsets(i),e.reverse&&d.reverse(),X1(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,a=0,i,l;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?a=l:a=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=Ci(s,0,c),a=Ci(a,0,c),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,i=this.options,l=i.time,c=l.unit||K1(l.minUnit,s,a,this._getLabelCapacity(s)),d=ks(i.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,f=jm(h)||h===!0,p={};let x=s,w,y;if(f&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,f?"day":c),e.diff(a,s,c)>1e5*d)throw new Error(s+" and "+a+" are too far apart with stepSize of "+d+" "+c);const j=i.ticks.source==="data"&&this.getDataTimestamps();for(w=x,y=0;w<a;w=+e.add(w,d,c),y++)Q1(p,w,j);return(w===a||i.bounds==="ticks"||y===1)&&Q1(p,w,j),Object.keys(p).sort(G1).map(A=>+A)}getLabelForValue(e){const s=this._adapter,a=this.options.time;return a.tooltipFormat?s.format(e,a.tooltipFormat):s.format(e,a.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,l=this._unit,c=s||i[l];return this._adapter.format(e,c)}_tickFormatFunction(e,s,a,i){const l=this.options,c=l.ticks.callback;if(c)return tn(c,[e,s,a],this);const d=l.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],x=f&&d[f],w=a[s],y=f&&x&&w&&w.major;return this._adapter.format(e,i||(y?x:p))}generateTickLabels(e){let s,a,i;for(s=0,a=e.length;s<a;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,i=Lc(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:a*l+d*c,h:a*c+d*l}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,i=a[s.unit]||a.millisecond,l=this._tickFormatFunction(e,0,X1(this,[e],this._majorUnit),i),c=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,a;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,a=i.length;s<a;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const i=this.getLabels();for(s=0,a=i.length;s<a;++s)e.push(Y1(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return k5(e.sort(G1))}}function Vf(t,e,s){let a=0,i=t.length-1,l,c,d,h;s?(e>=t[a].pos&&e<=t[i].pos&&({lo:a,hi:i}=ux(t,"pos",e)),{pos:l,time:d}=t[a],{pos:c,time:h}=t[i]):(e>=t[a].time&&e<=t[i].time&&({lo:a,hi:i}=ux(t,"time",e)),{time:l,pos:d}=t[a],{time:c,pos:h}=t[i]);const f=c-l;return f?d+(h-d)*(e-l)/f:d}class LM extends Z1{static id="timeseries";static defaults=Z1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Vf(s,this.min),this._tableRange=Vf(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:a}=this,i=[],l=[];let c,d,h,f,p;for(c=0,d=e.length;c<d;++c)f=e[c],f>=s&&f<=a&&i.push(f);if(i.length<2)return[{time:s,pos:0},{time:a,pos:1}];for(c=0,d=i.length;c<d;++c)p=i[c+1],h=i[c-1],f=i[c],Math.round((p+h)/2)!==f&&l.push({time:f,pos:c/(d-1)});return l}_generate(){const e=this.min,s=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(s)||a.length===1)&&a.push(s),a.sort((i,l)=>i-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),a=this.getLabelTimestamps();return s.length&&a.length?e=this.normalize(s.concat(a)):e=s.length?s:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Vf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return Vf(this._table,a*this._tableRange+this._minPos,!0)}}const lw="label";function J1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function fC(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function ow(t,e){t.labels=e}function cw(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lw;const a=[];t.datasets=e.map(i=>{const l=t.datasets.find(c=>c[s]===i[s]);return!l||!i.data||a.includes(l)?{...i}:(a.push(l),Object.assign(l,i),l)})}function mC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lw;const s={labels:[],datasets:[]};return ow(s,t.labels),cw(s,t.datasets,e),s}function pC(t,e){const{height:s=150,width:a=300,redraw:i=!1,datasetIdKey:l,type:c,data:d,options:h,plugins:f=[],fallbackContent:p,updateMode:x,...w}=t,y=L.useRef(null),j=L.useRef(null),A=()=>{y.current&&(j.current=new $m(y.current,{type:c,data:mC(d,l),options:h&&{...h},plugins:f}),J1(e,j.current))},C=()=>{J1(e,null),j.current&&(j.current.destroy(),j.current=null)};return L.useEffect(()=>{!i&&j.current&&h&&fC(j.current,h)},[i,h]),L.useEffect(()=>{!i&&j.current&&ow(j.current.config.data,d.labels)},[i,d.labels]),L.useEffect(()=>{!i&&j.current&&d.datasets&&cw(j.current.config.data,d.datasets,l)},[i,d.datasets]),L.useEffect(()=>{j.current&&(i?(C(),setTimeout(A)):j.current.update(x))},[i,h,d.labels,d.datasets,x]),L.useEffect(()=>{j.current&&(C(),setTimeout(A))},[c]),L.useEffect(()=>(A(),()=>C()),[]),_r.createElement("canvas",{ref:y,role:"img",height:s,width:a,...w},p)}const xC=L.forwardRef(pC);function gC(t,e){return $m.register(e),L.forwardRef((s,a)=>_r.createElement(xC,{...s,ref:a,type:t}))}const bC=gC("bar",C8);$m.register(zA,iC,cC,YA,sC);const yC=t=>{if(!t||!Array.isArray(t.datasets))return 1600;let e=0;return t.datasets.forEach(s=>{const a=Math.max(...s.data.map(i=>Number(i)));a>e&&(e=a)}),Math.ceil((e+100)/500)*100||500},ey=()=>{const t=ts.get("token"),{data:e,isLoading:s,isError:a}=Xt({queryKey:["admin-dashboard"],queryFn:()=>k6(t||""),enabled:!!t}),i="https://troosolar.hmstech.org",l=e?.data?.counts?[{title:"Total Users",value:String(e.data.counts.total_users),color:"text-blue-600",icon:"/assets/images/Users.png"},{title:"Total Loans",value:String(e.data.counts.total_loans),color:"text-red-600",icon:"/assets/images/totalloans.png"},{title:"Total Orders",value:String(e.data.counts.total_orders),color:"text-purple-600",icon:"/assets/images/totalorders.png"},{title:"Loans",value:`${e.data.counts.loan_amount}`,color:"text-green-600",icon:"/assets/images/loans.png"}]:j6,c=e?.data?.chart?{labels:e.data.chart.map(x=>x.month),datasets:[{label:"Approved loans",data:e.data.chart.map(x=>Number(x.approved_loan)),backgroundColor:"#D4A216",barPercentage:.7,categoryPercentage:.7},{label:"Pending loans",data:e.data.chart.map(x=>Number(x.pending_loan)),backgroundColor:"#1D4ED8",barPercentage:.7,categoryPercentage:.7},{label:"Overdue loans",data:e.data.chart.map(x=>Number(x.overdue_loan)),backgroundColor:"#DC2626",barPercentage:.7,categoryPercentage:.7},{label:"Total Orders",data:e.data.chart.map(x=>Number(x.orders)),backgroundColor:"#000000",barPercentage:.7,categoryPercentage:.7}]}:N6,d=yC(c),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",align:"start",labels:{boxWidth:12,boxHeight:12,padding:15,font:{size:12}}}},layout:{padding:{bottom:10,top:10,left:10,right:10}},scales:{x:{grid:{display:!1},ticks:{font:{size:12}}},y:{beginAtZero:!0,max:d,grid:{display:!1},ticks:{font:{size:12},stepSize:500,callback:function(x){return x===0?"0":x}}}}},f=e?.data?.latest_orders?e.data.latest_orders.slice(0,3).map(x=>({name:x.product,price:`${x.total_price}`,user:x.customer,image:`${i}${x.product_image}`})):[],p=e?.data?.latest_users?e.data.latest_users.slice(0,3).map(x=>({id:x.user_id,name:x.name,email:x.email,phone:x.phone,bvn:"",date:x.created_at})):[];return console.log("latestUsers",p),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),s?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading dashboard..."}):a?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load dashboard data."}):n.jsx(S6,{stats:l}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx("div",{className:"bg-white shadow-md rounded-lg p-4 lg:col-span-7",style:{height:420},children:c&&Array.isArray(c.labels)&&Array.isArray(c.datasets)?n.jsx("div",{style:{height:"380px"},children:n.jsx(bC,{data:c,options:h})}):n.jsx("div",{className:"text-center text-gray-400",children:"Chart data not available"})}),n.jsx("div",{className:"lg:col-span-5",style:{height:480},children:n.jsx(A6,{orders:f})})]}),n.jsx(C6,{users:p})]})]})},vC=[{id:"1",name:"Germandon Abudu",email:"abcde1@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"2",name:"Chiara Lawson",email:"abcde2@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"3",name:"Anita Becker",email:"abcde3@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"4",name:"Rasheedat Bello",email:"abcde4@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"5",name:"Adewale Ade",email:"abcde5@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"},{id:"6",name:"Janet Ariel",email:"abcde6@gmail.com",phone:"07023456789",bvn:"29452929394",date:"29/06/2025"}],dw=[{label:"Total Users",value:500,icon:"/assets/images/Users.png"},{label:"New Users",value:100,icon:"/assets/images/Users.png"},{label:"Users with Loans",value:20,icon:"/assets/images/Users.png"}],wC=({onNotificationClick:t})=>n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),NC=({stats:t,isLoading:e=!1})=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("img",{src:s.icon,alt:s.label,className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:s.label}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:s.value})]})]},a))}),jC=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:s,setShowMoreActionsDropdown:a,showSortByDropdown:i,setShowSortByDropdown:l,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:y=""})=>{const[j,A]=L.useState(y);L.useEffect(()=>{A(y)},[y]);const C=E=>{A(E.target.value),x&&x(E.target.value),w&&w(c)},_=E=>{d(E),a(!1),w&&w(E)};return n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"relative",ref:t,children:[n.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!s),l(!1)},children:[n.jsx("span",{children:c}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s&&n.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1 ",children:[n.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("More Actions"),children:"More Actions"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Active"),children:"Active"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Inactive"),children:"Inactive"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{p(!0)},children:"Add new user"})]})})]}),n.jsxs("div",{className:"relative",ref:e,children:[n.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{l(!i),a(!1)},children:[n.jsx("span",{children:h}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Sort By"),l(!1)},children:"Sort By"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Alphabetically"),l(!1)},children:"Alphabetically"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Date Registered"),l(!1)},children:"Date Registered"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Active Users"),l(!1)},children:"Active Users"})]})})]})]}),n.jsxs("div",{className:"flex gap-3 mb-3",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-semibold",onClick:()=>p(!0),children:"Add new user"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:j,onChange:C,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})]})]})},_C=({users:t,dotsDropdownRefs:e,openDropdownIndex:s,setOpenDropdownIndex:a,navigate:i})=>n.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No users found."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((l,c)=>n.jsxs("tr",{className:`${c%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"p-4 text-center font-medium",children:l.name}),n.jsx("td",{className:"p-4 text-center text-black",children:l.email}),n.jsx("td",{className:"p-4 text-center text-black",children:l.phone}),n.jsx("td",{className:"p-4 text-center text-black",children:l.bvn}),n.jsx("td",{className:"p-4 text-center text-black",children:l.date}),n.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{i(`/user-activity/${l.id}`)},children:"View Details"}),n.jsxs("div",{className:"relative ml-2.5",ref:d=>{e.current[c]=d},children:[n.jsx("img",{className:"cursor-pointer",src:ht.dots,alt:"",onClick:()=>{a(s===c?null:c)}}),s===c&&n.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/loans`),a(null)},children:"View Loans"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/transactions`),a(null)},children:"View Transactions"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${l.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},c))})]})}),uw=async(t,e)=>await lt(ot.ADMIN.AddUser,"POST",t,e),SC=async(t,e,s)=>await lt(ot.ADMIN.EditUser(t),"POST",e,s),AC=async(t,e)=>await lt(ot.ADMIN.UpdateUser,"POST",t,e),CC=({setShowAddModal:t,onUserAdded:e,newUser:s,handleInputChange:a})=>{const[i,l]=L.useState(""),[c,d]=L.useState(!1),h=ts.get("token"),f=os({mutationFn:w=>uw(w,h||""),onSuccess:()=>{l(""),d(!1),t(!1),a({target:{name:"name",value:""}}),a({target:{name:"email",value:""}}),a({target:{name:"phone",value:""}}),a({target:{name:"bvn",value:""}}),e&&e()},onError:w=>{console.log("Add User Error:",w);let y="Failed to add user. Please try again.";if(w&&typeof w=="object"&&"message"in w){const j=w;y=j.message||y,j.data&&typeof j.data=="object"&&(j.data.message?y=j.data.message:j.data.error?y=j.data.error:j.data.errors&&Array.isArray(j.data.errors)&&(y=j.data.errors.join(", ")))}console.log("Final error message:",y),l(y),d(!0)}}),p=w=>{if(w.preventDefault(),l(""),d(!1),!s.name||!s.email||!s.phone||!s.bvn||!s.password){l("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){l("Please enter a valid email address");return}f.mutate({first_name:s.name,email:s.email,phone:s.phone,bvn:s.bvn,password:s.password})},x=s.name&&s.email&&s.phone&&s.bvn&&s.password;return n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{l(""),d(!1),t(!1)}}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New User"}),n.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{l(""),d(!1),t(!1)},children:n.jsx("img",{src:ht.cross,alt:"",className:"w-8 h-8"})})]}),i&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:n.jsx("p",{className:"font-medium",children:i})}),n.jsxs("form",{onSubmit:p,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:s.name,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:s.email,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:s.password,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:s.phone,onChange:a})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:s.bvn,onChange:a})]}),n.jsx("button",{type:"submit",disabled:!x||f.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${x&&!f.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:f.isPending?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]})},hw=async t=>await lt(ot.ADMIN.UsersList,"GET",void 0,t),fw=async(t,e)=>await lt(ot.ADMIN.UserShow(t),"GET",void 0,e),kC=()=>{const t=ya(),e=il(),[s,a]=L.useState(!1),[i]=L.useState(vC),[l,c]=L.useState(!1),[d,h]=L.useState(!1),[f,p]=L.useState("Sort By"),[x,w]=L.useState(null),y=L.useRef(null),j=L.useRef(null),A=L.useRef([]),[C,_]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),E=ts.get("token"),{data:M,isLoading:B,isError:z}=Xt({queryKey:["all-users"],queryFn:()=>hw(E||""),enabled:!!E}),ne=_r.useMemo(()=>M?.data?.["all users data"]?M.data["all users data"].map(I=>({id:String(I.id),name:`${I.first_name} ${I.sur_name}`,email:I.email,phone:I.phone,bvn:I.bvn||"",date:I.created_at?new Date(I.created_at).toLocaleDateString("en-GB"):"",is_active:I.is_active})):[],[M]),K=M?.data?[{label:"Total Users",value:M.data.total_users,icon:"/assets/images/Users.png"},{label:"New Users",value:M.data["new user"],icon:"/assets/images/Users.png"},{label:"Users with Loans",value:M.data["user with loan balance"],icon:"/assets/images/Users.png"}]:dw,[U,$]=L.useState(""),[te,P]=L.useState("More Actions"),[O,H]=L.useState(1),[G]=L.useState(10),re=_r.useMemo(()=>{let se=ne.length>0?ne:i;return te==="Active"?se=se.filter(fe=>fe.is_active===1):te==="Inactive"&&(se=se.filter(fe=>fe.is_active===0)),U&&(se=se.filter(fe=>fe.name.toLowerCase().includes(U.toLowerCase())||fe.email.toLowerCase().includes(U.toLowerCase())||fe.phone.toLowerCase().includes(U.toLowerCase()))),f!=="Sort By"&&(se=[...se].sort((fe,be)=>{switch(f){case"Alphabetically":return fe.name.localeCompare(be.name);case"Date Registered":try{const Se=fe.date?new Date(fe.date.split("/").reverse().join("-")).getTime():0,Oe=be.date?new Date(be.date.split("/").reverse().join("-")).getTime():0;return isNaN(Se)&&isNaN(Oe)?0:isNaN(Se)?1:isNaN(Oe)?-1:Oe-Se}catch{return 0}case"Active Users":return(be.is_active||0)-(fe.is_active||0);default:return 0}})),se},[ne,i,U,te,f]),ee=Math.ceil(re.length/G),ie=(O-1)*G,le=ie+G,ce=re.slice(ie,le);L.useEffect(()=>{H(1)},[U,te,f]);const Y=I=>{$(I)},de=I=>{P(I)};L.useEffect(()=>{const I=se=>{y.current&&!y.current.contains(se.target)&&c(!1),j.current&&!j.current.contains(se.target)&&h(!1),A.current.every(be=>!be||!be.contains(se.target))&&w(null)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]);const T=I=>{const{name:se,value:fe}=I.target;_(be=>({...be,[se]:fe}))},F=()=>{console.log("Notification clicked in User Management")},q=()=>{e.invalidateQueries({queryKey:["all-users"]})};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(wC,{onNotificationClick:F}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"User Management"}),n.jsx(NC,{stats:K,isLoading:B}),n.jsx("div",{className:"mb-5",children:n.jsx("h1",{className:"font-bold text-2xl",children:"Users"})}),n.jsx(jC,{moreActionsRef:y,sortByRef:j,showMoreActionsDropdown:l,setShowMoreActionsDropdown:c,showSortByDropdown:d,setShowSortByDropdown:h,selectedMoreAction:te,setSelectedMoreAction:P,selectedSortBy:f,setSelectedSortBy:p,setShowAddModal:a,onSearch:Y,onAction:de,searchTerm:U}),B?n.jsx("div",{className:"py-8 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500",children:"Loading users..."})]})}):z?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load users."}):n.jsxs(n.Fragment,{children:[n.jsx(_C,{users:ce,dotsDropdownRefs:A,openDropdownIndex:x,setOpenDropdownIndex:w,navigate:t}),ee>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(le,re.length)," of ",re.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>H(I=>Math.max(I-1,1)),disabled:O===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${O===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ee)},(I,se)=>{let fe;return ee<=5||O<=3?fe=se+1:O>=ee-2?fe=ee-4+se:fe=O-2+se,n.jsx("button",{onClick:()=>H(fe),className:`px-3 py-2 text-sm font-medium rounded-md border ${O===fe?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:fe},fe)})}),n.jsx("button",{onClick:()=>H(I=>Math.min(I+1,ee)),disabled:O===ee,className:`px-3 py-2 text-sm font-medium rounded-md border ${O===ee?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),s&&n.jsx(CC,{showAddModal:s,setShowAddModal:a,onUserAdded:q,newUser:C,handleInputChange:T})]})},zs=({message:t="Loading...",size:e="md",className:s=""})=>{const a={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i={sm:"text-sm",md:"text-lg",lg:"text-xl"};return n.jsx("div",{className:`py-16 text-center ${s}`,children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:`animate-spin rounded-full border-b-2 border-[#273E8E] ${a[e]}`}),n.jsx("span",{className:`ml-3 text-gray-500 ${i[e]}`,children:t})]})})},EC=t=>{const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2),l=e.getHours().toString().padStart(2,"0"),c=e.getMinutes().toString().padStart(2,"0"),d=e.getHours()>=12?"PM":"AM";return`${s}-${a}-${i}/${l}:${c}${d}`},LC=()=>{const{id:t}=yh(),e=ya(),s=ar(),a=ts.get("token"),{data:i,isLoading:l}=Xt({queryKey:["single-user",t],queryFn:()=>fw(t||"",a||""),enabled:!!t&&!!a,staleTime:5*60*1e3});console.log("Single User API Data:",i);const c=L.useMemo(()=>i?.data?{id:String(i.data.id),name:`${i.data.first_name} ${i.data.sur_name}`,email:i.data.email,phone:i.data.phone,bvn:i.data.bvn||"",date:i.data.created_at?new Date(i.data.created_at).toLocaleDateString("en-GB"):""}:null,[i]),d=L.useMemo(()=>i?.data?.activitys?i.data.activitys.map(ne=>({activity:ne.activity,date:EC(ne.created_at)})):[],[i]),[h,f]=L.useState(!1),[p,x]=L.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",referral:""}),[w,y]=L.useState(!1),[j,A]=L.useState(null),[C,_]=L.useState(null);_r.useEffect(()=>{c&&i?.data&&x({firstName:i.data.first_name||"",surname:i.data.sur_name||"",email:i.data.email||"",phone:i.data.phone||"",bvn:i.data.bvn||"",password:"",referral:i.data.refferal_code||""})},[c,i]);const E=os({mutationFn:async ne=>await SC(c?.id||"",ne,a||""),onSuccess:()=>{y(!0),setTimeout(()=>{y(!1),f(!1),A(null),_(null)},1200)},onError:ne=>{console.error("Failed to update user:",ne),alert("Failed to update user profile. Please try again.")}}),M=ne=>{if(ne.preventDefault(),!c?.id)return;const K=new FormData;p.firstName&&K.append("first_name",p.firstName),p.surname&&K.append("sur_name",p.surname),p.email&&K.append("email",p.email),p.phone&&K.append("phone",p.phone),p.bvn&&K.append("bvn",p.bvn),p.password&&K.append("password",p.password),p.referral&&K.append("referral",p.referral),j&&(console.log("Adding image to FormData:",j.name,j.type,j.size),K.append("profile_picture",j)),console.log("FormData contents:");for(let[U,$]of K.entries())console.log(U,$);E.mutate(K)},B=ne=>{const K=ne.target.files?.[0];if(K){A(K);const U=new FileReader;U.onload=$=>{_($.target?.result)},U.readAsDataURL(K)}},z=()=>{console.log("Notification clicked in User Activity")};return l?n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen flex items-center justify-center",children:n.jsx(zs,{message:"Loading user details..."})}):c?n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:z}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:c.name}),n.jsxs("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:[n.jsxs("button",{className:`pb-2 cursor-pointer relative ${!s.pathname.includes("/loans")&&!s.pathname.includes("/transactions")&&!s.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}`),children:["Activity",!s.pathname.includes("/loans")&&!s.pathname.includes("/transactions")&&!s.pathname.includes("/orders")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/loans")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/loans`),children:["Loans",s.pathname.includes("/loans")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/transactions")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/transactions`),children:["Transactions",s.pathname.includes("/transactions")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]}),n.jsxs("button",{className:`pb-2 cursor-pointer relative ${s.pathname.includes("/orders")?"text-black font-semibold":"text-[#00000080]"}`,onClick:()=>e(`/user-activity/${c.id}/orders`),children:["Orders",s.pathname.includes("/orders")&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-full h-1 bg-[#273E8E] rounded-full"})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-2xl shadow-lg p-8 flex gap-8 items-center mb-8",children:[n.jsxs("div",{className:"flex flex-col items-center w-60 rounded-lg p-5",style:{background:"linear-gradient(162.4deg, rgba(93, 114, 194, 0.7) 12.04%, rgba(255, 165, 0, 0.35) 97.58%)",border:"1px solid",borderImageSource:"linear-gradient(146.63deg, #D1D1FF 3.6%, #FFA126 97.96%)",borderImageSlice:1},children:[n.jsxs("div",{className:"w-32 h-32 rounded-full object-cover border-4 border-white mb-4 overflow-hidden flex items-center justify-center bg-gray-200",children:[i?.data?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${i.data.profile_picture}`,alt:c.name,className:"w-full h-full object-cover",onError:ne=>{ne.currentTarget.style.display="none",ne.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center text-white text-lg font-semibold ${i?.data?.profile_picture?"hidden":""}`,children:c.name.split(" ").map(ne=>ne[0]).join("").toUpperCase()})]}),n.jsx("div",{className:"text-white text-xl font-semibold mb-1",children:c.name}),n.jsx("div",{className:"text-[#FFFFFF80] text-sm mb-10",children:c.email}),n.jsx("button",{className:"bg-white cursor-pointer text-gray-800 px-14 py-2 rounded-full font-semibold shadow",onClick:()=>f(!0),children:"Edit Profile"}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex justify-end items-stretch backdrop-blur-sm bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-l-3xl shadow-xl w-full max-w-lg h-screen p-6 relative flex flex-col",children:[l&&n.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading user data..."})]})}),n.jsx("button",{className:"absolute cursor-pointer top-4 right-4 w-8 h-8 flex items-center justify-center",onClick:()=>f(!1),children:n.jsx("img",{src:ht.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Edit Profile"}),n.jsx("div",{className:"flex justify-center mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-300 overflow-hidden flex items-center justify-center",children:[C?n.jsx("img",{src:C,alt:"Profile preview",className:"w-full h-full object-cover"}):i?.data?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${i.data.profile_picture}`,alt:"Profile",className:"w-full h-full object-cover",onError:ne=>{ne.currentTarget.style.display="none",ne.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center text-gray-500 text-xs ${C||i?.data?.profile_picture?"hidden":""}`,children:"No Image"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),n.jsxs("form",{className:"flex-1 flex flex-col justify-between",onSubmit:M,children:[n.jsxs("div",{className:"space-y-3 flex-1",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your first name",value:p.firstName,onChange:ne=>x(K=>({...K,firstName:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your surname",value:p.surname,onChange:ne=>x(K=>({...K,surname:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your email address",value:p.email,onChange:ne=>x(K=>({...K,email:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter your phone number",value:p.phone,onChange:ne=>x(K=>({...K,phone:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"BVN"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"BVN Number",value:p.bvn,onChange:ne=>x(K=>({...K,bvn:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Password"}),n.jsx("input",{type:"password",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Password",value:p.password,onChange:ne=>x(K=>({...K,password:ne.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Referral Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Enter Referral Code (Optional)",value:p.referral,onChange:ne=>x(K=>({...K,referral:ne.target.value}))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("button",{type:"submit",disabled:E.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white text-sm py-3 rounded-full font-medium hover:bg-blue-700 transition-colors flex items-center justify-center ${E.isPending?"opacity-50 cursor-not-allowed":""}`,children:E.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"}),w&&n.jsx("div",{className:"text-green-600 text-center font-semibold mt-2",children:"Profile updated!"})]})]})]})})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-x-12 gap-y-4 text-white text-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Surname"}),n.jsx("div",{children:c.name.split(" ")[1]||c.name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Password"}),n.jsx("div",{children:"**********"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"First Name"}),n.jsx("div",{children:c.name.split(" ")[0]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Referral Code"}),n.jsx("div",{children:"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Email Address"}),n.jsx("div",{children:c.email})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"BVN"}),n.jsx("div",{children:c.bvn})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#FFFFFF80] mb-2",children:"Phone Number"}),n.jsx("div",{children:c.phone})]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Activity"}),n.jsx("div",{className:"flex items-center mb-5",children:n.jsx("select",{className:"border border-[#00000080] rounded-lg px-4 bg-white py-2 text-sm cursor-pointer",children:n.jsx("option",{children:"More Actions"})})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"text-md",children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 w-12",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("th",{className:"p-4 text-left",children:"Activity"}),n.jsx("th",{className:"p-4 text-left",children:"Date"})]})}),n.jsx("tbody",{children:d.length>0?d.map((ne,K)=>n.jsxs("tr",{className:`${K%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("td",{className:"p-4",children:ne.activity}),n.jsx("td",{className:"p-4",children:ne.date})]},K)):n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-500",children:"No activities found for this user."})})})]})})]})]})]}):n.jsx("div",{className:"p-8 text-xl",children:"User not found"})},mw=async(t,e)=>await lt(ot.ADMIN.Get_User_Kyc_Detail(t),"GET",void 0,e),DC=({isOpen:t,onClose:e,user:s,onSendToPartner:a})=>{const[i,l]=L.useState("personal"),[c,d]=L.useState("document"),h=ts.get("token"),{data:f,isLoading:p,isError:x}=Xt({queryKey:["user-kyc-detail",s.id],queryFn:()=>mw(s.id,h||""),enabled:!!h&&!!s.id&&t});console.log("KYC API Data:",f);const w=U=>{const $=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return $[(U-1)%$.length]},y=U=>{const $=["Spouse","Sibling","Parent","Child","Friend","Relative"];return $[(U-1)%$.length]},j=U=>{const $=["150,000","200,000","100,000","300,000","250,000"];return $[(U-1)%$.length]},A=U=>{const $=["6 months","12 months","18 months","24 months"];return $[(U-1)%$.length]},[C,_]=L.useState({firstName:s?.name?.split(" ")[0]||"",surname:s?.name?.split(" ")[1]||"",email:s?.email||"",phone:s?.phone||"",bvn:s?.bvn||""}),[E,M]=L.useState({accountNumber:"",bankName:"",accountName:""}),[B,z]=L.useState({selectedDocument:"",beneficiaryName:"",beneficiaryRelationship:"",beneficiaryEmail:"",beneficiaryPhone:"",loanAmount:"",repaymentDuration:""});L.useEffect(()=>{if(t&&s){const U=parseInt(s?.id||"1");_({firstName:s?.name?.split(" ")[0]||"",surname:s?.name?.split(" ")[1]||"",email:s?.email||"",phone:s?.phone||"",bvn:s?.bvn||""}),M({accountNumber:`123456${U.toString().padStart(4,"0")}`,bankName:w(U),accountName:s?.name||""}),z({selectedDocument:"Driver's License",beneficiaryName:`Beneficiary ${U}`,beneficiaryRelationship:y(U),beneficiaryEmail:`beneficiary${U}@email.com`,beneficiaryPhone:`+234${U.toString().padStart(10,"0")}`,loanAmount:j(U),repaymentDuration:A(U)})}},[t,s]);const ne=()=>{const U=`user_credit_${s?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(U,JSON.stringify(E)),alert("Credit check details saved successfully!")},K=()=>{const U=`user_kyc_${s?.name?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(U,JSON.stringify(B)),alert("KYC details saved successfully!")};return t?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-0",onClick:e}),n.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:a,children:"Send to Partner"}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:e,children:n.jsx("img",{src:ht.cross,alt:""})})]})]}),n.jsxs("div",{className:"flex border-b px-5",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="personal"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("personal"),children:"Personal Details"}),n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="credit"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("credit"),children:"Credit Check"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${i==="kyc"?"border-b-2 border-[#273E8E] font-medium text-[#273E8E]":"text-gray-500"}`,onClick:()=>l("kyc"),children:"KYC Details"})]}),i==="personal"&&n.jsx("div",{className:"p-5",children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading personal details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load personal details."})}):f?.data?.user?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.first_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.sur_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.email||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.phone||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.user_code||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referral Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.refferal_code||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Status"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.user.is_active?"Active":"Inactive",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No personal data available."})})}),i==="credit"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:E.accountNumber,onChange:U=>M({...E,accountNumber:U.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:E.bankName,onChange:U=>M({...E,bankName:U.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:E.accountName,onChange:U=>M({...E,accountName:U.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:ne,children:"Save"})]}),i==="kyc"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-80",children:[n.jsx("button",{onClick:()=>{d("document")},className:`text-sm py-2.5 px-3  cursor-pointer ${c==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),n.jsx("button",{onClick:()=>{d("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${c==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),n.jsx("button",{onClick:()=>{d("loanDetails")},className:`text-sm py-2 px-3  cursor-pointer ${c==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),c==="document"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading document details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load document details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document Type"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.title_document||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),f.data.loan_application.upload_document?n.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#6B7280",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.data.loan_application.title_document||"Document"}),n.jsx("p",{className:"text-xs text-gray-500",children:f.data.loan_application.upload_document})]})]}),n.jsx("a",{href:`https://troosolar.hmstech.org/${f.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No document data available."})})}),c==="beneficiary"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading beneficiary details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load beneficiary details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_name||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_relationship||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_email||"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.beneficiary_phone||"N/A",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No beneficiary data available."})})}),c==="loanDetails"&&n.jsx("div",{children:p?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"Loading loan details..."})}):x?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-red-500",children:"Failed to load loan details."})}):f?.data?.loan_application?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.loan_amount?`${f.data.loan_application.loan_amount.toLocaleString()}`:"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.repayment_duration?`${f.data.loan_application.repayment_duration} months`:"N/A",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Application Status"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.status||"Pending",readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Created Date"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",value:f.data.loan_application.created_at?new Date(f.data.loan_application.created_at).toLocaleDateString():"N/A",readOnly:!0})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-500",children:"No loan details available."})})}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:K,children:"Save"})]})]})]})}):null},MC=async(t,e,s)=>await lt(ot.ADMIN.LoanGrant(t),"POST",e,s),FC=async(t,e,s)=>await lt(ot.ADMIN.SendToPartnerDetail(t),"POST",e,s),OC=async(t,e,s)=>await lt(ot.ADMIN.MonoLoanCalculationApproval(t),"POST",e,s),TC=({isOpen:t,onClose:e,loanId:s,amount:a,onDisburse:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(!1),[f,p]=L.useState(a.replace(/[^\d]/g,"")),[x,w]=L.useState(!1),y=ts.get("token"),j=[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Rejected",label:"Rejected"},{value:"active",label:"Active"}],A=os({mutationFn:async()=>await MC(s,{distribute_amount:Number(f),status:l},y||""),onSuccess:E=>{i&&i(s,l),e(),c(""),h(!1),p(""),w(!1),alert(E?.message||"Loan disbursed successfully!")},onError:E=>{w(!1),alert(E?.message||"Failed to disburse loan.")}}),C=()=>{l&&f&&(w(!0),A.mutate())},_=()=>{e(),c(""),h(!1),p(a.replace(/[^\d]/g,"")),w(!1)};return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-start justify-end sm:justify-end p-0 sm:p-6",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-white/30",onClick:_}),n.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl shadow-xl z-10 w-full h-full sm:w-[500px] sm:h-auto sm:max-w-[90vw] boder border-[#CDCDCD]",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Loan Disbursement"}),n.jsx("button",{onClick:_,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to disburse"}),n.jsx("input",{type:"number",value:f,onChange:E=>p(E.target.value.replace(/[^\d]/g,"")),min:0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 font-medium",placeholder:"Enter amount",disabled:x})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Change status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>h(!d),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-left flex items-center justify-between hover:border-gray-400 transition-colors cursor-pointer",disabled:x,children:[n.jsx("span",{className:l?"text-gray-900":"text-gray-500",children:l||"Change status"}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 ",children:j.map(E=>n.jsx("button",{onClick:()=>{c(E.value),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg cursor-pointer",disabled:x,children:E.label},E.value))})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-gray-200",children:[n.jsx("button",{onClick:_,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors cursor-pointer",disabled:x,children:"Cancel"}),n.jsx("button",{onClick:C,disabled:!l||!f||x,className:`px-6 py-2 rounded-full font-medium transition-colors cursor-pointer ${l&&f&&!x?"bg-[#273E8E] text-white hover:bg-[#1e2f6b]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?"Processing...":"Disburse"})]})]})]}):null},PC="modulepreload",RC=function(t){return"/"+t},ty={},jp=function(e,s,a){let i=Promise.resolve();if(s&&s.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(s.map(f=>{if(f=RC(f),f in ty)return;ty[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":PC,p||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((y,j)=>{w.addEventListener("load",y),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}var Ei=Uint8Array,jr=Uint16Array,eg=Int32Array,tg=new Ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sg=new Ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sy=new Ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pw=function(t,e){for(var s=new jr(31),a=0;a<31;++a)s[a]=e+=1<<t[a-1];for(var i=new eg(s[30]),a=1;a<30;++a)for(var l=s[a];l<s[a+1];++l)i[l]=l-s[a]<<5|a;return{b:s,r:i}},xw=pw(tg,2),BC=xw.b,px=xw.r;BC[28]=258,px[258]=28;var UC=pw(sg,0),ny=UC.r,xx=new jr(32768);for(var sn=0;sn<32768;++sn){var Fo=(sn&43690)>>1|(sn&21845)<<1;Fo=(Fo&52428)>>2|(Fo&13107)<<2,Fo=(Fo&61680)>>4|(Fo&3855)<<4,xx[sn]=((Fo&65280)>>8|(Fo&255)<<8)>>1}var lh=function(t,e,s){for(var a=t.length,i=0,l=new jr(e);i<a;++i)t[i]&&++l[t[i]-1];var c=new jr(e);for(i=1;i<e;++i)c[i]=c[i-1]+l[i-1]<<1;var d;if(s){d=new jr(1<<e);var h=15-e;for(i=0;i<a;++i)if(t[i])for(var f=i<<4|t[i],p=e-t[i],x=c[t[i]-1]++<<p,w=x|(1<<p)-1;x<=w;++x)d[xx[x]>>h]=f}else for(d=new jr(a),i=0;i<a;++i)t[i]&&(d[i]=xx[c[t[i]-1]++]>>15-t[i]);return d},Bc=new Ei(288);for(var sn=0;sn<144;++sn)Bc[sn]=8;for(var sn=144;sn<256;++sn)Bc[sn]=9;for(var sn=256;sn<280;++sn)Bc[sn]=7;for(var sn=280;sn<288;++sn)Bc[sn]=8;var km=new Ei(32);for(var sn=0;sn<32;++sn)km[sn]=5;var IC=lh(Bc,9,0),qC=lh(km,5,0),gw=function(t){return(t+7)/8|0},zC=function(t,e,s){return(s==null||s>t.length)&&(s=t.length),new Ei(t.subarray(e,s))},Pl=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8},Ju=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8,t[a+2]|=s>>16},_p=function(t,e){for(var s=[],a=0;a<t.length;++a)t[a]&&s.push({s:a,f:t[a]});var i=s.length,l=s.slice();if(!i)return{t:yw,l:0};if(i==1){var c=new Ei(s[0].s+1);return c[s[0].s]=1,{t:c,l:1}}s.sort(function(z,ne){return z.f-ne.f}),s.push({s:-1,f:25001});var d=s[0],h=s[1],f=0,p=1,x=2;for(s[0]={s:-1,f:d.f+h.f,l:d,r:h};p!=i-1;)d=s[s[f].f<s[x].f?f++:x++],h=s[f!=p&&s[f].f<s[x].f?f++:x++],s[p++]={s:-1,f:d.f+h.f,l:d,r:h};for(var w=l[0].s,a=1;a<i;++a)l[a].s>w&&(w=l[a].s);var y=new jr(w+1),j=gx(s[p-1],y,0);if(j>e){var a=0,A=0,C=j-e,_=1<<C;for(l.sort(function(ne,K){return y[K.s]-y[ne.s]||ne.f-K.f});a<i;++a){var E=l[a].s;if(y[E]>e)A+=_-(1<<j-y[E]),y[E]=e;else break}for(A>>=C;A>0;){var M=l[a].s;y[M]<e?A-=1<<e-y[M]++-1:++a}for(;a>=0&&A;--a){var B=l[a].s;y[B]==e&&(--y[B],++A)}j=e}return{t:new Ei(y),l:j}},gx=function(t,e,s){return t.s==-1?Math.max(gx(t.l,e,s+1),gx(t.r,e,s+1)):e[t.s]=s},ay=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new jr(++e),a=0,i=t[0],l=1,c=function(h){s[a++]=h},d=1;d<=e;++d)if(t[d]==i&&d!=e)++l;else{if(!i&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(i),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(i);l=1,i=t[d]}return{c:s.subarray(0,a),n:e}},eh=function(t,e){for(var s=0,a=0;a<e.length;++a)s+=t[a]*e[a];return s},bw=function(t,e,s){var a=s.length,i=gw(e+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<a;++l)t[i+l+4]=s[l];return(i+4+a)*8},ry=function(t,e,s,a,i,l,c,d,h,f,p){Pl(e,p++,s),++i[256];for(var x=_p(i,15),w=x.t,y=x.l,j=_p(l,15),A=j.t,C=j.l,_=ay(w),E=_.c,M=_.n,B=ay(A),z=B.c,ne=B.n,K=new jr(19),U=0;U<E.length;++U)++K[E[U]&31];for(var U=0;U<z.length;++U)++K[z[U]&31];for(var $=_p(K,7),te=$.t,P=$.l,O=19;O>4&&!te[sy[O-1]];--O);var H=f+5<<3,G=eh(i,Bc)+eh(l,km)+c,re=eh(i,w)+eh(l,A)+c+14+3*O+eh(K,te)+2*K[16]+3*K[17]+7*K[18];if(h>=0&&H<=G&&H<=re)return bw(e,p,t.subarray(h,h+f));var ee,ie,le,ce;if(Pl(e,p,1+(re<G)),p+=2,re<G){ee=lh(w,y,0),ie=w,le=lh(A,C,0),ce=A;var Y=lh(te,P,0);Pl(e,p,M-257),Pl(e,p+5,ne-1),Pl(e,p+10,O-4),p+=14;for(var U=0;U<O;++U)Pl(e,p+3*U,te[sy[U]]);p+=3*O;for(var de=[E,z],T=0;T<2;++T)for(var F=de[T],U=0;U<F.length;++U){var q=F[U]&31;Pl(e,p,Y[q]),p+=te[q],q>15&&(Pl(e,p,F[U]>>5&127),p+=F[U]>>12)}}else ee=IC,ie=Bc,le=qC,ce=km;for(var U=0;U<d;++U){var I=a[U];if(I>255){var q=I>>18&31;Ju(e,p,ee[q+257]),p+=ie[q+257],q>7&&(Pl(e,p,I>>23&31),p+=tg[q]);var se=I&31;Ju(e,p,le[se]),p+=ce[se],se>3&&(Ju(e,p,I>>5&8191),p+=sg[se])}else Ju(e,p,ee[I]),p+=ie[I]}return Ju(e,p,ee[256]),p+ie[256]},HC=new eg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yw=new Ei(0),$C=function(t,e,s,a,i,l){var c=l.z||t.length,d=new Ei(a+c+5*(1+Math.ceil(c/7e3))+i),h=d.subarray(a,d.length-i),f=l.l,p=(l.r||0)&7;if(e){p&&(h[0]=l.r>>3);for(var x=HC[e-1],w=x>>13,y=x&8191,j=(1<<s)-1,A=l.p||new jr(32768),C=l.h||new jr(j+1),_=Math.ceil(s/3),E=2*_,M=function(Ae){return(t[Ae]^t[Ae+1]<<_^t[Ae+2]<<E)&j},B=new eg(25e3),z=new jr(288),ne=new jr(32),K=0,U=0,$=l.i||0,te=0,P=l.w||0,O=0;$+2<c;++$){var H=M($),G=$&32767,re=C[H];if(A[G]=re,C[H]=G,P<=$){var ee=c-$;if((K>7e3||te>24576)&&(ee>423||!f)){p=ry(t,h,0,B,z,ne,U,te,O,$-O,p),te=K=U=0,O=$;for(var ie=0;ie<286;++ie)z[ie]=0;for(var ie=0;ie<30;++ie)ne[ie]=0}var le=2,ce=0,Y=y,de=G-re&32767;if(ee>2&&H==M($-de))for(var T=Math.min(w,ee)-1,F=Math.min(32767,$),q=Math.min(258,ee);de<=F&&--Y&&G!=re;){if(t[$+le]==t[$+le-de]){for(var I=0;I<q&&t[$+I]==t[$+I-de];++I);if(I>le){if(le=I,ce=de,I>T)break;for(var se=Math.min(de,I-2),fe=0,ie=0;ie<se;++ie){var be=$-de+ie&32767,Se=A[be],Oe=be-Se&32767;Oe>fe&&(fe=Oe,re=be)}}}G=re,re=A[G],de+=G-re&32767}if(ce){B[te++]=268435456|px[le]<<18|ny[ce];var He=px[le]&31,Be=ny[ce]&31;U+=tg[He]+sg[Be],++z[257+He],++ne[Be],P=$+le,++K}else B[te++]=t[$],++z[t[$]]}}for($=Math.max($,P);$<c;++$)B[te++]=t[$],++z[t[$]];p=ry(t,h,f,B,z,ne,U,te,O,$-O,p),f||(l.r=p&7|h[p/8|0]<<3,p-=7,l.h=C,l.p=A,l.i=$,l.w=P)}else{for(var $=l.w||0;$<c+f;$+=65535){var et=$+65535;et>=c&&(h[p/8|0]=f,et=c),p=bw(h,p+1,t.subarray($,et))}l.i=c}return zC(d,0,a+gw(p)+i)},vw=function(){var t=1,e=0;return{p:function(s){for(var a=t,i=e,l=s.length|0,c=0;c!=l;){for(var d=Math.min(c+2655,l);c<d;++c)i+=a+=s[c];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},VC=function(t,e,s,a,i){if(!i&&(i={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),c=new Ei(l.length+t.length);c.set(l),c.set(t,l.length),t=c,i.w=l.length}return $C(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,s,a,i)},ww=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},WC=function(t,e){var s=e.level,a=s==0?0:s<6?1:s==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=vw();i.p(e.dictionary),ww(t,2,i.d())}};function bx(t,e){e||(e={});var s=vw();s.p(t);var a=VC(t,e,e.dictionary?6:2,4);return WC(a,e),ww(a,a.length-4,s.d()),a}var GC=typeof TextDecoder<"u"&&new TextDecoder,YC=0;try{GC.decode(yw,{stream:!0}),YC=1}catch{}function KC(t){if(Array.isArray(t))return t}function QC(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,i,l,c,d=[],h=!0,f=!1;try{if(l=(s=s.call(t)).next,e!==0)for(;!(h=(a=l.call(s)).done)&&(d.push(a.value),d.length!==e);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(f)throw i}}return d}}function iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,a=Array(e);s<e;s++)a[s]=t[s];return a}function XC(t,e){if(t){if(typeof t=="string")return iy(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?iy(t,e):void 0}}function ZC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ly(t,e){return KC(t)||QC(t,e)||XC(t,e)||ZC()}function oy(t,e="utf8"){return new TextDecoder(e).decode(t)}const JC=new TextEncoder;function ek(t){return JC.encode(t)}const tk=1024*8,sk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Sp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ng{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=tk,s={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const i=s.offset?s.offset>>>0:0,l=e.byteLength-i;let c=i;(ArrayBuffer.isView(e)||e instanceof ng)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+i),e=e.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,s){const a=Sp[s].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+a);if(this.littleEndian===sk&&s!=="uint8"&&s!=="int8"){const d=new Uint8Array(this.buffer.slice(i,i+a));d.reverse();const h=new Sp[s](d.buffer);return this.offset+=a,h.reverse(),h}const c=new Sp[s](l);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let s="";for(let a=0;a<e;a++)s+=this.readChar();return s}readUtf8(e=1){return oy(this.readBytes(e))}decodeText(e=1,s="utf8"){return oy(this.readBytes(e),s)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let s=0;s<e.length;s++)this._data.setUint8(this.offset++,e[s]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let s=0;s<e.length;s++)this.writeUint8(e.charCodeAt(s));return this}writeUtf8(e){return this.writeBytes(ek(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qd(t){let e=t.length;for(;--e>=0;)t[e]=0}const nk=3,ak=258,Nw=29,rk=256,ik=rk+1+Nw,jw=30,lk=512,ok=new Array((ik+2)*2);Qd(ok);const ck=new Array(jw*2);Qd(ck);const dk=new Array(lk);Qd(dk);const uk=new Array(ak-nk+1);Qd(uk);const hk=new Array(Nw);Qd(hk);const fk=new Array(jw);Qd(fk);const mk=(t,e,s,a)=>{let i=t&65535|0,l=t>>>16&65535|0,c=0;for(;s!==0;){c=s>2e3?2e3:s,s-=c;do i=i+e[a++]|0,l=l+i|0;while(--c);i%=65521,l%=65521}return i|l<<16|0};var yx=mk;const pk=()=>{let t,e=[];for(var s=0;s<256;s++){t=s;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;e[s]=t}return e},xk=new Uint32Array(pk()),gk=(t,e,s,a)=>{const i=xk,l=a+s;t^=-1;for(let c=a;c<l;c++)t=t>>>8^i[(t^e[c])&255];return t^-1};var tl=gk,vx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_w={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var yk=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const s=e.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)bk(s,a)&&(t[a]=s[a])}}return t},vk=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const s=new Uint8Array(e);for(let a=0,i=0,l=t.length;a<l;a++){let c=t[a];s.set(c,i),i+=c.length}return s},Sw={assign:yk,flattenChunks:vk};let Aw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Aw=!1}const xh=new Uint8Array(256);for(let t=0;t<256;t++)xh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;xh[254]=xh[254]=1;var wk=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,s,a,i,l,c=t.length,d=0;for(i=0;i<c;i++)s=t.charCodeAt(i),(s&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),i++)),d+=s<128?1:s<2048?2:s<65536?3:4;for(e=new Uint8Array(d),l=0,i=0;l<d;i++)s=t.charCodeAt(i),(s&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),i++)),s<128?e[l++]=s:s<2048?(e[l++]=192|s>>>6,e[l++]=128|s&63):s<65536?(e[l++]=224|s>>>12,e[l++]=128|s>>>6&63,e[l++]=128|s&63):(e[l++]=240|s>>>18,e[l++]=128|s>>>12&63,e[l++]=128|s>>>6&63,e[l++]=128|s&63);return e};const Nk=(t,e)=>{if(e<65534&&t.subarray&&Aw)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let s="";for(let a=0;a<e;a++)s+=String.fromCharCode(t[a]);return s};var jk=(t,e)=>{const s=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a,i;const l=new Array(s*2);for(i=0,a=0;a<s;){let c=t[a++];if(c<128){l[i++]=c;continue}let d=xh[c];if(d>4){l[i++]=65533,a+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&a<s;)c=c<<6|t[a++]&63,d--;if(d>1){l[i++]=65533;continue}c<65536?l[i++]=c:(c-=65536,l[i++]=55296|c>>10&1023,l[i++]=56320|c&1023)}return Nk(l,i)},_k=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let s=e-1;for(;s>=0&&(t[s]&192)===128;)s--;return s<0||s===0?e:s+xh[t[s]]>e?s:e},wx={string2buf:wk,buf2string:jk,utf8border:_k};function Sk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ak=Sk;const Wf=16209,Ck=16191;var kk=function(e,s){let a,i,l,c,d,h,f,p,x,w,y,j,A,C,_,E,M,B,z,ne,K,U,$,te;const P=e.state;a=e.next_in,$=e.input,i=a+(e.avail_in-5),l=e.next_out,te=e.output,c=l-(s-e.avail_out),d=l+(e.avail_out-257),h=P.dmax,f=P.wsize,p=P.whave,x=P.wnext,w=P.window,y=P.hold,j=P.bits,A=P.lencode,C=P.distcode,_=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{j<15&&(y+=$[a++]<<j,j+=8,y+=$[a++]<<j,j+=8),M=A[y&_];t:for(;;){if(B=M>>>24,y>>>=B,j-=B,B=M>>>16&255,B===0)te[l++]=M&65535;else if(B&16){z=M&65535,B&=15,B&&(j<B&&(y+=$[a++]<<j,j+=8),z+=y&(1<<B)-1,y>>>=B,j-=B),j<15&&(y+=$[a++]<<j,j+=8,y+=$[a++]<<j,j+=8),M=C[y&E];s:for(;;){if(B=M>>>24,y>>>=B,j-=B,B=M>>>16&255,B&16){if(ne=M&65535,B&=15,j<B&&(y+=$[a++]<<j,j+=8,j<B&&(y+=$[a++]<<j,j+=8)),ne+=y&(1<<B)-1,ne>h){e.msg="invalid distance too far back",P.mode=Wf;break e}if(y>>>=B,j-=B,B=l-c,ne>B){if(B=ne-B,B>p&&P.sane){e.msg="invalid distance too far back",P.mode=Wf;break e}if(K=0,U=w,x===0){if(K+=f-B,B<z){z-=B;do te[l++]=w[K++];while(--B);K=l-ne,U=te}}else if(x<B){if(K+=f+x-B,B-=x,B<z){z-=B;do te[l++]=w[K++];while(--B);if(K=0,x<z){B=x,z-=B;do te[l++]=w[K++];while(--B);K=l-ne,U=te}}}else if(K+=x-B,B<z){z-=B;do te[l++]=w[K++];while(--B);K=l-ne,U=te}for(;z>2;)te[l++]=U[K++],te[l++]=U[K++],te[l++]=U[K++],z-=3;z&&(te[l++]=U[K++],z>1&&(te[l++]=U[K++]))}else{K=l-ne;do te[l++]=te[K++],te[l++]=te[K++],te[l++]=te[K++],z-=3;while(z>2);z&&(te[l++]=te[K++],z>1&&(te[l++]=te[K++]))}}else if((B&64)===0){M=C[(M&65535)+(y&(1<<B)-1)];continue s}else{e.msg="invalid distance code",P.mode=Wf;break e}break}}else if((B&64)===0){M=A[(M&65535)+(y&(1<<B)-1)];continue t}else if(B&32){P.mode=Ck;break e}else{e.msg="invalid literal/length code",P.mode=Wf;break e}break}}while(a<i&&l<d);z=j>>3,a-=z,j-=z<<3,y&=(1<<j)-1,e.next_in=a,e.next_out=l,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=l<d?257+(d-l):257-(l-d),P.hold=y,P.bits=j};const Cd=15,cy=852,dy=592,uy=0,Ap=1,hy=2,Ek=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Dk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Mk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Fk=(t,e,s,a,i,l,c,d)=>{const h=d.bits;let f=0,p=0,x=0,w=0,y=0,j=0,A=0,C=0,_=0,E=0,M,B,z,ne,K,U=null,$;const te=new Uint16Array(Cd+1),P=new Uint16Array(Cd+1);let O=null,H,G,re;for(f=0;f<=Cd;f++)te[f]=0;for(p=0;p<a;p++)te[e[s+p]]++;for(y=h,w=Cd;w>=1&&te[w]===0;w--);if(y>w&&(y=w),w===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,d.bits=1,0;for(x=1;x<w&&te[x]===0;x++);for(y<x&&(y=x),C=1,f=1;f<=Cd;f++)if(C<<=1,C-=te[f],C<0)return-1;if(C>0&&(t===uy||w!==1))return-1;for(P[1]=0,f=1;f<Cd;f++)P[f+1]=P[f]+te[f];for(p=0;p<a;p++)e[s+p]!==0&&(c[P[e[s+p]]++]=p);if(t===uy?(U=O=c,$=20):t===Ap?(U=Ek,O=Lk,$=257):(U=Dk,O=Mk,$=0),E=0,p=0,f=x,K=l,j=y,A=0,z=-1,_=1<<y,ne=_-1,t===Ap&&_>cy||t===hy&&_>dy)return 1;for(;;){H=f-A,c[p]+1<$?(G=0,re=c[p]):c[p]>=$?(G=O[c[p]-$],re=U[c[p]-$]):(G=96,re=0),M=1<<f-A,B=1<<j,x=B;do B-=M,i[K+(E>>A)+B]=H<<24|G<<16|re|0;while(B!==0);for(M=1<<f-1;E&M;)M>>=1;if(M!==0?(E&=M-1,E+=M):E=0,p++,--te[f]===0){if(f===w)break;f=e[s+c[p]]}if(f>y&&(E&ne)!==z){for(A===0&&(A=y),K+=x,j=f-A,C=1<<j;j+A<w&&(C-=te[j+A],!(C<=0));)j++,C<<=1;if(_+=1<<j,t===Ap&&_>cy||t===hy&&_>dy)return 1;z=E&ne,i[z]=y<<24|j<<16|K-l|0}}return E!==0&&(i[K+E]=f-A<<24|64<<16|0),d.bits=y,0};var oh=Fk;const Ok=0,Cw=1,kw=2,{Z_FINISH:fy,Z_BLOCK:Tk,Z_TREES:Gf,Z_OK:Uc,Z_STREAM_END:Pk,Z_NEED_DICT:Rk,Z_STREAM_ERROR:ti,Z_DATA_ERROR:Ew,Z_MEM_ERROR:Lw,Z_BUF_ERROR:Bk,Z_DEFLATED:my}=_w,Wm=16180,py=16181,xy=16182,gy=16183,by=16184,yy=16185,vy=16186,wy=16187,Ny=16188,jy=16189,Em=16190,Rl=16191,Cp=16192,_y=16193,kp=16194,Sy=16195,Ay=16196,Cy=16197,ky=16198,Yf=16199,Kf=16200,Ey=16201,Ly=16202,Dy=16203,My=16204,Fy=16205,Ep=16206,Oy=16207,Ty=16208,un=16209,Dw=16210,Mw=16211,Uk=852,Ik=592,qk=15,zk=qk,Py=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Hk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ic=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Wm||e.mode>Mw?1:0},Fw=t=>{if(Ic(t))return ti;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Wm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Uk),e.distcode=e.distdyn=new Int32Array(Ik),e.sane=1,e.back=-1,Uc},Ow=t=>{if(Ic(t))return ti;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Fw(t)},Tw=(t,e)=>{let s;if(Ic(t))return ti;const a=t.state;return e<0?(s=0,e=-e):(s=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ti:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=s,a.wbits=e,Ow(t))},Pw=(t,e)=>{if(!t)return ti;const s=new Hk;t.state=s,s.strm=t,s.window=null,s.mode=Wm;const a=Tw(t,e);return a!==Uc&&(t.state=null),a},$k=t=>Pw(t,zk);let Ry=!0,Lp,Dp;const Vk=t=>{if(Ry){Lp=new Int32Array(512),Dp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oh(Cw,t.lens,0,288,Lp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oh(kw,t.lens,0,32,Dp,0,t.work,{bits:5}),Ry=!1}t.lencode=Lp,t.lenbits=9,t.distcode=Dp,t.distbits=5},Rw=(t,e,s,a)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(e.subarray(s-l.wsize,s),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>a&&(i=a),l.window.set(e.subarray(s-a,s-a+i),l.wnext),a-=i,a?(l.window.set(e.subarray(s-a,s),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},Wk=(t,e)=>{let s,a,i,l,c,d,h,f,p,x,w,y,j,A,C=0,_,E,M,B,z,ne,K,U;const $=new Uint8Array(4);let te,P;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ic(t)||!t.output||!t.input&&t.avail_in!==0)return ti;s=t.state,s.mode===Rl&&(s.mode=Cp),c=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,a=t.input,d=t.avail_in,f=s.hold,p=s.bits,x=d,w=h,U=Uc;e:for(;;)switch(s.mode){case Wm:if(s.wrap===0){s.mode=Cp;break}for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(s.wrap&2&&f===35615){s.wbits===0&&(s.wbits=15),s.check=0,$[0]=f&255,$[1]=f>>>8&255,s.check=tl(s.check,$,2,0),f=0,p=0,s.mode=py;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",s.mode=un;break}if((f&15)!==my){t.msg="unknown compression method",s.mode=un;break}if(f>>>=4,p-=4,K=(f&15)+8,s.wbits===0&&(s.wbits=K),K>15||K>s.wbits){t.msg="invalid window size",s.mode=un;break}s.dmax=1<<s.wbits,s.flags=0,t.adler=s.check=1,s.mode=f&512?jy:Rl,f=0,p=0;break;case py:for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(s.flags=f,(s.flags&255)!==my){t.msg="unknown compression method",s.mode=un;break}if(s.flags&57344){t.msg="unknown header flags set",s.mode=un;break}s.head&&(s.head.text=f>>8&1),s.flags&512&&s.wrap&4&&($[0]=f&255,$[1]=f>>>8&255,s.check=tl(s.check,$,2,0)),f=0,p=0,s.mode=xy;case xy:for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.head&&(s.head.time=f),s.flags&512&&s.wrap&4&&($[0]=f&255,$[1]=f>>>8&255,$[2]=f>>>16&255,$[3]=f>>>24&255,s.check=tl(s.check,$,4,0)),f=0,p=0,s.mode=gy;case gy:for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.head&&(s.head.xflags=f&255,s.head.os=f>>8),s.flags&512&&s.wrap&4&&($[0]=f&255,$[1]=f>>>8&255,s.check=tl(s.check,$,2,0)),f=0,p=0,s.mode=by;case by:if(s.flags&1024){for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.length=f,s.head&&(s.head.extra_len=f),s.flags&512&&s.wrap&4&&($[0]=f&255,$[1]=f>>>8&255,s.check=tl(s.check,$,2,0)),f=0,p=0}else s.head&&(s.head.extra=null);s.mode=yy;case yy:if(s.flags&1024&&(y=s.length,y>d&&(y=d),y&&(s.head&&(K=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(l,l+y),K)),s.flags&512&&s.wrap&4&&(s.check=tl(s.check,a,y,l)),d-=y,l+=y,s.length-=y),s.length))break e;s.length=0,s.mode=vy;case vy:if(s.flags&2048){if(d===0)break e;y=0;do K=a[l+y++],s.head&&K&&s.length<65536&&(s.head.name+=String.fromCharCode(K));while(K&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=tl(s.check,a,y,l)),d-=y,l+=y,K)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=wy;case wy:if(s.flags&4096){if(d===0)break e;y=0;do K=a[l+y++],s.head&&K&&s.length<65536&&(s.head.comment+=String.fromCharCode(K));while(K&&y<d);if(s.flags&512&&s.wrap&4&&(s.check=tl(s.check,a,y,l)),d-=y,l+=y,K)break e}else s.head&&(s.head.comment=null);s.mode=Ny;case Ny:if(s.flags&512){for(;p<16;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(s.wrap&4&&f!==(s.check&65535)){t.msg="header crc mismatch",s.mode=un;break}f=0,p=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),t.adler=s.check=0,s.mode=Rl;break;case jy:for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}t.adler=s.check=Py(f),f=0,p=0,s.mode=Em;case Em:if(s.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,s.hold=f,s.bits=p,Rk;t.adler=s.check=1,s.mode=Rl;case Rl:if(e===Tk||e===Gf)break e;case Cp:if(s.last){f>>>=p&7,p-=p&7,s.mode=Ep;break}for(;p<3;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}switch(s.last=f&1,f>>>=1,p-=1,f&3){case 0:s.mode=_y;break;case 1:if(Vk(s),s.mode=Yf,e===Gf){f>>>=2,p-=2;break e}break;case 2:s.mode=Ay;break;case 3:t.msg="invalid block type",s.mode=un}f>>>=2,p-=2;break;case _y:for(f>>>=p&7,p-=p&7;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",s.mode=un;break}if(s.length=f&65535,f=0,p=0,s.mode=kp,e===Gf)break e;case kp:s.mode=Sy;case Sy:if(y=s.length,y){if(y>d&&(y=d),y>h&&(y=h),y===0)break e;i.set(a.subarray(l,l+y),c),d-=y,l+=y,h-=y,c+=y,s.length-=y;break}s.mode=Rl;break;case Ay:for(;p<14;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(s.nlen=(f&31)+257,f>>>=5,p-=5,s.ndist=(f&31)+1,f>>>=5,p-=5,s.ncode=(f&15)+4,f>>>=4,p-=4,s.nlen>286||s.ndist>30){t.msg="too many length or distance symbols",s.mode=un;break}s.have=0,s.mode=Cy;case Cy:for(;s.have<s.ncode;){for(;p<3;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.lens[O[s.have++]]=f&7,f>>>=3,p-=3}for(;s.have<19;)s.lens[O[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,te={bits:s.lenbits},U=oh(Ok,s.lens,0,19,s.lencode,0,s.work,te),s.lenbits=te.bits,U){t.msg="invalid code lengths set",s.mode=un;break}s.have=0,s.mode=ky;case ky:for(;s.have<s.nlen+s.ndist;){for(;C=s.lencode[f&(1<<s.lenbits)-1],_=C>>>24,E=C>>>16&255,M=C&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(M<16)f>>>=_,p-=_,s.lens[s.have++]=M;else{if(M===16){for(P=_+2;p<P;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(f>>>=_,p-=_,s.have===0){t.msg="invalid bit length repeat",s.mode=un;break}K=s.lens[s.have-1],y=3+(f&3),f>>>=2,p-=2}else if(M===17){for(P=_+3;p<P;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=_,p-=_,K=0,y=3+(f&7),f>>>=3,p-=3}else{for(P=_+7;p<P;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=_,p-=_,K=0,y=11+(f&127),f>>>=7,p-=7}if(s.have+y>s.nlen+s.ndist){t.msg="invalid bit length repeat",s.mode=un;break}for(;y--;)s.lens[s.have++]=K}}if(s.mode===un)break;if(s.lens[256]===0){t.msg="invalid code -- missing end-of-block",s.mode=un;break}if(s.lenbits=9,te={bits:s.lenbits},U=oh(Cw,s.lens,0,s.nlen,s.lencode,0,s.work,te),s.lenbits=te.bits,U){t.msg="invalid literal/lengths set",s.mode=un;break}if(s.distbits=6,s.distcode=s.distdyn,te={bits:s.distbits},U=oh(kw,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,te),s.distbits=te.bits,U){t.msg="invalid distances set",s.mode=un;break}if(s.mode=Yf,e===Gf)break e;case Yf:s.mode=Kf;case Kf:if(d>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,s.hold=f,s.bits=p,kk(t,w),c=t.next_out,i=t.output,h=t.avail_out,l=t.next_in,a=t.input,d=t.avail_in,f=s.hold,p=s.bits,s.mode===Rl&&(s.back=-1);break}for(s.back=0;C=s.lencode[f&(1<<s.lenbits)-1],_=C>>>24,E=C>>>16&255,M=C&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(E&&(E&240)===0){for(B=_,z=E,ne=M;C=s.lencode[ne+((f&(1<<B+z)-1)>>B)],_=C>>>24,E=C>>>16&255,M=C&65535,!(B+_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=B,p-=B,s.back+=B}if(f>>>=_,p-=_,s.back+=_,s.length=M,E===0){s.mode=Fy;break}if(E&32){s.back=-1,s.mode=Rl;break}if(E&64){t.msg="invalid literal/length code",s.mode=un;break}s.extra=E&15,s.mode=Ey;case Ey:if(s.extra){for(P=s.extra;p<P;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.length+=f&(1<<s.extra)-1,f>>>=s.extra,p-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=Ly;case Ly:for(;C=s.distcode[f&(1<<s.distbits)-1],_=C>>>24,E=C>>>16&255,M=C&65535,!(_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if((E&240)===0){for(B=_,z=E,ne=M;C=s.distcode[ne+((f&(1<<B+z)-1)>>B)],_=C>>>24,E=C>>>16&255,M=C&65535,!(B+_<=p);){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}f>>>=B,p-=B,s.back+=B}if(f>>>=_,p-=_,s.back+=_,E&64){t.msg="invalid distance code",s.mode=un;break}s.offset=M,s.extra=E&15,s.mode=Dy;case Dy:if(s.extra){for(P=s.extra;p<P;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}s.offset+=f&(1<<s.extra)-1,f>>>=s.extra,p-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){t.msg="invalid distance too far back",s.mode=un;break}s.mode=My;case My:if(h===0)break e;if(y=w-h,s.offset>y){if(y=s.offset-y,y>s.whave&&s.sane){t.msg="invalid distance too far back",s.mode=un;break}y>s.wnext?(y-=s.wnext,j=s.wsize-y):j=s.wnext-y,y>s.length&&(y=s.length),A=s.window}else A=i,j=c-s.offset,y=s.length;y>h&&(y=h),h-=y,s.length-=y;do i[c++]=A[j++];while(--y);s.length===0&&(s.mode=Kf);break;case Fy:if(h===0)break e;i[c++]=s.length,h--,s.mode=Kf;break;case Ep:if(s.wrap){for(;p<32;){if(d===0)break e;d--,f|=a[l++]<<p,p+=8}if(w-=h,t.total_out+=w,s.total+=w,s.wrap&4&&w&&(t.adler=s.check=s.flags?tl(s.check,i,w,c-w):yx(s.check,i,w,c-w)),w=h,s.wrap&4&&(s.flags?f:Py(f))!==s.check){t.msg="incorrect data check",s.mode=un;break}f=0,p=0}s.mode=Oy;case Oy:if(s.wrap&&s.flags){for(;p<32;){if(d===0)break e;d--,f+=a[l++]<<p,p+=8}if(s.wrap&4&&f!==(s.total&4294967295)){t.msg="incorrect length check",s.mode=un;break}f=0,p=0}s.mode=Ty;case Ty:U=Pk;break e;case un:U=Ew;break e;case Dw:return Lw;case Mw:default:return ti}return t.next_out=c,t.avail_out=h,t.next_in=l,t.avail_in=d,s.hold=f,s.bits=p,(s.wsize||w!==t.avail_out&&s.mode<un&&(s.mode<Ep||e!==fy))&&Rw(t,t.output,t.next_out,w-t.avail_out),x-=t.avail_in,w-=t.avail_out,t.total_in+=x,t.total_out+=w,s.total+=w,s.wrap&4&&w&&(t.adler=s.check=s.flags?tl(s.check,i,w,t.next_out-w):yx(s.check,i,w,t.next_out-w)),t.data_type=s.bits+(s.last?64:0)+(s.mode===Rl?128:0)+(s.mode===Yf||s.mode===kp?256:0),(x===0&&w===0||e===fy)&&U===Uc&&(U=Bk),U},Gk=t=>{if(Ic(t))return ti;let e=t.state;return e.window&&(e.window=null),t.state=null,Uc},Yk=(t,e)=>{if(Ic(t))return ti;const s=t.state;return(s.wrap&2)===0?ti:(s.head=e,e.done=!1,Uc)},Kk=(t,e)=>{const s=e.length;let a,i,l;return Ic(t)||(a=t.state,a.wrap!==0&&a.mode!==Em)?ti:a.mode===Em&&(i=1,i=yx(i,e,s,0),i!==a.check)?Ew:(l=Rw(t,e,s,s),l?(a.mode=Dw,Lw):(a.havedict=1,Uc))};var Qk=Ow,Xk=Tw,Zk=Fw,Jk=$k,e7=Pw,t7=Wk,s7=Gk,n7=Yk,a7=Kk,r7="pako inflate (from Nodeca project)",ql={inflateReset:Qk,inflateReset2:Xk,inflateResetKeep:Zk,inflateInit:Jk,inflateInit2:e7,inflate:t7,inflateEnd:s7,inflateGetHeader:n7,inflateSetDictionary:a7,inflateInfo:r7};function i7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var l7=i7;const Bw=Object.prototype.toString,{Z_NO_FLUSH:o7,Z_FINISH:c7,Z_OK:gh,Z_STREAM_END:Mp,Z_NEED_DICT:Fp,Z_STREAM_ERROR:d7,Z_DATA_ERROR:By,Z_MEM_ERROR:u7}=_w;function Ch(t){this.options=Sw.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ak,this.strm.avail_out=0;let s=ql.inflateInit2(this.strm,e.windowBits);if(s!==gh)throw new Error(vx[s]);if(this.header=new l7,ql.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wx.string2buf(e.dictionary):Bw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(s=ql.inflateSetDictionary(this.strm,e.dictionary),s!==gh)))throw new Error(vx[s])}Ch.prototype.push=function(t,e){const s=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let l,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?c7:o7,Bw.call(t)==="[object ArrayBuffer]"?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),l=ql.inflate(s,c),l===Fp&&i&&(l=ql.inflateSetDictionary(s,i),l===gh?l=ql.inflate(s,c):l===By&&(l=Fp));s.avail_in>0&&l===Mp&&s.state.wrap>0&&t[s.next_in]!==0;)ql.inflateReset(s),l=ql.inflate(s,c);switch(l){case d7:case By:case Fp:case u7:return this.onEnd(l),this.ended=!0,!1}if(d=s.avail_out,s.next_out&&(s.avail_out===0||l===Mp))if(this.options.to==="string"){let h=wx.utf8border(s.output,s.next_out),f=s.next_out-h,p=wx.buf2string(s.output,h);s.next_out=f,s.avail_out=a-f,f&&s.output.set(s.output.subarray(h,h+f),0),this.onData(p)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(l===gh&&d===0)){if(l===Mp)return l=ql.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Ch.prototype.onData=function(t){this.chunks.push(t)};Ch.prototype.onEnd=function(t){t===gh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sw.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function h7(t,e){const s=new Ch(e);if(s.push(t),s.err)throw s.msg||vx[s.err];return s.result}var f7=Ch,m7=h7,p7={Inflate:f7,inflate:m7};const{Inflate:x7,inflate:g7}=p7;var Uy=x7,b7=g7;const Uw=[];for(let t=0;t<256;t++){let e=t;for(let s=0;s<8;s++)e&1?e=3988292384^e>>>1:e=e>>>1;Uw[t]=e}const Iy=4294967295;function y7(t,e,s){let a=t;for(let i=0;i<s;i++)a=Uw[(a^e[i])&255]^a>>>8;return a}function v7(t,e){return(y7(Iy,t,e)^Iy)>>>0}function qy(t,e,s){const a=t.readUint32(),i=v7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==a)throw new Error(`CRC mismatch for chunk ${s}. Expected ${a}, found ${i}`)}function Iw(t,e,s){for(let a=0;a<s;a++)e[a]=t[a]}function qw(t,e,s,a){let i=0;for(;i<a;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+e[i-a]&255}function zw(t,e,s,a){let i=0;if(s.length===0)for(;i<a;i++)e[i]=t[i];else for(;i<a;i++)e[i]=t[i]+s[i]&255}function Hw(t,e,s,a,i){let l=0;if(s.length===0){for(;l<i;l++)e[l]=t[l];for(;l<a;l++)e[l]=t[l]+(e[l-i]>>1)&255}else{for(;l<i;l++)e[l]=t[l]+(s[l]>>1)&255;for(;l<a;l++)e[l]=t[l]+(e[l-i]+s[l]>>1)&255}}function $w(t,e,s,a,i){let l=0;if(s.length===0){for(;l<i;l++)e[l]=t[l];for(;l<a;l++)e[l]=t[l]+e[l-i]&255}else{for(;l<i;l++)e[l]=t[l]+s[l]&255;for(;l<a;l++)e[l]=t[l]+w7(e[l-i],s[l],s[l-i])&255}}function w7(t,e,s){const a=t+e-s,i=Math.abs(a-t),l=Math.abs(a-e),c=Math.abs(a-s);return i<=l&&i<=c?t:l<=c?e:s}function N7(t,e,s,a,i,l){switch(t){case 0:Iw(e,s,i);break;case 1:qw(e,s,i,l);break;case 2:zw(e,s,a,i);break;case 3:Hw(e,s,a,i,l);break;case 4:$w(e,s,a,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const j7=new Uint16Array([255]),_7=new Uint8Array(j7.buffer),S7=_7[0]===255;function A7(t){const{data:e,width:s,height:a,channels:i,depth:l}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(l/8)*i,h=new Uint8Array(a*s*d);let f=0;for(let p=0;p<7;p++){const x=c[p],w=Math.ceil((s-x.x)/x.xStep),y=Math.ceil((a-x.y)/x.yStep);if(w<=0||y<=0)continue;const j=w*d,A=new Uint8Array(j);for(let C=0;C<y;C++){const _=e[f++],E=e.subarray(f,f+j);f+=j;const M=new Uint8Array(j);N7(_,E,M,A,j,d),A.set(M);for(let B=0;B<w;B++){const z=x.x+B*x.xStep,ne=x.y+C*x.yStep;if(!(z>=s||ne>=a))for(let K=0;K<d;K++)h[(ne*s+z)*d+K]=M[B*d+K]}}}if(l===16){const p=new Uint16Array(h.buffer);if(S7)for(let x=0;x<p.length;x++)p[x]=C7(p[x]);return p}else return h}function C7(t){return(t&255)<<8|t>>8&255}const k7=new Uint16Array([255]),E7=new Uint8Array(k7.buffer),L7=E7[0]===255,D7=new Uint8Array(0);function zy(t){const{data:e,width:s,height:a,channels:i,depth:l}=t,c=Math.ceil(l/8)*i,d=Math.ceil(l/8*i*s),h=new Uint8Array(a*d);let f=D7,p=0,x,w;for(let y=0;y<a;y++){switch(x=e.subarray(p+1,p+1+d),w=h.subarray(y*d,(y+1)*d),e[p]){case 0:Iw(x,w,d);break;case 1:qw(x,w,d,c);break;case 2:zw(x,w,f,d);break;case 3:Hw(x,w,f,d,c);break;case 4:$w(x,w,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=w,p+=d+1}if(l===16){const y=new Uint16Array(h.buffer);if(L7)for(let j=0;j<y.length;j++)y[j]=M7(y[j]);return y}else return h}function M7(t){return(t&255)<<8|t>>8&255}const cm=Uint8Array.of(137,80,78,71,13,10,26,10);function Hy(t){if(!F7(t.readBytes(cm.length)))throw new Error("wrong PNG signature")}function F7(t){if(t.length<cm.length)return!1;for(let e=0;e<cm.length;e++)if(t[e]!==cm[e])return!1;return!0}const O7="tEXt",T7=0,Vw=new TextDecoder("latin1");function P7(t){if(B7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const R7=/^[\u0000-\u00FF]*$/;function B7(t){if(!R7.test(t))throw new Error("invalid latin1 text")}function U7(t,e,s){const a=Ww(e);t[a]=I7(e,s-a.length-1)}function Ww(t){for(t.mark();t.readByte()!==T7;);const e=t.offset;t.reset();const s=Vw.decode(t.readBytes(e-t.offset-1));return t.skip(1),P7(s),s}function I7(t,e){return Vw.decode(t.readBytes(e))}const vr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Op={UNKNOWN:-1,DEFLATE:0},$y={UNKNOWN:-1,ADAPTIVE:0},Tp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qf={NONE:0,BACKGROUND:1,PREVIOUS:2},Pp={SOURCE:0,OVER:1};class q7 extends ng{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,s={}){super(e);const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new Uy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Op.UNKNOWN,this._filterMethod=$y.UNKNOWN,this._interlaceMethod=Tp.UNKNOWN,this._colorType=vr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Hy(this);!this._end;){const e=this.readUint32(),s=this.readChars(4);this.decodeChunk(e,s)}return this.decodeImage(),this._png}decodeApng(){for(Hy(this);!this._end;){const e=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(e,s)}return this.decodeApngImage(),this._apng}decodeChunk(e,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case O7:U7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?qy(this,e+4,s):this.skip(4)}decodeApngChunk(e,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,s),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?qy(this,e+4,s):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=z7(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case vr.GREYSCALE:a=1;break;case vr.TRUECOLOUR:a=3;break;case vr.INDEXED_COLOUR:a=1;break;case vr.GREYSCALE_ALPHA:a=2;break;case vr.TRUECOLOUR_ALPHA:a=4;break;case vr.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Op.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const s=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const s=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let s=e,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case vr.GREYSCALE:case vr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let s=0;s<e/2;s++)this._transparency[s]=this.readUint16();break}case vr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let s=0;for(;s<e;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case vr.UNKNOWN:case vr.GREYSCALE_ALPHA:case vr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const s=Ww(this),a=this.readUint8();if(a!==Op.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(e-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:b7(i)}}decodepHYs(){const e=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const s={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=zy({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(e,s,a){switch(e.disposeOp){case Qf.NONE:break;case Qf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const c=(i*e.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case Qf.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,s){const a=1<<this._png.depth,i=(l,c)=>{const d=((l+s.yOffset)*this._png.width+s.xOffset+c)*this._png.channels,h=(l*s.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(s.blendOp){case Pp.SOURCE:for(let l=0;l<s.height;l++)for(let c=0;c<s.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=s.data[h+f]}break;case Pp.OVER:for(let l=0;l<s.height;l++)for(let c=0;c<s.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let f=0;f<this._png.channels;f++){const p=s.data[h+this._png.channels-1]/a,x=f%(this._png.channels-1)===0?1:s.data[h+f],w=Math.floor(p*x+(1-p)*e.data[d+f]);e.data[d+f]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==$y.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Tp.NO_INTERLACE)this._png.data=zy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Tp.ADAM7)this._png.data=A7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,s=this._frames.at(-1);s?s.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qf.NONE,blendOp:Pp.SOURCE,data:e}),this._inflator=new Uy,this._writingDataChunks=!1}}function z7(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Vy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Vy||(Vy={}));function H7(t,e){return new q7(t,e).decode()}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rp(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Gs={log:Rp,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):Rp.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):Rp(t))}};function Bp(t,e,s){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Cc(a.response,e,s)},a.onerror=function(){Gs.error("could not download file")},a.send()}function Wy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Cc=Qt.saveAs||((typeof window>"u"?"undefined":Rs(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,s){var a=Qt.URL||Qt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Wy(i.href)?Bp(t,e,s):Xf(i,i.target="_blank"):Xf(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t=="string")if(Wy(t))Bp(t,e,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){Xf(a)})}else navigator.msSaveOrOpenBlob(function(i,l){return l===void 0?l={autoBom:!1}:Rs(l)!=="object"&&(Gs.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,s),e)}:function(t,e,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Bp(t,e,s);var i=t.type==="application/octet-stream",l=/constructor/i.test(Qt.HTMLElement)||Qt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l)&&(typeof FileReader>"u"?"undefined":Rs(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=p:location=p,a=null},d.readAsDataURL(t)}else{var h=Qt.URL||Qt.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Gw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<s.length;a++){var i=s[a].re,l=s[a].process,c=i.exec(t);c&&(e=l(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}var dm=Qt.atob.bind(Qt),Gy=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Up(t,e){var s=t[0],a=t[1],i=t[2],l=t[3];s=ja(s,a,i,l,e[0],7,-680876936),l=ja(l,s,a,i,e[1],12,-389564586),i=ja(i,l,s,a,e[2],17,606105819),a=ja(a,i,l,s,e[3],22,-1044525330),s=ja(s,a,i,l,e[4],7,-176418897),l=ja(l,s,a,i,e[5],12,1200080426),i=ja(i,l,s,a,e[6],17,-1473231341),a=ja(a,i,l,s,e[7],22,-45705983),s=ja(s,a,i,l,e[8],7,1770035416),l=ja(l,s,a,i,e[9],12,-1958414417),i=ja(i,l,s,a,e[10],17,-42063),a=ja(a,i,l,s,e[11],22,-1990404162),s=ja(s,a,i,l,e[12],7,1804603682),l=ja(l,s,a,i,e[13],12,-40341101),i=ja(i,l,s,a,e[14],17,-1502002290),s=_a(s,a=ja(a,i,l,s,e[15],22,1236535329),i,l,e[1],5,-165796510),l=_a(l,s,a,i,e[6],9,-1069501632),i=_a(i,l,s,a,e[11],14,643717713),a=_a(a,i,l,s,e[0],20,-373897302),s=_a(s,a,i,l,e[5],5,-701558691),l=_a(l,s,a,i,e[10],9,38016083),i=_a(i,l,s,a,e[15],14,-660478335),a=_a(a,i,l,s,e[4],20,-405537848),s=_a(s,a,i,l,e[9],5,568446438),l=_a(l,s,a,i,e[14],9,-1019803690),i=_a(i,l,s,a,e[3],14,-187363961),a=_a(a,i,l,s,e[8],20,1163531501),s=_a(s,a,i,l,e[13],5,-1444681467),l=_a(l,s,a,i,e[2],9,-51403784),i=_a(i,l,s,a,e[7],14,1735328473),s=Sa(s,a=_a(a,i,l,s,e[12],20,-1926607734),i,l,e[5],4,-378558),l=Sa(l,s,a,i,e[8],11,-2022574463),i=Sa(i,l,s,a,e[11],16,1839030562),a=Sa(a,i,l,s,e[14],23,-35309556),s=Sa(s,a,i,l,e[1],4,-1530992060),l=Sa(l,s,a,i,e[4],11,1272893353),i=Sa(i,l,s,a,e[7],16,-155497632),a=Sa(a,i,l,s,e[10],23,-1094730640),s=Sa(s,a,i,l,e[13],4,681279174),l=Sa(l,s,a,i,e[0],11,-358537222),i=Sa(i,l,s,a,e[3],16,-722521979),a=Sa(a,i,l,s,e[6],23,76029189),s=Sa(s,a,i,l,e[9],4,-640364487),l=Sa(l,s,a,i,e[12],11,-421815835),i=Sa(i,l,s,a,e[15],16,530742520),s=Aa(s,a=Sa(a,i,l,s,e[2],23,-995338651),i,l,e[0],6,-198630844),l=Aa(l,s,a,i,e[7],10,1126891415),i=Aa(i,l,s,a,e[14],15,-1416354905),a=Aa(a,i,l,s,e[5],21,-57434055),s=Aa(s,a,i,l,e[12],6,1700485571),l=Aa(l,s,a,i,e[3],10,-1894986606),i=Aa(i,l,s,a,e[10],15,-1051523),a=Aa(a,i,l,s,e[1],21,-2054922799),s=Aa(s,a,i,l,e[8],6,1873313359),l=Aa(l,s,a,i,e[15],10,-30611744),i=Aa(i,l,s,a,e[6],15,-1560198380),a=Aa(a,i,l,s,e[13],21,1309151649),s=Aa(s,a,i,l,e[4],6,-145523070),l=Aa(l,s,a,i,e[11],10,-1120210379),i=Aa(i,l,s,a,e[2],15,718787259),a=Aa(a,i,l,s,e[9],21,-343485551),t[0]=Bo(s,t[0]),t[1]=Bo(a,t[1]),t[2]=Bo(i,t[2]),t[3]=Bo(l,t[3])}function Gm(t,e,s,a,i,l){return e=Bo(Bo(e,t),Bo(a,l)),Bo(e<<i|e>>>32-i,s)}function ja(t,e,s,a,i,l,c){return Gm(e&s|~e&a,t,e,i,l,c)}function _a(t,e,s,a,i,l,c){return Gm(e&a|s&~a,t,e,i,l,c)}function Sa(t,e,s,a,i,l,c){return Gm(e^s^a,t,e,i,l,c)}function Aa(t,e,s,a,i,l,c){return Gm(s^(e|~a),t,e,i,l,c)}function Yw(t){var e,s=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Up(a,$7(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Up(a,i),e=0;e<16;e++)i[e]=0;return i[14]=8*s,Up(a,i),a}function $7(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}var Yy="0123456789abcdef".split("");function V7(t){for(var e="",s=0;s<4;s++)e+=Yy[t>>8*s+4&15]+Yy[t>>8*s&15];return e}function W7(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Nx(t){return Yw(t).map(W7).join("")}var G7=function(t){for(var e=0;e<t.length;e++)t[e]=V7(t[e]);return t.join("")}(Yw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bo(t,e){if(G7){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jx(t,e){var s,a,i,l;if(t!==s){for(var c=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var p=d[h];f=(f+p+c.charCodeAt(h))%256,d[h]=d[f],d[f]=p}s=t,a=d}else d=a;var x=e.length,w=0,y=0,j="";for(h=0;h<x;h++)y=(y+(p=d[w=(w+1)%256]))%256,d[w]=d[y],d[y]=p,c=d[(d[w]+d[y])%256],j+=String.fromCharCode(e.charCodeAt(h)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ky={print:4,modify:8,copy:16,"annot-forms":32};function Ld(t,e,s,a){this.v=1,this.r=2;var i=192;t.forEach(function(d){if(Ky.perm!==void 0)throw new Error("Invalid permission: "+d);i+=Ky[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),c=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^i)),this.encryptionKey=Nx(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=jx(this.encryptionKey,this.padding)}function Dd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",s=t.length,a=0;a<s;a++){var i=t.charCodeAt(a);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[a]}return e}function Qy(t){if(Rs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(s,a,i){if(i=i||!1,typeof s!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(s)||(e[s]={});var l=Math.random().toString(35);return e[s][l]=[a,!!i],l},this.unsubscribe=function(s){for(var a in e)if(e[a][s])return delete e[a][s],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(s){if(e.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var l in e[s]){var c=e[s][l];try{c[0].apply(t,a)}catch(d){Qt.console&&Gs.error("jsPDF PubSub Error",d.message,d)}c[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lm(t){if(!(this instanceof Lm))return new Lm(t);var e="opacity,stroke-opacity".split(",");for(var s in t)t.hasOwnProperty(s)&&e.indexOf(s)>=0&&(this[s]=t[s]);this.id="",this.objectNumber=-1}function Kw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kc(t,e,s,a,i){if(!(this instanceof kc))return new kc(t,e,s,a,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=s,Kw.call(this,a,i)}function Fd(t,e,s,a,i){if(!(this instanceof Fd))return new Fd(t,e,s,a,i);this.boundingBox=t,this.xStep=e,this.yStep=s,this.stream="",this.cloneIndex=0,Kw.call(this,a,i)}function Mt(t){var e,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],l=arguments[3],c=[],d=1,h=16,f="S",p=null;Rs(t=t||{})==="object"&&(s=t.orientation,a=t.unit||a,i=t.format||i,l=t.compress||t.compressPdf||l,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(l===!0?["FlateEncode"]:c),a=a||"mm",s=(""+(s||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=Qy;var j="1.3",A=y.__private__.getPdfVersion=function(){return j};y.__private__.setPdfVersion=function(S){j=S};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return C};var _=y.__private__.getPageFormat=function(S){return C[S]};i=i||"a4";var E="compat",M="advanced",B=E;function z(){this.saveGraphicsState(),ue(new Pt(ve,0,0,-ve,0,Ma()*ve).toString()+" cm"),this.setFontSize(this.getFontSize()/ve),f="n",B=M}function ne(){this.restoreGraphicsState(),f="S",B=E}var K=y.__private__.combineFontStyleAndFontWeight=function(S,W){if(S=="bold"&&W=="normal"||S=="bold"&&W==400||S=="normal"&&W=="italic"||S=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(S=W==400||W==="normal"?S==="italic"?"italic":"normal":W!=700&&W!=="bold"||S!=="normal"?(W==700?"bold":W)+""+S:"bold"),S};y.advancedAPI=function(S){var W=B===E;return W&&z.call(this),typeof S!="function"||(S(this),W&&ne.call(this)),this},y.compatAPI=function(S){var W=B===M;return W&&ne.call(this),typeof S!="function"||(S(this),W&&z.call(this)),this},y.isAdvancedAPI=function(){return B===M};var U,$=function(S){if(B!==M)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=y.roundToPrecision=y.__private__.roundToPrecision=function(S,W){var pe=e||W;if(isNaN(S)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(pe).replace(/0+$/,"")};U=y.hpf=y.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,16)};var P=y.f2=y.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return te(S,2)},O=y.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return te(S,3)},H=y.scale=y.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return B===E?S*ve:B===M?S:void 0},G=function(S){return H(function(W){return B===E?Ma()-W:B===M?W:void 0}(S))};y.__private__.setPrecision=y.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var re,ee="00000000000000000000000000000000",ie=y.__private__.getFileId=function(){return ee},le=y.__private__.setFileId=function(S){return ee=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(bs=new Ld(p.userPermissions,p.userPassword,p.ownerPassword,ee)),ee};y.setFileId=function(S){return le(S),this},y.getFileId=function(){return ie()};var ce=y.__private__.convertDateToPDFDate=function(S){var W=S.getTimezoneOffset(),pe=W<0?"+":"-",ge=Math.floor(Math.abs(W/60)),_e=Math.abs(W%60),$e=[pe,q(ge),"'",q(_e),"'"].join("");return["D:",S.getFullYear(),q(S.getMonth()+1),q(S.getDate()),q(S.getHours()),q(S.getMinutes()),q(S.getSeconds()),$e].join("")},Y=y.__private__.convertPDFDateToDate=function(S){var W=parseInt(S.substr(2,4),10),pe=parseInt(S.substr(6,2),10)-1,ge=parseInt(S.substr(8,2),10),_e=parseInt(S.substr(10,2),10),$e=parseInt(S.substr(12,2),10),tt=parseInt(S.substr(14,2),10);return new Date(W,pe,ge,_e,$e,tt,0)},de=y.__private__.setCreationDate=function(S){var W;if(S===void 0&&(S=new Date),S instanceof Date)W=ce(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=S}return re=W},T=y.__private__.getCreationDate=function(S){var W=re;return S==="jsDate"&&(W=Y(re)),W};y.setCreationDate=function(S){return de(S),this},y.getCreationDate=function(S){return T(S)};var F,q=y.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},I=y.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},se=0,fe=[],be=[],Se=0,Oe=[],He=[],Be=!1,et=be;y.__private__.setCustomOutputDestination=function(S){Be=!0,et=S};var Ae=function(S){Be||(et=S)};y.__private__.resetCustomOutputDestination=function(){Be=!1,et=be};var ue=y.__private__.out=function(S){return S=S.toString(),Se+=S.length+1,et.push(S),et},Dt=y.__private__.write=function(S){return ue(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},at=y.__private__.getArrayBuffer=function(S){for(var W=S.length,pe=new ArrayBuffer(W),ge=new Uint8Array(pe);W--;)ge[W]=S.charCodeAt(W);return pe},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return gt};var Je=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(S){return Je=B===M?S/ve:S,this};var xt,rt=y.__private__.getFontSize=y.getFontSize=function(){return B===E?Je:Je*ve},At=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(S){return At=S,this},y.__private__.getR2L=y.getR2L=function(){return At};var Pe,ut=y.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))xt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');xt=S}else xt=parseInt(S,10)};y.__private__.getZoomMode=function(){return xt};var Te,Ge=y.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Pe=S};y.__private__.getPageMode=function(){return Pe};var pt=y.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Te=S};y.__private__.getLayoutMode=function(){return Te},y.__private__.setDisplayMode=y.setDisplayMode=function(S,W,pe){return ut(S),pt(W),Ge(pe),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(S){if(Object.keys(jt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[S]},y.__private__.getDocumentProperties=function(){return jt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(S){for(var W in jt)jt.hasOwnProperty(W)&&S[W]&&(jt[W]=S[W]);return this},y.__private__.setDocumentProperty=function(S,W){if(Object.keys(jt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[S]=W};var ft,ve,Ke,qt,Rt,it={},Ot={},ls=[],mt={},Gt={},Tt={},As={},Qe=null,ct=0,We=[],as=new Qy(y),Xn=t.hotfixes||[],Xs={},Zn={},ka=[],Pt=function S(W,pe,ge,_e,$e,tt){if(!(this instanceof S))return new S(W,pe,ge,_e,$e,tt);isNaN(W)&&(W=1),isNaN(pe)&&(pe=0),isNaN(ge)&&(ge=0),isNaN(_e)&&(_e=1),isNaN($e)&&($e=0),isNaN(tt)&&(tt=0),this._matrix=[W,pe,ge,_e,$e,tt]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(S)},Pt.prototype.multiply=function(S){var W=S.sx*this.sx+S.shy*this.shx,pe=S.sx*this.shy+S.shy*this.sy,ge=S.shx*this.sx+S.sy*this.shx,_e=S.shx*this.shy+S.sy*this.sy,$e=S.tx*this.sx+S.ty*this.shx+this.tx,tt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Pt(W,pe,ge,_e,$e,tt)},Pt.prototype.decompose=function(){var S=this.sx,W=this.shy,pe=this.shx,ge=this.sy,_e=this.tx,$e=this.ty,tt=Math.sqrt(S*S+W*W),_t=(S/=tt)*pe+(W/=tt)*ge;pe-=S*_t,ge-=W*_t;var Lt=Math.sqrt(pe*pe+ge*ge);return _t/=Lt,S*(ge/=Lt)<W*(pe/=Lt)&&(S=-S,W=-W,_t=-_t,tt=-tt),{scale:new Pt(tt,0,0,Lt,0,0),translate:new Pt(1,0,0,1,_e,$e),rotate:new Pt(S,W,-W,S,0,0),skew:new Pt(1,0,_t,1,0,0)}},Pt.prototype.toString=function(S){return this.join(" ")},Pt.prototype.inversed=function(){var S=this.sx,W=this.shy,pe=this.shx,ge=this.sy,_e=this.tx,$e=this.ty,tt=1/(S*ge-W*pe),_t=ge*tt,Lt=-W*tt,Ht=-pe*tt,Jt=S*tt;return new Pt(_t,Lt,Ht,Jt,-_t*_e-Ht*$e,-Lt*_e-Jt*$e)},Pt.prototype.applyToPoint=function(S){var W=S.x*this.sx+S.y*this.shx+this.tx,pe=S.x*this.shy+S.y*this.sy+this.ty;return new fl(W,pe)},Pt.prototype.applyToRectangle=function(S){var W=this.applyToPoint(S),pe=this.applyToPoint(new fl(S.x+S.w,S.y+S.h));return new ml(W.x,W.y,pe.x-W.x,pe.y-W.y)},Pt.prototype.clone=function(){var S=this.sx,W=this.shy,pe=this.shx,ge=this.sy,_e=this.tx,$e=this.ty;return new Pt(S,W,pe,ge,_e,$e)},y.Matrix=Pt;var Sn=y.matrixMult=function(S,W){return W.multiply(S)},xs=new Pt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=xs;var bt=function(S,W){if(!Gt[S]){var pe=(W instanceof kc?"Sh":"P")+(Object.keys(mt).length+1).toString(10);W.id=pe,Gt[S]=pe,mt[pe]=W,as.publish("addPattern",W)}};y.ShadingPattern=kc,y.TilingPattern=Fd,y.addShadingPattern=function(S,W){return $("addShadingPattern()"),bt(S,W),this},y.beginTilingPattern=function(S){$("beginTilingPattern()"),li(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},y.endTilingPattern=function(S,W){$("endTilingPattern()"),W.stream=He[F].join(`
`),bt(S,W),as.publish("endTilingPattern",W),ka.pop().restore()};var Ds,Ms=y.__private__.newObject=function(){var S=mn();return nn(S,!0),S},mn=y.__private__.newObjectDeferred=function(){return se++,fe[se]=function(){return Se},se},nn=function(S,W){return W=typeof W=="boolean"&&W,fe[S]=Se,W&&ue(S+" 0 obj"),S},Hn=y.__private__.newAdditionalObject=function(){var S={objId:mn(),content:""};return Oe.push(S),S},X=mn(),Ie=mn(),yt=y.__private__.decodeColorString=function(S){var W=S.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var pe=parseFloat(W[0]);W=[pe,pe,pe,"r"]}for(var ge="#",_e=0;_e<3;_e++)ge+=("0"+Math.floor(255*parseFloat(W[_e])).toString(16)).slice(-2);return ge},ss=y.__private__.encodeColorString=function(S){var W;typeof S=="string"&&(S={ch1:S});var pe=S.ch1,ge=S.ch2,_e=S.ch3,$e=S.ch4,tt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var _t=new Gw(pe);if(_t.ok)pe=_t.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Lt=parseInt(pe.substr(1),16);pe=Lt>>16&255,ge=Lt>>8&255,_e=255&Lt}if(ge===void 0||$e===void 0&&pe===ge&&ge===_e)W=typeof pe=="string"?pe+" "+tt[0]:S.precision===2?P(pe/255)+" "+tt[0]:O(pe/255)+" "+tt[0];else if($e===void 0||Rs($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",tt[1]].join(" ");W=typeof pe=="string"?[pe,ge,_e,tt[1]].join(" "):S.precision===2?[P(pe/255),P(ge/255),P(_e/255),tt[1]].join(" "):[O(pe/255),O(ge/255),O(_e/255),tt[1]].join(" ")}else W=typeof pe=="string"?[pe,ge,_e,$e,tt[2]].join(" "):S.precision===2?[P(pe),P(ge),P(_e),P($e),tt[2]].join(" "):[O(pe),O(ge),O(_e),O($e),tt[2]].join(" ");return W},Bt=y.__private__.getFilters=function(){return c},Hs=y.__private__.putStream=function(S){var W=(S=S||{}).data||"",pe=S.filters||Bt(),ge=S.alreadyAppliedFilters||[],_e=S.addLength1||!1,$e=W.length,tt=S.objectId,_t=function(vn){return vn};if(p!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(_t=bs.encryptor(tt,0));var Lt={};pe===!0&&(pe=["FlateEncode"]);var Ht=S.additionalKeyValues||[],Jt=(Lt=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(W,pe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Lt.data.length!==0&&(Ht.push({key:"Length",value:Lt.data.length}),_e===!0&&Ht.push({key:"Length1",value:$e})),Jt.length!=0)if(Jt.split("/").length-1==1)Ht.push({key:"Filter",value:Jt});else{Ht.push({key:"Filter",value:"["+Jt+"]"});for(var gs=0;gs<Ht.length;gs+=1)if(Ht[gs].key==="DecodeParms"){for(var Zs=[],yn=0;yn<Lt.reverseChain.split("/").length-1;yn+=1)Zs.push("null");Zs.push(Ht[gs].value),Ht[gs].value="["+Zs.join(" ")+"]"}}ue("<<");for(var Es=0;Es<Ht.length;Es++)ue("/"+Ht[Es].key+" "+Ht[Es].value);ue(">>"),Lt.data.length!==0&&(ue("stream"),ue(_t(Lt.data)),ue("endstream"))},Bs=y.__private__.putPage=function(S){var W=S.number,pe=S.data,ge=S.objId,_e=S.contentsObjId;nn(ge,!0),ue("<</Type /Page"),ue("/Parent "+S.rootDictionaryObjId+" 0 R"),ue("/Resources "+S.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(U(S.mediaBox.bottomLeftX))+" "+parseFloat(U(S.mediaBox.bottomLeftY))+" "+U(S.mediaBox.topRightX)+" "+U(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ue("/CropBox ["+U(S.cropBox.bottomLeftX)+" "+U(S.cropBox.bottomLeftY)+" "+U(S.cropBox.topRightX)+" "+U(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ue("/BleedBox ["+U(S.bleedBox.bottomLeftX)+" "+U(S.bleedBox.bottomLeftY)+" "+U(S.bleedBox.topRightX)+" "+U(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ue("/TrimBox ["+U(S.trimBox.bottomLeftX)+" "+U(S.trimBox.bottomLeftY)+" "+U(S.trimBox.topRightX)+" "+U(S.trimBox.topRightY)+"]"),S.artBox!==null&&ue("/ArtBox ["+U(S.artBox.bottomLeftX)+" "+U(S.artBox.bottomLeftY)+" "+U(S.artBox.topRightX)+" "+U(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ue("/UserUnit "+S.userUnit),as.publish("putPage",{objId:ge,pageContext:We[W],pageNumber:W,page:pe}),ue("/Contents "+_e+" 0 R"),ue(">>"),ue("endobj");var $e=pe.join(`
`);return B===M&&($e+=`
Q`),nn(_e,!0),Hs({data:$e,filters:Bt(),objectId:_e}),ue("endobj"),ge},va=y.__private__.putPages=function(){var S,W,pe=[];for(S=1;S<=ct;S++)We[S].objId=mn(),We[S].contentsObjId=mn();for(S=1;S<=ct;S++)pe.push(Bs({number:S,data:He[S],objId:We[S].objId,contentsObjId:We[S].contentsObjId,mediaBox:We[S].mediaBox,cropBox:We[S].cropBox,bleedBox:We[S].bleedBox,trimBox:We[S].trimBox,artBox:We[S].artBox,userUnit:We[S].userUnit,rootDictionaryObjId:X,resourceDictionaryObjId:Ie}));nn(X,!0),ue("<</Type /Pages");var ge="/Kids [";for(W=0;W<ct;W++)ge+=pe[W]+" 0 R ";ue(ge+"]"),ue("/Count "+ct),ue(">>"),ue("endobj"),as.publish("postPutPages")},ir=function(S){as.publish("putFont",{font:S,out:ue,newObject:Ms,putStream:Hs}),S.isAlreadyPutted!==!0&&(S.objectNumber=Ms(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Dd(S.postScriptName)),ue("/Subtype /Type1"),typeof S.encoding=="string"&&ue("/Encoding /"+S.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},An=function(S){S.objectNumber=Ms();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[U(S.x),U(S.y),U(S.x+S.width),U(S.y+S.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var pe=S.pages[1].join(`
`);Hs({data:pe,additionalKeyValues:W,objectId:S.objectNumber}),ue("endobj")},Ea=function(S,W){W||(W=21);var pe=Ms(),ge=function(tt,_t){var Lt,Ht=[],Jt=1/(_t-1);for(Lt=0;Lt<1;Lt+=Jt)Ht.push(Lt);if(Ht.push(1),tt[0].offset!=0){var gs={offset:0,color:tt[0].color};tt.unshift(gs)}if(tt[tt.length-1].offset!=1){var Zs={offset:1,color:tt[tt.length-1].color};tt.push(Zs)}for(var yn="",Es=0,vn=0;vn<Ht.length;vn++){for(Lt=Ht[vn];Lt>tt[Es+1].offset;)Es++;var wn=tt[Es].offset,$n=(Lt-wn)/(tt[Es+1].offset-wn),oi=tt[Es].color,Ui=tt[Es+1].color;yn+=I(Math.round((1-$n)*oi[0]+$n*Ui[0]).toString(16))+I(Math.round((1-$n)*oi[1]+$n*Ui[1]).toString(16))+I(Math.round((1-$n)*oi[2]+$n*Ui[2]).toString(16))}return yn.trim()}(S.colors,W),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+W+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hs({data:ge,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ue("endobj"),S.objectNumber=Ms(),ue("<< /ShadingType "+S.type),ue("/ColorSpace /DeviceRGB");var $e="/Coords ["+U(parseFloat(S.coords[0]))+" "+U(parseFloat(S.coords[1]))+" ";S.type===2?$e+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3])):$e+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3]))+" "+U(parseFloat(S.coords[4]))+" "+U(parseFloat(S.coords[5])),ue($e+="]"),S.matrix&&ue("/Matrix ["+S.matrix.toString()+"]"),ue("/Function "+pe+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},$l=function(S,W){var pe=mn(),ge=Ms();W.push({resourcesOid:pe,objectOid:ge}),S.objectNumber=ge;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+S.boundingBox.map(U).join(" ")+"]"}),_e.push({key:"XStep",value:U(S.xStep)}),_e.push({key:"YStep",value:U(S.yStep)}),_e.push({key:"Resources",value:pe+" 0 R"}),S.matrix&&_e.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Hs({data:S.stream,additionalKeyValues:_e,objectId:S.objectNumber}),ue("endobj")},zc=function(S){for(var W in S.objectNumber=Ms(),ue("<<"),S)switch(W){case"opacity":ue("/ca "+P(S[W]));break;case"stroke-opacity":ue("/CA "+P(S[W]))}ue(">>"),ue("endobj")},Vl=function(S){nn(S.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in ue("/Font <<"),it)it.hasOwnProperty(W)&&(x===!1||x===!0&&w.hasOwnProperty(W))&&ue("/"+W+" "+it[W].objectNumber+" 0 R");ue(">>")}(),function(){if(Object.keys(mt).length>0){for(var W in ue("/Shading <<"),mt)mt.hasOwnProperty(W)&&mt[W]instanceof kc&&mt[W].objectNumber>=0&&ue("/"+W+" "+mt[W].objectNumber+" 0 R");as.publish("putShadingPatternDict"),ue(">>")}}(),function(W){if(Object.keys(mt).length>0){for(var pe in ue("/Pattern <<"),mt)mt.hasOwnProperty(pe)&&mt[pe]instanceof y.TilingPattern&&mt[pe].objectNumber>=0&&mt[pe].objectNumber<W&&ue("/"+pe+" "+mt[pe].objectNumber+" 0 R");as.publish("putTilingPatternDict"),ue(">>")}}(S.objectOid),function(){if(Object.keys(Tt).length>0){var W;for(W in ue("/ExtGState <<"),Tt)Tt.hasOwnProperty(W)&&Tt[W].objectNumber>=0&&ue("/"+W+" "+Tt[W].objectNumber+" 0 R");as.publish("putGStateDict"),ue(">>")}}(),function(){for(var W in ue("/XObject <<"),Xs)Xs.hasOwnProperty(W)&&Xs[W].objectNumber>=0&&ue("/"+W+" "+Xs[W].objectNumber+" 0 R");as.publish("putXobjectDict"),ue(">>")}(),ue(">>"),ue("endobj")},Hc=function(S){Ot[S.fontName]=Ot[S.fontName]||{},Ot[S.fontName][S.fontStyle]=S.id},ol=function(S,W,pe,ge,_e){var $e={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:S,fontName:W,fontStyle:pe,encoding:ge,isStandardFont:_e||!1,metadata:{}};return as.publish("addFont",{font:$e,instance:this}),it[$e.id]=$e,Hc($e),$e.id},oa=y.__private__.pdfEscape=y.pdfEscape=function(S,W){return function(pe,ge){var _e,$e,tt,_t,Lt,Ht,Jt,gs,Zs;if(tt=(ge=ge||{}).sourceEncoding||"Unicode",Lt=ge.outputEncoding,(ge.autoencode||Lt)&&it[ft].metadata&&it[ft].metadata[tt]&&it[ft].metadata[tt].encoding&&(_t=it[ft].metadata[tt].encoding,!Lt&&it[ft].encoding&&(Lt=it[ft].encoding),!Lt&&_t.codePages&&(Lt=_t.codePages[0]),typeof Lt=="string"&&(Lt=_t[Lt]),Lt)){for(Jt=!1,Ht=[],_e=0,$e=pe.length;_e<$e;_e++)(gs=Lt[pe.charCodeAt(_e)])?Ht.push(String.fromCharCode(gs)):Ht.push(pe[_e]),Ht[_e].charCodeAt(0)>>8&&(Jt=!0);pe=Ht.join("")}for(_e=pe.length;Jt===void 0&&_e!==0;)pe.charCodeAt(_e-1)>>8&&(Jt=!0),_e--;if(!Jt)return pe;for(Ht=ge.noBOM?[]:[254,255],_e=0,$e=pe.length;_e<$e;_e++){if((Zs=(gs=pe.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(Zs),Ht.push(gs-(Zs<<8))}return String.fromCharCode.apply(void 0,Ht)}(S,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},La=y.__private__.beginPage=function(S){He[++ct]=[],We[ct]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ni(ct),Ae(He[F])},Wl=function(S,W){var pe,ge,_e;switch(s=W||s,typeof S=="string"&&(pe=_(S.toLowerCase()),Array.isArray(pe)&&(ge=pe[0],_e=pe[1])),Array.isArray(S)&&(ge=S[0]*ve,_e=S[1]*ve),isNaN(ge)&&(ge=i[0],_e=i[1]),(ge>14400||_e>14400)&&(Gs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),_e=Math.min(14400,_e)),i=[ge,_e],s.substr(0,1)){case"l":_e>ge&&(i=[_e,ge]);break;case"p":ge>_e&&(i=[_e,ge])}La(i),Xo(Cr),ue(ri),dr!==0&&ue(dr+" J"),Ri!==0&&ue(Ri+" j"),as.publish("addPage",{pageNumber:ct})},Gl=function(S){S>0&&S<=ct&&(He.splice(S,1),We.splice(S,1),ct--,F>ct&&(F=ct),this.setPage(F))},ni=function(S){S>0&&S<=ct&&(F=S)},Yl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return He.length-1},Kl=function(S,W,pe){var ge,_e=void 0;return pe=pe||{},S=S!==void 0?S:it[ft].fontName,W=W!==void 0?W:it[ft].fontStyle,ge=S.toLowerCase(),Ot[ge]!==void 0&&Ot[ge][W]!==void 0?_e=Ot[ge][W]:Ot[S]!==void 0&&Ot[S][W]!==void 0?_e=Ot[S][W]:pe.disableWarning===!1&&Gs.warn("Unable to look up font label for font '"+S+"', '"+W+"'. Refer to getFontList() for available fonts."),_e||pe.noFallback||(_e=Ot.times[W])==null&&(_e=Ot.times.normal),_e},Ql=y.__private__.putInfo=function(){var S=Ms(),W=function(ge){return ge};for(var pe in p!==null&&(W=bs.encryptor(S,0)),ue("<<"),ue("/Producer ("+oa(W("jsPDF "+Mt.version))+")"),jt)jt.hasOwnProperty(pe)&&jt[pe]&&ue("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+oa(W(jt[pe]))+")");ue("/CreationDate ("+oa(W(re))+")"),ue(">>"),ue("endobj")},$c=y.__private__.putCatalog=function(S){var W=(S=S||{}).rootDictionaryObjId||X;switch(Ms(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+W+" 0 R"),xt||(xt="fullwidth"),xt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+xt;pe.substr(pe.length-1)==="%"&&(xt=parseInt(xt)/100),typeof xt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+P(xt)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Pe&&ue("/PageMode /"+Pe),as.publish("putCatalog"),ue(">>"),ue("endobj")},ws=y.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(se+1)),ue("/Root "+se+" 0 R"),ue("/Info "+(se-1)+" 0 R"),p!==null&&ue("/Encrypt "+bs.oid+" 0 R"),ue("/ID [ <"+ee+"> <"+ee+"> ]"),ue(">>")},Vo=y.__private__.putHeader=function(){ue("%PDF-"+j),ue("%")},Vc=y.__private__.putXRef=function(){var S="0000000000";ue("xref"),ue("0 "+(se+1)),ue("0000000000 65535 f ");for(var W=1;W<=se;W++)typeof fe[W]=="function"?ue((S+fe[W]()).slice(-10)+" 00000 n "):fe[W]!==void 0?ue((S+fe[W]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ia=y.__private__.buildDocument=function(){var S;se=0,Se=0,be=[],fe=[],Oe=[],X=mn(),Ie=mn(),Ae(be),as.publish("buildDocument"),Vo(),va(),function(){as.publish("putAdditionalObjects");for(var pe=0;pe<Oe.length;pe++){var ge=Oe[pe];nn(ge.objId,!0),ue(ge.content),ue("endobj")}as.publish("postPutAdditionalObjects")}(),S=[],function(){for(var pe in it)it.hasOwnProperty(pe)&&(x===!1||x===!0&&w.hasOwnProperty(pe))&&ir(it[pe])}(),function(){var pe;for(pe in Tt)Tt.hasOwnProperty(pe)&&zc(Tt[pe])}(),function(){for(var pe in Xs)Xs.hasOwnProperty(pe)&&An(Xs[pe])}(),function(pe){var ge;for(ge in mt)mt.hasOwnProperty(ge)&&(mt[ge]instanceof kc?Ea(mt[ge]):mt[ge]instanceof Fd&&$l(mt[ge],pe))}(S),as.publish("putResources"),S.forEach(Vl),Vl({resourcesOid:Ie,objectOid:Number.MAX_SAFE_INTEGER}),as.publish("postPutResources"),p!==null&&(bs.oid=Ms(),ue("<<"),ue("/Filter /Standard"),ue("/V "+bs.v),ue("/R "+bs.r),ue("/U <"+bs.toHexString(bs.U)+">"),ue("/O <"+bs.toHexString(bs.O)+">"),ue("/P "+bs.P),ue(">>"),ue("endobj")),Ql(),$c();var W=Se;return Vc(),ws(),ue("startxref"),ue(""+W),ue("%%EOF"),Ae(He[F]),be.join(`
`)},Oi=y.__private__.getBlob=function(S){return new Blob([at(S)],{type:"application/pdf"})},wa=y.output=y.__private__.output=(Ds=function(S,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",S){case void 0:return Ia();case"save":y.save(W.filename);break;case"arraybuffer":return at(Ia());case"blob":return Oi(Ia());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(Oi(Ia()))||void 0;Gs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",ge=Ia();try{pe=Gy(ge)}catch{pe=Gy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+W.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(_e=W.pdfObjectUrl,$e="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",_t=Qt.open();return _t!==null&&_t.document.write(tt),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Ht=Qt.open();if(Ht!==null){Ht.document.write(Lt);var Jt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=W.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Zs=Qt.open();if(Zs!==null&&(Zs.document.write(gs),Zs.document.title=W.filename),Zs||typeof safari>"u")return Zs;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",W);default:return null}},Ds.foo=function(){try{return Ds.apply(this,arguments)}catch(pe){var S=pe.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var W="Error in function "+S.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Qt.console)throw new Error(W);Qt.console.error(W,pe),Qt.alert&&alert(W)}},Ds.foo.bar=Ds,Ds.foo),cl=function(S){return Array.isArray(Xn)===!0&&Xn.indexOf(S)>-1};switch(a){case"pt":ve=1;break;case"mm":ve=72/25.4;break;case"cm":ve=72/2.54;break;case"in":ve=72;break;case"px":ve=cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ve=12;break;case"ex":ve=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ve=a}var bs=null;de(),le();var dl=y.__private__.getPageInfo=y.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:We[S].objId,pageNumber:S,pageContext:We[S]}},Wc=y.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in We)if(We[W].objId===S)break;return dl(W)},Wo=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:We[F].objId,pageNumber:F,pageContext:We[F]}};y.addPage=function(){return Wl.apply(this,arguments),this},y.setPage=function(){return ni.apply(this,arguments),Ae.call(this,He[F]),this},y.insertPage=function(S){return this.addPage(),this.movePage(F,S),this},y.movePage=function(S,W){var pe,ge;if(S>W){pe=He[S],ge=We[S];for(var _e=S;_e>W;_e--)He[_e]=He[_e-1],We[_e]=We[_e-1];He[W]=pe,We[W]=ge,this.setPage(W)}else if(S<W){pe=He[S],ge=We[S];for(var $e=S;$e<W;$e++)He[$e]=He[$e+1],We[$e]=We[$e+1];He[W]=pe,We[W]=ge,this.setPage(W)}return this},y.deletePage=function(){return Gl.apply(this,arguments),this},y.__private__.text=y.text=function(S,W,pe,ge,_e){var $e,tt,_t,Lt,Ht,Jt,gs,Zs,yn,Es=(ge=ge||{}).scope||this;if(typeof S=="number"&&typeof W=="number"&&(typeof pe=="string"||Array.isArray(pe))){var vn=pe;pe=W,W=S,S=vn}if(arguments[3]instanceof Pt==0?(_t=arguments[4],Lt=arguments[5],Rs(gs=arguments[3])==="object"&&gs!==null||(typeof _t=="string"&&(Lt=_t,_t=null),typeof gs=="string"&&(Lt=gs,gs=null),typeof gs=="number"&&(_t=gs,gs=null),ge={flags:gs,angle:_t,align:Lt})):($("The transform parameter of text() with a Matrix value"),yn=_e),isNaN(W)||isNaN(pe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Es;var wn,$n="",oi=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:qa,Ui=Es.internal.scaleFactor;function Zd(Ns){return Ns=Ns.split("	").join(Array(ge.TabLen||9).join(" ")),oa(Ns,gs)}function Kc(Ns){for(var Ls,$s=Ns.concat(),Js=[],Ir=$s.length;Ir--;)typeof(Ls=$s.shift())=="string"?Js.push(Ls):Array.isArray(Ns)&&(Ls.length===1||Ls[1]===void 0&&Ls[2]===void 0)?Js.push(Ls[0]):Js.push([Ls[0],Ls[1],Ls[2]]);return Js}function pl(Ns,Ls){var $s;if(typeof Ns=="string")$s=Ls(Ns)[0];else if(Array.isArray(Ns)){for(var Js,Ir,Va=Ns.concat(),ua=[],gl=Va.length;gl--;)typeof(Js=Va.shift())=="string"?ua.push(Ls(Js)[0]):Array.isArray(Js)&&typeof Js[0]=="string"&&(Ir=Ls(Js[0],Js[1],Js[2]),ua.push([Ir[0],Ir[1],Ir[2]]));$s=ua}return $s}var hr=!1,ec=!0;if(typeof S=="string")hr=!0;else if(Array.isArray(S)){var Ii=S.concat();tt=[];for(var za,Un=Ii.length;Un--;)(typeof(za=Ii.shift())!="string"||Array.isArray(za)&&typeof za[0]!="string")&&(ec=!1);hr=ec}if(hr===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Mr=Je/Es.internal.scaleFactor,Fr=Mr*(oi-1);switch(ge.baseline){case"bottom":pe-=Fr;break;case"top":pe+=Mr-Fr;break;case"hanging":pe+=Mr-2*Fr;break;case"middle":pe+=Mr/2-Fr}if((Jt=ge.maxWidth||0)>0&&(typeof S=="string"?S=Es.splitTextToSize(S,Jt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Ns,Ls){return Ns.concat(Es.splitTextToSize(Ls,Jt))},[]))),$e={text:S,x:W,y:pe,options:ge,mutex:{pdfEscape:oa,activeFontKey:ft,fonts:it,activeFontSize:Je}},as.publish("preProcessText",$e),S=$e.text,_t=(ge=$e.options).angle,yn instanceof Pt==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,ge.rotationDirection===0&&(_t=-_t),B===M&&(_t=-_t);var xl=Math.cos(_t),eo=Math.sin(_t);yn=new Pt(xl,eo,-eo,xl,0,0)}else _t&&_t instanceof Pt&&(yn=_t);B!==M||yn||(yn=xs),(Ht=ge.charSpace||hl)!==void 0&&($n+=U(H(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zs=ge.horizontalScale)!==void 0&&($n+=U(100*Zs)+` Tz
`),ge.lang;var ea=-1,ci=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,to=Es.internal.getCurrentPageInfo().pageContext;switch(ci){case 0:case!1:case"fill":ea=0;break;case 1:case!0:case"stroke":ea=1;break;case 2:case"fillThenStroke":ea=2;break;case 3:case"invisible":ea=3;break;case 4:case"fillAndAddForClipping":ea=4;break;case 5:case"strokeAndAddPathForClipping":ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ea=6;break;case 7:case"addToPathForClipping":ea=7}var Qc=to.usedRenderingMode!==void 0?to.usedRenderingMode:-1;ea!==-1?$n+=ea+` Tr
`:Qc!==-1&&($n+=`0 Tr
`),ea!==-1&&(to.usedRenderingMode=ea),Lt=ge.align||"left";var Cn,Fa=Je*oi,so=Es.internal.pageSize.getWidth(),di=it[ft];Ht=ge.charSpace||hl,Jt=ge.maxWidth||0,gs=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ha=[],no=function(Ns){return Es.getStringUnitWidth(Ns,{font:di,charSpace:Ht,fontSize:Je,doKerning:!1})*Je/Ui};if(Object.prototype.toString.call(S)==="[object Array]"){var Vn;tt=Kc(S),Lt!=="left"&&(Cn=tt.map(no));var ca,qi=0;if(Lt==="right"){W-=Cn[0],S=[],Un=tt.length;for(var $a=0;$a<Un;$a++)$a===0?(ca=cr(W),Vn=Da(pe)):(ca=H(qi-Cn[$a]),Vn=-Fa),S.push([tt[$a],ca,Vn]),qi=Cn[$a]}else if(Lt==="center"){W-=Cn[0]/2,S=[],Un=tt.length;for(var Or=0;Or<Un;Or++)Or===0?(ca=cr(W),Vn=Da(pe)):(ca=H((qi-Cn[Or])/2),Vn=-Fa),S.push([tt[Or],ca,Vn]),qi=Cn[Or]}else if(Lt==="left"){S=[],Un=tt.length;for(var ao=0;ao<Un;ao++)S.push(tt[ao])}else if(Lt==="justify"&&di.encoding==="Identity-H"){S=[],Un=tt.length,Jt=Jt!==0?Jt:so;for(var ui=0,an=0;an<Un;an++)if(Vn=an===0?Da(pe):-Fa,ca=an===0?cr(W):ui,an<Un-1){var Jd=H((Jt-Cn[an])/(tt[an].split(" ").length-1)),Tr=tt[an].split(" ");S.push([Tr[0]+" ",ca,Vn]),ui=0;for(var Pr=1;Pr<Tr.length;Pr++){var ro=(no(Tr[Pr-1]+" "+Tr[Pr])-no(Tr[Pr]))*Ui+Jd;Pr==Tr.length-1?S.push([Tr[Pr],ro,0]):S.push([Tr[Pr]+" ",ro,0]),ui-=ro}}else S.push([tt[an],ca,Vn]);S.push(["",ui,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Un=tt.length,Jt=Jt!==0?Jt:so,an=0;an<Un;an++)Vn=an===0?Da(pe):-Fa,ca=an===0?cr(W):0,an<Un-1?Ha.push(U(H((Jt-Cn[an])/(tt[an].split(" ").length-1)))):Ha.push(0),S.push([tt[an],ca,Vn])}}(typeof ge.R2L=="boolean"?ge.R2L:At)===!0&&(S=pl(S,function(Ns,Ls,$s){return[Ns.split("").reverse().join(""),Ls,$s]})),$e={text:S,x:W,y:pe,options:ge,mutex:{pdfEscape:oa,activeFontKey:ft,fonts:it,activeFontSize:Je}},as.publish("postProcessText",$e),S=$e.text,wn=$e.mutex.isHex||!1;var tc=it[ft].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(S=pl(S,function(Ns,Ls,$s){return[Zd(Ns),Ls,$s]})),tt=Kc(S),S=[];for(var In,Rr,zi,Hi=Array.isArray(tt[0])?1:0,Br="",io=function(Ns,Ls,$s){var Js="";return $s instanceof Pt?($s=typeof ge.angle=="number"?Sn($s,new Pt(1,0,0,1,Ns,Ls)):Sn(new Pt(1,0,0,1,Ns,Ls),$s),B===M&&($s=Sn(new Pt(1,0,0,-1,0,0),$s)),Js=$s.join(" ")+` Tm
`):Js=U(Ns)+" "+U(Ls)+` Td
`,Js},da=0;da<tt.length;da++){switch(Br="",Hi){case 1:zi=(wn?"<":"(")+tt[da][0]+(wn?">":")"),In=parseFloat(tt[da][1]),Rr=parseFloat(tt[da][2]);break;case 0:zi=(wn?"<":"(")+tt[da]+(wn?">":")"),In=cr(W),Rr=Da(pe)}Ha!==void 0&&Ha[da]!==void 0&&(Br=Ha[da]+` Tw
`),da===0?S.push(Br+io(In,Rr,yn)+zi):Hi===0?S.push(Br+zi):Hi===1&&S.push(Br+io(In,Rr,yn)+zi)}S=Hi===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ur=`BT
/`;return Ur+=ft+" "+Je+` Tf
`,Ur+=U(Je*oi)+` TL
`,Ur+=Er+`
`,Ur+=$n,Ur+=S,ue(Ur+="ET"),w[ft]=!0,Es};var Ti=y.__private__.clip=y.clip=function(S){return ue(S==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Ti("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ue("n"),this};var lr=y.__private__.isValidStyle=function(S){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(W=!0),W};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(S){return lr(S)&&(f=S),this};var Go=y.__private__.getStyle=y.getStyle=function(S){var W=f;switch(S){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=S}return W},ai=y.close=function(){return ue("h"),this};y.stroke=function(){return ue("S"),this},y.fill=function(S){return Pi("f",S),this},y.fillEvenOdd=function(S){return Pi("f*",S),this},y.fillStroke=function(S){return Pi("B",S),this},y.fillStrokeEvenOdd=function(S){return Pi("B*",S),this};var Pi=function(S,W){Rs(W)==="object"?Yo(W,S):ue(S)},Xl=function(S){S===null||B===M&&S===void 0||(S=Go(S),ue(S))};function Gc(S,W,pe,ge,_e){var $e=new Fd(W||this.boundingBox,pe||this.xStep,ge||this.yStep,this.gState,_e||this.matrix);$e.stream=this.stream;var tt=S+"$$"+this.cloneIndex+++"$$";return bt(tt,$e),$e}var Yo=function(S,W){var pe=Gt[S.key],ge=mt[pe];if(ge instanceof kc)ue("q"),ue(Xd(W)),ge.gState&&y.setGState(ge.gState),ue(S.matrix.toString()+" cm"),ue("/"+pe+" sh"),ue("Q");else if(ge instanceof Fd){var _e=new Pt(1,0,0,-1,0,Ma());S.matrix&&(_e=_e.multiply(S.matrix||xs),pe=Gc.call(ge,S.key,S.boundingBox,S.xStep,S.yStep,_e).id),ue("q"),ue("/Pattern cs"),ue("/"+pe+" scn"),ge.gState&&y.setGState(ge.gState),ue(W),ue("Q")}},Xd=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=y.moveTo=function(S,W){return ue(U(H(S))+" "+U(G(W))+" m"),this},Sr=y.lineTo=function(S,W){return ue(U(H(S))+" "+U(G(W))+" l"),this},Ar=y.curveTo=function(S,W,pe,ge,_e,$e){return ue([U(H(S)),U(G(W)),U(H(pe)),U(G(ge)),U(H(_e)),U(G($e)),"c"].join(" ")),this};y.__private__.line=y.line=function(S,W,pe,ge,_e){if(isNaN(S)||isNaN(W)||isNaN(pe)||isNaN(ge)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.line");return B===E?this.lines([[pe-S,ge-W]],S,W,[1,1],_e||"S"):this.lines([[pe-S,ge-W]],S,W,[1,1]).stroke()},y.__private__.lines=y.lines=function(S,W,pe,ge,_e,$e){var tt,_t,Lt,Ht,Jt,gs,Zs,yn,Es,vn,wn,$n;if(typeof S=="number"&&($n=pe,pe=W,W=S,S=$n),ge=ge||[1,1],$e=$e||!1,isNaN(W)||isNaN(pe)||!Array.isArray(S)||!Array.isArray(ge)||!lr(_e)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(W,pe),tt=ge[0],_t=ge[1],Ht=S.length,vn=W,wn=pe,Lt=0;Lt<Ht;Lt++)(Jt=S[Lt]).length===2?(vn=Jt[0]*tt+vn,wn=Jt[1]*_t+wn,Sr(vn,wn)):(gs=Jt[0]*tt+vn,Zs=Jt[1]*_t+wn,yn=Jt[2]*tt+vn,Es=Jt[3]*_t+wn,vn=Jt[4]*tt+vn,wn=Jt[5]*_t+wn,Ar(gs,Zs,yn,Es,vn,wn));return $e&&ai(),Xl(_e),this},y.path=function(S){for(var W=0;W<S.length;W++){var pe=S[W],ge=pe.c;switch(pe.op){case"m":Ko(ge[0],ge[1]);break;case"l":Sr(ge[0],ge[1]);break;case"c":Ar.apply(this,ge);break;case"h":ai()}}return this},y.__private__.rect=y.rect=function(S,W,pe,ge,_e){if(isNaN(S)||isNaN(W)||isNaN(pe)||isNaN(ge)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return B===E&&(ge=-ge),ue([U(H(S)),U(G(W)),U(H(pe)),U(H(ge)),"re"].join(" ")),Xl(_e),this},y.__private__.triangle=y.triangle=function(S,W,pe,ge,_e,$e,tt){if(isNaN(S)||isNaN(W)||isNaN(pe)||isNaN(ge)||isNaN(_e)||isNaN($e)||!lr(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-S,ge-W],[_e-pe,$e-ge],[S-_e,W-$e]],S,W,[1,1],tt,!0),this},y.__private__.roundedRect=y.roundedRect=function(S,W,pe,ge,_e,$e,tt){if(isNaN(S)||isNaN(W)||isNaN(pe)||isNaN(ge)||isNaN(_e)||isNaN($e)||!lr(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*pe),$e=Math.min($e,.5*ge),this.lines([[pe-2*_e,0],[_e*_t,0,_e,$e-$e*_t,_e,$e],[0,ge-2*$e],[0,$e*_t,-_e*_t,$e,-_e,$e],[2*_e-pe,0],[-_e*_t,0,-_e,-$e*_t,-_e,-$e],[0,2*$e-ge],[0,-$e*_t,_e*_t,-$e,_e,-$e]],S+_e,W,[1,1],tt,!0),this},y.__private__.ellipse=y.ellipse=function(S,W,pe,ge,_e){if(isNaN(S)||isNaN(W)||isNaN(pe)||isNaN(ge)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*pe,tt=4/3*(Math.SQRT2-1)*ge;return Ko(S+pe,W),Ar(S+pe,W-tt,S+$e,W-ge,S,W-ge),Ar(S-$e,W-ge,S-pe,W-tt,S-pe,W),Ar(S-pe,W+tt,S-$e,W+ge,S,W+ge),Ar(S+$e,W+ge,S+pe,W+tt,S+pe,W),Xl(_e),this},y.__private__.circle=y.circle=function(S,W,pe,ge){if(isNaN(S)||isNaN(W)||isNaN(pe)||!lr(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,W,pe,pe,ge)},y.setFont=function(S,W,pe){return pe&&(W=K(W,pe)),ft=Kl(S,W,{disableWarning:!1}),this};var Qo=y.__private__.getFont=y.getFont=function(){return it[Kl.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var S,W,pe={};for(S in Ot)if(Ot.hasOwnProperty(S))for(W in pe[S]=[],Ot[S])Ot[S].hasOwnProperty(W)&&pe[S].push(W);return pe},y.addFont=function(S,W,pe,ge,_e){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(pe=K(pe,ge)),ol.call(this,S,W,pe,_e=_e||"Identity-H")};var qa,Cr=t.lineWidth||.200025,$t=y.__private__.getLineWidth=y.getLineWidth=function(){return Cr},Xo=y.__private__.setLineWidth=y.setLineWidth=function(S){return Cr=S,ue(U(H(S))+" w"),this};y.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(S,W){if(S=S||[],W=W||0,isNaN(W)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(pe){return U(H(pe))}).join(" "),W=U(H(W)),ue("["+S+"] "+W+" d"),this};var Yc=y.__private__.getLineHeight=y.getLineHeight=function(){return Je*qa};y.__private__.getLineHeight=y.getLineHeight=function(){return Je*qa};var ul=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(qa=S),this},or=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return qa};ul(t.lineHeight);var cr=y.__private__.getHorizontalCoordinate=function(S){return H(S)},Da=y.__private__.getVerticalCoordinate=function(S){return B===M?S:We[F].mediaBox.topRightY-We[F].mediaBox.bottomLeftY-H(S)},kr=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(S){return U(cr(S))},Zo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(S){return U(Da(S))},ri=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return yt(ri)},y.__private__.setStrokeColor=y.setDrawColor=function(S,W,pe,ge){return ri=ss({ch1:S,ch2:W,ch3:pe,ch4:ge,pdfColorType:"draw",precision:2}),ue(ri),this};var Zl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return yt(Zl)},y.__private__.setFillColor=y.setFillColor=function(S,W,pe,ge){return Zl=ss({ch1:S,ch2:W,ch3:pe,ch4:ge,pdfColorType:"fill",precision:2}),ue(Zl),this};var Er=t.textColor||"0 g",ii=y.__private__.getTextColor=y.getTextColor=function(){return yt(Er)};y.__private__.setTextColor=y.setTextColor=function(S,W,pe,ge){return Er=ss({ch1:S,ch2:W,ch3:pe,ch4:ge,pdfColorType:"text",precision:3}),this};var hl=t.charSpace,Jn=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(hl||0)};y.__private__.setCharSpace=y.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hl=S,this};var dr=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(S){var W=y.CapJoinStyles[S];if(W===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dr=W,ue(W+" J"),this};var Ri=0;y.__private__.setLineJoin=y.setLineJoin=function(S){var W=y.CapJoinStyles[S];if(W===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=W,ue(W+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(U(H(S))+" M"),this},y.GState=Lm,y.setGState=function(S){(S=typeof S=="string"?Tt[As[S]]:ur(null,S)).equals(Qe)||(ue("/"+S.id+" gs"),Qe=S)};var ur=function(S,W){if(!S||!As[S]){var pe=!1;for(var ge in Tt)if(Tt.hasOwnProperty(ge)&&Tt[ge].equals(W)){pe=!0;break}if(pe)W=Tt[ge];else{var _e="GS"+(Object.keys(Tt).length+1).toString(10);Tt[_e]=W,W.id=_e}return S&&(As[S]=W.id),as.publish("addGState",W),W}};y.addGState=function(S,W){return ur(S,W),this},y.saveGraphicsState=function(){return ue("q"),ls.push({key:ft,size:Je,color:Er}),this},y.restoreGraphicsState=function(){ue("Q");var S=ls.pop();return ft=S.key,Je=S.size,Er=S.color,Qe=null,this},y.setCurrentTransformationMatrix=function(S){return ue(S.toString()+" cm"),this},y.comment=function(S){return ue("#"+S),this};var fl=function(S,W){var pe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function($e){isNaN($e)||(pe=parseFloat($e))}});var ge=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function($e){isNaN($e)||(ge=parseFloat($e))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function($e){_e=$e.toString()}}),this},ml=function(S,W,pe,ge){fl.call(this,S,W),this.type="rect";var _e=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(tt){isNaN(tt)||(_e=parseFloat(tt))}});var $e=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(tt){isNaN(tt)||($e=parseFloat(tt))}}),this},Bi=function(){this.page=ct,this.currentPage=F,this.pages=He.slice(0),this.pagesContext=We.slice(0),this.x=Ke,this.y=qt,this.matrix=Rt,this.width=Jl(F),this.height=Ma(F),this.outputDestination=et,this.id="",this.objectNumber=-1};Bi.prototype.restore=function(){ct=this.page,F=this.currentPage,We=this.pagesContext,He=this.pages,Ke=this.x,qt=this.y,Rt=this.matrix,Jo(F,this.width),Dr(F,this.height),et=this.outputDestination};var li=function(S,W,pe,ge,_e){ka.push(new Bi),ct=F=0,He=[],Ke=S,qt=W,Rt=_e,La([pe,ge])};for(var Lr in y.beginFormObject=function(S,W,pe,ge,_e){return li(S,W,pe,ge,_e),this},y.endFormObject=function(S){return function(W){if(Zn[W])ka.pop().restore();else{var pe=new Bi,ge="Xo"+(Object.keys(Xs).length+1).toString(10);pe.id=ge,Zn[W]=ge,Xs[ge]=pe,as.publish("addFormObject",pe),ka.pop().restore()}}(S),this},y.doFormObject=function(S,W){var pe=Xs[Zn[S]];return ue("q"),ue(W.toString()+" cm"),ue("/"+pe.id+" Do"),ue("Q"),this},y.getFormObject=function(S){var W=Xs[Zn[S]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},y.save=function(S,W){return S=S||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Cc(Oi(Ia()),S),typeof Cc.unload=="function"&&Qt.setTimeout&&setTimeout(Cc.unload,911),this):new Promise(function(pe,ge){try{var _e=Cc(Oi(Ia()),S);typeof Cc.unload=="function"&&Qt.setTimeout&&setTimeout(Cc.unload,911),pe(_e)}catch($e){ge($e.message)}})},Mt.API)Mt.API.hasOwnProperty(Lr)&&(Lr==="events"&&Mt.API.events.length?function(S,W){var pe,ge,_e;for(_e=W.length-1;_e!==-1;_e--)pe=W[_e][0],ge=W[_e][1],S.subscribe.apply(S,[pe].concat(typeof ge=="function"?[ge]:ge))}(as,Mt.API.events):y[Lr]=Mt.API[Lr]);var Jl=y.getPageWidth=function(S){return(We[S=S||F].mediaBox.topRightX-We[S].mediaBox.bottomLeftX)/ve},Jo=y.setPageWidth=function(S,W){We[S].mediaBox.topRightX=W*ve+We[S].mediaBox.bottomLeftX},Ma=y.getPageHeight=function(S){return(We[S=S||F].mediaBox.topRightY-We[S].mediaBox.bottomLeftY)/ve},Dr=y.setPageHeight=function(S,W){We[S].mediaBox.topRightY=W*ve+We[S].mediaBox.bottomLeftY};return y.internal={pdfEscape:oa,getStyle:Go,getFont:Qo,getFontSize:rt,getCharSpace:Jn,getTextColor:ii,getLineHeight:Yc,getLineHeightFactor:or,getLineWidth:$t,write:Dt,getHorizontalCoordinate:cr,getVerticalCoordinate:Da,getCoordinateString:kr,getVerticalCoordinateString:Zo,collections:{},newObject:Ms,newAdditionalObject:Hn,newObjectDeferred:mn,newObjectDeferredBegin:nn,getFilters:Bt,putStream:Hs,events:as,scaleFactor:ve,pageSize:{getWidth:function(){return Jl(F)},setWidth:function(S){Jo(F,S)},getHeight:function(){return Ma(F)},setHeight:function(S){Dr(F,S)}},encryptionOptions:p,encryption:bs,getEncryptor:function(S){return p!==null?bs.encryptor(S,0):function(W){return W}},output:wa,getNumberOfPages:Yl,pages:He,out:ue,f2:P,f3:O,getPageInfo:dl,getPageInfoByObjId:Wc,getCurrentPageInfo:Wo,getPDFVersion:A,Point:fl,Rectangle:ml,Matrix:Pt,hasHotfix:cl},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Jl(F)},set:function(S){Jo(F,S)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Ma(F)},set:function(S){Dr(F,S)},enumerable:!0,configurable:!0}),(function(S){for(var W=0,pe=gt.length;W<pe;W++){var ge=ol.call(this,S[W][0],S[W][1],S[W][2],gt[W][3],!0);x===!1&&(w[ge]=!0);var _e=S[W][0].split("-");Hc({id:ge,fontName:_e[0],fontStyle:_e[1]||""})}as.publish("addFonts",{fonts:it,dictionary:Ot})}).call(y,gt),ft="F1",Wl(i,s),as.publish("initialized"),y}Ld.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ld.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ld.prototype.hexToBytes=function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(String.fromCharCode(parseInt(t.substr(s,2),16)));return e.join("")},Ld.prototype.processOwnerPassword=function(t,e){return jx(Nx(e).substr(0,5),t)},Ld.prototype.encryptor=function(t,e){var s=Nx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return jx(s,a)}},Lm.prototype.equals=function(t){var e,s="id,objectNumber,equals";if(!t||Rs(t)!==Rs(this))return!1;var a=0;for(e in this)if(!(s.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&s.indexOf(e)<0&&a--;return a===0},Mt.API={events:[]},Mt.version="3.0.2";var _n=Mt.API,ag=1,qc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},es=function(t){return t.toFixed(2)},Oo=function(t){return t.toFixed(5)};_n.__acroform__={};var rr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Xy=function(t){return t*ag},nl=function(t){var e=new Xw,s=kt.internal.getHeight(t)||0,a=kt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(es(a)),Number(es(s))],e},Y7=_n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},K7=_n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Q7=_n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Tn=_n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Q7(t,e-1)},Pn=_n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y7(t,e-1)},Rn=_n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K7(t,e-1)},X7=_n.__acroform__.calculateCoordinates=function(t,e){var s=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,i=t[0],l=t[1],c=t[2],d=t[3],h={};return h.lowerLeft_X=s(i)||0,h.lowerLeft_Y=a(l+d)||0,h.upperRight_X=s(i+c)||0,h.upperRight_Y=a(l)||0,[Number(es(h.lowerLeft_X)),Number(es(h.lowerLeft_Y)),Number(es(h.upperRight_X)),Number(es(h.upperRight_Y))]},Z7=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],s=t._V||t.DV,a=_x(t,s),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+es(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=nl(t);return l.scope=t.scope,l.stream=e.join(`
`),l}},_x=function(t,e){var s=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var l=s,c=kt.internal.getHeight(t)||0;c=c<0?-c:c;var d=kt.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(P,O,H){if(P+1<i.length){var G=O+" "+i[P+1][0];return Zf(G,t,H).width<=d-4}return!1};l++;e:for(;l>0;){e="",l--;var f,p,x=Zf("3",t,l).height,w=t.multiline?c-l:(c-x)/2,y=w+=2,j=0,A=0,C=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zf(e,t,l=12).width+", FieldWidth:"+d+`
`;break}for(var _="",E=0,M=0;M<i.length;M++)if(i.hasOwnProperty(M)){var B=!1;if(i[M].length!==1&&C!==i[M].length-1){if((x+2)*(E+2)+2>c)continue e;_+=i[M][C],B=!0,A=M,M--}else{_=(_+=i[M][C]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var z=parseInt(M),ne=h(z,_,l),K=M>=i.length-1;if(ne&&!K){_+=" ",C=0;continue}if(ne||K){if(K)A=z;else if(t.multiline&&(x+2)*(E+2)+2>c)continue e}else{if(!t.multiline||(x+2)*(E+2)+2>c)continue e;A=z}}for(var U="",$=j;$<=A;$++){var te=i[$];if(t.multiline){if($===A){U+=te[C]+" ",C=(C+1)%te.length;continue}if($===j){U+=te[te.length-1]+" ";continue}}U+=te[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,p=Zf(U,t,l).width,t.textAlign){case"right":f=d-p-2;break;case"center":f=(d-p)/2;break;default:f=2}e+=es(f)+" "+es(y)+` Td
`,e+="("+qc(U)+`) Tj
`,e+=-es(f)+` 0 Td
`,y=-(l+2),p=0,j=B?A:A+1,E++,_=""}break}return a.text=e,a.fontSize=l,a},Zf=function(t,e,s){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:i}},J7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eE=function(t,e){var s={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(s)},tE=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Mi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(J7)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ag=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Zw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];l.objId=void 0,l.hasAnnotation&&eE(l,s)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(s){(function(a,i){var l=!a;for(var c in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var d=a[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=X7(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=kt.createDefaultAppearanceStream(d),Rs(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=Z7(d);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var x="";for(var w in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(w)){var y=d.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var c in y)if(y.hasOwnProperty(c)){var j=y[c];typeof j=="function"&&(j=j.call(i,d)),x+="/"+c+" "+j+" ",i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j)}}else typeof(j=y)=="function"&&(j=j.call(i,d)),x+="/"+c+" "+j,i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:d.objId}),i.internal.out("endobj")}l&&function(A,C){for(var _ in A)if(A.hasOwnProperty(_)){var E=_,M=A[_];C.internal.newObjectDeferredBegin(M.objId,!0),Rs(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete A[E]}}(i.internal.acroformPlugin.xForms,i)})(s,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qw=_n.__acroform__.arrayToPdfArray=function(t,e,s){var a=function(c){return c};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),Rs(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(e!==void 0&&s&&(a=s.internal.getEncryptor(e)),i+="("+qc(a(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ip=function(t,e,s){var a=function(i){return i};return e!==void 0&&s&&(a=s.internal.getEncryptor(e)),(t=t||"").toString(),"("+qc(a(t))+")"},rl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rl.prototype.toString=function(){return this.objId+" 0 R"},rl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},rl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var s in e)if(Object.getOwnPropertyDescriptor(this,e[s]).configurable===!1){var a=e[s],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:Qw(i,this.objId,this.scope)}):i instanceof rl?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var Xw=function(){rl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){t=s.trim()},get:function(){return t||null}})};rr(Xw,rl);var Zw=function(){rl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+qc(s(t))+")"}},set:function(s){t=s}})};rr(Zw,rl);var Mi=function t(){rl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(e,3)},set:function(_){_?this.F=Pn(e,3):this.F=Rn(e,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');s=_}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(_){a=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(_){a[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(_){a[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(_){a[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(_){a[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Dm)return;l="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+qc(_(l))+")"},set:function(_){l=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(_){l=_}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ag:f},set:function(_){f=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Dm||this instanceof Fc))return Ip(x,this.objId,this.scope)},set:function(_){_=_.toString(),x=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ia==0?Ip(w,this.objId,this.scope):w},set:function(_){_=_.toString(),w=this instanceof ia==0?_.substr(0,1)==="("?kd(_.substr(1,_.length-2)):kd(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?kd(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof ia==1?"/"+_:_}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ia==0?Ip(y,this.objId,this.scope):y},set:function(_){_=_.toString(),y=this instanceof ia==0?_.substr(0,1)==="("?kd(_.substr(1,_.length-2)):kd(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?kd(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof ia==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(_){_=!!_,A=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(_){j=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(_){_?this.Ff=Pn(this.Ff,1):this.Ff=Rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(_){_?this.Ff=Pn(this.Ff,2):this.Ff=Rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(_){_?this.Ff=Pn(this.Ff,3):this.Ff=Rn(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');C=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(C){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};rr(Mi,rl);var Pd=function(){Mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){t=s}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qw(e,this.objId,this.scope)},set:function(s){var a,i;i=[],typeof(a=s)=="string"&&(i=function(l,c,d){d||(d=1);for(var h,f=[];h=c.exec(l);)f.push(h[d]);return f}(a,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(s){e=s,this.sort&&e.sort()},this.addOption=function(s){s=(s=s||"").toString(),e.push(s),this.sort&&e.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();e.indexOf(s)!==-1&&(e.splice(e.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(s){s?this.Ff=Pn(this.Ff,18):this.Ff=Rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Pn(this.Ff,19):this.Ff=Rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(s){s?(this.Ff=Pn(this.Ff,20),e.sort()):this.Ff=Rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(s){s?this.Ff=Pn(this.Ff,22):this.Ff=Rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(s){s?this.Ff=Pn(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(s){s?this.Ff=Pn(this.Ff,27):this.Ff=Rn(this.Ff,27)}}),this.hasAppearanceStream=!1};rr(Pd,Mi);var Rd=function(){Pd.call(this),this.fontName="helvetica",this.combo=!1};rr(Rd,Pd);var Bd=function(){Rd.call(this),this.combo=!0};rr(Bd,Rd);var um=function(){Bd.call(this),this.edit=!0};rr(um,Bd);var ia=function(){Mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(s){s?this.Ff=Pn(this.Ff,15):this.Ff=Rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(s){s?this.Ff=Pn(this.Ff,16):this.Ff=Rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(s){s?this.Ff=Pn(this.Ff,17):this.Ff=Rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(s){s?this.Ff=Pn(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,i=[];for(a in i.push("<<"),e)i.push("/"+a+" ("+qc(s(e[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(s){Rs(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}})};rr(ia,Mi);var hm=function(){ia.call(this),this.pushButton=!0};rr(hm,ia);var Ud=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};rr(Ud,ia);var Dm=function(){var t,e;Mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),a)c.push("/"+l+" ("+qc(i(a[l]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Rs(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(i){s="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rr(Dm,Mi),Ud.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var s=this.Kids[e];s.appearanceStreamContent=t.createAppearanceStream(s.optionName),s.caption=t.getCA()}},Ud.prototype.createOption=function(t){var e=new Dm;return e.Parent=this,e.optionName=t,this.Kids.push(e),sE.call(this.scope,e),e};var fm=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};rr(fm,ia);var Fc=function(){Mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(e){e?this.Ff=Pn(this.Ff,13):this.Ff=Rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(e){e?this.Ff=Pn(this.Ff,21):this.Ff=Rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Pn(this.Ff,23):this.Ff=Rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(e){e?this.Ff=Pn(this.Ff,24):this.Ff=Rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(e){e?this.Ff=Pn(this.Ff,25):this.Ff=Rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Pn(this.Ff,26):this.Ff=Rn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rr(Fc,Mi);var mm=function(){Fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(t){t?this.Ff=Pn(this.Ff,14):this.Ff=Rn(this.Ff,14)}}),this.password=!0};rr(mm,Fc);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=_x(t,t.caption);return s.push("0.749023 g"),s.push("0 0 "+es(kt.internal.getWidth(t))+" "+es(kt.internal.getHeight(t))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+es(l.fontSize)+" Tf "+i),s.push("BT"),s.push(l.text),s.push("ET"),s.push("Q"),s.push("EMC"),e.stream=s.join(`
`),e},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],l=kt.internal.getHeight(t),c=kt.internal.getWidth(t),d=_x(t,t.caption);return i.push("1 g"),i.push("0 0 "+es(c)+" "+es(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+es(c-1)+" "+es(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+s+" "+es(d.fontSize)+" Tf "+a),i.push(d.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+es(kt.internal.getWidth(t))+" "+es(kt.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=kt.RadioButton.Circle.YesNormal,e.D[t]=kt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var s=[],a=kt.internal.getWidth(t)<=kt.internal.getHeight(t)?kt.internal.getWidth(t)/4:kt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=kt.internal.Bezier_C,l=Number((a*i).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Oo(kt.internal.getWidth(t)/2)+" "+Oo(kt.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),s.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),s.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),s.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=[],a=kt.internal.getWidth(t)<=kt.internal.getHeight(t)?kt.internal.getWidth(t)/4:kt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*kt.internal.Bezier_C).toFixed(5)),c=Number((a*kt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Oo(kt.internal.getWidth(t)/2)+" "+Oo(kt.internal.getHeight(t)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),s.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),s.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),s.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Oo(kt.internal.getWidth(t)/2)+" "+Oo(kt.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),s.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),s.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),s.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=[],a=kt.internal.getWidth(t)<=kt.internal.getHeight(t)?kt.internal.getWidth(t)/4:kt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*kt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Oo(kt.internal.getWidth(t)/2)+" "+Oo(kt.internal.getHeight(t)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),s.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),s.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),s.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=kt.RadioButton.Cross.YesNormal,e.D[t]=kt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var s=[],a=kt.internal.calculateCross(t);return s.push("q"),s.push("1 1 "+es(kt.internal.getWidth(t)-2)+" "+es(kt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(es(a.x1.x)+" "+es(a.x1.y)+" m"),s.push(es(a.x2.x)+" "+es(a.x2.y)+" l"),s.push(es(a.x4.x)+" "+es(a.x4.y)+" m"),s.push(es(a.x3.x)+" "+es(a.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=kt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+es(kt.internal.getWidth(t))+" "+es(kt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+es(kt.internal.getWidth(t)-2)+" "+es(kt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(es(s.x1.x)+" "+es(s.x1.y)+" m"),a.push(es(s.x2.x)+" "+es(s.x2.y)+" l"),a.push(es(s.x4.x)+" "+es(s.x4.y)+" m"),a.push(es(s.x3.x)+" "+es(s.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+es(kt.internal.getWidth(t))+" "+es(kt.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+s}};kt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=kt.internal.getWidth(t),s=kt.internal.getHeight(t),a=Math.min(e,s);return{x1:{x:(e-a)/2,y:(s-a)/2+a},x2:{x:(e-a)/2+a,y:(s-a)/2},x3:{x:(e-a)/2,y:(s-a)/2},x4:{x:(e-a)/2+a,y:(s-a)/2+a}}}},kt.internal.getWidth=function(t){var e=0;return Rs(t)==="object"&&(e=Xy(t.Rect[2])),e},kt.internal.getHeight=function(t){var e=0;return Rs(t)==="object"&&(e=Xy(t.Rect[3])),e};var sE=_n.addField=function(t){if(tE(this,t),!(t instanceof Mi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=Pd,_n.AcroFormListBox=Rd,_n.AcroFormComboBox=Bd,_n.AcroFormEditBox=um,_n.AcroFormButton=ia,_n.AcroFormPushButton=hm,_n.AcroFormRadioButton=Ud,_n.AcroFormCheckBox=fm,_n.AcroFormTextField=Fc,_n.AcroFormPasswordField=mm,_n.AcroFormAppearance=kt,_n.AcroForm={ChoiceField:Pd,ListBox:Rd,ComboBox:Bd,EditBox:um,Button:ia,PushButton:hm,RadioButton:Ud,CheckBox:fm,TextField:Fc,PasswordField:mm,Appearance:kt},Mt.AcroForm={ChoiceField:Pd,ListBox:Rd,ComboBox:Bd,EditBox:um,Button:ia,PushButton:hm,RadioButton:Ud,CheckBox:fm,TextField:Fc,PasswordField:mm,Appearance:kt};Mt.AcroForm;function Jw(t){return t.reduce(function(e,s,a){return e[s]=a,e},{})}(function(t){var e="addImage_";t.__addimage__={};var s="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,O){var H,G,re,ee,ie,le=s;if((O=O||s)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(ne(P))for(ie in a)for(re=a[ie],H=0;H<re.length;H+=1){for(ee=!0,G=0;G<re[H].length;G+=1)if(re[H][G]!==void 0&&re[H][G]!==P[G]){ee=!1;break}if(ee===!0){le=ie;break}}else for(ie in a)for(re=a[ie],H=0;H<re.length;H+=1){for(ee=!0,G=0;G<re[H].length;G+=1)if(re[H][G]!==void 0&&re[H][G]!==P.charCodeAt(G)){ee=!1;break}if(ee===!0){le=ie;break}}return le===s&&O!==s&&(le=O),le},l=function P(O){for(var H=this.internal.write,G=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:O.width}),ee.push({key:"Height",value:O.height}),O.colorSpace===_.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===_.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var ie="",le=0,ce=O.transparency.length;le<ce;le++)ie+=O.transparency[le]+" "+O.transparency[le]+" ";ee.push({key:"Mask",value:"["+ie+"]"})}O.sMask!==void 0&&ee.push({key:"SMask",value:O.objectId+1+" 0 R"});var Y=O.filter!==void 0?["/"+O.filter]:void 0;if(G({data:O.data,additionalKeyValues:ee,alreadyAppliedFilters:Y,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var de=(O.predictor!=null?"/Predictor "+O.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+O.width,T={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:de,data:O.sMask};"filter"in O&&(T.filter=O.filter),P.call(this,T)}if(O.colorSpace===_.INDEXED){var F=this.internal.newObject();G({data:U(new Uint8Array(O.palette)),objectId:F}),H("endobj")}},c=function(){var P=this.internal.collections[e+"images"];for(var O in P)l.call(this,P[O])},d=function(){var P,O=this.internal.collections[e+"images"],H=this.internal.write;for(var G in O)H("/I"+(P=O[G]).index,P.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var P=this.internal.collections[e+"images"];return h.call(this),P},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(P){return typeof t["process"+P.toUpperCase()]=="function"},w=function(P){return Rs(P)==="object"&&P.nodeType===1},y=function(P,O){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var H=""+P.getAttribute("src");if(H.indexOf("data:image/")===0)return dm(unescape(H).split("base64,").pop());var G=t.loadFile(H,!0);if(G!==void 0)return G}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var re;switch(O){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return dm(P.toDataURL(re,1).split("base64,").pop())}},j=function(P){var O=this.internal.collections[e+"images"];if(O){for(var H in O)if(P===O[H].alias)return O[H]}},A=function(P,O,H){return P||O||(P=-96,O=-96),P<0&&(P=-1*H.width*72/P/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),P===0&&(P=O*H.width/H.height),O===0&&(O=P*H.height/H.width),[P,O]},C=function(P,O,H,G,re,ee){var ie=A.call(this,H,G,re),le=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,Y=f.call(this);if(H=ie[0],G=ie[1],Y[re.index]=re,ee){ee*=Math.PI/180;var de=Math.cos(ee),T=Math.sin(ee),F=function(I){return I.toFixed(4)},q=[F(de),F(T),F(-1*T),F(de),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,le(P),ce(O+G),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([le(H),"0","0",le(G),"0","0","cm"].join(" "))):this.internal.write([le(H),"0","0",le(G),le(P),ce(O+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(P){var O,H,G=0;if(typeof P=="string")for(H=P.length,O=0;O<H;O++)G=(G<<5)-G+P.charCodeAt(O),G|=0;else if(ne(P))for(H=P.byteLength/2,O=0;O<H;O++)G=(G<<5)-G+P[O],G|=0;return G},B=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var O=!0;return P.length===0&&(O=!1),P.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(O=!1),O},z=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var O=P.indexOf(",");return O<0?null:P.substring(0,O).trim().endsWith("base64")?P.substring(O+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var ne=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},K=t.__addimage__.binaryStringToUint8Array=function(P){for(var O=P.length,H=new Uint8Array(O),G=0;G<O;G++)H[G]=P.charCodeAt(G);return H},U=t.__addimage__.arrayBufferToBinaryString=function(P){for(var O="",H=ne(P)?P:new Uint8Array(P),G=0;G<H.length;G+=8192)O+=String.fromCharCode.apply(null,H.subarray(G,G+8192));return O};t.addImage=function(){var P,O,H,G,re,ee,ie,le,ce;if(typeof arguments[1]=="number"?(O=s,H=arguments[1],G=arguments[2],re=arguments[3],ee=arguments[4],ie=arguments[5],le=arguments[6],ce=arguments[7]):(O=arguments[1],H=arguments[2],G=arguments[3],re=arguments[4],ee=arguments[5],ie=arguments[6],le=arguments[7],ce=arguments[8]),Rs(P=arguments[0])==="object"&&!w(P)&&"imageData"in P){var Y=P;P=Y.imageData,O=Y.format||O||s,H=Y.x||H||0,G=Y.y||G||0,re=Y.w||Y.width||re,ee=Y.h||Y.height||ee,ie=Y.alias||ie,le=Y.compression||le,ce=Y.rotation||Y.angle||ce}var de=this.internal.getFilters();if(le===void 0&&de.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(H)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var T=$.call(this,P,O,ie,le);return C.call(this,H,G,re,ee,T,ce),this};var $=function(P,O,H,G){var re,ee,ie;if(typeof P=="string"&&i(P)===s){P=unescape(P);var le=te(P,!1);(le!==""||(le=t.loadFile(P,!0))!==void 0)&&(P=le)}if(w(P)&&(P=y(P,O)),O=i(P,O),!x(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ie=H)==null||ie.length===0)&&(H=function(ce){return typeof ce=="string"||ne(ce)?M(ce):ne(ce.data)?M(ce.data):null}(P)),(re=j.call(this,H))||(P instanceof Uint8Array||O==="RGBA"||(ee=P,P=K(P)),re=this["process"+O.toUpperCase()](P,p.call(this),H,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:E.NONE}(G),ee)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},te=t.__addimage__.convertBase64ToBinaryString=function(P,O){O=typeof O!="boolean"||O;var H,G="";if(typeof P=="string"){var re;H=(re=z(P))!==null&&re!==void 0?re:P;try{G=dm(H)}catch(ee){if(O)throw B(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(P){var O,H,G="";if(w(P)&&(P=y(P)),typeof P=="string"&&i(P)===s&&((G=te(P,!1))===""&&(G=t.loadFile(P)||""),P=G),H=i(P),!x(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(P instanceof Uint8Array||(P=K(P)),!(O=this["process"+H.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(Mt.API),function(t){var e=function(s){if(s!==void 0&&s!="")return!0};Mt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(s){for(var a,i,l,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(s.objId),f=s.pageContext.annotations,p=!1,x=0;x<f.length&&!p;x++)switch((a=f[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){a=f[w];var y=this.internal.pdfEscape,j=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(A.objId),E=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+y(_(a.contents))+")",l+=" /Popup "+C.objId+" 0 R",l+=" /P "+h.objId+" 0 R",l+=" /T ("+y(_(E))+") >>",A.content=l;var M=A.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+M,a.open&&(l+=" /Open true"),l+=" >>",C.content=l,this.internal.write(A.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var B=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(j(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var z=this.annotations._nameMap[a.options.name];a.options.pageNumber=z.page,a.options.top=z.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(j(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ne=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ne+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},t.link=function(s,a,i,l,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(s),y:f(a),w:h(s+i),h:f(a+l)},options:c,type:"link"})},t.textWithLink=function(s,a,i,l){var c,d,h=this.getTextWidth(s),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){d=l.maxWidth;var p=this.splitTextToSize(s,d).length;c=Math.ceil(f*p)}else d=h,c=f;return this.text(s,a,i,l),i+=.2*f,l.align==="center"&&(a-=h/2),l.align==="right"&&(a-=h),this.link(a,i-f,d,c,l),h},t.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}}(Mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},d=t.__arabicParser__.isArabicEndLetter=function(A){return c(A)&&l(A)&&e[A.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(A){return c(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return c(A)&&l(A)&&e[A.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return c(A)&&l(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return c(A)&&l(A)&&e[A.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return c(A)&&l(A)&&e[A.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(A){var C=0,_=s,E="",M=0;for(C=0;C<A.length;C+=1)_[A.charCodeAt(C)]!==void 0?(M++,typeof(_=_[A.charCodeAt(C)])=="number"&&(E+=String.fromCharCode(_),_=s,M=0),C===A.length-1&&(_=s,E+=A.charAt(C-(M-1)),C-=M-1,M=0)):(_=s,E+=A.charAt(C-M),C-=M,M=0);return E};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&a[A.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(A,C,_){return c(A)?l(A)===!1?-1:!f(A)||!c(C)&&!c(_)||!c(_)&&d(C)||d(A)&&!c(C)||d(A)&&h(C)||d(A)&&d(C)?0:p(A)&&c(C)&&!d(C)&&c(_)&&f(_)?3:d(A)||!c(_)?1:2:-1},y=function(A){var C=0,_=0,E=0,M="",B="",z="",ne=(A=A||"").split("\\s+"),K=[];for(C=0;C<ne.length;C+=1){for(K.push(""),_=0;_<ne[C].length;_+=1)M=ne[C][_],B=ne[C][_-1],z=ne[C][_+1],c(M)?(E=w(M,B,z),K[C]+=E!==-1?String.fromCharCode(e[M.charCodeAt(0)][E]):M):K[C]+=M;K[C]=x(K[C])}return K.join(" ")},j=t.__arabicParser__.processArabic=t.processArabic=function(){var A,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(C)){var E=0;for(_=[],E=0;E<C.length;E+=1)Array.isArray(C[E])?_.push([y(C[E][0]),C[E][1],C[E][2]]):_.push([y(C[E])]);A=_}else A=y(C);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",j])}(Mt.API),Mt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(d){s=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(d){l=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(s,a){var i;if((s=s||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(A){x=A}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(A){j=A}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){a.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,y=0,j=0,A=0,C=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var _=f.maxWidth;_>0?typeof h=="string"?h=this.splitTextToSize(h,_):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(M,B){return M.concat(C.splitTextToSize(B,_))},[])):h=Array.isArray(h)?h:[h];for(var E=0;E<h.length;E++)y<(A=this.getStringUnitWidth(h[E],{font:x})*p)&&(y=A);return y!==0&&(j=h.length),{w:y/=w,h:Math.max((j*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,y&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,s===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,p,x,w){if(a.call(this),!p)throw new Error("No data for PDF table.");var y,j,A,C,_=[],E=[],M=[],B={},z={},ne=[],K=[],U=(w=w||{}).autoSize||!1,$=w.printHeaders!==!1,te=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,P=w.margins||Object.assign({width:this.getPageWidth()},e),O=typeof w.padding=="number"?w.padding:3,H=w.headerBackgroundColor||"#c8c8c8",G=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=G,this.setFontSize(te),x==null)E=_=Object.keys(p[0]),M=_.map(function(){return"left"});else if(Array.isArray(x)&&Rs(x[0])==="object")for(_=x.map(function(Y){return Y.name}),E=x.map(function(Y){return Y.prompt||Y.name||""}),M=x.map(function(Y){return Y.align||"left"}),y=0;y<x.length;y+=1)z[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(E=_=x,M=_.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<_.length;y+=1){for(B[C=_[y]]=p.map(function(Y){return Y[C]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(E[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=B[C],this.setFont(void 0,"normal"),A=0;A<j.length;A+=1)ne.push(this.getTextDimensions(j[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[C]=Math.max.apply(null,ne)+O+O,ne=[]}if($){var re={};for(y=0;y<_.length;y+=1)re[_[y]]={},re[_[y]].text=E[y],re[_[y]].align=M[y];var ee=d.call(this,re,z);K=_.map(function(Y){return new l(h,f,z[Y],ee,re[Y].text,void 0,re[Y].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ie=x.reduce(function(Y,de){return Y[de.name]=de.align,Y},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var le=d.call(this,p[y],z);for(A=0;A<_.length;A+=1){var ce=p[y][_[A]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:A,data:ce},this),c.call(this,new l(h,f,z[_[A]],le,ce,y+2,ie[_[A]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(y){var j=h[y];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/w+p+p},this).reduce(function(y,j){return Math.max(y,j)},0)};t.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=h;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(j)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),s=!1}}(Mt.API);var eN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sx=Jw(tN),sN=[100,200,300,400,500,600,700,800,900],nE=Jw(sN);function qp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),s=function(l){return eN[l=l||"normal"]?l:"normal"}(t.style),a=function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400}(t.weight),i=function(l){return typeof Sx[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:e,style:s,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,s,a].join(" ")}}}function Zy(t,e,s,a){var i;for(i=s;i>=0&&i<e.length;i+=a)if(t[e[i]])return t[e[i]];for(i=s;i>=0&&i<e.length;i-=a)if(t[e[i]])return t[e[i]]}var aE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ev(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tv(t){return t.trimLeft()}function rE(t,e){for(var s=0;s<t.length;){if(t.charAt(s)===e)return[t.substring(0,s),t.substring(s+1)];s+=1}return null}function iE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jf,sv,nv,Ed,em,av,rv,iv,zp=["times"];function lv(t,e,s,a){var i=4,l=cv;switch(a){case Mt.API.image_compression.FAST:i=1,l=ov;break;case Mt.API.image_compression.MEDIUM:i=6,l=dv;break;case Mt.API.image_compression.SLOW:i=9,l=uv}t=function(d,h,f,p){for(var x,w=d.length/h,y=new Uint8Array(d.length+w),j=[lE,ov,cv,dv,uv],A=0;A<w;A+=1){var C=A*h,_=d.subarray(C,C+h);if(p)y.set(p(_,f,x),C+A);else{for(var E=j.length,M=[],B=0;B<E;B+=1)M[B]=j[B](_,f,x);var z=cE(M.concat());y.set(M[z],C+A)}x=_}return y}(t,e,s,l);var c=bx(t,{level:i});return Mt.API.__addimage__.arrayBufferToBinaryString(c)}function lE(t){var e=Array.apply([],t);return e.unshift(0),e}function ov(t,e){var s=t.length,a=[];a[0]=1;for(var i=0;i<s;i+=1){var l=t[i-e]||0;a[i+1]=t[i]-l+256&255}return a}function cv(t,e,s){var a=t.length,i=[];i[0]=2;for(var l=0;l<a;l+=1){var c=s&&s[l]||0;i[l+1]=t[l]-c+256&255}return i}function dv(t,e,s){var a=t.length,i=[];i[0]=3;for(var l=0;l<a;l+=1){var c=t[l-e]||0,d=s&&s[l]||0;i[l+1]=t[l]+256-(c+d>>>1)&255}return i}function uv(t,e,s){var a=t.length,i=[];i[0]=4;for(var l=0;l<a;l+=1){var c=oE(t[l-e]||0,s&&s[l]||0,s&&s[l-e]||0);i[l+1]=t[l]-c+256&255}return i}function oE(t,e,s){if(t===e&&e===s)return t;var a=Math.abs(e-s),i=Math.abs(t-s),l=Math.abs(t+e-s-s);return a<=i&&a<=l?t:i<=l?e:s}function cE(t){var e=t.map(function(s){return s.reduce(function(a,i){return a+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Hp(t,e,s){var a=e*s,i=Math.floor(a/8),l=16-(a-8*i+s),c=(1<<s)-1;return nN(t,i)>>l&c}function hv(t,e,s,a){var i=s*a,l=Math.floor(i/8),c=16-(i-8*l+a),d=(1<<a)-1,h=(e&d)<<c;(function(f,p,x){if(p+1<f.byteLength)f.setUint16(p,x,!1);else{var w=x>>8&255;f.setUint8(p,w)}})(t,l,nN(t,l)&~(d<<c)&65535|h)}function nN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function dE(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,i=t[e++],l=i>>7,c=1<<1+(7&i);t[e++],t[e++];var d=null,h=null;l&&(d=e,h=c,e+=3*c);var f=!0,p=[],x=0,w=null,y=0,j=null;for(this.width=s,this.height=a;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,j=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];x=t[e++]|t[e++]<<8,w=t[e++],1&A||(w=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,B=t[e++],z=B>>6&1,ne=1<<1+(7&B),K=d,U=h,$=!1;B>>7&&($=!0,K=e,U=ne,e+=3*ne);var te=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}p.push({x:C,y:_,width:E,height:M,has_local_palette:$,palette_offset:K,palette_size:U,data_offset:te,data_length:e-te,transparent_index:w,interlaced:!!z,delay:x,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function(O){if(O<0||O>=p.length)throw new Error("Frame index out of range.");return p[O]},this.decodeAndBlitFrameBGRA=function(O,H){var G=this.frameInfo(O),re=G.width*G.height,ee=new Uint8Array(re);fv(t,G.data_offset,ee,re);var ie=G.palette_offset,le=G.transparent_index;le===null&&(le=256);var ce=G.width,Y=s-ce,de=ce,T=4*(G.y*s+G.x),F=4*((G.y+G.height)*s+G.x),q=T,I=4*Y;G.interlaced===!0&&(I+=4*s*7);for(var se=8,fe=0,be=ee.length;fe<be;++fe){var Se=ee[fe];if(de===0&&(de=ce,(q+=I)>=F&&(I=4*Y+4*s*(se-1),q=T+(ce+Y)*(se<<1),se>>=1)),Se===le)q+=4;else{var Oe=t[ie+3*Se],He=t[ie+3*Se+1],Be=t[ie+3*Se+2];H[q++]=Be,H[q++]=He,H[q++]=Oe,H[q++]=255}--de}},this.decodeAndBlitFrameRGBA=function(O,H){var G=this.frameInfo(O),re=G.width*G.height,ee=new Uint8Array(re);fv(t,G.data_offset,ee,re);var ie=G.palette_offset,le=G.transparent_index;le===null&&(le=256);var ce=G.width,Y=s-ce,de=ce,T=4*(G.y*s+G.x),F=4*((G.y+G.height)*s+G.x),q=T,I=4*Y;G.interlaced===!0&&(I+=4*s*7);for(var se=8,fe=0,be=ee.length;fe<be;++fe){var Se=ee[fe];if(de===0&&(de=ce,(q+=I)>=F&&(I=4*Y+4*s*(se-1),q=T+(ce+Y)*(se<<1),se>>=1)),Se===le)q+=4;else{var Oe=t[ie+3*Se],He=t[ie+3*Se+1],Be=t[ie+3*Se+2];H[q++]=Oe,H[q++]=He,H[q++]=Be,H[q++]=255}--de}}}function fv(t,e,s,a){for(var i=t[e++],l=1<<i,c=l+1,d=c+1,h=i+1,f=(1<<h)-1,p=0,x=0,w=0,y=t[e++],j=new Int32Array(4096),A=null;;){for(;p<16&&y!==0;)x|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<h)break;var C=x&f;if(x>>=h,p-=h,C!==l){if(C===c)break;for(var _=C<d?C:A,E=0,M=_;M>l;)M=j[M]>>8,++E;var B=M;if(w+E+(_!==C?1:0)>a)return void Gs.log("Warning, gif stream longer than expected.");s[w++]=B;var z=w+=E;for(_!==C&&(s[w++]=B),M=_;E--;)M=j[M],s[--z]=255&M,M>>=8;A!==null&&d<4096&&(j[d++]=A<<8|B,d>=f+1&&h<12&&(++h,f=f<<1|1)),A=C}else d=c+1,f=(1<<(h=i+1))-1,A=null}return w!==a&&Gs.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $p(t){var e,s,a,i,l,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),x=new Array(65535),w=new Array(65535),y=new Array(64),j=new Array(64),A=[],C=0,_=7,E=new Array(64),M=new Array(64),B=new Array(64),z=new Array(256),ne=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(T,F){for(var q=0,I=0,se=new Array,fe=1;fe<=16;fe++){for(var be=1;be<=T[fe];be++)se[F[I]]=[],se[F[I]][0]=q,se[F[I]][1]=fe,I++,q++;q*=2}return se}function ie(T){for(var F=T[0],q=T[1]-1;q>=0;)F&1<<q&&(C|=1<<_),q--,--_<0&&(C==255?(le(255),le(0)):le(C),_=7,C=0)}function le(T){A.push(T)}function ce(T){le(T>>8&255),le(255&T)}function Y(T,F,q,I,se){for(var fe,be=se[0],Se=se[240],Oe=function(Je,xt){var rt,At,Pe,ut,Te,Ge,pt,jt,ft,ve,Ke=0;for(ft=0;ft<8;++ft){rt=Je[Ke],At=Je[Ke+1],Pe=Je[Ke+2],ut=Je[Ke+3],Te=Je[Ke+4],Ge=Je[Ke+5],pt=Je[Ke+6];var qt=rt+(jt=Je[Ke+7]),Rt=rt-jt,it=At+pt,Ot=At-pt,ls=Pe+Ge,mt=Pe-Ge,Gt=ut+Te,Tt=ut-Te,As=qt+Gt,Qe=qt-Gt,ct=it+ls,We=it-ls;Je[Ke]=As+ct,Je[Ke+4]=As-ct;var as=.707106781*(We+Qe);Je[Ke+2]=Qe+as,Je[Ke+6]=Qe-as;var Xn=.382683433*((As=Tt+mt)-(We=Ot+Rt)),Xs=.5411961*As+Xn,Zn=1.306562965*We+Xn,ka=.707106781*(ct=mt+Ot),Pt=Rt+ka,Sn=Rt-ka;Je[Ke+5]=Sn+Xs,Je[Ke+3]=Sn-Xs,Je[Ke+1]=Pt+Zn,Je[Ke+7]=Pt-Zn,Ke+=8}for(Ke=0,ft=0;ft<8;++ft){rt=Je[Ke],At=Je[Ke+8],Pe=Je[Ke+16],ut=Je[Ke+24],Te=Je[Ke+32],Ge=Je[Ke+40],pt=Je[Ke+48];var xs=rt+(jt=Je[Ke+56]),bt=rt-jt,Ds=At+pt,Ms=At-pt,mn=Pe+Ge,nn=Pe-Ge,Hn=ut+Te,X=ut-Te,Ie=xs+Hn,yt=xs-Hn,ss=Ds+mn,Bt=Ds-mn;Je[Ke]=Ie+ss,Je[Ke+32]=Ie-ss;var Hs=.707106781*(Bt+yt);Je[Ke+16]=yt+Hs,Je[Ke+48]=yt-Hs;var Bs=.382683433*((Ie=X+nn)-(Bt=Ms+bt)),va=.5411961*Ie+Bs,ir=1.306562965*Bt+Bs,An=.707106781*(ss=nn+Ms),Ea=bt+An,$l=bt-An;Je[Ke+40]=$l+va,Je[Ke+24]=$l-va,Je[Ke+8]=Ea+ir,Je[Ke+56]=Ea-ir,Ke++}for(ft=0;ft<64;++ft)ve=Je[ft]*xt[ft],y[ft]=ve>0?ve+.5|0:ve-.5|0;return y}(T,F),He=0;He<64;++He)j[K[He]]=Oe[He];var Be=j[0]-q;q=j[0],Be==0?ie(I[0]):(ie(I[w[fe=32767+Be]]),ie(x[fe]));for(var et=63;et>0&&j[et]==0;)et--;if(et==0)return ie(be),q;for(var Ae,ue=1;ue<=et;){for(var Dt=ue;j[ue]==0&&ue<=et;)++ue;var at=ue-Dt;if(at>=16){Ae=at>>4;for(var gt=1;gt<=Ae;++gt)ie(Se);at&=15}fe=32767+j[ue],ie(se[(at<<4)+w[fe]]),ie(x[fe]),ue++}return et!=63&&ie(be),q}function de(T){T=Math.min(Math.max(T,1),100),l!=T&&(function(F){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],I=0;I<64;I++){var se=c((q[I]*F+50)/100);se=Math.min(Math.max(se,1),255),d[K[I]]=se}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Se=c((fe[be]*F+50)/100);Se=Math.min(Math.max(Se,1),255),h[K[be]]=Se}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Be=0;Be<8;Be++)for(var et=0;et<8;et++)f[He]=1/(d[K[He]]*Oe[Be]*Oe[et]*8),p[He]=1/(h[K[He]]*Oe[Be]*Oe[et]*8),He++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),l=T)}this.encode=function(T,F){F&&de(F),A=new Array,C=0,_=7,ce(65496),ce(65504),ce(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),ce(1),ce(1),le(0),le(0),function(){ce(65499),ce(132),le(0);for(var At=0;At<64;At++)le(d[At]);le(1);for(var Pe=0;Pe<64;Pe++)le(h[Pe])}(),function(At,Pe){ce(65472),ce(17),le(8),ce(Pe),ce(At),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(T.width,T.height),function(){ce(65476),ce(418),le(0);for(var At=0;At<16;At++)le(U[At+1]);for(var Pe=0;Pe<=11;Pe++)le($[Pe]);le(16);for(var ut=0;ut<16;ut++)le(te[ut+1]);for(var Te=0;Te<=161;Te++)le(P[Te]);le(1);for(var Ge=0;Ge<16;Ge++)le(O[Ge+1]);for(var pt=0;pt<=11;pt++)le(H[pt]);le(17);for(var jt=0;jt<16;jt++)le(G[jt+1]);for(var ft=0;ft<=161;ft++)le(re[ft])}(),ce(65498),ce(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var q=0,I=0,se=0;C=0,_=7,this.encode.displayName="_encode_";for(var fe,be,Se,Oe,He,Be,et,Ae,ue,Dt=T.data,at=T.width,gt=T.height,Je=4*at,xt=0;xt<gt;){for(fe=0;fe<Je;){for(He=Je*xt+fe,et=-1,Ae=0,ue=0;ue<64;ue++)Be=He+(Ae=ue>>3)*Je+(et=4*(7&ue)),xt+Ae>=gt&&(Be-=Je*(xt+1+Ae-gt)),fe+et>=Je&&(Be-=fe+et-Je+4),be=Dt[Be++],Se=Dt[Be++],Oe=Dt[Be++],E[ue]=(ne[be]+ne[Se+256|0]+ne[Oe+512|0]>>16)-128,M[ue]=(ne[be+768|0]+ne[Se+1024|0]+ne[Oe+1280|0]>>16)-128,B[ue]=(ne[be+1280|0]+ne[Se+1536|0]+ne[Oe+1792|0]>>16)-128;q=Y(E,f,q,e,a),I=Y(M,p,I,s,i),se=Y(B,p,se,s,i),fe+=32}xt+=8}if(_>=0){var rt=[];rt[1]=_+1,rt[0]=(1<<_+1)-1,ie(rt)}return ce(65497),new Uint8Array(A)},t=t||50,function(){for(var T=String.fromCharCode,F=0;F<256;F++)z[F]=T(F)}(),e=ee(U,$),s=ee(O,H),a=ee(te,P),i=ee(G,re),function(){for(var T=1,F=2,q=1;q<=15;q++){for(var I=T;I<F;I++)w[32767+I]=q,x[32767+I]=[],x[32767+I][1]=q,x[32767+I][0]=I;for(var se=-(F-1);se<=-T;se++)w[32767+se]=q,x[32767+se]=[],x[32767+se][1]=q,x[32767+se][0]=F-1+se;T<<=1,F<<=1}}(),function(){for(var T=0;T<256;T++)ne[T]=19595*T,ne[T+256|0]=38470*T,ne[T+512|0]=7471*T+32768,ne[T+768|0]=-11059*T,ne[T+1024|0]=-21709*T,ne[T+1280|0]=32768*T+8421375,ne[T+1536|0]=-27439*T,ne[T+1792|0]=-5329*T}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mv(t){function e($){if(!$)throw Error("assert :P")}function s($,te,P){for(var O=0;4>O;O++)if($[te+O]!=P.charCodeAt(O))return!0;return!1}function a($,te,P,O,H){for(var G=0;G<H;G++)$[te+G]=P[O+G]}function i($,te,P,O){for(var H=0;H<O;H++)$[te+H]=P}function l($){return new Int32Array($)}function c($,te){for(var P=[],O=0;O<$;O++)P.push(new te);return P}function d($,te){var P=[];return function O(H,G,re){for(var ee=re[G],ie=0;ie<ee&&(H.push(re.length>G+1?[]:new te),!(re.length<G+1));ie++)O(H[ie],G+1,re)}(P,0,$),P}var h=function(){var $=this;function te(g,v){for(var k=1<<v-1>>>0;g&k;)k>>>=1;return k?(g&k-1)+k:g}function P(g,v,k,D,V){e(!(D%k));do g[v+(D-=k)]=V;while(0<D)}function O(g,v,k,D,V){if(e(2328>=V),512>=V)var Q=l(512);else if((Q=l(V))==null)return 0;return function(Z,ae,oe,me,ye,Le){var he,Ne,Ce=ae,Ue=1<<oe,Ee=l(16),ze=l(16);for(e(ye!=0),e(me!=null),e(Z!=null),e(0<oe),Ne=0;Ne<ye;++Ne){if(15<me[Ne])return 0;++Ee[me[Ne]]}if(Ee[0]==ye)return 0;for(ze[1]=0,he=1;15>he;++he){if(Ee[he]>1<<he)return 0;ze[he+1]=ze[he]+Ee[he]}for(Ne=0;Ne<ye;++Ne)he=me[Ne],0<me[Ne]&&(Le[ze[he]++]=Ne);if(ze[15]==1)return(me=new H).g=0,me.value=Le[0],P(Z,Ce,1,Ue,me),Ue;var qe,st=-1,Xe=Ue-1,Et=0,vt=1,Yt=1,wt=1<<oe;for(Ne=0,he=1,ye=2;he<=oe;++he,ye<<=1){if(vt+=Yt<<=1,0>(Yt-=Ee[he]))return 0;for(;0<Ee[he];--Ee[he])(me=new H).g=he,me.value=Le[Ne++],P(Z,Ce+Et,ye,wt,me),Et=te(Et,he)}for(he=oe+1,ye=2;15>=he;++he,ye<<=1){if(vt+=Yt<<=1,0>(Yt-=Ee[he]))return 0;for(;0<Ee[he];--Ee[he]){if(me=new H,(Et&Xe)!=st){for(Ce+=wt,qe=1<<(st=he)-oe;15>st&&!(0>=(qe-=Ee[st]));)++st,qe<<=1;Ue+=wt=1<<(qe=st-oe),Z[ae+(st=Et&Xe)].g=qe+oe,Z[ae+st].value=Ce-ae-st}me.g=he-oe,me.value=Le[Ne++],P(Z,Ce+(Et>>oe),ye,wt,me),Et=te(Et,he)}}return vt!=2*ze[15]-1?0:Ue}(g,v,k,D,V,Q)}function H(){this.value=this.g=0}function G(){this.value=this.g=0}function re(){this.G=c(5,H),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c($a,G)}function ee(g,v,k,D){e(g!=null),e(v!=null),e(2147483648>D),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=k,g.Jd=v,g.Yc=k+D,g.Zc=4<=D?k+D-4+1:k,be(g)}function ie(g,v){for(var k=0;0<v--;)k|=Oe(g,128)<<v;return k}function le(g,v){var k=ie(g,v);return Se(g)?-k:k}function ce(g,v,k,D){var V,Q=0;for(e(g!=null),e(v!=null),e(4294967288>D),g.Sb=D,g.Ra=0,g.u=0,g.h=0,4<D&&(D=4),V=0;V<D;++V)Q+=v[k+V]<<8*V;g.Ra=Q,g.bb=D,g.oa=v,g.pa=k}function Y(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ui-8>>>0,++g.bb,g.u-=8;I(g)&&(g.h=1,g.u=0)}function de(g,v){if(e(0<=v),!g.h&&v<=ao){var k=q(g)&Or[v];return g.u+=v,Y(g),k}return g.h=1,g.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(g){return g.Ra>>>(g.u&ui-1)>>>0}function I(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ui}function se(g,v){g.u=v,g.h=I(g)}function fe(g){g.u>=an&&(e(g.u>=an),Y(g))}function be(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Se(g){return ie(g,1)}function Oe(g,v){var k=g.Ca;0>g.b&&be(g);var D=g.b,V=k*v>>>8,Q=(g.I>>>D>V)+0;for(Q?(k-=V,g.I-=V+1<<D>>>0):k=V+1,D=k,V=0;256<=D;)V+=8,D>>=8;return D=7^V+Jd[D],g.b-=D,g.Ca=(k<<D)-1,Q}function He(g,v,k){g[v+0]=k>>24&255,g[v+1]=k>>16&255,g[v+2]=k>>8&255,g[v+3]=255&k}function Be(g,v){return g[v+0]|g[v+1]<<8}function et(g,v){return Be(g,v)|g[v+2]<<16}function Ae(g,v){return Be(g,v)|Be(g,v+2)<<16}function ue(g,v){var k=1<<v;return e(g!=null),e(0<v),g.X=l(k),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function Dt(g,v){e(g!=null),e(v!=null),e(g.Xa==v.Xa),a(v.X,0,g.X,0,1<<v.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function gt(g,v,k,D){e(k!=null),e(D!=null);var V=k[0],Q=D[0];return V==0&&(V=(g*Q+v/2)/v),Q==0&&(Q=(v*V+g/2)/g),0>=V||0>=Q?0:(k[0]=V,D[0]=Q,1)}function Je(g,v){return g+(1<<v)-1>>>v}function xt(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function rt(g,v){$[v]=function(k,D,V,Q,Z,ae,oe){var me;for(me=0;me<Z;++me){var ye=$[g](ae[oe+me-1],V,Q+me);ae[oe+me]=xt(k[D+me],ye)}}}function At(){this.ud=this.hd=this.jd=0}function Pe(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function ut(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Te(g,v){return ut(g+(g-v+.5>>1))}function Ge(g,v,k){return Math.abs(v-k)-Math.abs(g-k)}function pt(g,v,k,D,V,Q,Z){for(D=Q[Z-1],k=0;k<V;++k)Q[Z+k]=D=xt(g[v+k],D)}function jt(g,v,k,D,V){var Q;for(Q=0;Q<k;++Q){var Z=g[v+Q],ae=Z>>8&255,oe=16711935&(oe=(oe=16711935&Z)+((ae<<16)+ae));D[V+Q]=(4278255360&Z)+oe>>>0}}function ft(g,v){v.jd=255&g,v.hd=g>>8&255,v.ud=g>>16&255}function ve(g,v,k,D,V,Q){var Z;for(Z=0;Z<D;++Z){var ae=v[k+Z],oe=ae>>>8,me=ae,ye=255&(ye=(ye=ae>>>16)+((g.jd<<24>>24)*(oe<<24>>24)>>>5));me=255&(me=(me+=(g.hd<<24>>24)*(oe<<24>>24)>>>5)+((g.ud<<24>>24)*(ye<<24>>24)>>>5)),V[Q+Z]=(4278255360&ae)+(ye<<16)+me}}function Ke(g,v,k,D,V){$[v]=function(Q,Z,ae,oe,me,ye,Le,he,Ne){for(oe=Le;oe<he;++oe)for(Le=0;Le<Ne;++Le)me[ye++]=V(ae[D(Q[Z++])])},$[g]=function(Q,Z,ae,oe,me,ye,Le){var he=8>>Q.b,Ne=Q.Ea,Ce=Q.K[0],Ue=Q.w;if(8>he)for(Q=(1<<Q.b)-1,Ue=(1<<he)-1;Z<ae;++Z){var Ee,ze=0;for(Ee=0;Ee<Ne;++Ee)Ee&Q||(ze=D(oe[me++])),ye[Le++]=V(Ce[ze&Ue]),ze>>=he}else $["VP8LMapColor"+k](oe,me,Ce,Ue,ye,Le,Z,ae,Ne)}}function qt(g,v,k,D,V){for(k=v+k;v<k;){var Q=g[v++];D[V++]=Q>>16&255,D[V++]=Q>>8&255,D[V++]=255&Q}}function Rt(g,v,k,D,V){for(k=v+k;v<k;){var Q=g[v++];D[V++]=Q>>16&255,D[V++]=Q>>8&255,D[V++]=255&Q,D[V++]=Q>>24&255}}function it(g,v,k,D,V){for(k=v+k;v<k;){var Q=(Z=g[v++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;D[V++]=Q,D[V++]=Z}}function Ot(g,v,k,D,V){for(k=v+k;v<k;){var Q=(Z=g[v++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;D[V++]=Q,D[V++]=Z}}function ls(g,v,k,D,V){for(k=v+k;v<k;){var Q=g[v++];D[V++]=255&Q,D[V++]=Q>>8&255,D[V++]=Q>>16&255}}function mt(g,v,k,D,V,Q){if(Q==0)for(k=v+k;v<k;)He(D,((Q=g[v++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),V+=32;else a(D,V,g,v,k)}function Gt(g,v){$[v][0]=$[g+"0"],$[v][1]=$[g+"1"],$[v][2]=$[g+"2"],$[v][3]=$[g+"3"],$[v][4]=$[g+"4"],$[v][5]=$[g+"5"],$[v][6]=$[g+"6"],$[v][7]=$[g+"7"],$[v][8]=$[g+"8"],$[v][9]=$[g+"9"],$[v][10]=$[g+"10"],$[v][11]=$[g+"11"],$[v][12]=$[g+"12"],$[v][13]=$[g+"13"],$[v][14]=$[g+"0"],$[v][15]=$[g+"0"]}function Tt(g){return g==rc||g==Vi||g==fi||g==co}function As(){this.eb=[],this.size=this.A=this.fb=0}function Qe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new As,this.f.kb=new Qe,this.sd=null}function We(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function as(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Xs(g,v){var k=g.T,D=v.ba.f.RGBA,V=D.eb,Q=D.fb+g.ka*D.A,Z=zn[v.ba.S],ae=g.y,oe=g.O,me=g.f,ye=g.N,Le=g.ea,he=g.W,Ne=v.cc,Ce=v.dc,Ue=v.Mc,Ee=v.Nc,ze=g.ka,qe=g.ka+g.T,st=g.U,Xe=st+1>>1;for(ze==0?Z(ae,oe,null,null,me,ye,Le,he,me,ye,Le,he,V,Q,null,null,st):(Z(v.ec,v.fc,ae,oe,Ne,Ce,Ue,Ee,me,ye,Le,he,V,Q-D.A,V,Q,st),++k);ze+2<qe;ze+=2)Ne=me,Ce=ye,Ue=Le,Ee=he,ye+=g.Rc,he+=g.Rc,Q+=2*D.A,Z(ae,(oe+=2*g.fa)-g.fa,ae,oe,Ne,Ce,Ue,Ee,me,ye,Le,he,V,Q-D.A,V,Q,st);return oe+=g.fa,g.j+qe<g.o?(a(v.ec,v.fc,ae,oe,st),a(v.cc,v.dc,me,ye,Xe),a(v.Mc,v.Nc,Le,he,Xe),k--):1&qe||Z(ae,oe,null,null,me,ye,Le,he,me,ye,Le,he,V,Q+D.A,null,null,st),k}function Zn(g,v,k){var D=g.F,V=[g.J];if(D!=null){var Q=g.U,Z=v.ba.S,ae=Z==wl||Z==fi;v=v.ba.f.RGBA;var oe=[0],me=g.ka;oe[0]=g.T,g.Kb&&(me==0?--oe[0]:(--me,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(oe[0]=g.o-g.j-me));var ye=v.eb;me=v.fb+me*v.A,g=Ta(D,V[0],g.width,Q,oe,ye,me+(ae?0:3),v.A),e(k==oe),g&&Tt(Z)&&lo(ye,me,ae,Q,oe,v.A)}return 0}function ka(g){var v=g.ma,k=v.ba.S,D=11>k,V=k==oo||k==ac||k==wl||k==hi||k==12||Tt(k);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Vn(v.Oa,g,V?11:12))return 0;if(V&&Tt(k)&&ec(),g.da)alert("todo:use_scaling");else{if(D){if(v.Ib=Xn,g.Kb){if(k=g.U+1>>1,v.memory=l(g.U+2*k),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+k,v.Ib=Xs,ec()}}else alert("todo:EmitYUV");V&&(v.Jb=Zn,D&&pl())}if(D&&!Th){for(g=0;256>g;++g)Qm[g]=89858*(g-128)+En>>Vr,oc[g]=-22014*(g-128)+En,lu[g]=-45773*(g-128),Ln[g]=113618*(g-128)+En>>Vr;for(g=Yi;g<id;++g)v=76283*(g-16)+En>>Vr,cc[g-Yi]=Cn(v,255),ou[g-Yi]=Cn(v+8>>4,15);Th=1}return 1}function Pt(g){var v=g.ma,k=g.U,D=g.T;return e(!(1&g.ka)),0>=k||0>=D?0:(k=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,k),v.Dc+=k,1)}function Sn(g){g.ma.memory=null}function xs(g,v,k,D){return de(g,8)!=47?0:(v[0]=de(g,14)+1,k[0]=de(g,14)+1,D[0]=de(g,1),de(g,3)!=0?0:!g.h)}function bt(g,v){if(4>g)return g+1;var k=g-2>>1;return(2+(1&g)<<k)+de(v,k)+1}function Ds(g,v){return 120<v?v-120:1<=(k=((k=pi[v-1])>>4)*g+(8-(15&k)))?k:1;var k}function Ms(g,v,k){var D=q(k),V=g[v+=255&D].g-8;return 0<V&&(se(k,k.u+8),D=q(k),v+=g[v].value,v+=D&(1<<V)-1),se(k,k.u+g[v].g),g[v].value}function mn(g,v,k){return k.g+=g.g,k.value+=g.value<<v>>>0,e(8>=k.g),g.g}function nn(g,v,k){var D=g.xc;return e((v=D==0?0:g.vc[g.md*(k>>D)+(v>>D)])<g.Wb),g.Ya[v]}function Hn(g,v,k,D){var V=g.ab,Q=g.c*v,Z=g.C;v=Z+v;var ae=k,oe=D;for(D=g.Ta,k=g.Ua;0<V--;){var me=g.gc[V],ye=Z,Le=v,he=ae,Ne=oe,Ce=(oe=D,ae=k,me.Ea);switch(e(ye<Le),e(Le<=me.nc),me.hc){case 2:ro(he,Ne,(Le-ye)*Ce,oe,ae);break;case 0:var Ue=ye,Ee=Le,ze=oe,qe=ae,st=(wt=me).Ea;Ue==0&&(Tr(he,Ne,null,null,1,ze,qe),pt(he,Ne+1,0,0,st-1,ze,qe+1),Ne+=st,qe+=st,++Ue);for(var Xe=1<<wt.b,Et=Xe-1,vt=Je(st,wt.b),Yt=wt.K,wt=wt.w+(Ue>>wt.b)*vt;Ue<Ee;){var ds=Yt,Nn=wt,Vt=1;for(Pr(he,Ne,ze,qe-st,1,ze,qe);Vt<st;){var Nt=(Vt&~Et)+Xe;Nt>st&&(Nt=st),(0,Hi[ds[Nn++]>>8&15])(he,Ne+ +Vt,ze,qe+Vt-st,Nt-Vt,ze,qe+Vt),Vt=Nt}Ne+=st,qe+=st,++Ue&Et||(wt+=vt)}Le!=me.nc&&a(oe,ae-Ce,oe,ae+(Le-ye-1)*Ce,Ce);break;case 1:for(Ce=he,Ee=Ne,st=(he=me.Ea)-(qe=he&~(ze=(Ne=1<<me.b)-1)),Ue=Je(he,me.b),Xe=me.K,me=me.w+(ye>>me.b)*Ue;ye<Le;){for(Et=Xe,vt=me,Yt=new At,wt=Ee+qe,ds=Ee+he;Ee<wt;)ft(Et[vt++],Yt),Br(Yt,Ce,Ee,Ne,oe,ae),Ee+=Ne,ae+=Ne;Ee<ds&&(ft(Et[vt++],Yt),Br(Yt,Ce,Ee,st,oe,ae),Ee+=st,ae+=st),++ye&ze||(me+=Ue)}break;case 3:if(he==oe&&Ne==ae&&0<me.b){for(Ee=oe,he=Ce=ae+(Le-ye)*Ce-(qe=(Le-ye)*Je(me.Ea,me.b)),Ne=oe,ze=ae,Ue=[],qe=(st=qe)-1;0<=qe;--qe)Ue[qe]=Ne[ze+qe];for(qe=st-1;0<=qe;--qe)Ee[he+qe]=Ue[qe];tc(me,ye,Le,oe,Ce,oe,ae)}else tc(me,ye,Le,he,Ne,oe,ae)}ae=D,oe=k}oe!=k&&a(D,k,ae,oe,Q)}function X(g,v){var k=g.V,D=g.Ba+g.c*g.C,V=v-g.C;if(e(v<=g.l.o),e(16>=V),0<V){var Q=g.l,Z=g.Ta,ae=g.Ua,oe=Q.width;if(Hn(g,V,k,D),V=ae=[ae],e((k=g.C)<(D=v)),e(Q.v<Q.va),D>Q.o&&(D=Q.o),k<Q.j){var me=Q.j-k;k=Q.j,V[0]+=me*oe}if(k>=D?k=0:(V[0]+=4*Q.v,Q.ka=k-Q.j,Q.U=Q.va-Q.v,Q.T=D-k,k=1),k){if(ae=ae[0],11>(k=g.ca).S){var ye=k.f.RGBA,Le=(D=k.S,V=Q.U,Q=Q.T,me=ye.eb,ye.A),he=Q;for(ye=ye.fb+g.Ma*ye.A;0<he--;){var Ne=Z,Ce=ae,Ue=V,Ee=me,ze=ye;switch(D){case ta:io(Ne,Ce,Ue,Ee,ze);break;case oo:da(Ne,Ce,Ue,Ee,ze);break;case rc:da(Ne,Ce,Ue,Ee,ze),lo(Ee,ze,0,Ue,1,0);break;case qr:Ls(Ne,Ce,Ue,Ee,ze);break;case ac:mt(Ne,Ce,Ue,Ee,ze,1);break;case Vi:mt(Ne,Ce,Ue,Ee,ze,1),lo(Ee,ze,0,Ue,1,0);break;case wl:mt(Ne,Ce,Ue,Ee,ze,0);break;case fi:mt(Ne,Ce,Ue,Ee,ze,0),lo(Ee,ze,1,Ue,1,0);break;case hi:Ur(Ne,Ce,Ue,Ee,ze);break;case co:Ur(Ne,Ce,Ue,Ee,ze),Oa(Ee,ze,Ue,1,0);break;case td:Ns(Ne,Ce,Ue,Ee,ze);break;default:e(0)}ae+=oe,ye+=Le}g.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=k.height)}}g.C=v,e(g.C<=g.i)}function Ie(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var k=g.Ya[v].G,D=g.Ya[v].H;if(0<k[1][D[1]+0].g||0<k[2][D[2]+0].g||0<k[3][D[3]+0].g)return 0}return 1}function yt(g,v,k,D,V,Q){if(g.Z!=0){var Z=g.qd,ae=g.rd;for(e(Hr[g.Z]!=null);v<k;++v)Hr[g.Z](Z,ae,D,V,D,V,Q),Z=D,ae=V,V+=Q;g.qd=Z,g.rd=ae}}function ss(g,v){var k=g.l.ma,D=k.Z==0||k.Z==1?g.l.j:g.C;if(D=g.C<D?D:g.C,e(v<=g.l.o),v>D){var V=g.l.width,Q=k.ca,Z=k.tb+V*D,ae=g.V,oe=g.Ba+g.c*D,me=g.gc;e(g.ab==1),e(me[0].hc==3),Rr(me[0],D,v,ae,oe,Q,Z),yt(k,D,v,Q,Z,V)}g.C=g.Ma=v}function Bt(g,v,k,D,V,Q,Z){var ae=g.$/D,oe=g.$%D,me=g.m,ye=g.s,Le=k+g.$,he=Le;V=k+D*V;var Ne=k+D*Q,Ce=280+ye.ua,Ue=g.Pb?ae:16777216,Ee=0<ye.ua?ye.Wa:null,ze=ye.wc,qe=Le<Ne?nn(ye,oe,ae):null;e(g.C<Q),e(Ne<=V);var st=!1;e:for(;;){for(;st||Le<Ne;){var Xe=0;if(ae>=Ue){var Et=Le-k;e((Ue=g).Pb),Ue.wd=Ue.m,Ue.xd=Et,0<Ue.s.ua&&Dt(Ue.s.Wa,Ue.s.vb),Ue=ae+Mh}if(oe&ze||(qe=nn(ye,oe,ae)),e(qe!=null),qe.Qb&&(v[Le]=qe.qb,st=!0),!st)if(fe(me),qe.jc){Xe=me,Et=v;var vt=Le,Yt=qe.pd[q(Xe)&$a-1];e(qe.jc),256>Yt.g?(se(Xe,Xe.u+Yt.g),Et[vt]=Yt.value,Xe=0):(se(Xe,Xe.u+Yt.g-256),e(256<=Yt.value),Xe=Yt.value),Xe==0&&(st=!0)}else Xe=Ms(qe.G[0],qe.H[0],me);if(me.h)break;if(st||256>Xe){if(!st)if(qe.nd)v[Le]=(qe.qb|Xe<<8)>>>0;else{if(fe(me),st=Ms(qe.G[1],qe.H[1],me),fe(me),Et=Ms(qe.G[2],qe.H[2],me),vt=Ms(qe.G[3],qe.H[3],me),me.h)break;v[Le]=(vt<<24|st<<16|Xe<<8|Et)>>>0}if(st=!1,++Le,++oe>=D&&(oe=0,++ae,Z!=null&&ae<=Q&&!(ae%16)&&Z(g,ae),Ee!=null))for(;he<Le;)Xe=v[he++],Ee.X[(506832829*Xe&4294967295)>>>Ee.Mb]=Xe}else if(280>Xe){if(Xe=bt(Xe-256,me),Et=Ms(qe.G[4],qe.H[4],me),fe(me),Et=Ds(D,Et=bt(Et,me)),me.h)break;if(Le-k<Et||V-Le<Xe)break e;for(vt=0;vt<Xe;++vt)v[Le+vt]=v[Le+vt-Et];for(Le+=Xe,oe+=Xe;oe>=D;)oe-=D,++ae,Z!=null&&ae<=Q&&!(ae%16)&&Z(g,ae);if(e(Le<=V),oe&ze&&(qe=nn(ye,oe,ae)),Ee!=null)for(;he<Le;)Xe=v[he++],Ee.X[(506832829*Xe&4294967295)>>>Ee.Mb]=Xe}else{if(!(Xe<Ce))break e;for(st=Xe-280,e(Ee!=null);he<Le;)Xe=v[he++],Ee.X[(506832829*Xe&4294967295)>>>Ee.Mb]=Xe;Xe=Le,e(!(st>>>(Et=Ee).Xa)),v[Xe]=Et.X[st],st=!0}st||e(me.h==I(me))}if(g.Pb&&me.h&&Le<V)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Dt(g.s.vb,g.s.Wa);else{if(me.h)break e;Z?.(g,ae>Q?Q:ae),g.a=0,g.$=Le-k}return 1}return g.a=3,0}function Hs(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,e(g!=null)}function Bs(){var g=new Zs;return g==null?null:(g.a=0,g.xb=uo,Gt("Predictor","VP8LPredictors"),Gt("Predictor","VP8LPredictors_C"),Gt("PredictorAdd","VP8LPredictorsAdd"),Gt("PredictorAdd","VP8LPredictorsAdd_C"),ro=jt,Br=ve,io=qt,da=Rt,Ur=it,Ns=Ot,Ls=ls,$.VP8LMapColor32b=In,$.VP8LMapColor8b=zi,g)}function va(g,v,k,D,V){var Q=1,Z=[g],ae=[v],oe=D.m,me=D.s,ye=null,Le=0;e:for(;;){if(k)for(;Q&&de(oe,1);){var he=Z,Ne=ae,Ce=D,Ue=1,Ee=Ce.m,ze=Ce.gc[Ce.ab],qe=de(Ee,2);if(Ce.Oc&1<<qe)Q=0;else{switch(Ce.Oc|=1<<qe,ze.hc=qe,ze.Ea=he[0],ze.nc=Ne[0],ze.K=[null],++Ce.ab,e(4>=Ce.ab),qe){case 0:case 1:ze.b=de(Ee,3)+2,Ue=va(Je(ze.Ea,ze.b),Je(ze.nc,ze.b),0,Ce,ze.K),ze.K=ze.K[0];break;case 3:var st,Xe=de(Ee,8)+1,Et=16<Xe?0:4<Xe?1:2<Xe?2:3;if(he[0]=Je(ze.Ea,Et),ze.b=Et,st=Ue=va(Xe,1,0,Ce,ze.K)){var vt,Yt=Xe,wt=ze,ds=1<<(8>>wt.b),Nn=l(ds);if(Nn==null)st=0;else{var Vt=wt.K[0],Nt=wt.w;for(Nn[0]=wt.K[0][0],vt=1;vt<1*Yt;++vt)Nn[vt]=xt(Vt[Nt+vt],Nn[vt-1]);for(;vt<4*ds;++vt)Nn[vt]=0;wt.K[0]=null,wt.K[0]=Nn,st=1}}Ue=st;break;case 2:break;default:e(0)}Q=Ue}}if(Z=Z[0],ae=ae[0],Q&&de(oe,1)&&!(Q=1<=(Le=de(oe,4))&&11>=Le)){D.a=3;break e}var dt;if(dt=Q)t:{var en,Kt,ns,St=D,Zt=Z,ms=ae,Vs=Le,pn=k,xn=St.m,ln=St.s,cs=[null],ps=1,on=0,Ut=jl[Vs];s:for(;;){if(pn&&de(xn,1)){var Dn=de(xn,3)+2,Ba=Je(Zt,Dn),cn=Je(ms,Dn),fa=Ba*cn;if(!va(Ba,cn,0,St,cs))break s;for(cs=cs[0],ln.xc=Dn,en=0;en<fa;++en){var Fs=cs[en]>>8&65535;cs[en]=Fs,Fs>=ps&&(ps=Fs+1)}}if(xn.h)break s;for(Kt=0;5>Kt;++Kt){var gn=Pa[Kt];!Kt&&0<Vs&&(gn+=1<<Vs),on<gn&&(on=gn)}var ma=c(ps*Ut,H),Wn=ps,Us=c(Wn,re);if(Us==null)var ys=null;else e(65536>=Wn),ys=Us;var sa=l(on);if(ys==null||sa==null||ma==null){St.a=1;break s}var Gn=ma;for(en=ns=0;en<ps;++en){var Cs=ys[en],pa=Cs.G,Mn=Cs.H,Wr=0,fr=1,Fn=0;for(Kt=0;5>Kt;++Kt){gn=Pa[Kt],pa[Kt]=Gn,Mn[Kt]=ns,!Kt&&0<Vs&&(gn+=1<<Vs);a:{var dc,ld=gn,uc=St,fo=sa,Bh=Gn,Uh=ns,hc=0,yi=uc.m,Zm=de(yi,1);if(i(fo,0,0,ld),Zm){var Ih=de(yi,1)+1,qh=de(yi,1),cu=de(yi,qh==0?1:8);fo[cu]=1,Ih==2&&(fo[cu=de(yi,8)]=1);var mo=1}else{var du=l(19),uu=de(yi,4)+4;if(19<uu){uc.a=3;var fc=0;break a}for(dc=0;dc<uu;++dc)du[mi[dc]]=de(yi,3);var od=void 0,po=void 0,zh=uc,Hh=du,vi=ld,mc=fo,cd=0,mr=zh.m,xo=8,hu=c(128,H);n:for(;O(hu,0,7,Hh,19);){if(de(mr,1)){var $h=2+2*de(mr,3);if((od=2+de(mr,$h))>vi)break n}else od=vi;for(po=0;po<vi&&od--;){fe(mr);var fu=hu[0+(127&q(mr))];se(mr,mr.u+fu.g);var Al=fu.value;if(16>Al)mc[po++]=Al,Al!=0&&(xo=Al);else{var Vh=Al==16,mu=Al-16,pu=Ya[mu],xu=de(mr,sd[mu])+pu;if(po+xu>vi)break n;for(var Wh=Vh?xo:0;0<xu--;)mc[po++]=Wh}}cd=1;break n}cd||(zh.a=3),mo=cd}(mo=mo&&!yi.h)&&(hc=O(Bh,Uh,8,fo,ld)),mo&&hc!=0?fc=hc:(uc.a=3,fc=0)}if(fc==0)break s;if(fr&&Nl[Kt]==1&&(fr=Gn[ns].g==0),Wr+=Gn[ns].g,ns+=fc,3>=Kt){var Cl,dd=sa[0];for(Cl=1;Cl<gn;++Cl)sa[Cl]>dd&&(dd=sa[Cl]);Fn+=dd}}if(Cs.nd=fr,Cs.Qb=0,fr&&(Cs.qb=(pa[3][Mn[3]+0].value<<24|pa[1][Mn[1]+0].value<<16|pa[2][Mn[2]+0].value)>>>0,Wr==0&&256>pa[0][Mn[0]+0].value&&(Cs.Qb=1,Cs.qb+=pa[0][Mn[0]+0].value<<8)),Cs.jc=!Cs.Qb&&6>Fn,Cs.jc){var pc,wi=Cs;for(pc=0;pc<$a;++pc){var Gr=pc,Ni=wi.pd[Gr],xc=wi.G[0][wi.H[0]+Gr];256<=xc.value?(Ni.g=xc.g+256,Ni.value=xc.value):(Ni.g=0,Ni.value=0,Gr>>=mn(xc,8,Ni),Gr>>=mn(wi.G[1][wi.H[1]+Gr],16,Ni),Gr>>=mn(wi.G[2][wi.H[2]+Gr],0,Ni),mn(wi.G[3][wi.H[3]+Gr],24,Ni))}}}ln.vc=cs,ln.Wb=ps,ln.Ya=ys,ln.yc=ma,dt=1;break t}dt=0}if(!(Q=dt)){D.a=3;break e}if(0<Le){if(me.ua=1<<Le,!ue(me.Wa,Le)){D.a=1,Q=0;break e}}else me.ua=0;var gc=D,gu=Z,Gh=ae,bu=gc.s,yu=bu.xc;if(gc.c=gu,gc.i=Gh,bu.md=Je(gu,yu),bu.wc=yu==0?-1:(1<<yu)-1,k){D.xb=Oh;break e}if((ye=l(Z*ae))==null){D.a=1,Q=0;break e}Q=(Q=Bt(D,ye,0,Z,ae,ae,null))&&!oe.h;break e}return Q?(V!=null?V[0]=ye:(e(ye==null),e(k)),D.$=0,k||Hs(me)):Hs(me),Q}function ir(g,v){var k=g.c*g.i,D=k+v+16*v;return e(g.c<=v),g.V=l(D),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+k+v,1)}function An(g,v){var k=g.C,D=v-k,V=g.V,Q=g.Ba+g.c*k;for(e(v<=g.l.o);0<D;){var Z=16<D?16:D,ae=g.l.ma,oe=g.l.width,me=oe*Z,ye=ae.ca,Le=ae.tb+oe*k,he=g.Ta,Ne=g.Ua;Hn(g,Z,V,Q),bl(he,Ne,ye,Le,me),yt(ae,k,k+Z,ye,Le,oe),D-=Z,V+=Z*g.c,k+=Z}e(k==v),g.C=g.Ma=v}function Ea(){this.ub=this.yd=this.td=this.Rb=0}function $l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zc(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Vl(){this.Yb=function(){var g=[];return function v(k,D,V){for(var Q=V[D],Z=0;Z<Q&&(k.push(V.length>D+1?[]:0),!(V.length<D+1));Z++)v(k[Z],D+1,V)}(g,0,[3,11]),g}()}function Hc(){this.jb=l(3),this.Wc=d([4,8],Vl),this.Xc=d([4,17],Vl)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function oa(){this.ld=this.La=this.dd=this.tc=0}function La(){this.Na=this.la=0}function Wl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ni(){this.uc=this.M=this.Nb=0,this.wa=Array(new oa),this.Y=0,this.ya=Array(new Gl),this.aa=0,this.l=new Ql}function Yl(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Kl(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Ea,this.Kc=new $l,this.ed=new ol,this.Qa=new zc,this.Ic=this.$c=this.Aa=0,this.D=new ni,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,T),this.ia=0,this.pb=c(4,Wl),this.Pa=new Hc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yl),this.Hd=0,this.rb=Array(new La),this.sb=0,this.wa=Array(new oa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gl),this.L=this.aa=0,this.gd=d([4,2],oa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ql(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $c(){var g=new Kl;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,kn||(kn=Ia)),g}function ws(g,v,k){return g.a==0&&(g.a=v,g.sc=k,g.cb=0),0}function Vo(g,v,k){return 3<=k&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function Vc(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return ws(g,2,"null VP8Io passed to VP8GetHeaders()");var k=v.data,D=v.w,V=v.ha;if(4>V)return ws(g,7,"Truncated header.");var Q=k[D+0]|k[D+1]<<8|k[D+2]<<16,Z=g.Od;if(Z.Rb=!(1&Q),Z.td=Q>>1&7,Z.yd=Q>>4&1,Z.ub=Q>>5,3<Z.td)return ws(g,3,"Incorrect keyframe parameters.");if(!Z.yd)return ws(g,4,"Frame not displayable.");D+=3,V-=3;var ae=g.Kc;if(Z.Rb){if(7>V)return ws(g,7,"cannot parse picture header");if(!Vo(k,D,V))return ws(g,3,"Bad code word");ae.c=16383&(k[D+4]<<8|k[D+3]),ae.Td=k[D+4]>>6,ae.i=16383&(k[D+6]<<8|k[D+5]),ae.Ud=k[D+6]>>6,D+=7,V-=7,g.za=ae.c+15>>4,g.Ub=ae.i+15>>4,v.width=ae.c,v.height=ae.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((Q=g.Pa).jb,0,255,Q.jb.length),e((Q=g.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(Z.ub>V)return ws(g,7,"bad partition length");ee(Q=g.m,k,D,Z.ub),D+=Z.ub,V-=Z.ub,Z.Rb&&(ae.Ld=Se(Q),ae.Kd=Se(Q)),ae=g.Qa;var oe,me=g.Pa;if(e(Q!=null),e(ae!=null),ae.Cb=Se(Q),ae.Cb){if(ae.Bb=Se(Q),Se(Q)){for(ae.Fb=Se(Q),oe=0;4>oe;++oe)ae.Zb[oe]=Se(Q)?le(Q,7):0;for(oe=0;4>oe;++oe)ae.Lb[oe]=Se(Q)?le(Q,6):0}if(ae.Bb)for(oe=0;3>oe;++oe)me.jb[oe]=Se(Q)?ie(Q,8):255}else ae.Bb=0;if(Q.Ka)return ws(g,3,"cannot parse segment header");if((ae=g.ed).zd=Se(Q),ae.Tb=ie(Q,6),ae.wb=ie(Q,3),ae.Pc=Se(Q),ae.Pc&&Se(Q)){for(me=0;4>me;++me)Se(Q)&&(ae.vd[me]=le(Q,6));for(me=0;4>me;++me)Se(Q)&&(ae.od[me]=le(Q,6))}if(g.L=ae.Tb==0?0:ae.zd?1:2,Q.Ka)return ws(g,3,"cannot parse filter header");var ye=V;if(V=oe=D,D=oe+ye,ae=ye,g.Xb=(1<<ie(g.m,2))-1,ye<3*(me=g.Xb))k=7;else{for(oe+=3*me,ae-=3*me,ye=0;ye<me;++ye){var Le=k[V+0]|k[V+1]<<8|k[V+2]<<16;Le>ae&&(Le=ae),ee(g.Jc[+ye],k,oe,Le),oe+=Le,ae-=Le,V+=3}ee(g.Jc[+me],k,oe,ae),k=oe<D?0:5}if(k!=0)return ws(g,k,"cannot parse partitions");for(k=ie(oe=g.m,7),V=Se(oe)?le(oe,4):0,D=Se(oe)?le(oe,4):0,ae=Se(oe)?le(oe,4):0,me=Se(oe)?le(oe,4):0,oe=Se(oe)?le(oe,4):0,ye=g.Qa,Le=0;4>Le;++Le){if(ye.Cb){var he=ye.Zb[Le];ye.Fb||(he+=k)}else{if(0<Le){g.pb[Le]=g.pb[0];continue}he=k}var Ne=g.pb[Le];Ne.Sc[0]=ic[Cn(he+V,127)],Ne.Sc[1]=lc[Cn(he+0,127)],Ne.Eb[0]=2*ic[Cn(he+D,127)],Ne.Eb[1]=101581*lc[Cn(he+ae,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=ic[Cn(he+me,117)],Ne.Qc[1]=lc[Cn(he+oe,127)],Ne.lc=he+oe}if(!Z.Rb)return ws(g,4,"Not a key frame.");for(Se(Q),Z=g.Pa,k=0;4>k;++k){for(V=0;8>V;++V)for(D=0;3>D;++D)for(ae=0;11>ae;++ae)me=Oe(Q,_l[k][V][D][ae])?ie(Q,8):zr[k][V][D][ae],Z.Wc[k][V].Yb[D][ae]=me;for(V=0;17>V;++V)Z.Xc[k][V]=Z.Wc[k][Fh[V]]}return g.kc=Se(Q),g.kc&&(g.Bd=ie(Q,8)),g.cb=1}function Ia(g,v,k,D,V,Q,Z){var ae=v[V].Yb[k];for(k=0;16>V;++V){if(!Oe(g,ae[k+0]))return V;for(;!Oe(g,ae[k+1]);)if(ae=v[++V].Yb[0],k=0,V==16)return 16;var oe=v[V+1].Yb;if(Oe(g,ae[k+2])){var me=g,ye=0;if(Oe(me,(he=ae)[(Le=k)+3]))if(Oe(me,he[Le+6])){for(ae=0,Le=2*(ye=Oe(me,he[Le+8]))+(he=Oe(me,he[Le+9+ye])),ye=0,he=rn[Le];he[ae];++ae)ye+=ye+Oe(me,he[ae]);ye+=3+(8<<Le)}else Oe(me,he[Le+7])?(ye=7+2*Oe(me,165),ye+=Oe(me,145)):ye=5+Oe(me,159);else ye=Oe(me,he[Le+4])?3+Oe(me,he[Le+5]):2;ae=oe[2]}else ye=1,ae=oe[1];oe=Z+js[V],0>(me=g).b&&be(me);var Le,he=me.b,Ne=(Le=me.Ca>>1)-(me.I>>he)>>31;--me.b,me.Ca+=Ne,me.Ca|=1,me.I-=(Le+1&Ne)<<he,Q[oe]=((ye^Ne)-Ne)*D[(0<V)+0]}return 16}function Oi(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function wa(g,v,k,D,V){V=g[v+k+32*D]+(V>>3),g[v+k+32*D]=-256&V?0>V?0:255:V}function cl(g,v,k,D,V,Q){wa(g,v,0,k,D+V),wa(g,v,1,k,D+Q),wa(g,v,2,k,D-Q),wa(g,v,3,k,D-V)}function bs(g){return(20091*g>>16)+g}function dl(g,v,k,D){var V,Q=0,Z=l(16);for(V=0;4>V;++V){var ae=g[v+0]+g[v+8],oe=g[v+0]-g[v+8],me=(35468*g[v+4]>>16)-bs(g[v+12]),ye=bs(g[v+4])+(35468*g[v+12]>>16);Z[Q+0]=ae+ye,Z[Q+1]=oe+me,Z[Q+2]=oe-me,Z[Q+3]=ae-ye,Q+=4,v++}for(V=Q=0;4>V;++V)ae=(g=Z[Q+0]+4)+Z[Q+8],oe=g-Z[Q+8],me=(35468*Z[Q+4]>>16)-bs(Z[Q+12]),wa(k,D,0,0,ae+(ye=bs(Z[Q+4])+(35468*Z[Q+12]>>16))),wa(k,D,1,0,oe+me),wa(k,D,2,0,oe-me),wa(k,D,3,0,ae-ye),Q++,D+=32}function Wc(g,v,k,D){var V=g[v+0]+4,Q=35468*g[v+4]>>16,Z=bs(g[v+4]),ae=35468*g[v+1]>>16;cl(k,D,0,V+Z,g=bs(g[v+1]),ae),cl(k,D,1,V+Q,g,ae),cl(k,D,2,V-Q,g,ae),cl(k,D,3,V-Z,g,ae)}function Wo(g,v,k,D,V){dl(g,v,k,D),V&&dl(g,v+16,k,D+4)}function Ti(g,v,k,D){Js(g,v+0,k,D,1),Js(g,v+32,k,D+128,1)}function lr(g,v,k,D){var V;for(g=g[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)wa(k,D,v,V,g)}function Go(g,v,k,D){g[v+0]&&ua(g,v+0,k,D),g[v+16]&&ua(g,v+16,k,D+4),g[v+32]&&ua(g,v+32,k,D+128),g[v+48]&&ua(g,v+48,k,D+128+4)}function ai(g,v,k,D){var V,Q=l(16);for(V=0;4>V;++V){var Z=g[v+0+V]+g[v+12+V],ae=g[v+4+V]+g[v+8+V],oe=g[v+4+V]-g[v+8+V],me=g[v+0+V]-g[v+12+V];Q[0+V]=Z+ae,Q[8+V]=Z-ae,Q[4+V]=me+oe,Q[12+V]=me-oe}for(V=0;4>V;++V)Z=(g=Q[0+4*V]+3)+Q[3+4*V],ae=Q[1+4*V]+Q[2+4*V],oe=Q[1+4*V]-Q[2+4*V],me=g-Q[3+4*V],k[D+0]=Z+ae>>3,k[D+16]=me+oe>>3,k[D+32]=Z-ae>>3,k[D+48]=me-oe>>3,D+=64}function Pi(g,v,k){var D,V=v-32,Q=qn,Z=255-g[V-1];for(D=0;D<k;++D){var ae,oe=Q,me=Z+g[v-1];for(ae=0;ae<k;++ae)g[v+ae]=oe[me+g[V+ae]];v+=32}}function Xl(g,v){Pi(g,v,4)}function Gc(g,v){Pi(g,v,8)}function Yo(g,v){Pi(g,v,16)}function Xd(g,v){var k;for(k=0;16>k;++k)a(g,v+32*k,g,v-32,16)}function Ko(g,v){var k;for(k=16;0<k;--k)i(g,v,g[v-1],16),v+=32}function Sr(g,v,k){var D;for(D=0;16>D;++D)i(v,k+32*D,g,16)}function Ar(g,v){var k,D=16;for(k=0;16>k;++k)D+=g[v-1+32*k]+g[v+k-32];Sr(D>>5,g,v)}function Qo(g,v){var k,D=8;for(k=0;16>k;++k)D+=g[v-1+32*k];Sr(D>>4,g,v)}function qa(g,v){var k,D=8;for(k=0;16>k;++k)D+=g[v+k-32];Sr(D>>4,g,v)}function Cr(g,v){Sr(128,g,v)}function $t(g,v,k){return g+2*v+k+2>>2}function Xo(g,v){var k,D=v-32;for(D=new Uint8Array([$t(g[D-1],g[D+0],g[D+1]),$t(g[D+0],g[D+1],g[D+2]),$t(g[D+1],g[D+2],g[D+3]),$t(g[D+2],g[D+3],g[D+4])]),k=0;4>k;++k)a(g,v+32*k,D,0,D.length)}function Yc(g,v){var k=g[v-1],D=g[v-1+32],V=g[v-1+64],Q=g[v-1+96];He(g,v+0,16843009*$t(g[v-1-32],k,D)),He(g,v+32,16843009*$t(k,D,V)),He(g,v+64,16843009*$t(D,V,Q)),He(g,v+96,16843009*$t(V,Q,Q))}function ul(g,v){var k,D=4;for(k=0;4>k;++k)D+=g[v+k-32]+g[v-1+32*k];for(D>>=3,k=0;4>k;++k)i(g,v+32*k,D,4)}function or(g,v){var k=g[v-1+0],D=g[v-1+32],V=g[v-1+64],Q=g[v-1-32],Z=g[v+0-32],ae=g[v+1-32],oe=g[v+2-32],me=g[v+3-32];g[v+0+96]=$t(D,V,g[v-1+96]),g[v+1+96]=g[v+0+64]=$t(k,D,V),g[v+2+96]=g[v+1+64]=g[v+0+32]=$t(Q,k,D),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=$t(Z,Q,k),g[v+3+64]=g[v+2+32]=g[v+1+0]=$t(ae,Z,Q),g[v+3+32]=g[v+2+0]=$t(oe,ae,Z),g[v+3+0]=$t(me,oe,ae)}function cr(g,v){var k=g[v+1-32],D=g[v+2-32],V=g[v+3-32],Q=g[v+4-32],Z=g[v+5-32],ae=g[v+6-32],oe=g[v+7-32];g[v+0+0]=$t(g[v+0-32],k,D),g[v+1+0]=g[v+0+32]=$t(k,D,V),g[v+2+0]=g[v+1+32]=g[v+0+64]=$t(D,V,Q),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=$t(V,Q,Z),g[v+3+32]=g[v+2+64]=g[v+1+96]=$t(Q,Z,ae),g[v+3+64]=g[v+2+96]=$t(Z,ae,oe),g[v+3+96]=$t(ae,oe,oe)}function Da(g,v){var k=g[v-1+0],D=g[v-1+32],V=g[v-1+64],Q=g[v-1-32],Z=g[v+0-32],ae=g[v+1-32],oe=g[v+2-32],me=g[v+3-32];g[v+0+0]=g[v+1+64]=Q+Z+1>>1,g[v+1+0]=g[v+2+64]=Z+ae+1>>1,g[v+2+0]=g[v+3+64]=ae+oe+1>>1,g[v+3+0]=oe+me+1>>1,g[v+0+96]=$t(V,D,k),g[v+0+64]=$t(D,k,Q),g[v+0+32]=g[v+1+96]=$t(k,Q,Z),g[v+1+32]=g[v+2+96]=$t(Q,Z,ae),g[v+2+32]=g[v+3+96]=$t(Z,ae,oe),g[v+3+32]=$t(ae,oe,me)}function kr(g,v){var k=g[v+0-32],D=g[v+1-32],V=g[v+2-32],Q=g[v+3-32],Z=g[v+4-32],ae=g[v+5-32],oe=g[v+6-32],me=g[v+7-32];g[v+0+0]=k+D+1>>1,g[v+1+0]=g[v+0+64]=D+V+1>>1,g[v+2+0]=g[v+1+64]=V+Q+1>>1,g[v+3+0]=g[v+2+64]=Q+Z+1>>1,g[v+0+32]=$t(k,D,V),g[v+1+32]=g[v+0+96]=$t(D,V,Q),g[v+2+32]=g[v+1+96]=$t(V,Q,Z),g[v+3+32]=g[v+2+96]=$t(Q,Z,ae),g[v+3+64]=$t(Z,ae,oe),g[v+3+96]=$t(ae,oe,me)}function Zo(g,v){var k=g[v-1+0],D=g[v-1+32],V=g[v-1+64],Q=g[v-1+96];g[v+0+0]=k+D+1>>1,g[v+2+0]=g[v+0+32]=D+V+1>>1,g[v+2+32]=g[v+0+64]=V+Q+1>>1,g[v+1+0]=$t(k,D,V),g[v+3+0]=g[v+1+32]=$t(D,V,Q),g[v+3+32]=g[v+1+64]=$t(V,Q,Q),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=Q}function ri(g,v){var k=g[v-1+0],D=g[v-1+32],V=g[v-1+64],Q=g[v-1+96],Z=g[v-1-32],ae=g[v+0-32],oe=g[v+1-32],me=g[v+2-32];g[v+0+0]=g[v+2+32]=k+Z+1>>1,g[v+0+32]=g[v+2+64]=D+k+1>>1,g[v+0+64]=g[v+2+96]=V+D+1>>1,g[v+0+96]=Q+V+1>>1,g[v+3+0]=$t(ae,oe,me),g[v+2+0]=$t(Z,ae,oe),g[v+1+0]=g[v+3+32]=$t(k,Z,ae),g[v+1+32]=g[v+3+64]=$t(D,k,Z),g[v+1+64]=g[v+3+96]=$t(V,D,k),g[v+1+96]=$t(Q,V,D)}function Zl(g,v){var k;for(k=0;8>k;++k)a(g,v+32*k,g,v-32,8)}function Er(g,v){var k;for(k=0;8>k;++k)i(g,v,g[v-1],8),v+=32}function ii(g,v,k){var D;for(D=0;8>D;++D)i(v,k+32*D,g,8)}function hl(g,v){var k,D=8;for(k=0;8>k;++k)D+=g[v+k-32]+g[v-1+32*k];ii(D>>4,g,v)}function Jn(g,v){var k,D=4;for(k=0;8>k;++k)D+=g[v+k-32];ii(D>>3,g,v)}function dr(g,v){var k,D=4;for(k=0;8>k;++k)D+=g[v-1+32*k];ii(D>>3,g,v)}function Ri(g,v){ii(128,g,v)}function ur(g,v,k){var D=g[v-k],V=g[v+0],Q=3*(V-D)+ed[1020+g[v-2*k]-g[v+k]],Z=vl[112+(Q+4>>3)];g[v-k]=qn[255+D+vl[112+(Q+3>>3)]],g[v+0]=qn[255+V-Z]}function fl(g,v,k,D){var V=g[v+0],Q=g[v+k];return Ga[255+g[v-2*k]-g[v-k]]>D||Ga[255+Q-V]>D}function ml(g,v,k,D){return 4*Ga[255+g[v-k]-g[v+0]]+Ga[255+g[v-2*k]-g[v+k]]<=D}function Bi(g,v,k,D,V){var Q=g[v-3*k],Z=g[v-2*k],ae=g[v-k],oe=g[v+0],me=g[v+k],ye=g[v+2*k],Le=g[v+3*k];return 4*Ga[255+ae-oe]+Ga[255+Z-me]>D?0:Ga[255+g[v-4*k]-Q]<=V&&Ga[255+Q-Z]<=V&&Ga[255+Z-ae]<=V&&Ga[255+Le-ye]<=V&&Ga[255+ye-me]<=V&&Ga[255+me-oe]<=V}function li(g,v,k,D){var V=2*D+1;for(D=0;16>D;++D)ml(g,v+D,k,V)&&ur(g,v+D,k)}function Lr(g,v,k,D){var V=2*D+1;for(D=0;16>D;++D)ml(g,v+D*k,1,V)&&ur(g,v+D*k,1)}function Jl(g,v,k,D){var V;for(V=3;0<V;--V)li(g,v+=4*k,k,D)}function Jo(g,v,k,D){var V;for(V=3;0<V;--V)Lr(g,v+=4,k,D)}function Ma(g,v,k,D,V,Q,Z,ae){for(Q=2*Q+1;0<V--;){if(Bi(g,v,k,Q,Z))if(fl(g,v,k,ae))ur(g,v,k);else{var oe=g,me=v,ye=k,Le=oe[me-2*ye],he=oe[me-ye],Ne=oe[me+0],Ce=oe[me+ye],Ue=oe[me+2*ye],Ee=27*(qe=ed[1020+3*(Ne-he)+ed[1020+Le-Ce]])+63>>7,ze=18*qe+63>>7,qe=9*qe+63>>7;oe[me-3*ye]=qn[255+oe[me-3*ye]+qe],oe[me-2*ye]=qn[255+Le+ze],oe[me-ye]=qn[255+he+Ee],oe[me+0]=qn[255+Ne-Ee],oe[me+ye]=qn[255+Ce-ze],oe[me+2*ye]=qn[255+Ue-qe]}v+=D}}function Dr(g,v,k,D,V,Q,Z,ae){for(Q=2*Q+1;0<V--;){if(Bi(g,v,k,Q,Z))if(fl(g,v,k,ae))ur(g,v,k);else{var oe=g,me=v,ye=k,Le=oe[me-ye],he=oe[me+0],Ne=oe[me+ye],Ce=vl[112+(4+(Ue=3*(he-Le))>>3)],Ue=vl[112+(Ue+3>>3)],Ee=Ce+1>>1;oe[me-2*ye]=qn[255+oe[me-2*ye]+Ee],oe[me-ye]=qn[255+Le+Ue],oe[me+0]=qn[255+he-Ce],oe[me+ye]=qn[255+Ne-Ee]}v+=D}}function S(g,v,k,D,V,Q){Ma(g,v,k,1,16,D,V,Q)}function W(g,v,k,D,V,Q){Ma(g,v,1,k,16,D,V,Q)}function pe(g,v,k,D,V,Q){var Z;for(Z=3;0<Z;--Z)Dr(g,v+=4*k,k,1,16,D,V,Q)}function ge(g,v,k,D,V,Q){var Z;for(Z=3;0<Z;--Z)Dr(g,v+=4,1,k,16,D,V,Q)}function _e(g,v,k,D,V,Q,Z,ae){Ma(g,v,V,1,8,Q,Z,ae),Ma(k,D,V,1,8,Q,Z,ae)}function $e(g,v,k,D,V,Q,Z,ae){Ma(g,v,1,V,8,Q,Z,ae),Ma(k,D,1,V,8,Q,Z,ae)}function tt(g,v,k,D,V,Q,Z,ae){Dr(g,v+4*V,V,1,8,Q,Z,ae),Dr(k,D+4*V,V,1,8,Q,Z,ae)}function _t(g,v,k,D,V,Q,Z,ae){Dr(g,v+4,1,V,8,Q,Z,ae),Dr(k,D+4,1,V,8,Q,Z,ae)}function Lt(){this.ba=new ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new as,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ht(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gs(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new H}function Zs(){this.xb=this.a=0,this.l=new Ql,this.ca=new ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gs,this.ab=0,this.gc=c(4,Jt),this.Oc=0}function yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ql,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Es(g,v,k,D,V,Q,Z){for(g=g==null?0:g[v+0],v=0;v<Z;++v)V[Q+v]=g+k[D+v]&255,g=V[Q+v]}function vn(g,v,k,D,V,Q,Z){var ae;if(g==null)Es(null,null,k,D,V,Q,Z);else for(ae=0;ae<Z;++ae)V[Q+ae]=g[v+ae]+k[D+ae]&255}function wn(g,v,k,D,V,Q,Z){if(g==null)Es(null,null,k,D,V,Q,Z);else{var ae,oe=g[v+0],me=oe,ye=oe;for(ae=0;ae<Z;++ae)me=ye+(oe=g[v+ae])-me,ye=k[D+ae]+(-256&me?0>me?0:255:me)&255,me=oe,V[Q+ae]=ye}}function $n(g,v,k,D){var V=v.width,Q=v.o;if(e(g!=null&&v!=null),0>k||0>=D||k+D>Q)return null;if(!g.Cc){if(g.ga==null){var Z;if(g.ga=new yn,(Z=g.ga==null)||(Z=v.width*v.o,e(g.Gb.length==0),g.Gb=l(Z),g.Uc=0,g.Gb==null?Z=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Z=1),Z=!Z),!Z){Z=g.ga;var ae=g.Fa,oe=g.P,me=g.qc,ye=g.mb,Le=g.nb,he=oe+1,Ne=me-1,Ce=Z.l;if(e(ae!=null&&ye!=null&&v!=null),Hr[0]=null,Hr[1]=Es,Hr[2]=vn,Hr[3]=wn,Z.ca=ye,Z.tb=Le,Z.c=v.width,Z.i=v.height,e(0<Z.c&&0<Z.i),1>=me)v=0;else if(Z.$a=3&ae[oe+0],Z.Z=ae[oe+0]>>2&3,Z.Lc=ae[oe+0]>>4&3,oe=ae[oe+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||oe)v=0;else if(Ce.put=Pt,Ce.ac=ka,Ce.bc=Sn,Ce.ma=Z,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,Z.$a)e:{e(Z.$a==1),v=Bs();t:for(;;){if(v==null){v=0;break e}if(e(Z!=null),Z.mc=v,v.c=Z.c,v.i=Z.i,v.l=Z.l,v.l.ma=Z,v.l.width=Z.c,v.l.height=Z.i,v.a=0,ce(v.m,ae,he,Ne),!va(Z.c,Z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ie(v.s)?(Z.ic=1,ae=v.c*v.i,v.Ta=null,v.Ua=0,v.V=l(ae),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Z.ic=0,v=ir(v,Z.c)),!v))break t;v=1;break e}Z.mc=null,v=0}else v=Ne>=Z.c*Z.i;Z=!v}if(Z)return null;g.ga.Lc!=1?g.Ga=0:D=Q-k}e(g.ga!=null),e(k+D<=Q);e:{if(v=(ae=g.ga).c,Q=ae.l.o,ae.$a==0){if(he=g.rc,Ne=g.Vc,Ce=g.Fa,oe=g.P+1+k*v,me=g.mb,ye=g.nb+k*v,e(oe<=g.P+g.qc),ae.Z!=0)for(e(Hr[ae.Z]!=null),Z=0;Z<D;++Z)Hr[ae.Z](he,Ne,Ce,oe,me,ye,v),he=me,Ne=ye,ye+=v,oe+=v;else for(Z=0;Z<D;++Z)a(me,ye,Ce,oe,v),he=me,Ne=ye,ye+=v,oe+=v;g.rc=he,g.Vc=Ne}else{if(e(ae.mc!=null),v=k+D,e((Z=ae.mc)!=null),e(v<=Z.i),Z.C>=v)v=1;else if(ae.ic||pl(),ae.ic){ae=Z.V,he=Z.Ba,Ne=Z.c;var Ue=Z.i,Ee=(Ce=1,oe=Z.$/Ne,me=Z.$%Ne,ye=Z.m,Le=Z.s,Z.$),ze=Ne*Ue,qe=Ne*v,st=Le.wc,Xe=Ee<qe?nn(Le,me,oe):null;e(Ee<=ze),e(v<=Ue),e(Ie(Le));t:for(;;){for(;!ye.h&&Ee<qe;){if(me&st||(Xe=nn(Le,me,oe)),e(Xe!=null),fe(ye),256>(Ue=Ms(Xe.G[0],Xe.H[0],ye)))ae[he+Ee]=Ue,++Ee,++me>=Ne&&(me=0,++oe<=v&&!(oe%16)&&ss(Z,oe));else{if(!(280>Ue)){Ce=0;break t}Ue=bt(Ue-256,ye);var Et,vt=Ms(Xe.G[4],Xe.H[4],ye);if(fe(ye),!(Ee>=(vt=Ds(Ne,vt=bt(vt,ye)))&&ze-Ee>=Ue)){Ce=0;break t}for(Et=0;Et<Ue;++Et)ae[he+Ee+Et]=ae[he+Ee+Et-vt];for(Ee+=Ue,me+=Ue;me>=Ne;)me-=Ne,++oe<=v&&!(oe%16)&&ss(Z,oe);Ee<qe&&me&st&&(Xe=nn(Le,me,oe))}e(ye.h==I(ye))}ss(Z,oe>v?v:oe);break t}!Ce||ye.h&&Ee<ze?(Ce=0,Z.a=ye.h?5:3):Z.$=Ee,v=Ce}else v=Bt(Z,Z.V,Z.Ba,Z.c,Z.i,v,An);if(!v){D=0;break e}}k+D>=Q&&(g.Cc=1),D=1}if(!D)return null;if(g.Cc&&((D=g.ga)!=null&&(D.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+k*V}function oi(g,v,k,D,V,Q){for(;0<V--;){var Z,ae=g,oe=v+(k?1:0),me=g,ye=v+(k?0:3);for(Z=0;Z<D;++Z){var Le=me[ye+4*Z];Le!=255&&(Le*=32897,ae[oe+4*Z+0]=ae[oe+4*Z+0]*Le>>23,ae[oe+4*Z+1]=ae[oe+4*Z+1]*Le>>23,ae[oe+4*Z+2]=ae[oe+4*Z+2]*Le>>23)}v+=Q}}function Ui(g,v,k,D,V){for(;0<D--;){var Q;for(Q=0;Q<k;++Q){var Z=g[v+2*Q+0],ae=15&(me=g[v+2*Q+1]),oe=4369*ae,me=(240&me|me>>4)*oe>>16;g[v+2*Q+0]=(240&Z|Z>>4)*oe>>16&240|(15&Z|Z<<4)*oe>>16>>4&15,g[v+2*Q+1]=240&me|ae}v+=V}}function Zd(g,v,k,D,V,Q,Z,ae){var oe,me,ye=255;for(me=0;me<V;++me){for(oe=0;oe<D;++oe){var Le=g[v+oe];Q[Z+4*oe]=Le,ye&=Le}v+=k,Z+=ae}return ye!=255}function Kc(g,v,k,D,V){var Q;for(Q=0;Q<V;++Q)k[D+Q]=g[v+Q]>>8}function pl(){lo=oi,Oa=Ui,Ta=Zd,bl=Kc}function hr(g,v,k){$[g]=function(D,V,Q,Z,ae,oe,me,ye,Le,he,Ne,Ce,Ue,Ee,ze,qe,st){var Xe,Et=st-1>>1,vt=ae[oe+0]|me[ye+0]<<16,Yt=Le[he+0]|Ne[Ce+0]<<16;e(D!=null);var wt=3*vt+Yt+131074>>2;for(v(D[V+0],255&wt,wt>>16,Ue,Ee),Q!=null&&(wt=3*Yt+vt+131074>>2,v(Q[Z+0],255&wt,wt>>16,ze,qe)),Xe=1;Xe<=Et;++Xe){var ds=ae[oe+Xe]|me[ye+Xe]<<16,Nn=Le[he+Xe]|Ne[Ce+Xe]<<16,Vt=vt+ds+Yt+Nn+524296,Nt=Vt+2*(ds+Yt)>>3;wt=Nt+vt>>1,vt=(Vt=Vt+2*(vt+Nn)>>3)+ds>>1,v(D[V+2*Xe-1],255&wt,wt>>16,Ue,Ee+(2*Xe-1)*k),v(D[V+2*Xe-0],255&vt,vt>>16,Ue,Ee+(2*Xe-0)*k),Q!=null&&(wt=Vt+Yt>>1,vt=Nt+Nn>>1,v(Q[Z+2*Xe-1],255&wt,wt>>16,ze,qe+(2*Xe-1)*k),v(Q[Z+2*Xe+0],255&vt,vt>>16,ze,qe+(2*Xe+0)*k)),vt=ds,Yt=Nn}1&st||(wt=3*vt+Yt+131074>>2,v(D[V+st-1],255&wt,wt>>16,Ue,Ee+(st-1)*k),Q!=null&&(wt=3*Yt+vt+131074>>2,v(Q[Z+st-1],255&wt,wt>>16,ze,qe+(st-1)*k)))}}function ec(){zn[ta]=gi,zn[oo]=$r,zn[qr]=Gi,zn[ac]=nd,zn[wl]=ad,zn[hi]=ho,zn[td]=rd,zn[rc]=$r,zn[Vi]=nd,zn[fi]=ad,zn[co]=ho}function Ii(g){return g&-16384?0>g?0:255:g>>Km}function za(g,v){return Ii((19077*g>>8)+(26149*v>>8)-14234)}function Un(g,v,k){return Ii((19077*g>>8)-(6419*v>>8)-(13320*k>>8)+8708)}function Mr(g,v){return Ii((19077*g>>8)+(33050*v>>8)-17685)}function Fr(g,v,k,D,V){D[V+0]=za(g,k),D[V+1]=Un(g,v,k),D[V+2]=Mr(g,v)}function xl(g,v,k,D,V){D[V+0]=Mr(g,v),D[V+1]=Un(g,v,k),D[V+2]=za(g,k)}function eo(g,v,k,D,V){var Q=Un(g,v,k);v=Q<<3&224|Mr(g,v)>>3,D[V+0]=248&za(g,k)|Q>>5,D[V+1]=v}function ea(g,v,k,D,V){var Q=240&Mr(g,v)|15;D[V+0]=240&za(g,k)|Un(g,v,k)>>4,D[V+1]=Q}function ci(g,v,k,D,V){D[V+0]=255,Fr(g,v,k,D,V+1)}function to(g,v,k,D,V){xl(g,v,k,D,V),D[V+3]=255}function Qc(g,v,k,D,V){Fr(g,v,k,D,V),D[V+3]=255}function Cn(g,v){return 0>g?0:g>v?v:g}function Fa(g,v,k){$[g]=function(D,V,Q,Z,ae,oe,me,ye,Le){for(var he=ye+(-2&Le)*k;ye!=he;)v(D[V+0],Q[Z+0],ae[oe+0],me,ye),v(D[V+1],Q[Z+0],ae[oe+0],me,ye+k),V+=2,++Z,++oe,ye+=2*k;1&Le&&v(D[V+0],Q[Z+0],ae[oe+0],me,ye)}}function so(g,v,k){return k==0?g==0?v==0?6:5:v==0?4:0:k}function di(g,v,k,D,V){switch(g>>>30){case 3:Js(v,k,D,V,0);break;case 2:Ir(v,k,D,V);break;case 1:ua(v,k,D,V)}}function Ha(g,v){var k,D,V=v.M,Q=v.Nb,Z=g.oc,ae=g.pc+40,oe=g.oc,me=g.pc+584,ye=g.oc,Le=g.pc+600;for(k=0;16>k;++k)Z[ae+32*k-1]=129;for(k=0;8>k;++k)oe[me+32*k-1]=129,ye[Le+32*k-1]=129;for(0<V?Z[ae-1-32]=oe[me-1-32]=ye[Le-1-32]=129:(i(Z,ae-32-1,127,21),i(oe,me-32-1,127,9),i(ye,Le-32-1,127,9)),D=0;D<g.za;++D){var he=v.ya[v.aa+D];if(0<D){for(k=-1;16>k;++k)a(Z,ae+32*k-4,Z,ae+32*k+12,4);for(k=-1;8>k;++k)a(oe,me+32*k-4,oe,me+32*k+4,4),a(ye,Le+32*k-4,ye,Le+32*k+4,4)}var Ne=g.Gd,Ce=g.Hd+D,Ue=he.ad,Ee=he.Hc;if(0<V&&(a(Z,ae-32,Ne[Ce].y,0,16),a(oe,me-32,Ne[Ce].f,0,8),a(ye,Le-32,Ne[Ce].ea,0,8)),he.Za){var ze=Z,qe=ae-32+16;for(0<V&&(D>=g.za-1?i(ze,qe,Ne[Ce].y[15],4):a(ze,qe,Ne[Ce+1].y,0,4)),k=0;4>k;k++)ze[qe+128+k]=ze[qe+256+k]=ze[qe+384+k]=ze[qe+0+k];for(k=0;16>k;++k,Ee<<=2)ze=Z,qe=ae+Sl[k],ha[he.Ob[k]](ze,qe),di(Ee,Ue,16*+k,ze,qe)}else if(ze=so(D,V,he.Ob[0]),xi[ze](Z,ae),Ee!=0)for(k=0;16>k;++k,Ee<<=2)di(Ee,Ue,16*+k,Z,ae+Sl[k]);for(k=he.Gc,ze=so(D,V,he.Dd),Ra[ze](oe,me),Ra[ze](ye,Le),Ee=Ue,ze=oe,qe=me,255&(he=0|k)&&(170&he?Va(Ee,256,ze,qe):gl(Ee,256,ze,qe)),he=ye,Ee=Le,255&(k>>=8)&&(170&k?Va(Ue,320,he,Ee):gl(Ue,320,he,Ee)),V<g.Ub-1&&(a(Ne[Ce].y,0,Z,ae+480,16),a(Ne[Ce].f,0,oe,me+224,8),a(Ne[Ce].ea,0,ye,Le+224,8)),k=8*Q*g.B,Ne=g.sa,Ce=g.ta+16*D+16*Q*g.R,Ue=g.qa,he=g.ra+8*D+k,Ee=g.Ha,ze=g.Ia+8*D+k,k=0;16>k;++k)a(Ne,Ce+k*g.R,Z,ae+32*k,16);for(k=0;8>k;++k)a(Ue,he+k*g.B,oe,me+32*k,8),a(Ee,ze+k*g.B,ye,Le+32*k,8)}}function no(g,v,k,D,V,Q,Z,ae,oe){var me=[0],ye=[0],Le=0,he=oe!=null?oe.kd:0,Ne=oe??new Ht;if(g==null||12>k)return 7;Ne.data=g,Ne.w=v,Ne.ha=k,v=[v],k=[k],Ne.gb=[Ne.gb];e:{var Ce=v,Ue=k,Ee=Ne.gb;if(e(g!=null),e(Ue!=null),e(Ee!=null),Ee[0]=0,12<=Ue[0]&&!s(g,Ce[0],"RIFF")){if(s(g,Ce[0]+8,"WEBP")){Ee=3;break e}var ze=Ae(g,Ce[0]+4);if(12>ze||4294967286<ze){Ee=3;break e}if(he&&ze>Ue[0]-8){Ee=7;break e}Ee[0]=ze,Ce[0]+=12,Ue[0]-=12}Ee=0}if(Ee!=0)return Ee;for(ze=0<Ne.gb[0],k=k[0];;){e:{var qe=g;Ue=v,Ee=k;var st=me,Xe=ye,Et=Ce=[0];if((wt=Le=[Le])[0]=0,8>Ee[0])Ee=7;else{if(!s(qe,Ue[0],"VP8X")){if(Ae(qe,Ue[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var vt=Ae(qe,Ue[0]+8),Yt=1+et(qe,Ue[0]+12);if(2147483648<=Yt*(qe=1+et(qe,Ue[0]+15))){Ee=3;break e}Et!=null&&(Et[0]=vt),st!=null&&(st[0]=Yt),Xe!=null&&(Xe[0]=qe),Ue[0]+=18,Ee[0]-=18,wt[0]=1}Ee=0}}if(Le=Le[0],Ce=Ce[0],Ee!=0)return Ee;if(Ue=!!(2&Ce),!ze&&Le)return 3;if(Q!=null&&(Q[0]=!!(16&Ce)),Z!=null&&(Z[0]=Ue),ae!=null&&(ae[0]=0),Z=me[0],Ce=ye[0],Le&&Ue&&oe==null){Ee=0;break}if(4>k){Ee=7;break}if(ze&&Le||!ze&&!Le&&!s(g,v[0],"ALPH")){k=[k],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{vt=g,Ee=v,ze=k;var wt=Ne.gb;st=Ne.na,Xe=Ne.P,Et=Ne.Sa,Yt=22,e(vt!=null),e(ze!=null),qe=Ee[0];var ds=ze[0];for(e(st!=null),e(Et!=null),st[0]=null,Xe[0]=null,Et[0]=0;;){if(Ee[0]=qe,ze[0]=ds,8>ds){Ee=7;break e}var Nn=Ae(vt,qe+4);if(4294967286<Nn){Ee=3;break e}var Vt=8+Nn+1&-2;if(Yt+=Vt,0<wt&&Yt>wt){Ee=3;break e}if(!s(vt,qe,"VP8 ")||!s(vt,qe,"VP8L")){Ee=0;break e}if(ds[0]<Vt){Ee=7;break e}s(vt,qe,"ALPH")||(st[0]=vt,Xe[0]=qe+8,Et[0]=Nn),qe+=Vt,ds-=Vt}}if(k=k[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Ee!=0)break}k=[k],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(wt=g,Ee=v,ze=k,st=Ne.gb[0],Xe=Ne.Ja,Et=Ne.xa,vt=Ee[0],qe=!s(wt,vt,"VP8 "),Yt=!s(wt,vt,"VP8L"),e(wt!=null),e(ze!=null),e(Xe!=null),e(Et!=null),8>ze[0])Ee=7;else{if(qe||Yt){if(wt=Ae(wt,vt+4),12<=st&&wt>st-12){Ee=3;break e}if(he&&wt>ze[0]-8){Ee=7;break e}Xe[0]=wt,Ee[0]+=8,ze[0]-=8,Et[0]=Yt}else Et[0]=5<=ze[0]&&wt[vt+0]==47&&!(wt[vt+4]>>5),Xe[0]=ze[0];Ee=0}if(k=k[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],v=v[0],Ee!=0)break;if(4294967286<Ne.Ja)return 3;if(ae==null||Ue||(ae[0]=Ne.xa?2:1),Z=[Z],Ce=[Ce],Ne.xa){if(5>k){Ee=7;break}ae=Z,he=Ce,Ue=Q,g==null||5>k?g=0:5<=k&&g[v+0]==47&&!(g[v+4]>>5)?(ze=[0],wt=[0],st=[0],ce(Xe=new F,g,v,k),xs(Xe,ze,wt,st)?(ae!=null&&(ae[0]=ze[0]),he!=null&&(he[0]=wt[0]),Ue!=null&&(Ue[0]=st[0]),g=1):g=0):g=0}else{if(10>k){Ee=7;break}ae=Ce,g==null||10>k||!Vo(g,v+3,k-3)?g=0:(he=g[v+0]|g[v+1]<<8|g[v+2]<<16,Ue=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Ne.Ja||!Ue||!g?g=0:(Z&&(Z[0]=Ue),ae&&(ae[0]=g),g=1))}if(!g||(Z=Z[0],Ce=Ce[0],Le&&(me[0]!=Z||ye[0]!=Ce)))return 3;oe!=null&&(oe[0]=Ne,oe.offset=v-oe.w,e(4294967286>v-oe.w),e(oe.offset==oe.ha-k));break}return Ee==0||Ee==7&&Le&&oe==null?(Q!=null&&(Q[0]|=Ne.na!=null&&0<Ne.na.length),D!=null&&(D[0]=Z),V!=null&&(V[0]=Ce),0):Ee}function Vn(g,v,k){var D=v.width,V=v.height,Q=0,Z=0,ae=D,oe=V;if(v.Da=g!=null&&0<g.Da,v.Da&&(ae=g.cd,oe=g.bd,Q=g.v,Z=g.j,11>k||(Q&=-2,Z&=-2),0>Q||0>Z||0>=ae||0>=oe||Q+ae>D||Z+oe>V))return 0;if(v.v=Q,v.j=Z,v.va=Q+ae,v.o=Z+oe,v.U=ae,v.T=oe,v.da=g!=null&&0<g.da,v.da){if(!gt(ae,oe,k=[g.ib],Q=[g.hb]))return 0;v.ib=k[0],v.hb=Q[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*D/4&&v.hb<3*V/4,v.Kb=0),1}function ca(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function qi(g,v,k,D){if(D==null||0>=g||0>=v)return 2;if(k!=null){if(k.Da){var V=k.cd,Q=k.bd,Z=-2&k.v,ae=-2&k.j;if(0>Z||0>ae||0>=V||0>=Q||Z+V>g||ae+Q>v)return 2;g=V,v=Q}if(k.da){if(!gt(g,v,V=[k.ib],Q=[k.hb]))return 2;g=V[0],v=Q[0]}}D.width=g,D.height=v;e:{var oe=D.width,me=D.height;if(g=D.S,0>=oe||0>=me||!(g>=ta&&13>g))g=2;else{if(0>=D.Rd&&D.sd==null){Z=Q=V=v=0;var ye=(ae=oe*Rh[g])*me;if(11>g||(Q=(me+1)/2*(v=(oe+1)/2),g==12&&(Z=(V=oe)*me)),(me=l(ye+2*Q+Z))==null){g=1;break e}D.sd=me,11>g?((oe=D.f.RGBA).eb=me,oe.fb=0,oe.A=ae,oe.size=ye):((oe=D.f.kb).y=me,oe.O=0,oe.fa=ae,oe.Fd=ye,oe.f=me,oe.N=0+ye,oe.Ab=v,oe.Cd=Q,oe.ea=me,oe.W=0+ye+Q,oe.Db=v,oe.Ed=Q,g==12&&(oe.F=me,oe.J=0+ye+2*Q),oe.Tc=Z,oe.lb=V)}if(v=1,V=D.S,Q=D.width,Z=D.height,V>=ta&&13>V)if(11>V)g=D.f.RGBA,v&=(ae=Math.abs(g.A))*(Z-1)+Q<=g.size,v&=ae>=Q*Rh[V],v&=g.eb!=null;else{g=D.f.kb,ae=(Q+1)/2,ye=(Z+1)/2,oe=Math.abs(g.fa),me=Math.abs(g.Ab);var Le=Math.abs(g.Db),he=Math.abs(g.lb),Ne=he*(Z-1)+Q;v&=oe*(Z-1)+Q<=g.Fd,v&=me*(ye-1)+ae<=g.Cd,v=(v&=Le*(ye-1)+ae<=g.Ed)&oe>=Q&me>=ae&Le>=ae,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,V==12&&(v&=he>=Q,v&=Ne<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||k!=null&&k.fd&&(g=ca(D)),g}var $a=64,Or=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ao=24,ui=32,an=8,Jd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(g){return g},$.Predictor2=function(g,v,k){return v[k+0]},$.Predictor3=function(g,v,k){return v[k+1]},$.Predictor4=function(g,v,k){return v[k-1]},$.Predictor5=function(g,v,k){return Pe(Pe(g,v[k+1]),v[k+0])},$.Predictor6=function(g,v,k){return Pe(g,v[k-1])},$.Predictor7=function(g,v,k){return Pe(g,v[k+0])},$.Predictor8=function(g,v,k){return Pe(v[k-1],v[k+0])},$.Predictor9=function(g,v,k){return Pe(v[k+0],v[k+1])},$.Predictor10=function(g,v,k){return Pe(Pe(g,v[k-1]),Pe(v[k+0],v[k+1]))},$.Predictor11=function(g,v,k){var D=v[k+0];return 0>=Ge(D>>24&255,g>>24&255,(v=v[k-1])>>24&255)+Ge(D>>16&255,g>>16&255,v>>16&255)+Ge(D>>8&255,g>>8&255,v>>8&255)+Ge(255&D,255&g,255&v)?D:g},$.Predictor12=function(g,v,k){var D=v[k+0];return(ut((g>>24&255)+(D>>24&255)-((v=v[k-1])>>24&255))<<24|ut((g>>16&255)+(D>>16&255)-(v>>16&255))<<16|ut((g>>8&255)+(D>>8&255)-(v>>8&255))<<8|ut((255&g)+(255&D)-(255&v)))>>>0},$.Predictor13=function(g,v,k){var D=v[k-1];return(Te((g=Pe(g,v[k+0]))>>24&255,D>>24&255)<<24|Te(g>>16&255,D>>16&255)<<16|Te(g>>8&255,D>>8&255)<<8|Te(255&g,255&D))>>>0};var Tr=$.PredictorAdd0;$.PredictorAdd1=pt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var Pr=$.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var ro,tc=$.ColorIndexInverseTransform,In=$.MapARGB,Rr=$.VP8LColorIndexInverseTransformAlpha,zi=$.MapAlpha,Hi=$.VP8LPredictorsAdd=[];Hi.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Br,io,da,Ur,Ns,Ls,$s,Js,Ir,Va,ua,gl,eu,$i,tu,su,nu,Eh,Lh,Dh,au,ru,Xc,Wa,lo,Oa,Ta,bl,Zc=l(511),sc=l(2041),nc=l(225),Jc=l(767),yl=0,ed=sc,vl=nc,qn=Jc,Ga=Zc,ta=0,oo=1,qr=2,ac=3,wl=4,hi=5,td=6,rc=7,Vi=8,fi=9,co=10,sd=[2,3,7],Ya=[3,3,11],Pa=[280,256,256,256,40],Nl=[0,1,1,1,0],mi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mh=8,ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kn=null,rn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],js=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_l=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xi=[],ha=[],Ra=[],Oh=1,uo=2,Hr=[],zn=[];hr("UpsampleRgbLinePair",Fr,3),hr("UpsampleBgrLinePair",xl,3),hr("UpsampleRgbaLinePair",Qc,4),hr("UpsampleBgraLinePair",to,4),hr("UpsampleArgbLinePair",ci,4),hr("UpsampleRgba4444LinePair",ea,2),hr("UpsampleRgb565LinePair",eo,2);var gi=$.UpsampleRgbLinePair,Gi=$.UpsampleBgrLinePair,$r=$.UpsampleRgbaLinePair,nd=$.UpsampleBgraLinePair,ad=$.UpsampleArgbLinePair,ho=$.UpsampleRgba4444LinePair,rd=$.UpsampleRgb565LinePair,Vr=16,En=1<<Vr-1,Yi=-227,id=482,Km=6,Th=0,Qm=l(256),Ln=l(256),lu=l(256),oc=l(256),cc=l(id-Yi),ou=l(id-Yi);Fa("YuvToRgbRow",Fr,3),Fa("YuvToBgrRow",xl,3),Fa("YuvToRgbaRow",Qc,4),Fa("YuvToBgraRow",to,4),Fa("YuvToArgbRow",ci,4),Fa("YuvToRgba4444Row",ea,2),Fa("YuvToRgb565Row",eo,2);var Sl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bi=[0,2,8],Xm=[8,7,6,4,4,2,2,2,1,1,1,1],Ph=1;this.WebPDecodeRGBA=function(g,v,k,D,V){var Q=oo,Z=new Lt,ae=new ct;Z.ba=ae,ae.S=Q,ae.width=[ae.width],ae.height=[ae.height];var oe=ae.width,me=ae.height,ye=new We;if(ye==null||g==null)var Le=2;else e(ye!=null),Le=no(g,v,k,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Le!=0?oe=0:(oe!=null&&(oe[0]=ye.width[0]),me!=null&&(me[0]=ye.height[0]),oe=1),oe){ae.width=ae.width[0],ae.height=ae.height[0],D!=null&&(D[0]=ae.width),V!=null&&(V[0]=ae.height);e:{if(D=new Ql,(V=new Ht).data=g,V.w=v,V.ha=k,V.kd=1,v=[0],e(V!=null),((g=no(V.data,V.w,V.ha,null,null,null,v,null,V))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(e(Z!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=Pt,D.ac=ka,D.bc=Sn,D.ma=Z,V.xa){if((g=Bs())==null){Z=1;break e}if(function(he,Ne){var Ce=[0],Ue=[0],Ee=[0];t:for(;;){if(he==null)return 0;if(Ne==null)return he.a=2,0;if(he.l=Ne,he.a=0,ce(he.m,Ne.data,Ne.w,Ne.ha),!xs(he.m,Ce,Ue,Ee)){he.a=3;break t}if(he.xb=uo,Ne.width=Ce[0],Ne.height=Ue[0],!va(Ce[0],Ue[0],1,he,null))break t;return 1}return e(he.a!=0),0}(g,D)){if(D=(v=qi(D.width,D.height,Z.Oa,Z.ba))==0){t:{D=g;s:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((k=D.l)!=null),e((V=k.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!Vn(V.Oa,k,ac)){D.a=2;break s}if(!ir(D,k.width)||k.da)break s;if((k.da||Tt(D.ca.S))&&pl(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&pl()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!ue(D.s.vb,D.s.Wa.Xa)){D.a=1;break s}D.xb=0}if(!Bt(D,D.V,D.Ba,D.c,D.i,k.o,X))break s;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(v=g.a)}else v=g.a}else{if((g=new $c)==null){Z=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Vc(g,D)){if((v=qi(D.width,D.height,Z.Oa,Z.ba))==0){if(g.Aa=0,k=Z.Oa,e((V=g)!=null),k!=null){if(0<(oe=0>(oe=k.Md)?0:100<oe?255:255*oe/100)){for(me=ye=0;4>me;++me)12>(Le=V.pb[me]).lc&&(Le.ia=oe*Xm[0>Le.lc?0:Le.lc]>>3),ye|=Le.ia;ye&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=k.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(he,Ne){if(he==null)return 0;if(Ne==null)return ws(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Vc(he,Ne))return 0;if(e(he.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(he.L=0);var Ce=bi[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Ne.v-Ce>>4,he.zb=Ne.j-Ce>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Ne.o+15+Ce>>4,he.Hb=Ne.va+15+Ce>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ue=he.ed;for(Ce=0;4>Ce;++Ce){var Ee;if(he.Qa.Cb){var ze=he.Qa.Lb[Ce];he.Qa.Fb||(ze+=Ue.Tb)}else ze=Ue.Tb;for(Ee=0;1>=Ee;++Ee){var qe=he.gd[Ce][Ee],st=ze;if(Ue.Pc&&(st+=Ue.vd[0],Ee&&(st+=Ue.od[0])),0<(st=0>st?0:63<st?63:st)){var Xe=st;0<Ue.wb&&(Xe=4<Ue.wb?Xe>>2:Xe>>1)>9-Ue.wb&&(Xe=9-Ue.wb),1>Xe&&(Xe=1),qe.dd=Xe,qe.tc=2*st+Xe,qe.ld=40<=st?2:15<=st?1:0}else qe.tc=0;qe.La=Ee}}}Ce=0}else ws(he,6,"Frame setup failed"),Ce=he.a;if(Ce=Ce==0){if(Ce){he.$c=0,0<he.Aa||(he.Ic=Ph);t:{Ce=he.Ic,Ue=4*(Xe=he.za);var Et=32*Xe,vt=Xe+1,Yt=0<he.L?Xe*(0<he.Aa?2:1):0,wt=(he.Aa==2?2:1)*Xe;if((qe=Ue+832+(Ee=3*(16*Ce+bi[he.L])/2*Et)+(ze=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=qe)Ce=0;else{if(qe>he.Vb){if(he.Vb=0,he.Ec=l(qe),he.Fc=0,he.Ec==null){Ce=ws(he,1,"no memory during frame initialization.");break t}he.Vb=qe}qe=he.Ec,st=he.Fc,he.Ac=qe,he.Bc=st,st+=Ue,he.Gd=c(Et,Yl),he.Hd=0,he.rb=c(vt+1,La),he.sb=1,he.wa=Yt?c(Yt,oa):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=Xe),e(!0),he.oc=qe,he.pc=st,st+=832,he.ya=c(wt,Gl),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=Xe),he.R=16*Xe,he.B=8*Xe,Xe=(Et=bi[he.L])*he.R,Et=Et/2*he.B,he.sa=qe,he.ta=st+Xe,he.qa=he.sa,he.ra=he.ta+16*Ce*he.R+Et,he.Ha=he.qa,he.Ia=he.ra+8*Ce*he.B+Et,he.$c=0,st+=Ee,he.mb=ze?qe:null,he.nb=ze?st:null,e(st+ze<=he.Fc+he.Vb),Oi(he),i(he.Ac,he.Bc,0,Ue),Ce=1}}if(Ce){if(Ne.ka=0,Ne.y=he.sa,Ne.O=he.ta,Ne.f=he.qa,Ne.N=he.ra,Ne.ea=he.Ha,Ne.Vd=he.Ia,Ne.fa=he.R,Ne.Rc=he.B,Ne.F=null,Ne.J=0,!yl){for(Ce=-255;255>=Ce;++Ce)Zc[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)sc[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)nc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Jc[255+Ce]=0>Ce?0:255<Ce?255:Ce;yl=1}$s=ai,Js=Wo,Va=Ti,ua=lr,gl=Go,Ir=Wc,eu=S,$i=W,tu=_e,su=$e,nu=pe,Eh=ge,Lh=tt,Dh=_t,au=li,ru=Lr,Xc=Jl,Wa=Jo,ha[0]=ul,ha[1]=Xl,ha[2]=Xo,ha[3]=Yc,ha[4]=or,ha[5]=Da,ha[6]=cr,ha[7]=kr,ha[8]=ri,ha[9]=Zo,xi[0]=Ar,xi[1]=Yo,xi[2]=Xd,xi[3]=Ko,xi[4]=Qo,xi[5]=qa,xi[6]=Cr,Ra[0]=hl,Ra[1]=Gc,Ra[2]=Zl,Ra[3]=Er,Ra[4]=dr,Ra[5]=Jn,Ra[6]=Ri,Ce=1}else Ce=0}Ce&&(Ce=function(ds,Nn){for(ds.M=0;ds.M<ds.Va;++ds.M){var Vt,Nt=ds.Jc[ds.M&ds.Xb],dt=ds.m,en=ds;for(Vt=0;Vt<en.za;++Vt){var Kt=dt,ns=en,St=ns.Ac,Zt=ns.Bc+4*Vt,ms=ns.zc,Vs=ns.ya[ns.aa+Vt];if(ns.Qa.Bb?Vs.$b=Oe(Kt,ns.Pa.jb[0])?2+Oe(Kt,ns.Pa.jb[2]):Oe(Kt,ns.Pa.jb[1]):Vs.$b=0,ns.kc&&(Vs.Ad=Oe(Kt,ns.Bd)),Vs.Za=!Oe(Kt,145)+0,Vs.Za){var pn=Vs.Ob,xn=0;for(ns=0;4>ns;++ns){var ln,cs=ms[0+ns];for(ln=0;4>ln;++ln){cs=iu[St[Zt+ln]][cs];for(var ps=Wi[Oe(Kt,cs[0])];0<ps;)ps=Wi[2*ps+Oe(Kt,cs[ps])];cs=-ps,St[Zt+ln]=cs}a(pn,xn,St,Zt,4),xn+=4,ms[0+ns]=cs}}else cs=Oe(Kt,156)?Oe(Kt,128)?1:3:Oe(Kt,163)?2:0,Vs.Ob[0]=cs,i(St,Zt,cs,4),i(ms,0,cs,4);Vs.Dd=Oe(Kt,142)?Oe(Kt,114)?Oe(Kt,183)?1:3:2:0}if(en.m.Ka)return ws(ds,7,"Premature end-of-partition0 encountered.");for(;ds.ja<ds.za;++ds.ja){if(en=Nt,Kt=(dt=ds).rb[dt.sb-1],St=dt.rb[dt.sb+dt.ja],Vt=dt.ya[dt.aa+dt.ja],Zt=dt.kc?Vt.Ad:0)Kt.la=St.la=0,Vt.Za||(Kt.Na=St.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var on,Ut;if(Kt=St,St=en,Zt=dt.Pa.Xc,ms=dt.ya[dt.aa+dt.ja],Vs=dt.pb[ms.$b],ns=ms.ad,pn=0,xn=dt.rb[dt.sb-1],cs=ln=0,i(ns,pn,0,384),ms.Za)var Dn=0,Ba=Zt[3];else{ps=l(16);var cn=Kt.Na+xn.Na;if(cn=kn(St,Zt[1],cn,Vs.Eb,0,ps,0),Kt.Na=xn.Na=(0<cn)+0,1<cn)$s(ps,0,ns,pn);else{var fa=ps[0]+3>>3;for(ps=0;256>ps;ps+=16)ns[pn+ps]=fa}Dn=1,Ba=Zt[0]}var Fs=15&Kt.la,gn=15&xn.la;for(ps=0;4>ps;++ps){var ma=1&gn;for(fa=Ut=0;4>fa;++fa)Fs=Fs>>1|(ma=(cn=kn(St,Ba,cn=ma+(1&Fs),Vs.Sc,Dn,ns,pn))>Dn)<<7,Ut=Ut<<2|(3<cn?3:1<cn?2:ns[pn+0]!=0),pn+=16;Fs>>=4,gn=gn>>1|ma<<7,ln=(ln<<8|Ut)>>>0}for(Ba=Fs,Dn=gn>>4,on=0;4>on;on+=2){for(Ut=0,Fs=Kt.la>>4+on,gn=xn.la>>4+on,ps=0;2>ps;++ps){for(ma=1&gn,fa=0;2>fa;++fa)cn=ma+(1&Fs),Fs=Fs>>1|(ma=0<(cn=kn(St,Zt[2],cn,Vs.Qc,0,ns,pn)))<<3,Ut=Ut<<2|(3<cn?3:1<cn?2:ns[pn+0]!=0),pn+=16;Fs>>=2,gn=gn>>1|ma<<5}cs|=Ut<<4*on,Ba|=Fs<<4<<on,Dn|=(240&gn)<<on}Kt.la=Ba,xn.la=Dn,ms.Hc=ln,ms.Gc=cs,ms.ia=43690&cs?0:Vs.ia,Zt=!(ln|cs)}if(0<dt.L&&(dt.wa[dt.Y+dt.ja]=dt.gd[Vt.$b][Vt.Za],dt.wa[dt.Y+dt.ja].La|=!Zt),en.Ka)return ws(ds,7,"Premature end-of-file encountered.")}if(Oi(ds),dt=Nn,en=1,Vt=(Nt=ds).D,Kt=0<Nt.L&&Nt.M>=Nt.zb&&Nt.M<=Nt.Va,Nt.Aa==0)t:{if(Vt.M=Nt.M,Vt.uc=Kt,Ha(Nt,Vt),en=1,Vt=(Ut=Nt.D).Nb,Kt=(cs=bi[Nt.L])*Nt.R,St=cs/2*Nt.B,ps=16*Vt*Nt.R,fa=8*Vt*Nt.B,Zt=Nt.sa,ms=Nt.ta-Kt+ps,Vs=Nt.qa,ns=Nt.ra-St+fa,pn=Nt.Ha,xn=Nt.Ia-St+fa,gn=(Fs=Ut.M)==0,ln=Fs>=Nt.Va-1,Nt.Aa==2&&Ha(Nt,Ut),Ut.uc)for(ma=(cn=Nt).D.M,e(cn.D.uc),Ut=cn.yb;Ut<cn.Hb;++Ut){Dn=Ut,Ba=ma;var Wn=(Us=(Fn=cn).D).Nb;on=Fn.R;var Us=Us.wa[Us.Y+Dn],ys=Fn.sa,sa=Fn.ta+16*Wn*on+16*Dn,Gn=Us.dd,Cs=Us.tc;if(Cs!=0)if(e(3<=Cs),Fn.L==1)0<Dn&&ru(ys,sa,on,Cs+4),Us.La&&Wa(ys,sa,on,Cs),0<Ba&&au(ys,sa,on,Cs+4),Us.La&&Xc(ys,sa,on,Cs);else{var pa=Fn.B,Mn=Fn.qa,Wr=Fn.ra+8*Wn*pa+8*Dn,fr=Fn.Ha,Fn=Fn.Ia+8*Wn*pa+8*Dn;Wn=Us.ld,0<Dn&&($i(ys,sa,on,Cs+4,Gn,Wn),su(Mn,Wr,fr,Fn,pa,Cs+4,Gn,Wn)),Us.La&&(Eh(ys,sa,on,Cs,Gn,Wn),Dh(Mn,Wr,fr,Fn,pa,Cs,Gn,Wn)),0<Ba&&(eu(ys,sa,on,Cs+4,Gn,Wn),tu(Mn,Wr,fr,Fn,pa,Cs+4,Gn,Wn)),Us.La&&(nu(ys,sa,on,Cs,Gn,Wn),Lh(Mn,Wr,fr,Fn,pa,Cs,Gn,Wn))}}if(Nt.ia&&alert("todo:DitherRow"),dt.put!=null){if(Ut=16*Fs,Fs=16*(Fs+1),gn?(dt.y=Nt.sa,dt.O=Nt.ta+ps,dt.f=Nt.qa,dt.N=Nt.ra+fa,dt.ea=Nt.Ha,dt.W=Nt.Ia+fa):(Ut-=cs,dt.y=Zt,dt.O=ms,dt.f=Vs,dt.N=ns,dt.ea=pn,dt.W=xn),ln||(Fs-=cs),Fs>dt.o&&(Fs=dt.o),dt.F=null,dt.J=null,Nt.Fa!=null&&0<Nt.Fa.length&&Ut<Fs&&(dt.J=$n(Nt,dt,Ut,Fs-Ut),dt.F=Nt.mb,dt.F==null&&dt.F.length==0)){en=ws(Nt,3,"Could not decode alpha data.");break t}Ut<dt.j&&(cs=dt.j-Ut,Ut=dt.j,e(!(1&cs)),dt.O+=Nt.R*cs,dt.N+=Nt.B*(cs>>1),dt.W+=Nt.B*(cs>>1),dt.F!=null&&(dt.J+=dt.width*cs)),Ut<Fs&&(dt.O+=dt.v,dt.N+=dt.v>>1,dt.W+=dt.v>>1,dt.F!=null&&(dt.J+=dt.v),dt.ka=Ut-dt.j,dt.U=dt.va-dt.v,dt.T=Fs-Ut,en=dt.put(dt))}Vt+1!=Nt.Ic||ln||(a(Nt.sa,Nt.ta-Kt,Zt,ms+16*Nt.R,Kt),a(Nt.qa,Nt.ra-St,Vs,ns+8*Nt.B,St),a(Nt.Ha,Nt.Ia-St,pn,xn+8*Nt.B,St))}if(!en)return ws(ds,6,"Output aborted.")}return 1}(he,Ne)),Ne.bc!=null&&Ne.bc(Ne),Ce&=1}return Ce?(he.cb=0,Ce):0})(g,D)||(v=g.a)}}else v=g.a}v==0&&Z.Oa!=null&&Z.Oa.fd&&(v=ca(Z.ba))}Z=v}Q=Z!=0?null:11>Q?ae.f.RGBA.eb:ae.f.kb.y}else Q=null;return Q};var Rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f($,te){for(var P="",O=0;O<4;O++)P+=String.fromCharCode($[te++]);return P}function p($,te){return $[te+0]|$[te+1]<<8}function x($,te){return($[te+0]|$[te+1]<<8|$[te+2]<<16)>>>0}function w($,te){return($[te+0]|$[te+1]<<8|$[te+2]<<16|$[te+3]<<24)>>>0}new h;var y=[0],j=[0],A=[],C=new h,_=t,E=function($,te){var P={},O=0,H=!1,G=0,re=0;if(P.frames=[],!function(T,F){for(var q=0;q<4;q++)if(T[F+q]!="RIFF".charCodeAt(q))return!0;return!1}($,te)){for(w($,te+=4),te+=8;te<$.length;){var ee=f($,te),ie=w($,te+=4);te+=4;var le=ie+(1&ie);switch(ee){case"VP8 ":case"VP8L":P.frames[O]===void 0&&(P.frames[O]={}),(de=P.frames[O]).src_off=H?re:te-8,de.src_size=G+ie+8,O++,H&&(H=!1,G=0,re=0);break;case"VP8X":(de=P.header={}).feature_flags=$[te];var ce=te+4;de.canvas_width=1+x($,ce),ce+=3,de.canvas_height=1+x($,ce),ce+=3;break;case"ALPH":H=!0,G=le+8,re=te-8;break;case"ANIM":(de=P.header).bgcolor=w($,te),ce=te+4,de.loop_count=p($,ce),ce+=2;break;case"ANMF":var Y,de;(de=P.frames[O]={}).offset_x=2*x($,te),te+=3,de.offset_y=2*x($,te),te+=3,de.width=1+x($,te),te+=3,de.height=1+x($,te),te+=3,de.duration=x($,te),te+=3,Y=$[te++],de.dispose=1&Y,de.blend=Y>>1&1}ee!="ANMF"&&(te+=le)}return P}}(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var M=E.header?E.header:null,B=E.frames?E.frames:null;if(M){M.loop_counter=M.loop_count,y=[M.canvas_height],j=[M.canvas_width];for(var z=0;z<B.length&&B[z].blend!=0;z++);}var ne=B[0],K=C.WebPDecodeRGBA(_,ne.src_off,ne.src_size,j,y);ne.rgba=K,ne.imgwidth=j[0],ne.imgheight=y[0];for(var U=0;U<j[0]*y[0]*4;U++)A[U]=K[U];return this.width=j,this.height=y,this.data=A,this}(function(t){var e,s,a,i,l,c,d,h,f,p=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new h,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new c,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new c,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var x=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=T;Object.defineProperty(this,"pdf",{get:function(){return F}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var I=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return I},set:function(Ae){I=!!Ae}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Ae){isNaN(Ae)||(se=Ae)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ae){isNaN(Ae)||(fe=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ae){var ue;typeof Ae=="number"?ue=[Ae,Ae,Ae,Ae]:((ue=new Array(4))[0]=Ae[0],ue[1]=Ae.length>=2?Ae[1]:ue[0],ue[2]=Ae.length>=3?Ae[2]:ue[0],ue[3]=Ae.length>=4?Ae[3]:ue[1]),f.margin=ue}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Ae){be=Ae}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Ae){Se=Ae}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Ae){Oe=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ae){Ae instanceof p&&(f=Ae)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ae){f.path=Ae}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Ae){He=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ue;ue=w(Ae),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ue=w(Ae);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Be=null,et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ae){Be=null,et=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ue;if(this.ctx.font=Ae,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Dt=ue[1];ue[2];var at=ue[3],gt=ue[4];ue[5];var Je=ue[6],xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(xt==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:xt==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var rt=function(ve){var Ke,qt,Rt=[],it=ve.trim();if(it==="")return zp;if(it in Jy)return[Jy[it]];for(;it!=="";){switch(qt=null,Ke=(it=tv(it)).charAt(0)){case'"':case"'":qt=rE(it.substring(1),Ke);break;default:qt=iE(it)}if(qt===null||(Rt.push(qt[0]),(it=tv(qt[1]))!==""&&it.charAt(0)!==","))return zp;it=it.replace(/^,/,"")}return Rt}(Je);if(this.fontFaces){var At=function(ve,Ke){if(Be===null){var qt=function(Rt){var it=[];return Object.keys(Rt).forEach(function(Ot){Rt[Ot].forEach(function(ls){var mt=null;switch(ls){case"bold":mt={family:Ot,weight:"bold"};break;case"italic":mt={family:Ot,style:"italic"};break;case"bolditalic":mt={family:Ot,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Ot}}mt!==null&&(mt.ref={name:Ot,style:ls},it.push(mt))})}),it}(ve.getFontList());Be=function(Rt){for(var it={},Ot=0;Ot<Rt.length;++Ot){var ls=qp(Rt[Ot]),mt=ls.family,Gt=ls.stretch,Tt=ls.style,As=ls.weight;it[mt]=it[mt]||{},it[mt][Gt]=it[mt][Gt]||{},it[mt][Gt][Tt]=it[mt][Gt][Tt]||{},it[mt][Gt][Tt][As]=ls}return it}(qt.concat(Ke))}return Be}(this.pdf,this.fontFaces),Pe=rt.map(function(ve){return{family:ve,stretch:"normal",weight:at,style:Dt}}),ut=function(ve,Ke,qt){for(var Rt=(qt=qt||{}).defaultFontFamily||"times",it=Object.assign({},aE,qt.genericFontFamilies||{}),Ot=null,ls=null,mt=0;mt<Ke.length;++mt)if(it[(Ot=qp(Ke[mt])).family]&&(Ot.family=it[Ot.family]),ve.hasOwnProperty(Ot.family)){ls=ve[Ot.family];break}if(!(ls=ls||ve[Rt]))throw new Error("Could not find a font-family for the rule '"+ev(Ot)+"' and default family '"+Rt+"'.");if(ls=function(Gt,Tt){if(Tt[Gt])return Tt[Gt];var As=Sx[Gt],Qe=As<=Sx.normal?-1:1,ct=Zy(Tt,tN,As,Qe);if(!ct)throw new Error("Could not find a matching font-stretch value for "+Gt);return ct}(Ot.stretch,ls),ls=function(Gt,Tt){if(Tt[Gt])return Tt[Gt];for(var As=eN[Gt],Qe=0;Qe<As.length;++Qe)if(Tt[As[Qe]])return Tt[As[Qe]];throw new Error("Could not find a matching font-style for "+Gt)}(Ot.style,ls),!(ls=function(Gt,Tt){if(Tt[Gt])return Tt[Gt];if(Gt===400&&Tt[500])return Tt[500];if(Gt===500&&Tt[400])return Tt[400];var As=nE[Gt],Qe=Zy(Tt,sN,As,Gt<400?-1:1);if(!Qe)throw new Error("Could not find a matching font-weight for value "+Gt);return Qe}(Ot.weight,ls)))throw new Error("Failed to resolve a font for the rule '"+ev(Ot)+"'.");return ls}(At,Pe);this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var Te="";(at==="bold"||parseInt(at,10)>=700||Dt==="bold")&&(Te="bold"),Dt==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var Ge="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<rt.length;jt++){if(this.pdf.internal.getFont(rt[jt],Te,{noFallback:!0,disableWarning:!0})!==void 0){Ge=rt[jt];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(rt[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=rt[jt],Te="bold";else if(this.pdf.internal.getFont(rt[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=rt[jt],Te="normal";break}}if(Ge===""){for(var ft=0;ft<rt.length;ft++)if(pt[rt[ft]]){Ge=pt[rt[ft]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};x.prototype.setLineDash=function(T){this.lineDash=T},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){B.call(this,"fill",!1)},x.prototype.stroke=function(){B.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(T,F){if(isNaN(T)||isNaN(F))throw Gs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new c(T,F));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(T,F)},x.prototype.closePath=function(){var T=new c(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Rs(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){T=new c(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(T.x,T.y)},x.prototype.lineTo=function(T,F){if(isNaN(T)||isNaN(F))throw Gs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new c(T,F));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(q.x,q.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},x.prototype.quadraticCurveTo=function(T,F,q,I){if(isNaN(q)||isNaN(I)||isNaN(T)||isNaN(F))throw Gs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new c(q,I)),fe=this.ctx.transform.applyToPoint(new c(T,F));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new c(se.x,se.y)},x.prototype.bezierCurveTo=function(T,F,q,I,se,fe){if(isNaN(se)||isNaN(fe)||isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I))throw Gs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new c(se,fe)),Se=this.ctx.transform.applyToPoint(new c(T,F)),Oe=this.ctx.transform.applyToPoint(new c(q,I));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Oe.x,y2:Oe.y,x:be.x,y:be.y}),this.ctx.lastPoint=new c(be.x,be.y)},x.prototype.arc=function(T,F,q,I,se,fe){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I)||isNaN(se))throw Gs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new c(T,F));T=be.x,F=be.y;var Se=this.ctx.transform.applyToPoint(new c(0,q)),Oe=this.ctx.transform.applyToPoint(new c(0,0));q=Math.sqrt(Math.pow(Se.x-Oe.x,2)+Math.pow(Se.y-Oe.y,2))}Math.abs(se-I)>=2*Math.PI&&(I=0,se=2*Math.PI),this.path.push({type:"arc",x:T,y:F,radius:q,startAngle:I,endAngle:se,counterclockwise:fe})},x.prototype.arcTo=function(T,F,q,I,se){throw new Error("arcTo not implemented.")},x.prototype.rect=function(T,F,q,I){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I))throw Gs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,F),this.lineTo(T+q,F),this.lineTo(T+q,F+I),this.lineTo(T,F+I),this.lineTo(T,F),this.lineTo(T+q,F),this.lineTo(T,F)},x.prototype.fillRect=function(T,F,q,I){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I))throw Gs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,F,q,I),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},x.prototype.strokeRect=function(T,F,q,I){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I))throw Gs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(T,F,q,I),this.stroke())},x.prototype.clearRect=function(T,F,q,I){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I))throw Gs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,F,q,I))},x.prototype.save=function(T){T=typeof T!="boolean"||T;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var I=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=I}},x.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(F),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(T){var F,q,I,se;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))F=0,q=0,I=0,se=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(fe!==null)F=parseInt(fe[1]),q=parseInt(fe[2]),I=parseInt(fe[3]),se=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)F=parseInt(fe[1]),q=parseInt(fe[2]),I=parseInt(fe[3]),se=parseFloat(fe[4]);else{if(se=1,typeof T=="string"&&T.charAt(0)!=="#"){var be=new Gw(T);T=be.ok?be.toHex():"#000000"}T.length===4?(F=T.substring(1,2),F+=F,q=T.substring(2,3),q+=q,I=T.substring(3,4),I+=I):(F=T.substring(1,3),q=T.substring(3,5),I=T.substring(5,7)),F=parseInt(F,16),q=parseInt(q,16),I=parseInt(I,16)}}return{r:F,g:q,b:I,a:se,style:T}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(T,F,q,I){if(isNaN(F)||isNaN(q)||typeof T!="string")throw Gs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(I=isNaN(I)?void 0:I,!y.call(this)){var se=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:T,x:F,y:q,scale:fe,angle:se,align:this.textAlign,maxWidth:I})}},x.prototype.strokeText=function(T,F,q,I){if(isNaN(F)||isNaN(q)||typeof T!="string")throw Gs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){I=isNaN(I)?void 0:I;var se=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;O.call(this,{text:T,x:F,y:q,scale:fe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:I})}},x.prototype.measureText=function(T){if(typeof T!="string")throw Gs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,q=this.pdf.internal.scaleFactor,I=F.internal.getFontSize(),se=F.getStringUnitWidth(T)*I/F.internal.scaleFactor;return new function(fe){var be=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:se*=Math.round(96*q/72*1e4)/1e4})},x.prototype.scale=function(T,F){if(isNaN(T)||isNaN(F))throw Gs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(T,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.rotate=function(T){if(isNaN(T))throw Gs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new h(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},x.prototype.translate=function(T,F){if(isNaN(T)||isNaN(F))throw Gs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,T,F);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.transform=function(T,F,q,I,se,fe){if(isNaN(T)||isNaN(F)||isNaN(q)||isNaN(I)||isNaN(se)||isNaN(fe))throw Gs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new h(T,F,q,I,se,fe);this.ctx.transform=this.ctx.transform.multiply(be)},x.prototype.setTransform=function(T,F,q,I,se,fe){T=isNaN(T)?1:T,F=isNaN(F)?0:F,q=isNaN(q)?0:q,I=isNaN(I)?1:I,se=isNaN(se)?0:se,fe=isNaN(fe)?0:fe,this.ctx.transform=new h(T,F,q,I,se,fe)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(T,F,q,I,se,fe,be,Se,Oe){var He=this.pdf.getImageProperties(T),Be=1,et=1,Ae=1,ue=1;I!==void 0&&Se!==void 0&&(Ae=Se/I,ue=Oe/se,Be=He.width/I*Se/I,et=He.height/se*Oe/se),fe===void 0&&(fe=F,be=q,F=0,q=0),I!==void 0&&Se===void 0&&(Se=I,Oe=se),I===void 0&&Se===void 0&&(Se=He.width,Oe=He.height);for(var Dt,at=this.ctx.transform.decompose(),gt=le(at.rotate.shx),Je=new h,xt=(Je=(Je=(Je=Je.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new d(fe-F*Ae,be-q*ue,I*Be,se*et)),rt=C.call(this,xt),At=[],Pe=0;Pe<rt.length;Pe+=1)At.indexOf(rt[Pe])===-1&&At.push(rt[Pe]);if(M(At),this.autoPaging)for(var ut=At[0],Te=At[At.length-1],Ge=ut;Ge<Te+1;Ge++){this.pdf.setPage(Ge);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Ge===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Ge===1?0:ft+(Ge-2)*ve;if(this.ctx.clip_path.length!==0){var qt=this.path;Dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Dt,this.posX+this.margin[3],-Ke+jt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=qt}var Rt=JSON.parse(JSON.stringify(xt));Rt=E([Rt],this.posX+this.margin[3],-Ke+jt+this.ctx.prevPageLastElemOffset)[0];var it=(Ge>ut||Ge<Te)&&A.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,ve,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,gt),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,gt)};var C=function(T,F,q){var I=[];F=F||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":I.push(Math.floor((T.y+se)/q)+1);break;case"arc":I.push(Math.floor((T.y+se-T.radius)/q)+1),I.push(Math.floor((T.y+se+T.radius)/q)+1);break;case"qct":var fe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);I.push(Math.floor((fe.y+se)/q)+1),I.push(Math.floor((fe.y+fe.h+se)/q)+1);break;case"bct":var be=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);I.push(Math.floor((be.y+se)/q)+1),I.push(Math.floor((be.y+be.h+se)/q)+1);break;case"rect":I.push(Math.floor((T.y+se)/q)+1),I.push(Math.floor((T.y+T.h+se)/q)+1)}for(var Se=0;Se<I.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<I[Se];)_.call(this);return I},_=function(){var T=this.fillStyle,F=this.strokeStyle,q=this.font,I=this.lineCap,se=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=F,this.font=q,this.lineCap=I,this.lineWidth=se,this.lineJoin=fe},E=function(T,F,q){for(var I=0;I<T.length;I++)switch(T[I].type){case"bct":T[I].x2+=F,T[I].y2+=q;case"qct":T[I].x1+=F,T[I].y1+=q;default:T[I].x+=F,T[I].y+=q}return T},M=function(T){return T.sort(function(F,q){return F-q})},B=function(T,F){for(var q,I,se=this.fillStyle,fe=this.strokeStyle,be=this.lineCap,Se=this.lineWidth,Oe=Math.abs(Se*this.ctx.transform.scaleX),He=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),Ae=[],ue=0;ue<et.length;ue++)if(et[ue].x!==void 0)for(var Dt=C.call(this,et[ue]),at=0;at<Dt.length;at+=1)Ae.indexOf(Dt[at])===-1&&Ae.push(Dt[at]);for(var gt=0;gt<Ae.length;gt++)for(;this.pdf.internal.getNumberOfPages()<Ae[gt];)_.call(this);if(M(Ae),this.autoPaging)for(var Je=Ae[0],xt=Ae[Ae.length-1],rt=Je;rt<xt+1;rt++){this.pdf.setPage(rt),this.fillStyle=se,this.strokeStyle=fe,this.lineCap=be,this.lineWidth=Oe,this.lineJoin=He;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=rt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=rt===1?0:ut+(rt-2)*Te;if(this.ctx.clip_path.length!==0){var pt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset),z.call(this,T,!0),this.path=pt}if(I=JSON.parse(JSON.stringify(Be)),this.path=E(I,this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset),F===!1||rt===0){var jt=(rt>Je||rt<xt)&&A.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Te,null).clip().discardPath()),z.call(this,T,F),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Oe,z.call(this,T,F),this.lineWidth=Se;this.path=Be},z=function(T,F){if((T!=="stroke"||F||!j.call(this))&&(T==="stroke"||F||!y.call(this))){for(var q,I,se=[],fe=this.path,be=0;be<fe.length;be++){var Se=fe[be];switch(Se.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Se,deltas:[],abs:[]});break;case"lt":var Oe=se.length;if(fe[be-1]&&!isNaN(fe[be-1].x)&&(q=[Se.x-fe[be-1].x,Se.y-fe[be-1].y],Oe>0)){for(;Oe>=0;Oe--)if(se[Oe-1].close!==!0&&se[Oe-1].begin!==!0){se[Oe-1].deltas.push(q),se[Oe-1].abs.push(Se);break}}break;case"bct":q=[Se.x1-fe[be-1].x,Se.y1-fe[be-1].y,Se.x2-fe[be-1].x,Se.y2-fe[be-1].y,Se.x-fe[be-1].x,Se.y-fe[be-1].y],se[se.length-1].deltas.push(q);break;case"qct":var He=fe[be-1].x+2/3*(Se.x1-fe[be-1].x),Be=fe[be-1].y+2/3*(Se.y1-fe[be-1].y),et=Se.x+2/3*(Se.x1-Se.x),Ae=Se.y+2/3*(Se.y1-Se.y),ue=Se.x,Dt=Se.y;q=[He-fe[be-1].x,Be-fe[be-1].y,et-fe[be-1].x,Ae-fe[be-1].y,ue-fe[be-1].x,Dt-fe[be-1].y],se[se.length-1].deltas.push(q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Se)}}I=F?null:T==="stroke"?"stroke":"fill";for(var at=!1,gt=0;gt<se.length;gt++)if(se[gt].arc)for(var Je=se[gt].abs,xt=0;xt<Je.length;xt++){var rt=Je[xt];rt.type==="arc"?U.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,F,!at):H.call(this,rt.x,rt.y),at=!0}else if(se[gt].close===!0)this.pdf.internal.out("h"),at=!1;else if(se[gt].begin!==!0){var At=se[gt].start.x,Pe=se[gt].start.y;G.call(this,se[gt].deltas,At,Pe),at=!0}I&&$.call(this,I),F&&te.call(this)}},ne=function(T){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-q;case"top":return T+F-q;case"hanging":return T+F-2*q;case"middle":return T+F/2-q;default:return T}},K=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(F,q){this.colorStops.push([F,q])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(T,F,q,I,se,fe,be,Se,Oe){for(var He=ee.call(this,q,I,se,fe),Be=0;Be<He.length;Be++){var et=He[Be];Be===0&&(Oe?P.call(this,et.x1+T,et.y1+F):H.call(this,et.x1+T,et.y1+F)),re.call(this,T,F,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}Se?te.call(this):$.call(this,be)},$=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(T,F){this.pdf.internal.out(s(T)+" "+a(F)+" m")},O=function(T){var F;switch(T.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var q=this.pdf.getTextDimensions(T.text),I=ne.call(this,T.y),se=K.call(this,I)-q.h,fe=this.ctx.transform.applyToPoint(new c(T.x,I)),be=this.ctx.transform.decompose(),Se=new h;Se=(Se=(Se=Se.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Oe,He,Be,et=this.ctx.transform.applyToRectangle(new d(T.x,I,q.w,q.h)),Ae=Se.applyToRectangle(new d(T.x,se,q.w,q.h)),ue=C.call(this,Ae),Dt=[],at=0;at<ue.length;at+=1)Dt.indexOf(ue[at])===-1&&Dt.push(ue[at]);if(M(Dt),this.autoPaging)for(var gt=Dt[0],Je=Dt[Dt.length-1],xt=gt;xt<Je+1;xt++){this.pdf.setPage(xt);var rt=xt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],ut=Pe-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],Ge=Te-this.margin[3],pt=xt===1?0:At+(xt-2)*ut;if(this.ctx.clip_path.length!==0){var jt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Oe,this.posX+this.margin[3],-1*pt+rt),z.call(this,"fill",!0),this.path=jt}var ft=E([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*T.scale),Be=this.lineWidth,this.lineWidth=Be*T.scale);var ve=this.autoPaging!=="text";if(ve||ft.y+ft.h<=Pe){if(ve||ft.y>=rt&&ft.x<=Te){var Ke=ve?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Te-ft.x)[0],qt=E([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0],Rt=ve&&(xt>gt||xt<Je)&&A.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,ut,null).clip().discardPath()),this.pdf.text(Ke,qt.x,qt.y,{angle:T.angle,align:F,renderingMode:T.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else ft.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-ft.y);T.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Be)}else T.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*T.scale),Be=this.lineWidth,this.lineWidth=Be*T.scale),this.pdf.text(T.text,fe.x+this.posX,fe.y+this.posY,{angle:T.angle,align:F,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=Be)},H=function(T,F,q,I){q=q||0,I=I||0,this.pdf.internal.out(s(T+q)+" "+a(F+I)+" l")},G=function(T,F,q){return this.pdf.lines(T,F,q,null,null)},re=function(T,F,q,I,se,fe,be,Se){this.pdf.internal.out([e(i(q+T)),e(l(I+F)),e(i(se+T)),e(l(fe+F)),e(i(be+T)),e(l(Se+F)),"c"].join(" "))},ee=function(T,F,q,I){for(var se=2*Math.PI,fe=Math.PI/2;F>q;)F-=se;var be=Math.abs(q-F);be<se&&I&&(be=se-be);for(var Se=[],Oe=I?-1:1,He=F;be>1e-5;){var Be=He+Oe*Math.min(be,fe);Se.push(ie.call(this,T,He,Be)),be-=Math.abs(Be-He),He=Be}return Se},ie=function(T,F,q){var I=(q-F)/2,se=T*Math.cos(I),fe=T*Math.sin(I),be=se,Se=-fe,Oe=be*be+Se*Se,He=Oe+be*se+Se*fe,Be=4/3*(Math.sqrt(2*Oe*He)-He)/(be*fe-Se*se),et=be-Be*Se,Ae=Se+Be*be,ue=et,Dt=-Ae,at=I+F,gt=Math.cos(at),Je=Math.sin(at);return{x1:T*Math.cos(F),y1:T*Math.sin(F),x2:et*gt-Ae*Je,y2:et*Je+Ae*gt,x3:ue*gt-Dt*Je,y3:ue*Je+Dt*gt,x4:T*Math.cos(q),y4:T*Math.sin(q)}},le=function(T){return 180*T/Math.PI},ce=function(T,F,q,I,se,fe){var be=T+.5*(q-T),Se=F+.5*(I-F),Oe=se+.5*(q-se),He=fe+.5*(I-fe),Be=Math.min(T,se,be,Oe),et=Math.max(T,se,be,Oe),Ae=Math.min(F,fe,Se,He),ue=Math.max(F,fe,Se,He);return new d(Be,Ae,et-Be,ue-Ae)},Y=function(T,F,q,I,se,fe,be,Se){var Oe,He,Be,et,Ae,ue,Dt,at,gt,Je,xt,rt,At,Pe,ut=q-T,Te=I-F,Ge=se-q,pt=fe-I,jt=be-se,ft=Se-fe;for(He=0;He<41;He++)gt=(Dt=(Be=T+(Oe=He/40)*ut)+Oe*((Ae=q+Oe*Ge)-Be))+Oe*(Ae+Oe*(se+Oe*jt-Ae)-Dt),Je=(at=(et=F+Oe*Te)+Oe*((ue=I+Oe*pt)-et))+Oe*(ue+Oe*(fe+Oe*ft-ue)-at),He==0?(xt=gt,rt=Je,At=gt,Pe=Je):(xt=Math.min(xt,gt),rt=Math.min(rt,Je),At=Math.max(At,gt),Pe=Math.max(Pe,Je));return new d(Math.round(xt),Math.round(rt),Math.round(At-xt),Math.round(Pe-rt))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,F,q=(T=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:F}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Mt.API),function(t){var e=function(c){var d,h,f,p,x,w,y,j,A,C;for(h=[],f=0,p=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(x=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(w=(x=((x=((x=((x=(x-(C=x%85))/85)-(A=x%85))/85)-(j=x%85))/85)-(y=x%85))/85)%85,h.push(w+33,y+33,j+33,A+33,C+33)):h.push(122);return function(_,E){for(var M=E;M>0;M--)_.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},s=function(c){var d,h,f,p,x,w=String,y="length",j=255,A="charCodeAt",C="slice",_="replace";for(c[C](-2),c=c[C](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),f=[],p=0,x=(c+=d="uuuuu"[C](c[y]%5||5))[y];x>p;p+=5)h=52200625*(c[A](p)-33)+614125*(c[A](p+1)-33)+7225*(c[A](p+2)-33)+85*(c[A](p+3)-33)+(c[A](p+4)-33),f.push(j&h>>24,j&h>>16,j&h>>8,j&h);return function(E,M){for(var B=M;B>0;B--)E.pop()}(f,d[y]),w.fromCharCode.apply(w,f)},a=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},l=function(c){for(var d=new Uint8Array(c.length),h=c.length;h--;)d[h]=c.charCodeAt(h);return(d=bx(d)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};t.processDataByFilters=function(c,d){var h=0,f=c||"",p=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":f=s(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=a(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=l(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}}(Mt.API),function(t){t.loadFile=function(e,s,a){return function(i,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(h,f,p){var x=new XMLHttpRequest,w=0,y=function(j){var A=j.length,C=[],_=String.fromCharCode;for(w=0;w<A;w+=1)C.push(_(255&j.charCodeAt(w)));return C.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?p(y(this.responseText)):p(void 0)}),x.send(null),f&&x.status===200)return y(x.responseText)}(i,l,c)}catch{}return d}(e,s,a)},t.loadImageFile=t.loadFile}(Mt.API),function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):jp(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function s(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):jp(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var h=Rs(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(d,h){var f=document.createElement(d);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},l=function d(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),x=h.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||p.appendChild(d(x,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},c=function d(h){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),p=d.convert(Promise.resolve(),f);return(p=p.setProgress(1,d,1,[d])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,h){return d.__proto__=h||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(f){switch(a(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),h){case"string":return this.then(s).then(function(f){return this.set({src:i("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var j=p[y],A=j.src.find(function(C){return C.format==="truetype"});A&&f.addFont(A.url,j.ref.name,j.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),h(this.prop.container,w)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},c.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(a(d)!=="object")return this;var h=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(d,h){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return h?h(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(d=d||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,h,f,p){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,h,f,p){return this.setProgress(d?this.progress.val+d:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(d,h){var f=this;return this.thenCore(d,h,function(p,x){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,p),w}).then(p,x).then(function(w){return f.updateProgress(1),w})})},c.prototype.thenCore=function(d,h,f){f=f||Promise.prototype.then;var p=this;d&&(d=d.bind(p)),h&&(h=h.bind(p));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),w=f.call(x,d,h);return c.convert(w,p.__proto__)},c.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},c.prototype.thenList=function(d){var h=this;return d.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return c.convert(h,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Mt.getPageSize=function(d,h,f){if(Rs(d)==="object"){var p=d;d=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var x,w=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+h}var j,A=0,C=0;if(y.hasOwnProperty(w))A=y[w][1]/x,C=y[w][0]/x;else try{A=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",C>A&&(j=C,C=A,A=j);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",A>C&&(j=C,C=A,A=j)}return{width:C,height:A,unit:h,k:x,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(qp):null;var f=new c(h);return h.worker?f:f.from(d).doCallback()}}(Mt.API),Mt.API.addJS=function(t){return nv=t,this.internal.events.subscribe("postPutResources",function(){Jf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jf!==void 0&&sv!==void 0&&this.internal.out("/Names <</JavaScript "+Jf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=s.outline.render().split(/\r\n/),l=0;l<i.length;l++){var c=i[l],d=a.exec(c);if(d!=null){var h=d[1];s.internal.newObjectDeferredBegin(h,!1)}s.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(l=0;l<f;l++){var x=s.internal.newObject();p.push(x);var w=s.internal.getPageInfo(l+1);s.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=s.internal.newObject();for(s.internal.write("<< /Names [ "),l=0;l<p.length;l++)s.internal.write("(page_"+(l+1)+")"+p[l]+" 0 R");s.internal.write(" ] >>","endobj"),e=s.internal.newObject(),s.internal.write("<< /Dests "+y+" 0 R"),s.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,i,l){var c={title:i,options:l,children:[]};return a==null&&(a=this.root),a.children.push(c),c},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var c=a.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=s.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,i){for(var l=0;l<i.children.length;l++)a.count++,this.count_r(a,i.children[l]);return a.count}}])}(Mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(s,a,i,l,c,d){var h,f=this.decode.DCT_DECODE,p=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=c||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,h=function(x){for(var w,y=256*x.charCodeAt(4)+x.charCodeAt(5),j=x.length,A={width:0,height:0,numcomponents:1},C=4;C<j;C+=2){if(C+=y,e.indexOf(x.charCodeAt(C+1))!==-1){w=256*x.charCodeAt(C+5)+x.charCodeAt(C+6),A={width:256*x.charCodeAt(C+7)+x.charCodeAt(C+8),height:w,numcomponents:x.charCodeAt(C+9)};break}y=256*x.charCodeAt(C+2)+x.charCodeAt(C+3)}return A}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),h.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:s,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:a,alias:i}}return p}}(Mt.API),Mt.API.processPNG=function(t,e,s,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=H7(t,{checkCrc:!0}),c=l.width,d=l.height,h=l.channels,f=l.palette,p=l.depth;i=f&&h===1?function(K){for(var U=K.width,$=K.height,te=K.data,P=K.palette,O=K.depth,H=!1,G=[],re=[],ee=void 0,ie=!1,le=0,ce=0;ce<P.length;ce++){var Y=ly(P[ce],4),de=Y[0],T=Y[1],F=Y[2],q=Y[3];G.push(de,T,F),q!=null&&(q===0?(le++,re.length<1&&re.push(ce)):q<255&&(ie=!0))}if(ie||le>1){H=!0,re=void 0;var I=U*$;ee=new Uint8Array(I);for(var se=new DataView(te.buffer),fe=0;fe<I;fe++){var be=Hp(se,fe,O),Se=ly(P[be],4)[3];ee[fe]=Se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:te,alphaBytes:ee,needSMask:H,palette:G,mask:re}}(l):h===2||h===4?function(K){for(var U=K.data,$=K.width,te=K.height,P=K.channels,O=K.depth,H=P===2?"DeviceGray":"DeviceRGB",G=P-1,re=$*te,ee=G,ie=re*ee,le=1*re,ce=Math.ceil(ie*O/8),Y=Math.ceil(le*O/8),de=new Uint8Array(ce),T=new Uint8Array(Y),F=new DataView(U.buffer),q=new DataView(de.buffer),I=new DataView(T.buffer),se=!1,fe=0;fe<re;fe++){for(var be=fe*P,Se=0;Se<ee;Se++)hv(q,Hp(F,be+Se,O),fe*ee+Se,O);var Oe=Hp(F,be+ee,O);Oe<(1<<O)-1&&(se=!0),hv(I,Oe,1*fe,O)}return{colorSpace:H,colorsPerPixel:G,colorBytes:de,alphaBytes:T,needSMask:se}}(l):function(K){var U=K.data,$=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:U instanceof Uint8Array?U:new Uint8Array(U.buffer),needSMask:!1}}(l);var x,w,y,j=i,A=j.colorSpace,C=j.colorsPerPixel,_=j.colorBytes,E=j.alphaBytes,M=j.needSMask,B=j.palette,z=j.mask,ne=null;return a!==Mt.API.image_compression.NONE&&typeof bx=="function"?(ne=function(K){var U;switch(K){case Mt.API.image_compression.FAST:U=11;break;case Mt.API.image_compression.MEDIUM:U=13;break;case Mt.API.image_compression.SLOW:U=14;break;default:U=12}return U}(a),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(ne," "),t=lv(_,c*C,C,a),M&&(y=lv(E,c,1,a))):(x=void 0,w="",t=_,M&&(y=E)),w+="/Colors ".concat(C," /BitsPerComponent ").concat(p," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:s,data:t,index:e,filter:x,decodeParameters:w,transparency:z,palette:B,sMask:y,predictor:ne,width:c,height:d,bitsPerComponent:p,colorSpace:A}}},function(t){t.processGIF89A=function(e,s,a,i){var l=new dE(e),c=l.width,d=l.height,h=[];l.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},p=new $p(100).encode(f,100);return t.processJPEG.call(this,p,s,a,i)},t.processGIF87A=t.processGIF89A}(Mt.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:a,blue:s,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(s){Gs.log("bit decode error:"+s)}},Si.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),s=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var h=this.palette[l>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}s!==0&&(this.pos+=4-s)}},Si.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*i*4,d=l>>4,h=15&l,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*a;if(i<this.palette.length){var c=this.palette[i];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&e)/e*255|0,h=(l>>10&e)/e*255|0,f=l>>15?255:0,p=a*this.width*4+4*i;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=f}this.pos+=t}},Si.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&s)/s*255|0,f=(c>>11)/e*255|0,p=i*this.width*4+4*l;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=d,this.data[p+3]=255}this.pos+=t}},Si.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*s;this.data[c]=l,this.data[c+1]=i,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*s;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=a,this.data[d+3]=c}},Si.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,s,a,i){var l=new Si(e,!1),c=l.width,d=l.height,h={data:l.getData(),width:c,height:d},f=new $p(100).encode(h,100);return t.processJPEG.call(this,f,s,a,i)}}(Mt.API),mv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,s,a,i){var l=new mv(e),c=l.width,d=l.height,h={data:l.getData(),width:c,height:d},f=new $p(100).encode(h,100);return t.processJPEG.call(this,f,s,a,i)}}(Mt.API),Mt.API.processRGBA=function(t,e,s){for(var a=t.data,i=a.length,l=new Uint8Array(i/4*3),c=new Uint8Array(i/4),d=0,h=0,f=0;f<i;f+=4){var p=a[f],x=a[f+1],w=a[f+2],y=a[f+3];l[d++]=p,l[d++]=x,l[d++]=w,c[h++]=y}var j=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:e,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ed=Mt.API,em=Ed.getCharWidthsArray=function(t,e){var s,a,i=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:i.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,x=e.doKerning!==!1,w=0,y=t.length,j=0,A=d[0]||h,C=[];for(s=0;s<y;s++)a=t.charCodeAt(s),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+c*(1e3/l)||0)/1e3):(w=x&&Rs(f[a])==="object"&&!isNaN(parseInt(f[a][j],10))?f[a][j]/p:0,C.push((d[a]||A)/h+w)),j=a;return C},av=Ed.getStringUnitWidth=function(t,e){var s=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ed.processArabic&&(t=Ed.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,s,i)/s:em.apply(this,arguments).reduce(function(l,c){return l+c},0)},rv=function(t,e,s,a){for(var i=[],l=0,c=t.length,d=0;l!==c&&d+e[l]<s;)d+=e[l],l++;i.push(t.slice(0,l));var h=l;for(d=0;l!==c;)d+e[l]>a&&(i.push(t.slice(h,l)),d=0,h=l),d+=e[l],l++;return h!==l&&i.push(t.slice(h,l)),i},iv=function(t,e,s){s||(s={});var a,i,l,c,d,h,f,p=[],x=[p],w=s.textIndent||0,y=0,j=0,A=t.split(" "),C=em.apply(this,[" ",s])[0];if(h=s.lineIndent===-1?A[0].length+2:s.lineIndent||0){var _=Array(h).join(" "),E=[];A.map(function(B){(B=B.split(/\s*\n/)).length>1?E=E.concat(B.map(function(z,ne){return(ne&&z.length?`
`:"")+z})):E.push(B[0])}),A=E,h=av.apply(this,[_,s])}for(l=0,c=A.length;l<c;l++){var M=0;if(a=A[l],h&&a[0]==`
`&&(a=a.substr(1),M=1),w+y+(j=(i=em.apply(this,[a,s])).reduce(function(B,z){return B+z},0))>e||M){if(j>e){for(d=rv.apply(this,[a,i,e-(w+y),e]),p.push(d.shift()),p=[d.pop()];d.length;)x.push([d.shift()]);j=i.slice(a.length-(p[0]?p[0].length:0)).reduce(function(B,z){return B+z},0)}else p=[a];x.push(p),w=j+h,y=C}else p.push(a),w+=y+j,y=C}return f=h?function(B,z){return(z?_:"")+B.join(" ")}:function(B){return B.join(" ")},x.map(f)},Ed.splitTextToSize=function(t,e,s){var a,i=(s=s||{}).fontSize||this.internal.getFontSize(),l=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;l.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=s.lineIndent;var d,h,f=[];for(d=0,h=a.length;d<h;d++)f=f.concat(iv.apply(this,[a[d],c,l]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",s="klmnopqrstuvwxyz",a={},i={},l=0;l<16;l++)a[s[l]]=e[l],i[e[l]]=s[l];var c=function(w){return"0x"+parseInt(w,10).toString(16)},d=t.__fontmetrics__.compress=function(w){var y,j,A,C,_=["{"];for(var E in w){if(y=w[E],isNaN(parseInt(E,10))?j="'"+E+"'":(E=parseInt(E,10),j=(j=c(E).slice(2)).slice(0,-1)+i[j.slice(-1)]),typeof y=="number")y<0?(A=c(y).slice(3),C="-"):(A=c(y).slice(2),C=""),A=C+A.slice(0,-1)+i[A.slice(-1)];else{if(Rs(y)!=="object")throw new Error("Don't know what to do with value type "+Rs(y)+".");A=d(y)}_.push(j+A)}return _.push("}"),_.join("")},h=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,j,A,C,_={},E=1,M=_,B=[],z="",ne="",K=w.length-1,U=1;U<K;U+=1)(C=w[U])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(C):C=="{"?(B.push([M,A]),M={},A=void 0):C=="}"?((j=B.pop())[0][j[1]]=M,A=void 0,M=j[0]):C=="-"?E=-1:A===void 0?a.hasOwnProperty(C)?(z+=a[C],A=parseInt(z,16)*E,E=1,z=""):z+=C:a.hasOwnProperty(C)?(ne+=a[C],M[A]=parseInt(ne,16)*E,E=1,A=void 0,ne=""):ne+=C;return _},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var y=w.font,j=x.Unicode[y.postScriptName];j&&(y.metadata.Unicode={},y.metadata.Unicode.widths=j.widths,y.metadata.Unicode.kerning=j.kerning);var A=p.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])}(Mt.API),function(t){var e=function(s){for(var a=s.length,i=new Uint8Array(a),l=0;l<a;l++)i[l]=s.charCodeAt(l);return i};t.API.events.push(["addFont",function(s){var a=void 0,i=s.font,l=s.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(dm(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,a)}}])}(Mt),Mt.API.addSvgAsImage=function(t,e,s,a,i,l,c,d){if(isNaN(e)||isNaN(s))throw Gs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Gs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Qt.canvg?Promise.resolve(Qt.canvg):jp(()=>import("./index.es-C65gZQgb.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){x.addImage(h.toDataURL("image/jpeg",1),e,s,a,i,c,d)})},Mt.API.putTotalPages=function(t){var e,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),s=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(e,s);return this},Mt.API.viewerPreferences=function(t,e){var s;t=t||{},e=e||!1;var a,i,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,p=0,x=0;function w(j,A){var C,_=!1;for(C=0;C<j.length;C+=1)j[C]===A&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=d.length;for(x=0;x<y;x+=1)s[d[x]].value=s[d[x]].defaultValue,s[d[x]].explicitSet=!1}if(Rs(t)==="object"){for(i in t)if(l=t[i],w(d,i)&&l!==void 0){if(s[i].type==="boolean"&&typeof l=="boolean")s[i].value=l;else if(s[i].type==="name"&&w(s[i].valueSet,l))s[i].value=l;else if(s[i].type==="integer"&&Number.isInteger(l))s[i].value=l;else if(s[i].type==="array"){for(f=0;f<l.length;f+=1)if(a=!0,l[f].length===1&&typeof l[f][0]=="number")h.push(String(l[f]-1));else if(l[f].length>1){for(p=0;p<l[f].length;p+=1)typeof l[f][p]!="number"&&(a=!1);a===!0&&h.push([l[f][0]-1,l[f][1]-1].join(" "))}s[i].value="["+h.join(" ")+"]"}else s[i].value=s[i].defaultValue;s[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,A=[];for(j in s)s[j].explicitSet===!0&&(s[j].type==="name"?A.push("/"+j+" /"+s[j].value):A.push("/"+j+" "+s[j].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=l.length+c.length+d.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+l+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(t){var e=t.API,s=e.pdfEscape16=function(l,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],x=0,w=l.length;x<w;++x){if(d=c.metadata.characterToGlyph(l.charCodeAt(x)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=l.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(f[4-d.length],d)}return p.join("")},a=function(l){var c,d,h,f,p,x,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,w=(d=Object.keys(l).sort(function(y,j){return y-j})).length;x<w;x++)c=d[x],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(f=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,w=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",j=0;j<w.length;j++)y+=String.fromCharCode(w[j]);var A=f();p({data:y,addLength1:!0,objectId:A}),h("endobj");var C=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:C}),h("endobj");var _=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Dd(d.fontName)),h("/FontFile2 "+A+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var E=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Dd(d.fontName)),h("/FontDescriptor "+_+" 0 R"),h("/W "+t.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+C+" 0 R"),h("/BaseFont /"+Dd(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+E+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,w="",y=0;y<x.length;y++)w+=String.fromCharCode(x[y]);var j=f();p({data:w,addLength1:!0,objectId:j}),h("endobj");var A=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:A}),h("endobj");var C=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+j+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Dd(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var _=0;_<d.metadata.hmtx.widths.length;_++)d.metadata.hmtx.widths[_]=parseInt(d.metadata.hmtx.widths[_]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Dd(d.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(l)}]);var i=function(l){var c,d=l.text||"",h=l.x,f=l.y,p=l.options||{},x=l.mutex||{},w=x.pdfEscape,y=x.activeFontKey,j=x.fonts,A=y,C="",_=0,E="",M=j[A].encoding;if(j[A].encoding!=="Identity-H")return{text:d,x:h,y:f,options:p,mutex:x};for(E=d,A=y,Array.isArray(d)&&(E=d[0]),_=0;_<E.length;_+=1)j[A].metadata.hasOwnProperty("cmap")&&(c=j[A].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),c||E[_].charCodeAt(0)<256&&j[A].metadata.hasOwnProperty("Unicode")?C+=E[_]:C+="";var B="";return parseInt(A.slice(1))<14||M==="WinAnsiEncoding"?B=w(C,A).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(B=s(C,j[A])),x.isHex=!0,{text:B,x:h,y:f,options:p,mutex:x}};e.events.push(["postProcessText",function(l){var c=l.text||"",d=[],h={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([i(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(i(Object.assign({},h,{text:c[f]})).text);l.text=d}else l.text=i(Object.assign({},h,{text:c})).text}])}(Mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0},t.addFileToVFS=function(s,a){return e.call(this),this.internal.vFS[s]=a,this},t.getFileFromVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(Mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,l,c,d,h,f,p,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,M=0;this.__bidiEngine__={};var B=function(P){var O=P.charCodeAt(),H=O>>8,G=A[H];return G!==void 0?x[256*G+(255&O)]:H===252||H===253?"AL":_.test(H)?"L":H===8?"R":"N"},z=function(P){for(var O,H=0;H<P.length;H++){if((O=B(P.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},ne=function(P,O,H,G){var re,ee,ie,le,ce=O[G];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ce="AN");break;case"AL":E=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":G<1||G+1>=O.length||(re=H[G-1])!=="EN"&&re!=="AN"||(ee=O[G+1])!=="EN"&&ee!=="AN"?ce="N":E&&(ee="AN"),ce=ee===re?ee:"N";break;case"ES":ce=(re=G>0?H[G-1]:"B")==="EN"&&G+1<O.length&&O[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&H[G-1]==="EN"){ce="EN";break}if(E){ce="N";break}for(ie=G+1,le=O.length;ie<le&&O[ie]==="ET";)ie++;ce=ie<le&&O[ie]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(le=O.length,ie=G+1;ie<le&&O[ie]==="NSM";)ie++;if(ie<le){var Y=P[G],de=Y>=1425&&Y<=2303||Y===64286;if(re=O[ie],de&&(re==="R"||re==="AL")){ce="R";break}}}ce=G<1||(re=O[G-1])==="B"?"N":H[G-1];break;case"B":E=!1,i=!0,ce=M;break;case"S":l=!0,ce="N"}return ce},K=function(P,O,H){var G=P.split("");return H&&U(G,H,{hiLevel:M}),G.reverse(),O&&O.reverse(),G.join("")},U=function(P,O,H){var G,re,ee,ie,le,ce=-1,Y=P.length,de=0,T=[],F=M?y:w,q=[];for(E=!1,i=!1,l=!1,re=0;re<Y;re++)q[re]=B(P[re]);for(ee=0;ee<Y;ee++){if(le=de,T[ee]=ne(P,q,T,ee),G=240&(de=F[le][j[T[ee]]]),de&=15,O[ee]=ie=F[de][5],G>0)if(G===16){for(re=ce;re<ee;re++)O[re]=1;ce=-1}else ce=-1;if(F[de][6])ce===-1&&(ce=ee);else if(ce>-1){for(re=ce;re<ee;re++)O[re]=ie;ce=-1}q[ee]==="B"&&(O[ee]=0),H.hiLevel|=ie}l&&function(I,se,fe){for(var be=0;be<fe;be++)if(I[be]==="S"){se[be]=M;for(var Se=be-1;Se>=0&&I[Se]==="WS";Se--)se[Se]=M}}(q,O,Y)},$=function(P,O,H,G,re){if(!(re.hiLevel<P)){if(P===1&&M===1&&!i)return O.reverse(),void(H&&H.reverse());for(var ee,ie,le,ce,Y=O.length,de=0;de<Y;){if(G[de]>=P){for(le=de+1;le<Y&&G[le]>=P;)le++;for(ce=de,ie=le-1;ce<ie;ce++,ie--)ee=O[ce],O[ce]=O[ie],O[ie]=ee,H&&(ee=H[ce],H[ce]=H[ie],H[ie]=ee);de=le}de++}}},te=function(P,O,H){var G=P.split(""),re={hiLevel:M};return H||(H=[]),U(G,H,re),function(ee,ie,le){if(le.hiLevel!==0&&p)for(var ce,Y=0;Y<ee.length;Y++)ie[Y]===1&&(ce=C.indexOf(ee[Y]))>=0&&(ee[Y]=C[ce+1])}(G,H,re),$(2,G,O,H,re),$(1,G,O,H,re),G.join("")};return this.__bidiEngine__.doBidiReorder=function(P,O,H){if(function(re,ee){if(ee)for(var ie=0;ie<re.length;ie++)ee[ie]=ie;d===void 0&&(d=z(re)),f===void 0&&(f=z(re))}(P,O),c||!h||f)if(c&&h&&d^f)M=d?1:0,P=K(P,O,H);else if(!c&&h&&f)M=d?1:0,P=te(P,O,H),P=K(P,O);else if(!c||d||h||f){if(c&&!h&&d^f)P=K(P,O),d?(M=0,P=te(P,O,H)):(M=1,P=te(P,O,H),P=K(P,O));else if(c&&d&&!h&&f)M=1,P=te(P,O,H),P=K(P,O);else if(!c&&!h&&d^f){var G=p;d?(M=1,P=te(P,O,H),M=0,p=!1,P=te(P,O,H),p=G):(M=0,P=te(P,O,H),P=K(P,O),M=1,p=!1,P=te(P,O,H),p=G,P=K(P,O))}}else M=0,P=te(P,O,H);else M=d?1:0,P=te(P,O,H);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,h=P.isOutputVisual,d=P.isInputRtl,f=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,s.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(c=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?c.push([s.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):c.push([s.doBidiReorder(i[d])]);a.text=c}else a.text=s.doBidiReorder(i);s.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function t(e){var s;if(this.rawData=e,s=this.contents=new $o(e),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new SE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uE(this.contents),this.head=new fE(this),this.name=new bE(this),this.cmap=new aN(this),this.toUnicode={},this.hhea=new mE(this),this.maxp=new yE(this),this.hmtx=new vE(this),this.post=new xE(this),this.os2=new pE(this),this.loca=new _E(this),this.glyf=new wE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,s,a,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(s=i>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var s;return((s=this.cmap.unicode)!=null?s.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*s},t.prototype.widthOfString=function(e,s,a){var i,l,c,d;for(c=0,l=0,d=(e=""+e).length;0<=d?l<d:l>d;l=0<=d?++l:--l)i=e.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/s)||0;return c*(s/1e3)},t.prototype.lineHeight=function(e,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t}();var Fi,$o=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var s,a;for(a=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var s,a,i;for(i=[],s=0,a=e.length;0<=a?s<a:s>a;s=0<=a?++s:--s)i.push(this.writeByte(e.charCodeAt(s)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,s,a,i,l,c,d,h;return e=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^l)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*s+1099511627776*a+4294967296*i+16777216*l+65536*c+256*d+h},t.prototype.writeLongLong=function(e){var s,a;return s=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var s,a;for(s=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)s.push(this.readByte());return s},t.prototype.write=function(e){var s,a,i,l;for(l=[],a=0,i=e.length;a<i;a++)s=e[a],l.push(this.writeByte(s));return l},t}(),uE=function(){var t;function e(s){var a,i,l;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(s){var a,i,l,c,d,h,f,p,x,w,y,j,A;for(A in y=Object.keys(s).length,h=Math.log(2),x=16*Math.floor(Math.log(y)/h),c=Math.floor(x/h),p=16*y-x,(i=new $o).writeInt(this.scalarType),i.writeShort(y),i.writeShort(x),i.writeShort(c),i.writeShort(p),l=16*y,f=i.pos+l,d=null,j=[],s)for(w=s[A],i.writeString(A),i.writeInt(t(w)),i.writeInt(f),i.writeInt(w.length),j=j.concat(w),A==="head"&&(d=f),f+=w.length;f%4;)j.push(0),f++;return i.write(j),a=2981146554-t(i.data),i.pos=d+8,i.writeUInt32(a),i.data},t=function(s){var a,i,l,c;for(s=rN.call(s);s.length%4;)s.push(0);for(l=new $o(s),i=0,a=0,c=s.length;a<c;a=a+=4)i+=l.readUInt32();return 4294967295&i},e}(),hE={}.hasOwnProperty,ll=function(t,e){for(var s in e)hE.call(e,s)&&(t[s]=e[s]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};Fi=function(){function t(e){var s;this.file=e,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var fE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var s;return(s=new $o).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(e),s.writeShort(this.glyphDataFormat),s.data},t}(),pv=function(){function t(e,s){var a,i,l,c,d,h,f,p,x,w,y,j,A,C,_,E,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=s+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,l=function(){var B,z;for(z=[],h=B=0;0<=w?B<w:B>w;h=0<=w?++B:--B)z.push(e.readUInt16());return z}(),e.pos+=2,A=function(){var B,z;for(z=[],h=B=0;0<=w?B<w:B>w;h=0<=w?++B:--B)z.push(e.readUInt16());return z}(),f=function(){var B,z;for(z=[],h=B=0;0<=w?B<w:B>w;h=0<=w?++B:--B)z.push(e.readUInt16());return z}(),p=function(){var B,z;for(z=[],h=B=0;0<=w?B<w:B>w;h=0<=w?++B:--B)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,d=function(){var B,z;for(z=[],h=B=0;0<=i?B<i:B>i;h=0<=i?++B:--B)z.push(e.readUInt16());return z}(),h=_=0,M=l.length;_<M;h=++_)for(C=l[h],a=E=j=A[h];j<=C?E<=C:E>=C;a=j<=C?++E:--E)p[h]===0?c=a+f[h]:(c=d[p[h]/2+(a-j)-(w-h)]||0)!==0&&(c+=f[h]),this.codeMap[a]=65535&c}e.pos=x}return t.encode=function(e,s){var a,i,l,c,d,h,f,p,x,w,y,j,A,C,_,E,M,B,z,ne,K,U,$,te,P,O,H,G,re,ee,ie,le,ce,Y,de,T,F,q,I,se,fe,be,Se,Oe,He,Be;switch(G=new $o,c=Object.keys(e).sort(function(et,Ae){return et-Ae}),s){case"macroman":for(A=0,C=function(){var et=[];for(j=0;j<256;++j)et.push(0);return et}(),E={0:0},l={},re=0,ce=c.length;re<ce;re++)E[Se=e[i=c[re]]]==null&&(E[Se]=++A),l[i]={old:e[i],new:E[e[i]]},C[i]=E[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(C),{charMap:l,subtable:G.data,maxGlyphID:A+1};case"unicode":for(O=[],x=[],M=0,E={},a={},_=f=null,ee=0,Y=c.length;ee<Y;ee++)E[z=e[i=c[ee]]]==null&&(E[z]=++M),a[i]={old:z,new:E[z]},d=E[z]-i,_!=null&&d===f||(_&&x.push(_),O.push(i),f=d),_=i;for(_&&x.push(_),x.push(65535),O.push(65535),te=2*($=O.length),U=2*Math.pow(Math.log($)/Math.LN2,2),w=Math.log(U/2)/Math.LN2,K=2*$-U,h=[],ne=[],y=[],j=ie=0,de=O.length;ie<de;j=++ie){if(P=O[j],p=x[j],P===65535){h.push(0),ne.push(0);break}if(P-(H=a[P].new)>=32768)for(h.push(0),ne.push(2*(y.length+$-j)),i=le=P;P<=p?le<=p:le>=p;i=P<=p?++le:--le)y.push(a[i].new);else h.push(H-P),ne.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*$+2*y.length),G.writeUInt16(0),G.writeUInt16(te),G.writeUInt16(U),G.writeUInt16(w),G.writeUInt16(K),fe=0,T=x.length;fe<T;fe++)i=x[fe],G.writeUInt16(i);for(G.writeUInt16(0),be=0,F=O.length;be<F;be++)i=O[be],G.writeUInt16(i);for(Oe=0,q=h.length;Oe<q;Oe++)d=h[Oe],G.writeUInt16(d);for(He=0,I=ne.length;He<I;He++)B=ne[He],G.writeUInt16(B);for(Be=0,se=y.length;Be<se;Be++)A=y[Be],G.writeUInt16(A);return{charMap:a,subtable:G.data,maxGlyphID:M+1}}},t}(),aN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="cmap",t.prototype.parse=function(e){var s,a,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new pv(e,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(e,s){var a,i;return s==null&&(s="macroman"),a=pv.encode(e,s),(i=new $o).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),mE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),pE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(e.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),xE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="post",t.prototype.parse=function(e){var s,a,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)s=e.readByte(),i.push(this.names.push(e.readString(s)));return i;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,d,h;for(h=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)h.push(e.readUInt32());return h}).call(this)}},t}(),gE=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},bE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="name",t.prototype.parse=function(e){var s,a,i,l,c,d,h,f,p,x,w;for(e.pos=this.offset,e.readShort(),s=e.readShort(),d=e.readShort(),a=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(h={},l=p=0,x=a.length;p<x;l=++p)i=a[l],e.pos=i.offset,f=e.readString(i.length),c=new gE(f,i),h[w=i.nameID]==null&&(h[w]=[]),h[i.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),yE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),vE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var s,a,i,l,c,d,h;for(e.pos=this.offset,this.metrics=[],s=0,d=this.file.hhea.numberOfMetrics;0<=d?s<d:s>d;s=0<=d?++s:--s)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],s=f=0;0<=i?f<i:f>i;s=0<=i?++f:--f)p.push(e.readInt16());return p}(),this.widths=(function(){var f,p,x,w;for(w=[],f=0,p=(x=this.metrics).length;f<p;f++)l=x[f],w.push(l.advance);return w}).call(this),a=this.widths[this.widths.length-1],h=[],s=c=0;0<=i?c<i:c>i;s=0<=i?++c:--c)h.push(this.widths.push(a));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),rN=[].slice,wE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var s,a,i,l,c,d,h,f,p,x;return e in this.cache?this.cache[e]:(l=this.file.loca,s=this.file.contents,a=l.indexOf(e),(i=l.lengthOf(e))===0?this.cache[e]=null:(s.pos=this.offset+a,c=(d=new $o(s.read(i))).readShort(),f=d.readShort(),x=d.readShort(),h=d.readShort(),p=d.readShort(),this.cache[e]=c===-1?new jE(d,f,x,h,p):new NE(d,c,f,x,h,p),this.cache[e]))},t.prototype.encode=function(e,s,a){var i,l,c,d,h;for(c=[],l=[],d=0,h=s.length;d<h;d++)i=e[s[d]],l.push(c.length),i&&(c=c.concat(i.encode(a)));return l.push(c.length),{table:c,offsets:l}},t}(),NE=function(){function t(e,s,a,i,l,c){this.raw=e,this.numberOfContours=s,this.xMin=a,this.yMin=i,this.xMax=l,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),jE=function(){function t(e,s,a,i,l){var c,d;for(this.raw=e,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,s,a;for(s=new $o(rN.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)s.pos=this.glyphOffsets[e];return s.data},t}(),_E=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Fi),t.prototype.tag="loca",t.prototype.parse=function(e){var s,a;return e.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,s){for(var a=new Uint32Array(this.offsets.length),i=0,l=0,c=0;c<a.length;++c)if(a[c]=i,l<s.length&&s[l]==c){++l,a[c]=i;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(i+=h)}for(var f=new Array(4*a.length),p=0;p<a.length;++p)f[4*p+3]=255&a[p],f[4*p+2]=(65280&a[p])>>8,f[4*p+1]=(16711680&a[p])>>16,f[4*p]=(4278190080&a[p])>>24;return f},t}(),SE=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,s,a,i,l;for(s in i=this.font.cmap.tables[0].codeMap,e={},l=this.subset)a=l[s],e[s]=i[a];return e},t.prototype.glyphsFor=function(e){var s,a,i,l,c,d,h;for(i={},c=0,d=e.length;c<d;c++)i[l=e[c]]=this.font.glyf.glyphFor(l);for(l in s=[],i)(a=i[l])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(l in h=this.glyphsFor(s))a=h[l],i[l]=a;return i},t.prototype.encode=function(e,s){var a,i,l,c,d,h,f,p,x,w,y,j,A,C,_;for(i in a=aN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),y={0:0},_=a.charMap)y[(h=_[i]).old]=h.new;for(j in w=a.maxGlyphID,c)j in y||(y[j]=w++);return p=function(E){var M,B;for(M in B={},E)B[E[M]]=M;return B}(y),x=Object.keys(p).sort(function(E,M){return E-M}),A=function(){var E,M,B;for(B=[],E=0,M=x.length;E<M;E++)d=x[E],B.push(p[d]);return B}(),l=this.font.glyf.encode(c,A,y),f=this.font.loca.encode(l.offsets,A),C={cmap:this.font.cmap.raw(),glyf:l.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();Mt.API.PDFObject=function(){var t;function e(){}return t=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},e.convert=function(s){var a,i,l,c;if(Array.isArray(s))return"["+function(){var d,h,f;for(f=[],d=0,h=s.length;d<h;d++)a=s[d],f.push(e.convert(a));return f}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+t(s.getUTCFullYear(),4)+t(s.getUTCMonth(),2)+t(s.getUTCDate(),2)+t(s.getUTCHours(),2)+t(s.getUTCMinutes(),2)+t(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(i in l=["<<"],s)c=s[i],l.push("/"+i+" "+e.convert(c));return l.push(">>"),l.join(`
`)}return""+s},e}();const AE=async t=>await lt(ot.ADMIN.AllLoanStatus,"GET",void 0,t),CE=async t=>await lt(ot.ADMIN.AllLoanDistributed,"GET",void 0,t),kE=async(t,e)=>(console.log("The Id coming at the send request",t),await lt(ot.ADMIN.FullLoanDetail(t),"GET",void 0,e)),EE=async(t,e)=>await lt(ot.ADMIN.SingleLoanDetail(t),"GET",void 0,e),LE=async t=>await lt(ot.ADMIN.MonoLoanCalculation,"GET",void 0,t),DE=async(t,e)=>await lt(ot.ADMIN.RepaymentHistory(t),"GET",void 0,e),iN=({isOpen:t,onClose:e,loanId:s,onDisbursementUpdate:a})=>{const[i,l]=L.useState("loan"),[c,d]=L.useState(!1),[h,f]=L.useState(!1),p=ts.get("token"),{data:x,isLoading:w,isError:y}=Xt({queryKey:["full-loan-detail",s],queryFn:()=>EE(s,p||""),enabled:t&&!!s&&!!p}),j=x?.data?{id:String(x.data.id??s),userId:String(x.data.user_id??s),name:x.data.user?`${x.data.user.first_name} ${x.data.user.sur_name}`:"Unknown User",loanLimit:x.data.mono?.loan_limit!==null?`${x.data.mono.loan_limit}`:"N/A",loanAmount:x.data.loan_amount!==null?`${x.data.loan_amount.toLocaleString()}`:"N/A",loanPeriod:x.data.repayment_duration!==null?`${x.data.repayment_duration} months`:"N/A",repaymentDuration:x.data.mono?.repayment_duration!==null?`${x.data.mono.repayment_duration} months`:"N/A",financingPartner:"Mono",interestRate:x.data.mono?.interest_rate!==null?`${x.data.mono.interest_rate}%`:"N/A",sendStatus:x.data.loan_status?.send_status||"Pending",sendDate:x.data.loan_status?.send_date?new Date(x.data.loan_status.send_date).toLocaleDateString():"Not yet sent",approvalStatus:x.data.loan_status?.approval_status||"Pending",approvalDate:x.data.loan_status?.approval_date?new Date(x.data.loan_status.approval_date).toLocaleDateString():"Not yet approved",disbursementStatus:x.data.loan_status?.disbursement_status||"Pending",disbursementDate:x.data.loan_status?.disbursement_date?new Date(x.data.loan_status.disbursement_date).toLocaleDateString():"Not yet disbursed",beneficiaryName:x.data.beneficiary_name||"N/A",beneficiaryEmail:x.data.beneficiary_email||"N/A",beneficiaryRelationship:x.data.beneficiary_relationship||"N/A",beneficiaryPhone:x.data.beneficiary_phone||"N/A",titleDocument:x.data.title_document||"N/A",uploadDocument:x.data.upload_document||"N/A",totalAmount:x.data.mono?.total_amount?`${x.data.mono.total_amount.toLocaleString()}`:"N/A",downPayment:x.data.mono?.down_payment?`${x.data.mono.down_payment.toLocaleString()}`:"N/A",creditScore:x.data.mono?.credit_score||"N/A",isOverdue:x.data.mono?.is_overdue||!1,mono_loan_calculation:x.data?.mono_loan_calculation||"N/A"}:null;if(t&&w)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loading loan details..."})});if(t&&y)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-red-500 text-lg",children:"Failed to load loan details."})});if(t&&!j)return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center text-gray-500 text-lg",children:"Loan details not found."})});const A=()=>{const _=j;if(!_){alert("Unable to find loan data. Please try again.");return}f(!0);try{const E=new Mt;E.setFont("helvetica"),E.setFontSize(20),E.setTextColor(39,62,142),E.text("TROOSOLAR FINANCIAL SERVICES",20,25),E.setFontSize(16),E.setTextColor(0,0,0),E.text("ACCOUNT STATEMENT",20,35),E.setLineWidth(.5),E.line(20,40,190,40);let M=55;E.setFontSize(14),E.setTextColor(39,62,142),E.text("Customer Information",20,M),M+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Name: ${_.name}`,25,M),M+=6,E.text(`Customer ID: ${_.userId}`,25,M),M+=6,E.text(`Loan ID: ${_.id}`,25,M),M+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Loan Details",20,M),M+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Loan Amount: ${_.loanAmount}`,25,M),M+=6,E.text(`Loan Limit: ${_.loanLimit}`,25,M),M+=6,E.text(`Loan Period: ${_.loanPeriod}`,25,M),M+=6,E.text(`Interest Rate: ${_.interestRate}`,25,M),M+=6,E.text(`Repayment Duration: ${_.repaymentDuration}`,25,M),M+=6,E.text(`Financing Partner: ${_.financingPartner}`,25,M),M+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Status Information",20,M),M+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Send Status: ${_.sendStatus}`,25,M),M+=6,E.text(`Send Date: ${_.sendDate}`,25,M),M+=6,E.text(`Approval Status: ${_.approvalStatus}`,25,M),M+=6,E.text(`Approval Date: ${_.approvalDate}`,25,M),M+=6,E.text(`Disbursement Status: ${_.disbursementStatus}`,25,M),M+=6,E.text(`Disbursement Date: ${_.disbursementDate}`,25,M),M+=15,E.setFontSize(14),E.setTextColor(39,62,142),E.text("Financial Summary",20,M),M+=10,E.setFontSize(10),E.setTextColor(0,0,0),E.text(`Loan Amount: ${_.loanAmount}`,25,M),M+=6,E.text(`Total Amount: ${_.totalAmount}`,25,M),M+=6,E.text(`Down Payment: ${_.downPayment}`,25,M),M+=6,E.text(`Interest Rate: ${_.interestRate}`,25,M),M+=6,E.text(`Credit Score: ${_.creditScore}`,25,M),M+=6,E.text(`Overdue Status: ${_.isOverdue?"Overdue":"Current"}`,25,M),M+=20,E.setLineWidth(.3),E.line(20,M,190,M),M+=10,E.setFontSize(8),E.setTextColor(100,100,100),E.text(`Statement Generated: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}`,20,M),M+=5,E.text("This is an official document from Troosolar Financial Services.",20,M),M+=5,E.text("For inquiries, contact customer support.",20,M);const B=`Account-Statement-${_.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.pdf`;E.save(B),setTimeout(()=>{alert("PDF account statement downloaded successfully!"),f(!1)},500)}catch(E){console.error("Error generating PDF:",E),alert("Failed to generate PDF account statement. Please try again."),f(!1)}},C=({status:_})=>{let E={backgroundColor:"#FFA50033",color:"#FF8C00"},M="#FF8C00";const B=_.toLowerCase();return B==="completed"||B==="approved"||B==="active"?(E={backgroundColor:"#00800033",color:"#008000"},M="#008000"):B==="rejected"?(E={backgroundColor:"#FF000033",color:"#FF0000"},M="#FF0000"):B==="disbursed"&&(E={backgroundColor:"#0000FF33",color:"#0000FF"},M="#0000FF"),n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[75px]",style:E,children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:M}}),_]})};return!t||!j?null:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[n.jsx("div",{className:"fixed inset-0 bg-opacity-0 backdrop-brightness-50",onClick:e}),n.jsxs("div",{className:"relative bg-white w-[675px] h-full max-w-[100%] max-h-[100%] sm:rounded-xl shadow-lg overflow-y-auto z-10",children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Full Loan Details"}),n.jsx("button",{className:" cursor-pointer ",onClick:e,children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"flex border-b px-5",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${i==="loan"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>l("loan"),children:"Loan Details"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${i==="financial"?"border-b-4 border-[#273E8E] font-medium text-black":"text-[#00000080]"}`,onClick:()=>l("financial"),children:"Financial details"})]}),i==="loan"&&n.jsxs("div",{className:"px-5",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Details"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Name"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.name})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Limit"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanLimit})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Loan Period"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanPeriod})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Repayment duration"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.repaymentDuration})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Financing partner"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.financingPartner})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Interest rate"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.interestRate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Status"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Status (to partner)"}),n.jsx(C,{status:j.sendStatus})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Send Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.sendDate})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Status (from partner)"}),n.jsx(C,{status:j.approvalStatus})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Approval Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.approvalDate})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Status"}),n.jsx(C,{status:j.disbursementStatus})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Disbursement Date"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.disbursementDate})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Beneficiary Information"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Name"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryName})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Beneficiary Email"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryEmail})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Relationship"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryRelationship})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Phone Number"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.beneficiaryPhone})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Document Information"}),n.jsxs("div",{className:"space-y-0 border-[#00000080] border rounded-lg p-5",children:[n.jsxs("div",{className:"flex justify-between py-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Document Type"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.titleDocument})]}),n.jsxs("div",{className:"flex justify-between py-3",children:[n.jsx("span",{className:"text-[#00000080] text-sm",children:"Uploaded Document"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.uploadDocument!=="N/A"?n.jsx("a",{href:j.uploadDocument,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Document"}):"N/A"})]})]})]}),j.approvalStatus.toLowerCase()!=="approved"&&n.jsx("button",{className:`w-full py-3 rounded-full font-medium my-5 transition-colors cursor-pointer ${j.disbursementStatus==="Completed"?"bg-[#939FC7] text-white cursor-not-allowed":"bg-[#273E8E] hover:bg-blue-700 text-white"}`,onClick:()=>j.disbursementStatus!=="Completed"&&d(!0),disabled:j.disbursementStatus==="Completed",children:"Disburse Loan"})]}),i==="financial"&&n.jsxs("div",{className:"px-5",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Loan Financial Summary"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Total Amount"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.totalAmount})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Down Payment"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.downPayment})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Interest Rate"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.interestRate})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Credit Information"}),n.jsxs("div",{className:"space-y-0 border border-[#00000080] rounded-lg p-2 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Credit Score"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.creditScore})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Loan Limit"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.loanLimit})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Repayment Duration"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.repaymentDuration})]}),n.jsxs("div",{className:"flex justify-between py-3 px-3",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Overdue Status"}),n.jsx("span",{className:"font-medium text-sm text-right",children:j.isOverdue?n.jsx("span",{className:"text-red-600",children:"Overdue"}):n.jsx("span",{className:"text-green-600",children:"Current"})})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium my-3",children:"Account Statement"}),n.jsxs("div",{className:"flex items-center justify-between py-3 px-3 border border-[#00000080] rounded-lg p-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3",children:n.jsx("div",{className:"pdf-icon",children:n.jsx("img",{src:"/assets/images/pdf.png",alt:"PDF",width:"24",height:"24",className:"object-contain"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Download Account Statement"}),n.jsx("div",{className:"text-xs text-gray-500",children:h?"Generating PDF...":"PDF  200kb"})]})]}),n.jsx("button",{className:`text-blue-600 hover:text-blue-800 transition-colors ${h?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:A,disabled:h,title:"Download Account Statement",children:n.jsx("div",{className:"download-icon",children:h?n.jsx("div",{className:"w-6 h-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):n.jsx("img",{src:"/assets/images/download.png",alt:"Download",width:"24",height:"24",className:"object-contain"})})})]})]})]})]}),n.jsx(TC,{isOpen:c,onClose:()=>d(!1),loanId:j.mono_loan_calculation,amount:j.loanAmount,onDisburse:(_,E)=>{a&&a(_,E)}})]})},ME=({userId:t})=>{const e=ya(),{id:s}=yh(),a=ts.get("token"),i=t||s,[l,c]=L.useState(!1),[d,h]=L.useState(!1),[f,p]=L.useState(!1),[x,w]=L.useState(""),[y,j]=L.useState("");console.log("The Id coming",i);const{data:A,isLoading:C,isError:_}=Xt({queryKey:["user-loan-detail",i],queryFn:()=>kE(i||"",a||""),enabled:!!i&&!!a});console.log("User Loan Detail",A);const E=A?.data?.loans||[],M=A?.data?.user_info||{},B=A?.data?.wallet_info||{};console.log("API Loans Data:",A);const z=()=>{const $=`user_partner_${(M.name||M.first_name||`User ${i}`)?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem($,JSON.stringify({selectedPartner:x})),alert("Partner selection saved successfully!"),p(!1)},ne=U=>{j(U),c(!0)},K=({status:U})=>{let $={backgroundColor:"#FEF3C7",color:"#D97706"},te="#D97706",P="border-[#FFA500] border";return U==="Completed"?($={backgroundColor:"#D1FAE5",color:"#065F46"},te="#10B981",P="border-[#008000] border"):U==="Rejected"&&($={backgroundColor:"#FEE2E2",color:"#DC2626"},te="#DC2626",P="border-[#FF0000] border"),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] justify-center ${P}`,style:$,children:[n.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:te}}),U]})};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(DC,{isOpen:d,onClose:()=>h(!1),user:{id:i||"",name:M.name||M.first_name||`User ${i}`,email:M.email||"",phone:M.phone||"",bvn:M.bvn||"",date:M.created_at||""},onSendToPartner:()=>{p(!0),h(!1)}}),f&&n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start min-h-screen p-6",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>p(!1)}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>p(!1),children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partnerss"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"w-full border border-gray-300 rounded-md p-4 pr-10 appearance-none text-base",value:x,onChange:U=>w(U.target.value),children:[n.jsx("option",{value:"",disabled:!0,children:"Select Partnerss"}),n.jsx("option",{value:"partner1",children:"Sterling Banssk"}),n.jsx("option",{value:"partner2",children:"Access Bank"}),n.jsx("option",{value:"partner3",children:"First Bank"}),n.jsx("option",{value:"partner4",children:"GTBank"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsx("button",{className:"w-full bg-[#2946A9] text-white py-4 rounded-full font-semibold text-base hover:bg-[#243c8c] transition-colors",onClick:z,children:"Save"})]})]}),n.jsx(iN,{isOpen:l,onClose:()=>c(!1),loanId:y}),n.jsx(Qn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:M.name||M.first_name||`User ${i}`}),n.jsxs("div",{className:"flex gap-8 border-b border-gray-200 mb-6",children:[n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}`),children:"Activity"}),n.jsxs("button",{className:"pb-2 cursor-pointer text-black font-semibold relative",children:["Loans",n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]}),n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}/transactions`),children:"Transactions"}),n.jsx("button",{className:"pb-2 cursor-pointer text-[#00000080]",onClick:()=>e(`/user-activity/${i}/orders`),children:"Orders"})]}),n.jsxs("div",{className:"flex flex-wrap gap-6 mb-8",children:[n.jsx("div",{className:"bg-gradient-to-br from-[#2946A9] to-[#f9d423] rounded-2xl shadow-lg p-0 flex items-center justify-center min-w-[350px] min-h-[250px] border-2 border-blue-200",style:{boxShadow:"0 4px 24px 0 rgba(41,70,169,0.10)"},children:n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("div",{className:"relative w-[400px] h-[320px] flex items-center justify-center",children:n.jsxs("svg",{width:"340",height:"300",viewBox:"0 0 340 300",style:{zIndex:1},children:[n.jsxs("defs",{children:[n.jsx("filter",{id:"gauge-shadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:n.jsx("feDropShadow",{dx:"0",dy:"8",stdDeviation:"8","flood-color":"#bbb"})}),n.jsxs("linearGradient",{id:"gauge-arc",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#e53e3e"}),n.jsx("stop",{offset:"100%",stopColor:"#38a169"})]})]}),n.jsx("ellipse",{cx:"170",cy:"170",rx:"130",ry:"130",fill:"#fff",filter:"url(#gauge-shadow)"}),n.jsx("path",{d:"M60,170 A110,110 0 1,1 280,170",fill:"none",stroke:"url(#gauge-arc)",strokeWidth:"10",strokeLinecap:"round"}),Array.from({length:31}).map((U,$)=>{const te=Math.PI*(.75+$*1.5/30),P=170+85*Math.cos(te),O=170+85*Math.sin(te),H=170+110*Math.cos(te),G=170+110*Math.sin(te);return n.jsx("line",{x1:P,y1:O,x2:H,y2:G,stroke:"#38a169",strokeWidth:"2"},$)}),n.jsx("polygon",{points:"170,170 65,135 170,160",fill:"#666"}),n.jsx("circle",{cx:"170",cy:"170",r:"13",fill:"#444"}),n.jsx("text",{x:"170",y:"210",fontSize:"15",fontWeight:"500",fill:"#888",textAnchor:"middle",children:"My Credit Score"}),n.jsx("text",{x:"170",y:"250",fontSize:"40",fontWeight:"bold",fill:"#222",textAnchor:"middle",children:"0%"})]})})})}),n.jsxs("div",{className:"flex flex-col gap-6 flex-1 min-w-[250px]",children:[n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[n.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2] mb-8",children:"Loan Wallet"}),n.jsx("div",{className:"text-3xl font-bold mb-6",children:B.loan_balance!==void 0?`${parseInt(B.loan_balance).toLocaleString()}`:"NO"}),n.jsxs("div",{className:"bg-[#1D3073] border border-[#4361C9] rounded-xl p-4",children:[n.jsx("div",{className:"text-[8px] text-[#FFFFFF80]",children:"Loan Eligible for"}),n.jsxs("div",{className:"text-xl font-semibold mt-1",children:[B.loan_balance!==void 0&&parseInt(B.loan_balance)>0?`N${parseInt(B.loan_balance).toLocaleString()}`:"No amount",n.jsx("span",{className:"text-lg font-normal",children:B.loan_balance!==void 0&&parseInt(B.loan_balance)>0?"/12months":""})]})]})]}),n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl shadow-lg flex-1 p-6 flex flex-col justify-between min-w-[200px]",children:[n.jsx("div",{className:"text-[12px] font-semibold text-[#FFFFFFB2]",children:"General Wallet"}),n.jsx("div",{className:"text-3xl font-bold mb-2",children:B.shop_balance!==void 0&&B.shop_balance!==null?`${parseInt(B.shop_balance).toLocaleString()}`:"N/A"}),n.jsx("button",{className:"bg-white text-[#000000] cursor-pointer text-sm rounded-full px-8 py-4 font-semibold mt-2",onClick:()=>h(!0),children:"KYC Profile"})]})]}),E.length>0&&E.some(U=>U.loan_status?.disbursement_status==="active")?n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-red-200",style:{borderColor:"#FFCDD2",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(255,205,210,0.20)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"Next Repayment"}),n.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No overdue payments"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:"00"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Days"})]}),n.jsxs("div",{className:"flex flex-col mx-1 text-gray-600",children:[n.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full mb-1"}),n.jsx("div",{className:"h-1 w-1 bg-gray-600 rounded-full"})]}),n.jsxs("div",{className:"bg-gray-100 rounded-xl px-4 py-2 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:"00"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Hours"})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n.jsx("div",{className:"text-blue-900 text-2xl font-bold",children:"N/A"}),n.jsx("button",{className:"bg-gray-400 text-white text-xs px-6 py-2 rounded-full cursor-not-allowed",disabled:!0,children:"No Data"})]})]})}):n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200",style:{borderColor:"#E5E7EB",borderWidth:"1px",boxShadow:"0px 4px 16px 0px rgba(0,0,0,0.05)"},children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Next Repayment"}),n.jsx("div",{className:"text-gray-500 text-base font-medium",children:"No active loans found"})]})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-2",children:n.jsx("h2",{className:"text-xl text-[#000000] font-bold mb-5",children:"Loans Summary"})}),C?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading loans..."}):_?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loans."}):E.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No loans found for this user."}):n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 w-12 text-center",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("th",{className:"p-4 text-center",children:"Name"}),n.jsx("th",{className:"p-4 text-center",children:"Amount"}),n.jsx("th",{className:"p-4 text-center",children:"Date"}),n.jsx("th",{className:"p-4 text-center",children:"Send Status"}),n.jsx("th",{className:"p-4 text-center",children:"Approval"}),n.jsx("th",{className:"p-4 text-center",children:"Action"})]})}),n.jsx("tbody",{children:E.map((U,$)=>n.jsxs("tr",{className:`${$%2===0?"bg-[#F8F8F8]":"bg-white"} hover:bg-gray-50`,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{className:"cursor-pointer",type:"checkbox"})}),n.jsx("td",{className:"p-4 text-center",children:U.user_name||U.beneficiary_name||"-"}),n.jsxs("td",{className:"p-4 text-center",children:["",U.loan_amount.toLocaleString()]}),n.jsx("td",{className:"p-4 text-center",children:U.created_at?new Date(U.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"-"}),n.jsx("td",{className:"p-4 text-center",children:n.jsx(K,{status:U.loan_status?.send_status?U.loan_status.send_status.charAt(0).toUpperCase()+U.loan_status.send_status.slice(1):"Pending"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx(K,{status:U.loan_status?.approval_status?U.loan_status.approval_status.charAt(0).toUpperCase()+U.loan_status.approval_status.slice(1):"Pending"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("button",{className:"bg-[#273E8E] text-white px-4 py-3 rounded-full text-sm cursor-pointer",onClick:()=>ne(String(U.loan_application_id)),children:"View Details"})})]},U.loan_application_id))})]})})]})]})]})};function FE(){const{id:t}=yh();return console.log("The Id coming",t),t?n.jsx("div",{children:n.jsx(ME,{userId:t})}):n.jsx("div",{className:"p-8 text-xl",children:"User ID not found in URL"})}const OE=({totalTransactions:t,totalDeposits:e,totalWithdrawals:s})=>{const a=i=>`${i.toLocaleString()}`;return n.jsxs("div",{className:"summary-cards",children:[n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon transactions-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Total Transactions"}),n.jsx("span",{className:"card-value",children:t})]})]}),n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon deposits-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Deposits",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Deposits"}),n.jsx("span",{className:"card-value",children:a(e)})]})]}),n.jsxs("div",{className:"summary-card",children:[n.jsx("div",{className:"card-icon withdrawals-icon",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Withdrawals",width:"24",height:"24"})}),n.jsxs("div",{className:"card-content",children:[n.jsx("span",{className:"card-label",children:"Withdrawals"}),n.jsx("span",{className:"card-value",children:a(s)})]})]})]})},lN=({isOpen:t,transaction:e,onClose:s})=>{if(console.log("TransactionDetail props:",{isOpen:t,transaction:e}),!t||!e)return console.log("Modal not showing - isOpen:",t,"transaction:",e),null;const a=e.price?`${Number(e.price).toLocaleString()}`:e.amount?`${Number(e.amount).toLocaleString()}`:"-",i=e.payment_method?e.payment_method.charAt(0).toUpperCase()+e.payment_method.slice(1).replace(/_/g," "):e.method?e.method.charAt(0).toUpperCase()+e.method.slice(1):"-",l=e.tx_id||e.reference||e.id||"-",c=e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"-";let d="-",h="-";if(e.date&&e.time)d=e.date,h=e.time;else if(e.transacted_at){const x=new Date(e.transacted_at);d=x.toLocaleDateString(),h=x.toLocaleTimeString()}const f=e.title||e.name||"-",p=e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"-";return n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Transaction Details"}),n.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-500":c.toLowerCase()==="pending"?"bg-yellow-500":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-500":"bg-gray-500"}`,children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"Transaction Successful":c.toLowerCase()==="pending"?"Pending Transaction":"Transaction"}),n.jsx("p",{className:"text-sm text-gray-600",children:f})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Title"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:f})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),n.jsx("span",{className:"text-sm text-gray-700",children:p})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),n.jsx("span",{className:"text-sm text-gray-700",children:i})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Transaction ID"}),n.jsx("span",{className:"text-sm text-gray-700 font-mono",children:l})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${c.toLowerCase()==="paid"||c.toLowerCase()==="completed"?"bg-green-100 text-green-800":c.toLowerCase()==="pending"?"bg-yellow-100 text-yellow-800":c.toLowerCase()==="rejected"||c.toLowerCase()==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c})]}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Date & Time"}),n.jsxs("span",{className:"text-sm text-gray-700",children:[d," at ",h]})]})]})]})})},TE=async(t,e)=>await lt(ot.ADMIN.TransactionShow(t),"GET",void 0,e),PE=async t=>await lt(ot.ADMIN.AllTransaction,"GET",void 0,t),RE=()=>{const{id:t}=yh(),e=ya(),[s,a]=L.useState("Transactions"),[i,l]=L.useState("All"),[c,d]=L.useState(!1),[h,f]=L.useState(""),[p,x]=L.useState(null),[w,y]=L.useState(!1),[j,A]=L.useState(null),[C,_]=L.useState(1),[E]=L.useState(15),M=L.useRef(null),B=ts.get("token"),{data:z,isLoading:ne,isError:K}=Xt({queryKey:["single-transaction",t],queryFn:()=>TE(t||"",B||""),enabled:!!t&&!!B}),U=z?.user_info||{},$=z?.summary||{},te=z?.transactions||[];L.useEffect(()=>{function F(q){const I=q.target,se=I.closest("[data-dropdown-button]"),fe=I.closest("[data-dropdown-menu]");p&&!se&&!fe&&x(null),M.current&&!M.current.contains(q.target)&&d(!1)}return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[M,p]),L.useEffect(()=>{_(1)},[h,i]);const P=U.name?U:null,O=$.total_transactions!==void 0?$:null,H=te;if(ne)return n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(zs,{message:"Loading user..."})})});if(!U.name)return n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User not found"}),n.jsx("button",{onClick:()=>e("/user-mgt"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to User Management"})]})});const G=F=>{switch(a(F),F){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":break;case"Orders":e(`/user-activity/${t}/orders`);break}},re=H.filter(F=>{if(h){const q=h.toLowerCase(),I=F.name?.toLowerCase()||"",se=(F.tx_id||F.txId||"").toLowerCase(),fe=F.title?.toLowerCase()||"";if(!I.includes(q)&&!se.includes(q)&&!fe.includes(q))return!1}return i==="All"?!0:i==="Deposit"?F.type==="deposit"||F.type==="Deposit":i==="Withdrawals"?F.type?.toLowerCase().includes("withdrawal"):i==="Status"?F.status==="Pending"||F.status==="pending":i==="Completed"?F.status==="Completed"||F.status==="paid":i==="Pending"?F.status==="Pending"||F.status==="pending":i==="Failed"?F.status==="Failed"||F.status==="failed":!0}),ee=Math.ceil(re.length/E),ie=(C-1)*E,le=ie+E,ce=re.slice(ie,le),Y=F=>{x(p===F?null:F)},de=(F,q)=>{A(q),y(!0),x(null)},T=()=>{y(!1),A(null)};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"",children:n.jsx("h1",{className:"text-2xl font-bold mb-3",children:P?.name})}),n.jsx("div",{className:"flex border-b border-gray-200 mb-6",children:["Activity","Loans","Transactions","Orders"].map(F=>n.jsx("button",{className:`px-4 py-3 text-md font-medium border-b-2 transition-colors cursor-pointer ${s===F?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,onClick:()=>G(F),children:F},F))}),ne?n.jsx(zs,{message:"Loading summary..."}):K?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load summary."}):n.jsx(OE,{totalTransactions:O?.total_transactions||0,totalDeposits:O?.total_deposits||0,totalWithdrawals:O?.total_withdrawals||0}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"border border-[#CDCDCD] bg-white p-2 rounded-full flex items-center",children:[n.jsx("button",{className:`px-5 py-2.5 rounded-full text-sm transition cursor-pointer ${i==="All"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${i==="Deposit"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("Deposit"),children:"Deposit"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm transition cursor-pointer ${i==="Withdrawals"?"bg-[#273E8E] text-white":"bg-white text-[#000000B2]"}`,onClick:()=>l("Withdrawals"),children:"Withdrawals"})]}),n.jsx("div",{className:"relative inline-block ml-2 mt-1",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative",ref:M,children:[n.jsxs("button",{className:"px-6 py-3 border border-[#00000030] rounded-lg text-sm bg-white cursor-pointer pr-10 min-w-[140px] focus:outline-none focus:ring-1 focus:ring-blue-500 flex items-center justify-between",onClick:()=>d(!c),children:[n.jsx("span",{className:"text-[#333]",children:i==="Status"?"Status":i}),n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-500 absolute right-3",children:n.jsx("path",{d:"M3.5 5.25L7 8.75L10.5 5.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c&&n.jsxs("div",{className:"absolute left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-md z-10",children:[n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("All"),d(!1)},children:"Status"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("Completed"),d(!1)},children:"Successful"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333] border-b border-gray-100",onClick:()=>{l("Pending"),d(!1)},children:"Pending"}),n.jsx("div",{className:"py-3 px-4 hover:bg-gray-100 cursor-pointer text-[#333]",onClick:()=>{l("Failed"),d(!1)},children:"Failed"})]})]})})})]}),n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative flex items-center w-full",children:[n.jsx("svg",{className:"absolute left-4 h-[18px] w-[18px] text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.7,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:F=>f(F.target.value)})]})})]}),ne?n.jsx(zs,{message:"Loading transactions..."}):K?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):re.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-xs uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4"})}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Tx ID"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-black uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{children:ce.map((F,q)=>n.jsxs("tr",{className:`${q%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 w-4 h-4 "})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-black text-center",children:F.name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center font-medium",children:["",F.price?Number(F.price).toLocaleString():F.amount?.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:[F.date,F.time?`/${F.time}`:""]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.payment_method?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:F.payment_method}),n.jsx("div",{className:"text-xs text-gray-500",children:F.title||F.type})]}):n.jsx("div",{className:"font-medium",children:F.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:F.tx_id||F.txId}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${F.status==="Completed"||F.status==="paid"?"border border-[#008000]":F.status==="Pending"||F.status==="pending"?"border border-[#FFA500]":F.status==="Rejected"||F.status==="failed"?"border border-[#FF0000]":"border border-[#6B7280]"}`,style:F.status==="Completed"||F.status==="paid"?{backgroundColor:"#00800033",color:"#008000"}:F.status==="Pending"||F.status==="pending"?{backgroundColor:"#FFA50033",color:"#FF8C00"}:F.status==="Rejected"||F.status==="failed"?{backgroundColor:"#FF000033",color:"#FF0000"}:{backgroundColor:"#6B728033",color:"#6B7280"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:F.status==="Completed"||F.status==="paid"?"#008000":F.status==="Pending"||F.status==="pending"?"#FF8C00":F.status==="Rejected"||F.status==="failed"?"#FF0000":"#6B7280"}}),F.status==="paid"?"Completed":F.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("div",{className:"flex items-center space-x-2 relative",children:[n.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>Y(String(F.id)),children:n.jsx("img",{src:ht.dots,alt:""})}),p===String(F.id)&&n.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:n.jsx("div",{className:"py-2",children:n.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:I=>{I.preventDefault(),I.stopPropagation(),de("View Transaction details",F)},children:"View Transaction details"})})})]})})]},F.id))})]}),ee>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(le,re.length)," of ",re.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(F=>Math.max(F-1,1)),disabled:C===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ee)},(F,q)=>{let I;return ee<=5||C<=3?I=q+1:C>=ee-2?I=ee-4+q:I=C-2+q,n.jsx("button",{onClick:()=>_(I),className:`px-3 py-2 text-sm font-medium rounded-md border ${C===I?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:I},I)})}),n.jsx("button",{onClick:()=>_(F=>Math.min(F+1,ee)),disabled:C===ee,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===ee?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]}),w&&j&&n.jsx(lN,{isOpen:w,transaction:j,onClose:T})]})},BE=async t=>await lt(ot.ADMIN.OrdersList,"GET",void 0,t),UE=async(t,e)=>await lt(ot.ADMIN.OrderShowUser(t),"GET",void 0,e),IE=async(t,e)=>await lt(ot.ADMIN.OrderShow(t),"GET",void 0,e),oN=({isOpen:t,order:e,onClose:s})=>{const a=ts.get("token"),[i,l]=L.useState(!0),[c,d]=L.useState(!1);L.useEffect(()=>{e?.id&&(l(!0),d(!1))},[e?.id]);const{data:h,isLoading:f,isError:p}=Xt({queryKey:["single-order-detail",e?.id],queryFn:()=>IE(e?.id||0,a||""),enabled:!!e?.id&&t});if(!t||!e)return null;if(f)return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:n.jsx("div",{className:"py-12 text-center text-gray-500",children:"Loading order details..."})})});if(p||!h?.data)return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl flex items-center justify-center",children:n.jsx("div",{className:"py-12 text-center text-red-500",children:"Failed to load order details."})})});const x=h.data,w=x.items&&x.items.length>0?x.items[0].item?.title:"-",y=x.items&&x.items.length>0?x.items[0].item?.featured_image:"/assets/images/newman1.png",j=()=>{l(!1),d(!1)},A=()=>{l(!1),d(!0)},C=x.user_info?.name||x.include_user_info?.first_name||"-",_=x.user_info?.phone||x.include_user_info?.phone||"-",E=x.delivery_address?.address||"-",M=x.delivery_address?.phone_number||"-",B=x.order_status||"-",z=x.created_at||"-",ne=x.total_price?`${Number(x.total_price).toLocaleString()}`:"-",K=x.payment_method||"-",U=x.installation||null,te=nt.replace(/\/api$/,"");return n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-end justify-end z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-white sticky top-0 z-10",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Details"}),n.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[n.jsxs("div",{className:"text-center p-5 border border-[#00000080] bg-white rounded-2xl",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-3 ${B==="delivered"?"bg-green-100":B==="pending"?"bg-orange-100":"bg-blue-100"}`,children:B==="delivered"?n.jsx("img",{src:ht.tick,alt:""}):B==="pending"?n.jsx("svg",{className:"w-8 h-8 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:B==="delivered"?"Order Delivered":B==="pending"?"Order Pending":"Order Placed"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:B==="delivered"?`Order has been successfully delivered on ${z}`:B==="pending"?"Order is being processed.":`Order has been placed successfully on ${z}`}),n.jsxs("div",{className:`text-xs px-3 py-1 rounded-full inline-block ${B==="delivered"?"bg-green-50 text-green-700":B==="pending"?"bg-orange-50 text-orange-700":"bg-blue-50 text-blue-700"}`,children:["Order ID: ",x.order_number||x.id||"-"]})]}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Product Details"}),n.jsxs("div",{className:"flex items-center space-x-3 p-1.5 bg-white border border-[#00000080] rounded-2xl",children:[n.jsxs("div",{className:"w-19 h-19 bg-[#F3F3F3] rounded-2xl flex items-center justify-center flex-shrink-0 relative",children:[i&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),c?n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 rounded-lg",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):n.jsx("img",{src:`${te}${y}`,alt:w,className:`w-full h-full object-cover rounded-lg ${i?"opacity-0":"opacity-100"} transition-opacity duration-300`,onLoad:j,onError:A})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:w}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:ne}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Order Date: ",z]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Customer Details"}),n.jsx("div",{className:"p-5 border border-[#00000080] rounded-2xl",children:n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsx("div",{children:n.jsx("span",{className:"text-gray-600",children:"Customer Name"})}),n.jsx("p",{className:"text-gray-900 font-medium",children:C}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("span",{className:"text-gray-600",children:"Contact"}),n.jsx("span",{className:"text-gray-900",children:_})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Status"}),n.jsx("span",{className:`font-medium ${B==="delivered"?"text-green-600":B==="pending"?"text-orange-600":"text-blue-600"}`,children:B})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Delivery Details"}),n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080]",children:n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsx("div",{className:"border-b border-[#CDCDCD] p-3",children:n.jsx("span",{className:"text-gray-600",children:"Delivery Address"})}),n.jsxs("div",{className:"p-3 pr-5 pl-5",children:[n.jsxs("div",{className:"p-5 bg-[#EDEDED] rounded-2xl",children:[n.jsx("p",{className:"text-[#00000080] mb-1 text-[10px]",children:"Address"}),n.jsx("p",{className:"text-black text-[13px]",children:E}),n.jsx("p",{className:"text-[#00000080] mb-1 mt-1 text-[10px]",children:"Phone Number"}),n.jsx("p",{className:"text-black text-[13px]",children:M})]}),n.jsxs("div",{className:"flex justify-between mt-5 mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),n.jsx("span",{className:"text-black text-[14px]",children:U?.installation_date||"-"})]}),n.jsxs("div",{className:"flex justify-between p-1",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:U?.installation_fee?`${Number(U.installation_fee).toLocaleString()}`:"-"})]})]})]})})]}),U&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Installation"}),n.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-3",children:[n.jsx("div",{className:"border-2 border-dashed border-[#273E8E] rounded-lg p-3 bg-[#273E8E1A] mb-5",children:n.jsxs("p",{className:"text-xs text-[#273E8E] text-[14px]",children:["Installation will be carried out by ",U.technician_name||"our skilled technician",". You can choose not to use our installers."]})}),n.jsxs("div",{className:"flex justify-between text-xs mb-3 border-b border-[#CDCDCD] p-1 pb-3",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Estimated time"}),n.jsx("span",{className:"text-black text-[14px]",children:U.installation_date||"-"})]}),n.jsxs("div",{className:"flex justify-between text-xs p-1",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Price"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:U.installation_fee?`${Number(U.installation_fee).toLocaleString()}`:"-"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-xs rounded-2xl p-3 border border-[#00000080]",children:[n.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Payment method"}),n.jsx("span",{className:"text-black text-[14px]",children:K})]}),n.jsxs("div",{className:"flex justify-between p-1 border-b border-[#CDCDCD]",children:[n.jsx("span",{className:"text-[#00000080] text-[14px]",children:"Amount"}),n.jsx("span",{className:"text-[#273E8E] text-[14px]",children:ne})]})]})]})]})]})]})})},qE=()=>{const{id:t}=yh(),e=ya(),[s,a]=L.useState("Orders"),[i,l]=L.useState("All"),[c,d]=L.useState(null),[h,f]=L.useState(""),p=L.useRef(null),[x,w]=L.useState(1),[y]=L.useState(10),j=ts.get("token"),A=["Activity","Loans","Transactions","Orders"],{data:C,isLoading:_,isError:E}=Xt({queryKey:["single-order-user",t],queryFn:()=>UE(t||"",j||""),enabled:!!t&&!!j}),M=C?.summary||{},B=C?.orders||[],z=O=>{switch(a(O),O){case"Activity":e(`/user-activity/${t}`);break;case"Loans":e(`/user-activity/${t}/loans`);break;case"Transactions":e(`/user-activity/${t}/transactions`);break}},ne=()=>{console.log("Notification clicked")},K=B.filter(O=>{if(h){const H=h.toLowerCase(),G=(O.order_number||"").toLowerCase(),re=(O.total_price||"").toLowerCase(),ee=(O.created_at||"").toLowerCase(),ie=(O.order_status||"").toLowerCase();if(!G.includes(H)&&!re.includes(H)&&!ee.includes(H)&&!ie.includes(H))return!1}return i==="All"?!0:i==="Status"?O.order_status==="pending":i==="Ordered"?O.order_status==="ordered":i==="Pending"?O.order_status==="pending":i==="Delivered"?O.order_status==="delivered":!0}),U=Math.ceil(K.length/y),$=(x-1)*y,te=$+y,P=K.slice($,te);return _r.useEffect(()=>{w(1)},[i,h]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:ne}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Orders"}),n.jsx("div",{className:"flex space-x-8 border-b border-gray-200",children:A.map(O=>n.jsx("button",{onClick:()=>z(O),className:`py-2 px-1 border-b-2 font-medium cursor-pointer text-md ${s===O?"text-black border-b-4 border-[#273E8E]":"text-[#00000080] border-transparent "}`,children:O},O))})]}),_?n.jsx(zs,{message:"Loading orders summary..."}):E?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders summary."}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:M?.total_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Pending Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:M?.pending_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Successful Orders",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",style:{color:"#0000FF"},children:"Successful Orders"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:M?.completed_orders||0})]})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Orders"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex bg-white border border-[#CDCDCD] rounded-full p-2",children:["All","Loans","Direct"].map(O=>n.jsx("button",{onClick:()=>l(O),className:`px-5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer  ${i===O?"bg-[#273E8E] text-white":"text-[#000000B2] "}`,children:O},O))}),n.jsx("div",{className:"relative",ref:p,children:n.jsxs("div",{className:"inline-block",children:[n.jsxs("button",{className:"inline-flex items-center px-5 py-2.5 text-sm font-medium text-black bg-white border border-[#DEDEDE] rounded-lg focus:outline-none",onClick:()=>{document.getElementById("statusDropdown")?.classList.toggle("hidden")},style:{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},children:[n.jsx("span",{children:"Status"}),n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx("div",{id:"statusDropdown",className:"absolute z-10 hidden w-[180px] mt-1 bg-white rounded-lg shadow-lg overflow-hidden",style:{boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)"},children:n.jsxs("div",{className:"py-2",children:[n.jsx("button",{onClick:()=>{l("Ordered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Order Placed"}),n.jsx("button",{onClick:()=>{l("Pending"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Pending"}),n.jsx("button",{onClick:()=>{l("Delivered"),document.getElementById("statusDropdown")?.classList.add("hidden")},className:"block w-full px-6 py-3 text-left text-base font-normal hover:bg-gray-50",children:"Delivered"})]})})]})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:h,onChange:O=>f(O.target.value)}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),_?n.jsx(zs,{message:"Loading orders..."}):E?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load orders."}):K.length===0?n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"py-16 text-center",children:[n.jsx("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-500 mb-6",children:B.length===0?"This user hasn't placed any orders yet.":"No orders match your current filters."}),B.length===0&&n.jsx("button",{onClick:()=>e("/user-mgt"),className:"px-6 py-2 bg-[#273E8E] text-white rounded-full hover:bg-blue-700 transition-colors",children:"Back to User Management"})]})}):n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Order ID"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:P.map((O,H)=>n.jsxs("tr",{className:`${H%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:O.order_number}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:O.items&&O.items.length>0?O.items[0].item?.title:"-"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",O.total_price?Number(O.total_price).toLocaleString():"-"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:O.created_at}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:O.order_status==="ordered"?{backgroundColor:"#E9F0FF",color:"#273E8E"}:O.order_status==="pending"?{backgroundColor:"#FFF3E0",color:"#FF8C00"}:O.order_status==="delivered"?{backgroundColor:"#EEFBEE",color:"#008000"}:O.order_status==="rejected"?{backgroundColor:"#FFEAEA",color:"#FF0000"}:{backgroundColor:"#F3F4F6",color:"#6B7280"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:O.order_status==="ordered"?"#273E8E":O.order_status==="pending"?"#FF8C00":O.order_status==="delivered"?"#008000":O.order_status==="rejected"?"#FF0000":"#6B7280"}}),O.order_status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-sm font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>{const G={id:O.id,order_number:O.order_number,order_status:O.order_status,total_price:O.total_price,created_at:O.created_at,items:O.items,delivery_address:{address:"N/A",phone_number:"N/A"},user_info:{name:"User",phone:"N/A"}};d(G)},children:"View Details"})})]},O.id))})]})})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",$+1," to ",Math.min(te,K.length)," of ",K.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(Math.max(1,x-1)),disabled:x===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),Array.from({length:Math.min(5,U)},(O,H)=>{let G;return U<=5||x<=3?G=H+1:x>=U-2?G=U-4+H:G=x-2+H,n.jsx("button",{onClick:()=>w(G),className:`px-3 py-2 text-sm font-medium rounded-md border ${x===G?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:G},G)}),n.jsx("button",{onClick:()=>w(Math.min(U,x+1)),disabled:x===U,className:`px-3 py-2 text-sm font-medium rounded-md border ${x===U?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),n.jsx(oN,{isOpen:!!c,order:c,onClose:()=>d(null)})]})},zE=[{id:1,name:"Adewale Faizah",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:2,name:"John Adam",creditScore:45,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Poor"},{id:3,name:"Chris Banner",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:4,name:"Adam Waa",creditScore:50,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Fair"},{id:5,name:"Anita Shawn",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:6,name:"Faiz Kalil",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"},{id:7,name:"Wande Moca",creditScore:60,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Good"},{id:8,name:"Zainab Zee",creditScore:95,loanLimit:4e6,date:"05-07-25/07:22AM",status:"Excellent"}],xv=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-35 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},HE=()=>{const[t,e]=L.useState("Sort by"),[s,a]=L.useState("Filter"),[i,l]=L.useState(""),[c,d]=L.useState(!1),[h,f]=L.useState(null),p=()=>{console.log("Notification clicked")},x=C=>{f(C),d(!0)},w=()=>{d(!1),f(null)},y=C=>C>=90?"text-green-600 font-bold":C>=70?"text-blue-600 font-bold":C>=50?"text-yellow-600 font-bold":"text-red-600 font-bold",j=C=>C>=90?"bg-green-50":C>=70?"bg-blue-50":C>=50?"bg-yellow-50":"bg-red-50",A=zE.filter(C=>{const _=C.name.toLowerCase().includes(i.toLowerCase());let E=!0;return s==="Excellent (90+)"?E=C.creditScore>=90:s==="Good (70-89)"?E=C.creditScore>=70&&C.creditScore<90:s==="Fair (50-69)"?E=C.creditScore>=50&&C.creditScore<70:s==="Poor (Below 50)"&&(E=C.creditScore<50),_&&E});return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:p}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Credit Score"}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(xv,{options:["Sort by","Name","Credit Score","Date"],selected:t,onSelect:e}),n.jsx(xv,{options:["Filter","Excellent (90+)","Good (70-89)","Fair (50-69)","Poor (Below 50)"],selected:s||"Filter",onSelect:a})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:C=>l(C.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Credit Score"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Loan Limit"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:A.map((C,_)=>n.jsxs("tr",{className:`${_%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded cursor-pointer"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:C.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${j(C.creditScore)}`,children:n.jsxs("span",{className:y(C.creditScore),children:[C.creditScore,"%"]})})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:["",C.loanLimit.toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:C.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>x(C),children:"View Details"})})]},C.id))})]})})})]}),c&&h&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 flex items-start justify-end z-50 p-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center px-8 py-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Credit Check - ",h.name]}),n.jsx("button",{onClick:w,className:"w-10 h-10 flex items-center justify-center rounded-full cursor-pointer transition",children:n.jsx("img",{src:ht.cross,alt:"Close",className:"w-6 h-6"})})]}),n.jsxs("div",{className:"px-8 py-6 overflow-y-auto max-h-[calc(95vh-80px)]",children:[n.jsx("div",{className:"rounded-xl mb-10 p-6",style:{background:"linear-gradient(135deg, #273E8E 0%, #FFA500 100%)",boxShadow:"0 4px 18px rgba(0, 0, 0, 0.15)"},children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"relative w-52 h-52 bg-white rounded-full shadow-xl flex items-center justify-center",children:n.jsxs("div",{className:"relative w-44 h-44",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 200 200",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"arcGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#FF0000"}),n.jsx("stop",{offset:"100%",stopColor:"#008000"})]})}),Array.from({length:72},(C,_)=>{const E=_*360/72,M=_%18===0,B=M?10:6,z=M?1.5:1,ne=75,K=100+(ne-B)*Math.cos(E*Math.PI/180),U=100+(ne-B)*Math.sin(E*Math.PI/180),$=100+ne*Math.cos(E*Math.PI/180),te=100+ne*Math.sin(E*Math.PI/180);return n.jsx("line",{x1:K,y1:U,x2:$,y2:te,stroke:"#008000",strokeWidth:z},_)}),n.jsx("path",{d:"M 10 100 A 90 90 0 0 1 190 100",stroke:"url(#arcGradient)",strokeWidth:"16",fill:"none",strokeLinecap:"round"}),n.jsxs("g",{transform:"translate(100,100)",children:[n.jsx("polygon",{points:"0,-70 -3,-5 3,-5",fill:"#374151",transform:`rotate(${h.creditScore/100*180-90})`}),n.jsx("circle",{cx:"0",cy:"0",r:"6",fill:"#374151"}),n.jsx("circle",{cx:"0",cy:"0",r:"2.5",fill:"white"})]})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-xs text-gray-500 mb-1 mt-10",children:"My Credit Score"}),n.jsxs("span",{className:"text-4xl font-bold text-gray-900 leading-none",children:[h.creditScore,"%"]})]})]})})})}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),n.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:"002334593934"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),n.jsxs("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border flex justify-between items-center text-sm text-gray-900 font-medium",children:["Access Bank",n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),n.jsx("div",{className:"bg-gray-50 px-5 py-3 rounded-lg border text-sm text-gray-900 font-medium",children:h.name})]})]})]})]})})]})},gv=t=>{if(!t||typeof t!="string")return{backgroundColor:"#6B728033",color:"#6B7280"};switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":case"approved":case"active":return{backgroundColor:"#00800033",color:"#008000"};case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};case"delivered":return{backgroundColor:"#00800033",color:"#008000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},$E=({userId:t,isOpen:e,onClose:s,userName:a,userEmail:i="",userPhone:l="",userBvn:c="",onSendToPartner:d,loanApplicationStatus:h})=>{const[f,p]=L.useState("personal"),[x,w]=L.useState("document");console.log("The User ID:",t);const y=ts.get("token"),{data:j,isLoading:A,isError:C}=Xt({queryKey:["user-kyc-detail",t],queryFn:()=>mw(t,y||""),enabled:e&&!!t&&!!y});console.log("KYC API Data:",j),console.log("The User ID:",t);const _=G=>{const re=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return re[(G-1)%re.length]},E=G=>{const re=["Spouse","Sibling","Parent","Child","Friend","Cousin"];return re[(G-1)%re.length]},M=G=>{const re=["300,000","500,000","750,000","400,000","600,000","350,000"];return re[(G-1)%re.length]},B=G=>{const re=["6 months","12 months","18 months","9 months","15 months","24 months"];return re[(G-1)%re.length]},[z,ne]=L.useState({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:i,phone:l,bvn:c}),[K,U]=L.useState({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:a}),[$,te]=L.useState({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:E(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:M(t),repaymentDuration:B(t)});L.useEffect(()=>{if(p("personal"),w("document"),j?.data){const G=j.data.user,re=j.data.loan_application;ne({firstName:G?.first_name||a?.split(" ")[0]||"",surname:G?.sur_name||a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:G?.email||i,phone:G?.phone||l,bvn:G?.bvn||c}),U({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:G?`${G.first_name} ${G.sur_name}`:a}),te({selectedDocument:re?.title_document||"National ID",beneficiaryName:re?.beneficiary_name||`${a} Next of Kin`,beneficiaryRelationship:re?.beneficiary_relationship||E(t),beneficiaryEmail:re?.beneficiary_email||`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:re?.beneficiary_phone||`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:re?.loan_amount?`${re.loan_amount.toLocaleString()}`:M(t),repaymentDuration:re?.repayment_duration?`${re.repayment_duration} months`:B(t)})}else ne({firstName:a?.split(" ")[0]||"",surname:a?.split(" ")[1]||a?.split(" ").slice(1).join(" ")||"",email:i,phone:l,bvn:c}),U({accountNumber:`${t.toString().padStart(10,"0")}`,bankName:_(t),accountName:a}),te({selectedDocument:"National ID",beneficiaryName:`${a} Next of Kin`,beneficiaryRelationship:E(t),beneficiaryEmail:`${a?.split(" ")[0]?.toLowerCase()}.kin@example.com`,beneficiaryPhone:`+234 90${t.toString().padStart(2,"0")} 123 456${t}`,loanAmount:M(t),repaymentDuration:B(t)})},[t,a,i,l,c,j]);const P=()=>{const G=`user_personal_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify(z)),alert("Personal details saved successfully!")},O=()=>{const G=`user_credit_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify(K)),alert("Credit check details saved successfully!")},H=()=>{const G=`user_kyc_${a?.replace(/\s+/g,"_").toLowerCase()}`;localStorage.setItem(G,JSON.stringify($)),alert("KYC details saved successfully!")};return e?(console.log("The Loan Application Status:",h),n.jsx(n.Fragment,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center bg-black/30 backdrop-brightness-50 p-4",children:[n.jsx("div",{className:"absolute inset-0",onClick:s}),n.jsxs("div",{className:"relative bg-white w-full max-w-[675px] h-[100vh] rounded-xl shadow-lg overflow-y-auto z-10",children:[A&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(zs,{})}),C&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-red-500",children:[n.jsx("p",{className:"text-lg font-medium",children:"Failed to load KYC data"}),n.jsx("p",{className:"text-sm mt-2",children:"Please try again later"})]})}),!A&&!C&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center px-5 pt-4 pb-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"User Details"}),n.jsxs("div",{className:"flex items-center",children:[h!=="approved"&&n.jsx("button",{className:"bg-[#273E8E] text-white text-sm py-3 px-6 rounded-full mr-3 cursor-pointer",onClick:d,children:"Send to Partner"}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 cursor-pointer",onClick:s,children:n.jsx("img",{src:ht.cross,alt:""})})]})]}),n.jsxs("div",{className:"flex border-b px-5 overflow-x-auto",children:[n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="personal"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("personal"),children:"Personal Details"}),n.jsx("button",{className:`py-2 px-0 mr-6 cursor-pointer ${f==="credit"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("credit"),children:"Credit Check"}),n.jsx("button",{className:`py-2 px-0 cursor-pointer ${f==="kyc"?"border-b-4 border-[#273E8E] font-medium text-[#000000]":"text-[#00000080] cursor-pointer"}`,onClick:()=>p("kyc"),children:"KYC Details"})]}),f==="personal"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your first name",value:z.firstName,onChange:G=>ne({...z,firstName:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Surname"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your surname",value:z.surname,onChange:G=>ne({...z,surname:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your email address",value:z.email,onChange:G=>ne({...z,email:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your phone number",value:z.phone,onChange:G=>ne({...z,phone:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"BVN"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"BVN Number",value:z.bvn,onChange:G=>ne({...z,bvn:G.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:P,children:"Save"})]}),f==="credit"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter your account number",value:K.accountNumber,onChange:G=>U({...K,accountNumber:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Enter bank name",value:K.bankName,onChange:G=>U({...K,bankName:G.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter account name",value:K.accountName,onChange:G=>U({...K,accountName:G.target.value})})]}),n.jsx("button",{className:"w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full mt-8",onClick:O,children:"Save"})]}),f==="kyc"&&n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex mb-6 bg-white border border-[#CDCDCD] rounded-full p-2 w-93",children:[n.jsx("button",{onClick:()=>{w("document")},className:`text-sm py-2.5 px-3 cursor-pointer  ${x==="document"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Document"}),n.jsx("button",{onClick:()=>{w("beneficiary")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="beneficiary"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Beneficiary"}),n.jsx("button",{onClick:()=>{w("loanDetails")},className:`text-sm py-2.5 px-3 cursor-pointer ${x==="loanDetails"?"bg-[#273E8E] text-white rounded-full":"bg-white text-[#000000B2]"}`,children:"Loan Details"})]}),x==="document"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Document"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Document",value:$.selectedDocument,onChange:G=>te({...$,selectedDocument:G.target.value}),readOnly:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Uploaded Document"}),j?.data?.loan_application?.upload_document?n.jsx("div",{className:"border border-gray-300 rounded-md p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#3B82F6",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#3B82F6",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.data.loan_application.title_document||"Document"}),n.jsx("p",{className:"text-xs text-gray-500",children:j.data.loan_application.upload_document})]})]}),n.jsx("a",{href:`https://troosolar.hmstech.org/${j.data.loan_application.upload_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"})]})}):n.jsxs("div",{className:"border border-dashed border-gray-300 rounded-md p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"#D1D5DB",strokeWidth:"2"}),n.jsx("path",{d:"M8 10H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 14H16",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M8 18H12",stroke:"#D1D5DB",strokeWidth:"2",strokeLinecap:"round"})]})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No document uploaded"})]})]})]}),x==="beneficiary"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary name",value:$.beneficiaryName,onChange:G=>te({...$,beneficiaryName:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Relationship"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Relationship",value:$.beneficiaryRelationship,onChange:G=>te({...$,beneficiaryRelationship:G.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Email"}),n.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary email",value:$.beneficiaryEmail,onChange:G=>te({...$,beneficiaryEmail:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficiary Phone Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter beneficiary phone number",value:$.beneficiaryPhone,onChange:G=>te({...$,beneficiaryPhone:G.target.value})})]})]}),x==="loanDetails"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Amount"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 text-sm",placeholder:"Enter Loan Amount",value:$.loanAmount,onChange:G=>te({...$,loanAmount:G.target.value})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repayment Duration"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded p-2 pr-8 text-sm",placeholder:"Select Duration",value:$.repaymentDuration,onChange:G=>te({...$,repaymentDuration:G.target.value})}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-3 rounded-full mt-8 cursor-pointer",onClick:H,children:"Save"})]})]})]})]})})):null},cN=async t=>await lt(ot.ADMIN.FinancingPartnersList,"GET",void 0,t),Vp=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-40 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},VE=()=>{const[t,e]=L.useState("More Actions"),[s,a]=L.useState("Send Status"),[i,l]=L.useState("Approval Status"),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,y]=L.useState(""),[j,A]=L.useState(""),[C,_]=L.useState(1),[E]=L.useState(10),M=()=>{console.log("Notification clicked")},B=(I,se,fe,be,Se)=>{const Oe=z(I,se,fe,be,Se);f(Oe),d(!0)},z=(I,se,fe,be,Se)=>({id:I,name:se,email:`${se.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+234 80${be.toString().padStart(2,"0")} 234 567${be}`,bvn:`123456789${be.toString().padStart(2,"0")}`,loan_application_id:fe,user_id:be,approval_status:Se||"Pending",address:`${be} Lagos Street, Victoria Island, Lagos`,occupation:ne(be),monthlyIncome:K(be),bankAccount:`${be.toString().padStart(10,"0")}`,bankName:U(be)}),ne=I=>{const se=["Software Engineer","Business Analyst","Marketing Manager","Sales Executive","Product Manager","Data Scientist"];return se[(I-1)%se.length]},K=I=>{const se=["450,000","380,000","520,000","420,000","600,000","350,000"];return se[(I-1)%se.length]},U=I=>{const se=["Access Bank","GTBank","First Bank","Zenith Bank","UBA","Sterling Bank"];return se[(I-1)%se.length]},$=()=>{d(!1),x(!0)},te=()=>{if(!w){alert("Please select a partner");return}const I=re?.data?.find(se=>se["Partner name"]===w);I?(console.log("Partner selected:",w,"Partner ID:",I.id),ie.mutate(I.id)):alert("Selected partner not found")},P=ts.get("token"),{data:O,isLoading:H,isError:G}=Xt({queryKey:["all-loan-status"],queryFn:()=>AE(P||""),enabled:!!P}),{data:re,isLoading:ee}=Xt({queryKey:["all-finance-partners"],queryFn:()=>cN(P||""),enabled:!!P}),ie=os({mutationFn:async I=>{if(!h?.user_id)throw new Error("User ID not available");return await FC(h.user_id,{partner_id:I},P||"")},onSuccess:()=>{console.log("User sent to partner successfully"),x(!1),y("")},onError:I=>{console.error("Failed to send user to partner:",I),alert("Failed to send user to partner. Please try again.")}});console.log("Loan API Data:",O);const le=O?.data?[{label:"Total Loans",value:O.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:O.data["loan send"]??0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:O.data["loan approved"]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Sent",value:0,icon:"/assets/images/Users.png"},{label:"Loan Approved",value:0,icon:"/assets/images/Users.png"}],ce=O?.data?Object.keys(O.data).filter(I=>!isNaN(Number(I))).map((I,se)=>{const fe=O.data[I];return{id:fe?.id||se,name:fe?.name||"Unknown",amount:fe?.amount||"N/A",date:fe?.date||"N/A",sendStatus:fe?.send_status||"Pending",approval:fe?.approval_status||"Pending",loan_application_id:fe?.loan_application_id||0,user_id:fe?.user_id||0}}):[];console.log("API Loan List:",ce);const Y=ce.filter(I=>{const se=s==="Send Status"||I.sendStatus===s,fe=i==="Approval Status"||I.approval===i,be=!j||I.name.toLowerCase().includes(j.toLowerCase())||String(I.amount).toLowerCase().includes(j.toLowerCase())||I.date.toLowerCase().includes(j.toLowerCase())||I.sendStatus.toLowerCase().includes(j.toLowerCase())||I.approval.toLowerCase().includes(j.toLowerCase());return se&&fe&&be}),de=Math.ceil(Y.length/E),T=(C-1)*E,F=T+E,q=Y.slice(T,F);return _r.useEffect(()=>{_(1)},[j,s,i]),console.log("The Selected User:",h?.loan_application_id),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[h&&n.jsx($E,{userId:h.user_id||0,isOpen:c,onClose:()=>d(!1),userName:h.name,userEmail:h.email,userPhone:h.phone,userBvn:h.bvn,onSendToPartner:$,loanApplicationStatus:h.approval_status||""}),p&&n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-start p-4 sm:p-6 bg-black/30 backdrop-brightness-50",children:[n.jsx("div",{className:"absolute inset-0",onClick:()=>x(!1)}),n.jsxs("div",{className:"relative bg-white w-full max-w-md sm:max-w-lg mt-10 rounded-xl shadow-lg z-10 p-6 sm:p-8 max-h-screen overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Send to partner"}),n.jsx("button",{className:"cursor-pointer",onClick:()=>x(!1),children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-base font-medium mb-2",children:"Select Partner"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-md p-4 pr-10 appearance-none text-base",value:w,onChange:I=>y(I.target.value),disabled:ee,children:[n.jsx("option",{value:"",disabled:!0,children:ee?"Loading partners...":"Select Partner"}),re?.data?.map(I=>n.jsxs("option",{value:I["Partner name"],children:[I["Partner name"]," (",I.Status,") - ",I.Amount?.toLocaleString()||0]},I.id))]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),n.jsx("button",{className:`w-full py-4 rounded-full font-semibold text-base transition-colors flex items-center justify-center ${ie.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#243c8c] cursor-pointer"}`,onClick:te,disabled:ie.isPending,children:ie.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Save"})]})]}),n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:M}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Loans Management"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:H?Array.from({length:3}).map((I,se)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},se)):le.map((I,se)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:I.icon,alt:I.label,className:"w-7 h-7 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-md font-medium text-[#0000FF]",children:I.label}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:I.value})]})]})},se))}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-5",children:"Loans Summary"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Vp,{options:["More Actions","Edit","Delete","Export"],selected:t,onSelect:e}),n.jsx(Vp,{options:["Send Status","Pending","Completed"],selected:s,onSelect:a}),n.jsx(Vp,{options:["Approval Status","Pending","Completed","Rejected"],selected:i,onSelect:l})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:j,onChange:I=>A(I.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"overflow-x-auto",children:H?n.jsx("div",{className:"py-16 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500 text-lg",children:"Loading loans..."})]})}):G?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load loans."}):Y.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loans found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Send Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Approval"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:q.map((I,se)=>n.jsxs("tr",{className:`${se%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded "})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:I.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:I.amount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:I.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:gv(I.sendStatus),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:(I.sendStatus||"").toLowerCase()==="completed"||(I.sendStatus||"").toLowerCase()==="active"?"#008000":(I.sendStatus||"").toLowerCase()==="pending"?"#FF8C00":(I.sendStatus||"").toLowerCase()==="delivered"?"#008000":(I.sendStatus||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),I.sendStatus||"Pending"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:gv(I.approval),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:(I.approval||"").toLowerCase()==="completed"||(I.approval||"").toLowerCase()==="approved"||(I.approval||"").toLowerCase()==="active"?"#008000":(I.approval||"").toLowerCase()==="pending"?"#FF8C00":(I.approval||"").toLowerCase()==="delivered"?"#008000":(I.approval||"").toLowerCase()==="rejected"?"#FF0000":"#6B7280"}}),I.approval||"Pending"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("button",{className:"text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>B(I.id,I.name,I.loan_application_id,I.user_id,I.approval),children:"View Details"})})]},I.id))})]})}),de>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",T+1," to ",Math.min(F,Y.length)," of ",Y.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(I=>Math.max(I-1,1)),disabled:C===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,de)},(I,se)=>{let fe;return de<=5||C<=3?fe=se+1:C>=de-2?fe=de-4+se:fe=C-2+se,n.jsx("button",{onClick:()=>_(fe),className:`px-3 py-2 text-sm font-medium rounded-md border ${C===fe?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:fe},fe)})}),n.jsx("button",{onClick:()=>_(I=>Math.min(I+1,de)),disabled:C===de,className:`px-3 py-2 text-sm font-medium rounded-md border ${C===de?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},WE=[{id:"1",name:"Adewale Faizah",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Active",partnerApproved:!0},{id:"2",name:"John Adam",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"3",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue",partnerApproved:!1},{id:"4",name:"Adam Waa",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Repaid",partnerApproved:!0},{id:"5",name:"Anita Shawn",amount:"N200,000",duration:"3 Months",disbursement:"Pending",loanStatus:"Pending",partnerApproved:!1},{id:"6",name:"Chris Banner",amount:"N200,000",duration:"3 Months",disbursement:"Completed",loanStatus:"Overdue"}],GE=t=>{switch(t.toLowerCase()){case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"disbursed":return{backgroundColor:"#0000FF33",color:"#0000FF"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},YE=t=>{switch(t.toLowerCase()){case"active":return{backgroundColor:"#00800033",color:"#008000"};case"repaid":return{backgroundColor:"#0000FF33",color:"#0000FF"};case"overdue":return{backgroundColor:"#FF000033",color:"#FF0000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};default:return{backgroundColor:"#FFA50033",color:"#FF8C00"}}},KE=({isOpen:t,onClose:e,userId:s,loanStatus:a})=>{console.log("The User ID inside the Repayment History:",s);const i=ts.get("token"),{data:l,isLoading:c,isError:d}=Xt({queryKey:["repayment-history",s],queryFn:()=>DE(s,i||""),enabled:!!s&&!!i&&t});if(console.log("Repayment History API Data:",l),!t)return null;const f=(x=>{switch(x.toLowerCase()){case"pending":return{bg:"#FFF4E6",text:"#FF8C00"};case"active":return{bg:"#E6F7FF",text:"#008000"};case"repaid":return{bg:"#E8E5FF",text:"#0000FF"};case"overdue":return{bg:"#FFE6E6",text:"#FF0000"};default:return{bg:"#F5F5F5",text:"#6B7280"}}})(a),p=()=>{const x=l?.data?.current_month||[],w=l?.data?.history||[],y=l?.data?.overdueCount||0;if(x.length===0&&w.length===0)return n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"text-center py-20",children:n.jsx("p",{className:"text-gray-400 text-lg",children:"No repayment history available."})})});const j=()=>x.length===0?null:x.map((C,_)=>{const E=C.is_overdue||!1,B=new Date(C.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return n.jsx("div",{className:`border rounded-2xl p-5 ${E?"border-[#273E8E] bg-white":"border-[#CDCDCD] bg-white"}`,style:E?{boxShadow:"0px 0px 5px 0px rgba(0, 0, 255, 1)"}:{},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:C.status==="paid"?"Payment":"Next Payment"}),n.jsx("p",{className:`text-lg font-semibold ${C.status==="paid"?"text-blue-600":E?"text-red-600":"text-gray-900"}`,children:C.status==="paid"?`Paid - ${B}`:E?`${y} days overdue`:B})]}),n.jsxs("div",{className:"text-right",children:[C.status!=="paid"&&n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Days"})]}),n.jsx("span",{className:"text-xl text-gray-400",children:":"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"00"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Hours"})]})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",C.amount?.toLocaleString()||"60,000"]})]})]})},C.id||_)}),A=()=>w.length===0?null:w.map((C,_)=>{const M=new Date(C.payment_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"2-digit"});return n.jsx("div",{className:"border border-[#CDCDCD] p-5 rounded-2xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment"}),n.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Paid - ",M]})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",C.amount?.toLocaleString()||"60,000"]})]})},C.id||_)});return n.jsxs("div",{className:"space-y-4",children:[j(),A()]})};return n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end items-end sm:items-center",children:[n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-white/30",onClick:e}),n.jsxs("div",{className:"relative bg-white w-full h-full sm:max-w-3xl sm:h-auto sm:rounded-2xl z-10 shadow-xl flex flex-col max-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Repayment History"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Loan Details"}),c?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(zs,{message:"Loading loan details...",size:"md"})}):d?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan details."}):n.jsxs("div",{className:" rounded-2xl border border-[#00000080] p-4 space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Loan Status"}),n.jsx("span",{className:"px-4 py-1.5 text-sm font-medium rounded-full",style:{backgroundColor:f.bg,color:f.text},children:l?.data?.loan?.status||a})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Amount"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",l?.data?.loan?.loan_amount?.toLocaleString()||"200,000"]})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Interest Rate"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[l?.data?.loan?.interest_rate||"5","%"]})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-[#CDCDCD] py-2",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Loan Period"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[l?.data?.loan?.repayment_duration||"6"," months"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-[#00000080] font-medium",children:"Disbursement Date"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l?.data?.loan?.created_at?new Date(l.data.loan.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}):"July 3, 2025"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Repayment History"}),c?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(zs,{message:"Loading repayment history...",size:"md"})}):d?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load repayment history."}):p()]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("button",{className:"w-full bg-[#273E8E] text-white py-4 rounded-full font-semibold text-lg hover:bg-[#243c8c] transition-colors cursor-pointer",onClick:()=>{console.log("Send notification clicked")},children:"Send Notification"})})]})]})},kh=({count:t=3,cardHeight:e="h-[120px]",iconSize:s="w-17 h-17",iconBgColor:a="#0000FF33"})=>n.jsx(n.Fragment,{children:Array.from({length:t}).map((i,l)=>n.jsx("div",{className:`bg-white rounded-lg p-6 shadow-sm border border-gray-100 ${e}`,style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:`${s} rounded-full flex items-center justify-center`,style:{backgroundColor:a},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]})},l))}),Wp=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},QE=({activeStatus:t,setActiveStatus:e})=>n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm w-fit",children:[n.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="approved"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("approved"),children:"Partner Approved"}),n.jsx("button",{className:`px-5 py-3 rounded-full text-sm font-medium cursor-pointer transition-colors duration-200 ${t==="pending"?"bg-[#273E8E] text-white":"text-[#000000B2] bg-transparent"}`,onClick:()=>e("pending"),children:"Pending Approval"})]}),XE=()=>{const[t,e]=L.useState("More Actions"),[s,a]=L.useState("Loan Status"),[i,l]=L.useState("Disbursement Status"),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(WE),[w,y]=L.useState(!1),[j,A]=L.useState(null),[C,_]=L.useState("approved"),[E,M]=L.useState(""),[B,z]=L.useState(1),[ne]=L.useState(10),K=()=>{console.log("Notification clicked")},U=q=>{f(q),d(!0)},$=()=>{d(!1),f(null)},te=(q,I,se)=>{A({id:q,status:I,user_id:se}),y(!0)},P=()=>{y(!1),A(null)},O=(q,I)=>{x(se=>se.map(fe=>fe.id===q?{...fe,disbursement:I}:fe))},H=ts.get("token"),{data:G,isLoading:re,isError:ee}=Xt({queryKey:["all-loan-distributed"],queryFn:()=>CE(H||""),enabled:!!H}),ie=G?.data?[{label:"Total Loans",value:G.data["total loans"]??0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:G.data["loan distributed"]??0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:G.data["amount distributed "]??0,icon:"/assets/images/Users.png"}]:[{label:"Total Loans",value:0,icon:"/assets/images/Users.png"},{label:"Loans Disbursed",value:0,icon:"/assets/images/Users.png"},{label:"Amount Disbursed",value:0,icon:"/assets/images/Users.png"}],le=G?.data?Object.keys(G.data).filter(q=>!isNaN(Number(q))).map(q=>{const I=G.data[q];return{id:I.id,user_id:I.user_id,name:I.name,amount:I.Amount||I.amount,duration:I.Duration||I.duration,date:I.date,disbursement:I["disbursement status"],loanStatus:I["approval status"],loan_application_id:I.loan_application_id}}):[];console.log("The Loan Data: ",le);const ce=le.filter(q=>{const I=s==="Loan Status"||q.loanStatus===s,se=i==="Disbursement Status"||q.disbursement===i,fe=!E||q.name.toLowerCase().includes(E.toLowerCase())||String(q.amount).toLowerCase().includes(E.toLowerCase())||(q.duration||"").toLowerCase().includes(E.toLowerCase())||q.date.toLowerCase().includes(E.toLowerCase())||q.disbursement.toLowerCase().includes(E.toLowerCase())||q.loanStatus.toLowerCase().includes(E.toLowerCase());return I&&se&&fe}),Y=Math.ceil(ce.length/ne),de=(B-1)*ne,T=de+ne,F=ce.slice(de,T);return _r.useEffect(()=>{z(1)},[E,s,i,C]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:K}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-semibold text-black",children:"Loans Disbursement"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:re?n.jsx(kh,{count:3}):ie.map((q,I)=>n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:q.icon,alt:q.label,className:"w-7 h-7 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:q.label}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:q.value})]})]})},I))}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Disbursement Summary"}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(QE,{activeStatus:C,setActiveStatus:_}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Wp,{options:["More Actions","Export","Print"],selected:t,onSelect:e}),n.jsx(Wp,{options:["Loan Status","Active","Repaid","Overdue","Pending"],selected:s,onSelect:a}),n.jsx(Wp,{options:["Disbursement Status","Pending","Completed"],selected:i,onSelect:l})]})]}),n.jsxs("div",{className:"relative mt-15",children:[n.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:q=>M(q.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"overflow-x-auto",children:re?n.jsx(zs,{message:"Loading disbursements..."}):ee?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load disbursements."}):ce.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No disbursements found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Duration"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Disbursement"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:F.map((q,I)=>n.jsxs("tr",{className:`${I%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.amount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:q.duration}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:GE(q.disbursement),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:q.disbursement.toLowerCase()==="completed"?"#008000":q.disbursement.toLowerCase()==="disbursed"?"#0000FF":q.disbursement.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),q.disbursement]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:YE(q.loanStatus),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:q.loanStatus.toLowerCase()==="active"||q.loanStatus.toLowerCase()==="approved"?"#008000":q.loanStatus.toLowerCase()==="repaid"?"#0000FF":q.loanStatus.toLowerCase()==="overdue"?"#FF0000":q.loanStatus.toLowerCase()==="pending"?"#FF8C00":"#6B7280"}}),q.loanStatus]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{className:"cursor-pointer",onClick:()=>te(q.id,q.loanStatus,q.user_id),children:n.jsx("img",{src:"/assets/images/eye.svg",alt:"View",className:"w-8 h-8 object-contain"})}),q.disbursement==="Pending"?n.jsx("button",{className:"text-white px-8 py-3.5 rounded-full hover:opacity-90 transition-opacity text-xs font-medium cursor-pointer",style:{backgroundColor:"#273E8E"},onClick:()=>U(q.id),children:"Send Loan"}):n.jsx("button",{className:"text-white px-7 py-3.5 rounded-full cursor-pointer hover:opacity-90 transition-opacity text-xs font-medium",style:{backgroundColor:"#273E8E"},onClick:()=>U(q.loan_application_id),children:"View Details"})]})})]},q.id))})]})}),Y>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",de+1," to ",Math.min(T,ce.length)," of ",ce.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>z(q=>Math.max(q-1,1)),disabled:B===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${B===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Y)},(q,I)=>{let se;return Y<=5||B<=3?se=I+1:B>=Y-2?se=Y-4+I:se=B-2+I,n.jsx("button",{onClick:()=>z(se),className:`px-3 py-2 text-sm font-medium rounded-md border ${B===se?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:se},se)})}),n.jsx("button",{onClick:()=>z(q=>Math.min(q+1,Y)),disabled:B===Y,className:`px-3 py-2 text-sm font-medium rounded-md border ${B===Y?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&n.jsx(iN,{isOpen:c,loanId:h,onClose:$,onDisbursementUpdate:O}),w&&j&&n.jsx(KE,{isOpen:w,userId:j.user_id,loanStatus:j.status,onClose:P})]})},ZE=t=>{switch(t.toLowerCase()){case"paid":case"completed":return{backgroundColor:"#00800033",color:"#008000"};case"pending":return{backgroundColor:"#FFA50033",color:"#FF8C00"};case"failed":case"rejected":return{backgroundColor:"#FF000033",color:"#FF0000"};default:return{backgroundColor:"#6B728033",color:"#6B7280"}}},JE=()=>{const[t,e]=L.useState("All"),[s,a]=L.useState("Status"),[i,l]=L.useState(null),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,y]=L.useState(""),[j,A]=L.useState(1),[C]=L.useState(10),_=ts.get("token"),{data:E,isLoading:M,isError:B}=Xt({queryKey:["all-user-transactions"],queryFn:()=>PE(_||""),enabled:!!_}),z=E?.summary||{},ne=L.useMemo(()=>E?.transactions||[],[E?.transactions]),K=ne.filter(ie=>{const le=s==="Status"||ie.status===s.toLowerCase(),ce=t==="All"||ie.type===t.toLowerCase();let Y=!0;if(w){const de=w.toLowerCase();Y=(ie.title||"").toLowerCase().includes(de)||(ie.amount||"").toLowerCase().includes(de)||(ie.transacted_at||"").toLowerCase().includes(de)||(ie.tx_id||"").toLowerCase().includes(de)||(ie.status||"").toLowerCase().includes(de)||(ie.type||"").toLowerCase().includes(de)||(ie.method||"").toLowerCase().includes(de)}return le&&ce&&Y}),U=Math.ceil(K.length/C),$=(j-1)*C,te=$+C,P=K.slice($,te);L.useEffect(()=>{A(1)},[t,s,w]);const O=()=>{console.log("Notification clicked")},H=ie=>{console.log("Dropdown toggle clicked for transaction:",ie),console.log("Current openDropdownId:",i),l(i===ie?null:ie)},G=ie=>{a(ie),x(!1)},re=(ie,le)=>{console.log("Dropdown action clicked:",{action:ie,transactionId:le});{const ce=ne.find(Y=>String(Y.id)===String(le));console.log("Found transaction:",ce),console.log("All transactions:",ne),ce?(f(ce),d(!0),console.log("Modal should open now")):console.log("Transaction not found for ID:",le)}l(null)},ee=()=>{d(!1),f(null)};return L.useEffect(()=>{const ie=le=>{const ce=le.target,Y=ce.closest("[data-dropdown-button]"),de=ce.closest("[data-dropdown-menu]");if(i&&!Y&&!de&&(console.log("Clicking outside dropdown, closing it"),l(null)),p){const T=document.querySelector(".status-dropdown");T&&!T.contains(ce)&&x(!1)}};return(i||p)&&document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[i,p]),L.useEffect(()=>{console.log("Modal state changed:",{showTransactionDetail:c,selectedTransaction:h})},[c,h]),L.useEffect(()=>{console.log("Dropdown state changed:",{openDropdownId:i,transactions:ne.length})},[i,ne]),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:O}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:M?n.jsx(kh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Users",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:z?.total_users_with_transactions||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Total Transactions",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-[#0000FF]",children:z?.total_transactions||0})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-17 h-17 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:"/assets/images/Users.png",alt:"Transactions",className:"w-6 h-6 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#0000FF]",children:"Transactions"}),n.jsxs("p",{className:"text-2xl font-bold text-[#0000FF]",children:["",z?.total_amount?Number(z.total_amount).toLocaleString():0]})]})]})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Transaction Summary"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full cursor-pointer border border-gray-200 p-2 shadow-sm",children:[n.jsx("button",{className:`px-4.5 py-2 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="All"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("All"),children:"All"}),n.jsx("button",{className:`px-4 py-1.5 rounded-full  cursor-pointer text-sm font-medium transition-colors ${t==="deposit"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("deposit"),children:"Deposit"}),n.jsx("button",{className:`px-4 py-1.5 rounded-full cursor-pointer text-sm font-medium transition-colors ${t==="withdrawal"?"bg-[#273E8E] text-white":"text-gray-600 "}`,onClick:()=>e("withdrawal"),children:"Withdrawal"})]}),n.jsxs("div",{className:"relative inline-block text-left status-dropdown",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>x(!p),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm  focus:outline-none",children:[s,n.jsx("img",{src:ht.arrow,alt:""})]})}),p&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:["Status","paid","pending","failed","rejected"].map((ie,le)=>n.jsx("li",{onClick:()=>G(ie),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:ie},le))})})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400",value:w,onChange:ie=>y(ie.target.value)}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),M?n.jsx(zs,{}):B?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load transactions."}):K.length===0?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"No transactions found."}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-gray-200",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Reference"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:P.map((ie,le)=>n.jsxs("tr",{className:`${le%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:ie.title||"N/A"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:["",ie.amount?Number(ie.amount).toLocaleString():"-"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.transacted_at?new Date(ie.transacted_at).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.type||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:ie.tx_id||ie.reference||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:ZE(ie.status),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:ie.status.toLowerCase()==="paid"?"#008000":ie.status.toLowerCase()==="pending"?"#FF8C00":ie.status.toLowerCase()==="rejected"||ie.status.toLowerCase()==="failed"?"#FF0000":"#6B7280"}}),ie.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2 relative",children:[n.jsx("button",{className:"relative p-2 text-gray-600 hover:text-gray-900","data-dropdown-button":!0,onClick:()=>H(String(ie.id)),children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),i===String(ie.id)&&n.jsx("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50","data-dropdown-menu":!0,children:n.jsx("div",{className:"py-2",children:n.jsx("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),console.log("Button clicked for transaction:",ie.id),re("View Transaction details",ie.id)},children:"View Transaction details"})})})]})})]},ie.id))})]})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",$+1," to ",Math.min(te,K.length)," of ",K.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>A(ie=>Math.max(ie-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,U)},(ie,le)=>{let ce;return U<=5||j<=3?ce=le+1:j>=U-2?ce=U-4+le:ce=j-2+le,n.jsx("button",{onClick:()=>A(ce),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===ce?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ce},ce)})}),n.jsx("button",{onClick:()=>A(ie=>Math.min(ie+1,U)),disabled:j===U,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===U?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),c&&h&&n.jsx(lN,{isOpen:c,transaction:h,onClose:ee})]})},eL=[{id:"1",name:"Adewale Faizah",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"2",name:"John Adam",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"3",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"4",name:"Adam Waa",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"5",name:"Anita Shawn",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"},{id:"6",name:"Chris Banner",loanBalance:"N200,000",mainBalance:"N200,000",totalTopup:"N100,000",totalWithdrawal:"N100,000"}],tL=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-40 mb-6 animate-pulse"}),n.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 mb-8 animate-pulse"}),n.jsx("div",{className:"flex justify-end",children:n.jsx("div",{className:"h-10 bg-white bg-opacity-20 rounded-full w-24 animate-pulse"})})]})}),n.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"h-6 bg-white bg-opacity-20 rounded w-48 mb-6 animate-pulse"}),n.jsx("div",{className:"h-12 bg-white bg-opacity-20 rounded w-32 animate-pulse"})]})})]}),sL=async t=>await lt(ot.ADMIN.AllBalances,"GET",void 0,t),nL=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},aL=()=>{const[t,e]=L.useState([]),[s,a]=L.useState(!1),[i,l]=L.useState("More Actions"),[c,d]=L.useState(""),[h,f]=L.useState(1),[p]=L.useState(10),x=()=>{console.log("Notification clicked")},w=()=>{e(s?[]:eL.map(te=>te.id)),a(!s)},y=te=>{t.includes(te)?e(t.filter(P=>P!==te)):e([...t,te])},j=ts.get("token"),{data:A,isLoading:C,isError:_}=Xt({queryKey:["balances"],queryFn:()=>sL(j||""),enabled:!!j}),E=A?.data?.summary||{total_loan_balance:0,total_shopping_balance:0},B=(A?.data?.balances?A.data.balances.map((te,P)=>({id:String(P),name:te.first_name,loanBalance:te.loan_balance,mainBalance:te.main_balance,totalTopup:te.total_topup,totalWithdrawal:te.total_withdrawal})):[]).filter(te=>c?te.name.toLowerCase().includes(c.toLowerCase())||String(te.loanBalance).toLowerCase().includes(c.toLowerCase())||String(te.mainBalance).toLowerCase().includes(c.toLowerCase())||String(te.totalTopup).toLowerCase().includes(c.toLowerCase())||String(te.totalWithdrawal).toLowerCase().includes(c.toLowerCase()):!0),z=Math.ceil(B.length/p),ne=(h-1)*p,K=ne+p,U=B.slice(ne,K);_r.useEffect(()=>{f(1)},[c]);const $=te=>(typeof te=="string"?Number(te):te).toLocaleString();return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:x}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Balances"})}),C?n.jsx(tL,{}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsx("div",{className:"bg-[#273E8E] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Loan Balance"}),n.jsxs("p",{className:"text-4xl font-bold mb-8",children:["N",$(E.total_loan_balance)]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-[#273E8E] px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Fund Wallet"})})]})}),n.jsx("div",{className:"bg-[#E8A91D] rounded-2xl p-8 text-white relative overflow-hidden",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-lg font-medium mb-6",children:"Total Shopping Balance"}),n.jsxs("p",{className:"text-4xl font-bold",children:["N",$(E.total_shopping_balance)]})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Balance Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx(nL,{options:["More Actions","Export Data","Bulk Action"],selected:i,onSelect:l}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:te=>d(te.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:C?n.jsx(zs,{message:"Loading balances..."}):_?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load balances."}):B.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No balances found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:s,onChange:w})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Loan Balance"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Main Balance"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Topup"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Total Withdrawal"})]})}),n.jsx("tbody",{className:"bg-white",children:U.map((te,P)=>n.jsxs("tr",{className:`${P%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:t.includes(te.id),onChange:()=>y(te.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:te.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:$(te.loanBalance)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:$(te.mainBalance)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:$(te.totalTopup)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:$(te.totalWithdrawal)})]},te.id))})]})}),z>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ne+1," to ",Math.min(K,B.length)," of ",B.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(te=>Math.max(te-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,z)},(te,P)=>{let O;return z<=5||h<=3?O=P+1:h>=z-2?O=z-4+P:O=h-2+P,n.jsx("button",{onClick:()=>f(O),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===O?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:O},O)})}),n.jsx("button",{onClick:()=>f(te=>Math.min(te+1,z)),disabled:h===z,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===z?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]})]})},rL=[{id:"1",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-efficiency solar inverter for residential and commercial use"},{id:"2",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Complete solar panel kit with mounting hardware"},{id:"3",name:"Newman 12200 AGM Solar Inverter",category:"Energy Storage",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Lithium-ion battery pack for solar energy storage"},{id:"4",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"MPPT charge controller for optimal battery charging"},{id:"5",name:"Newman 12200 AGM Solar Inverter",category:"Accessories",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"High-quality solar DC cables and connectors"},{id:"6",name:"Newman 12200 AGM Solar Inverter",category:"Electronics",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Real-time solar system monitoring and analytics"},{id:"7",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"},{id:"8",name:"Newman 12200 AGM Solar Inverter",category:"Solar Equipment",price:"N2,500,000",stock:10,status:"Active",image:"/assets/images/newmanbadge.png",description:"Additional solar inverter product"}],iL=t=>{switch(t.toLowerCase()){case"delivered":return{backgroundColor:"#E6F7FF",color:"#008000",borderColor:"#008000"};case"pending":return{backgroundColor:"#FFF4E6",color:"#FF8C00",borderColor:"#FF8C00"};case"ordered":return{backgroundColor:"#E6E6FF",color:"#5A67D8",borderColor:"#5A67D8"};default:return{backgroundColor:"#F5F5F5",color:"#6B7280",borderColor:"#6B7280"}}},lL=async(t,e)=>{const s=new FormData;return s.append("title",t.title),s.append("category_id",t.category_id.toString()),s.append("price",t.price.toString()),t.brand_id!==void 0&&s.append("brand_id",t.brand_id.toString()),t.discount_price!==void 0&&s.append("discount_price",t.discount_price.toString()),t.discount_end_date&&s.append("discount_end_date",t.discount_end_date),t.stock&&s.append("stock",t.stock),t.installation_price!==void 0&&s.append("installation_price",t.installation_price.toString()),t.top_deal!==void 0&&s.append("top_deal",t.top_deal?"1":"0"),t.installation_compulsory!==void 0&&s.append("installation_compulsory",t.installation_compulsory?"1":"0"),t.featured_image&&s.append("featured_image",t.featured_image),t.images&&t.images.length>0&&t.images.forEach((a,i)=>{s.append(`images[${i}]`,a)}),t.product_details&&t.product_details.length>0&&t.product_details.forEach((a,i)=>{s.append(`product_details[${i}]`,a)}),await lt(ot.ADMIN.ProductCreate,"POST",s,e)},oL=async(t,e,s)=>await lt(ot.ADMIN.ProductUpdate(t),"POST",e,s),cL=async(t,e)=>await lt(ot.ADMIN.ProductDelete(t),"DELETE",void 0,e),dN=async t=>await lt(ot.ADMIN.ProductsList,"GET",void 0,t),dL=async(t,e)=>await lt(ot.ADMIN.ProductShow(t),"GET",void 0,e),uL=({isOpen:t,onClose:e,product:s,onEdit:a})=>{const[i,l]=L.useState("details"),[c,d]=L.useState(!1),[h,f]=L.useState(!1),[p,x]=L.useState(0),w=ts.get("token")||"",y=il(),{data:j,isLoading:A,error:C}=Xt({queryKey:["singleProduct",s?.id],queryFn:()=>dL(s?.id||"",w),enabled:!!s?.id&&!!w&&t}),_=j?.data||null,E=os({mutationFn:H=>cL(H,w),onSuccess:()=>{y.invalidateQueries({queryKey:["products"]}),d(!1),f(!1),e()},onError:H=>{console.error("Error deleting product:",H),f(!1),alert("Error deleting product. Please try again.")}}),M=()=>nt.replace(/\/api$/,""),B=H=>H?H.startsWith("http")?H:`${M()}${H}`:"/assets/images/newmanbadge.png",z=H=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(H),ne=()=>{_&&a&&a(_)},K=()=>{s?.id&&E.mutate(s.id)},$=(()=>{if(!_)return[];const H=[];return _.featured_image_url&&H.push({id:"featured",url:B(_.featured_image_url),alt:`${_.title} - Featured`}),_.images&&_.images.length>0&&_.images.forEach((G,re)=>{H.push({id:G.id,url:B(G.image),alt:`${_.title} - Image ${re+1}`})}),H})(),te=$.length,P=()=>{x(H=>(H+1)%te)},O=()=>{x(H=>(H-1+te)%te)};return L.useEffect(()=>{x(0)},[_?.id]),!t||!s?null:n.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:[n.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full max-h-[95vh] overflow-y-auto shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Details"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full  cursor-pointer",children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsx("div",{className:"p-4",children:A?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-2xl animate-pulse",style:{height:"250px"}}),n.jsxs("div",{className:"bg-gray-200 rounded-2xl p-3 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-8 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-full animate-pulse"})]})]}):C?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-red-500",children:"Error loading product details"}),n.jsx("button",{onClick:e,className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Close"})]}):_?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"relative bg-white rounded-2xl overflow-hidden border border-[#00000080]",style:{height:"250px"},children:$.length>0?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:$[p]?.url,alt:$[p]?.alt,className:"w-full h-full object-contain p-4",onError:H=>{const G=H.target;G.src="/assets/images/newman1.png"}}),te>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:O,className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{onClick:P,className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsxs("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-60 text-white px-2 py-1 rounded text-xs font-medium",children:[p+1,"/",te]}),te>1&&n.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-1",children:$.map((H,G)=>n.jsx("button",{onClick:()=>x(G),className:`w-2 h-2 rounded-full transition-all ${G===p?"bg-white":"bg-white bg-opacity-50"}`},G))})]}):n.jsx("img",{src:"/assets/images/newman1.png",alt:"No image available",className:"w-full h-full object-contain p-4"})})}),n.jsxs("div",{className:"bg-white border border-[#273E8E] rounded-2xl p-3 mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:_.title}),n.jsx("div",{className:"text-2xl font-bold text-blue-900 mb-2",children:z(_.discount_price||_.price)}),_.discount_price&&_.discount_price!==_.price&&n.jsx("div",{className:"text-sm text-gray-500 line-through mb-2",children:z(_.price)}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Stock:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.stock})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Category ID:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.category_id})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Brand ID:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:_.brand_id})]})]}),n.jsx("div",{className:"flex items-center gap-2 mt-3",children:n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(H=>n.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},H))})})]}),n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsx("button",{onClick:ne,className:"flex-1 bg-white text-black border border-[#273E8E] cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-gray-100 transition-colors",children:"Edit Product"}),n.jsx("button",{onClick:()=>d(!0),className:"flex-1 bg-[#FF0000] text-white cursor-pointer py-2.5 px-4 rounded-full text-sm font-medium hover:bg-red-600 transition-colors border border-[#FFFFFF]",children:"Delete Product"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"bg-white border border-[#CDCDCD] rounded-full p-2 flex",style:{width:190},children:[n.jsx("button",{onClick:()=>l("details"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${i==="details"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Details"}),n.jsx("button",{onClick:()=>l("reviews"),className:`flex-1 py-2 px-4 text-sm cursor-pointer font-medium rounded-full transition-colors ${i==="reviews"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Reviews"})]})}),i==="details"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Product Details"}),n.jsx("div",{className:"space-y-2 border border-[#00000080] rounded-2xl p-3",children:_.details&&_.details.length>0?_.details.map(H=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:ht.Lightning,alt:""}),n.jsx("span",{className:"text-gray-700 text-sm",children:H.detail})]},H.id)):n.jsx("div",{className:"text-gray-500 text-sm text-center py-4",children:"No product details available"})})]}),i==="reviews"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-4",children:"Reviews"}),_.reviews&&_.reviews.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg mb-4",children:n.jsxs("div",{className:"flex items-center justify-between border border-[#00000080] rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex",children:[[1,2,3,4].map(H=>n.jsx("svg",{className:"w-5 h-5 text-[#273E8E]",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},H)),n.jsx("svg",{className:"w-5 h-5 text-[#D9D9D9]",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),n.jsx("span",{className:"font-semibold text-gray-900",children:"4.8"})]}),n.jsxs("span",{className:"text-sm text-gray-600",children:[_.reviews.length," Reviews"]})]})}),n.jsx("div",{className:"space-y-4",children:_.reviews.map((H,G)=>{const re=H;return n.jsxs("div",{className:"border border-[#00000080] rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-medium text-sm",children:re.user_name?re.user_name.charAt(0).toUpperCase():"U"})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:re.user_name||"Anonymous"}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(ee=>n.jsx("svg",{className:`w-3 h-3 ${ee<=(re.rating||4)?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ee))})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-400",children:re.created_at?new Date(re.created_at).toLocaleDateString():"N/A"}),n.jsx("button",{className:"text-red-500 text-xs hover:text-red-700 cursor-pointer",children:"Delete"})]})]}),n.jsx("p",{className:"text-sm text-gray-700 mt-2",children:re.comment||"No comment provided"})]},G)})})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No reviews available for this product"})})]})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"Product not found"})})})]}),c&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-[70]",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4 shadow-xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Product"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this product? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:K,disabled:h,className:`flex-1 py-2 px-4 text-white rounded-lg transition-colors flex items-center justify-center ${h?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete"})]})]})})})]})},Ym=async t=>await lt(ot.ADMIN.CategoriesList,"GET",void 0,t),rg=async t=>await lt(ot.ADMIN.BrandsList,"GET",void 0,t),uN=({isOpen:t,onClose:e,editingProduct:s})=>{const a=ya(),[i,l]=L.useState(""),[c,d]=L.useState(""),[h,f]=L.useState(""),[p,x]=L.useState(""),[w,y]=L.useState(""),[j,A]=L.useState(""),[C,_]=L.useState(""),[E,M]=L.useState(""),[B,z]=L.useState(["","","","",""]),[ne,K]=L.useState([]),[U,$]=L.useState(null),[te,P]=L.useState([]),[O,H]=L.useState(null),[G,re]=L.useState(!1),[ee,ie]=L.useState(!1),[le,ce]=L.useState(!1),[Y,de]=L.useState(!1),[T,F]=L.useState(!1),q=ts.get("token")||"",I=il(),{data:se,isLoading:fe}=Xt({queryKey:["categories"],queryFn:()=>Ym(q),enabled:!!q&&t}),{data:be,isLoading:Se}=Xt({queryKey:["brands"],queryFn:()=>rg(q),enabled:!!q&&t}),Oe=L.useMemo(()=>se?.data||[],[se]),He=L.useMemo(()=>be?.data||[],[be]),Be=()=>nt.replace(/\/api$/,""),et=Pe=>Pe?Pe.startsWith("http")?Pe:`${Be()}${Pe}`:null;L.useEffect(()=>{if(s){console.log(" Raw editingProduct from previous screen:",s);try{console.log(" JSON.stringify(editingProduct):",JSON.stringify(s,null,2))}catch(Ge){console.log(" Could not stringify editingProduct:",Ge)}typeof s=="object"&&s!==null&&Object.entries(s).forEach(([Ge,pt])=>{console.log(` editingProduct[${Ge}]:`,pt)});const Pe=s;console.log(" Parsed product for form state:",Pe),l(Pe.title||""),x(Pe.price?.toString()||""),y(Pe.discount_price?.toString()||""),A(Pe.discount_end_date?Pe.discount_end_date.split("T")[0]:""),_(Pe.installation_price?.toString()||""),M(Pe.stock||""),re(Pe.top_deal||!1),ie(Pe.installation_compulsory||!1);const ut=Oe.find(Ge=>Ge.id===Pe.category_id),Te=He.find(Ge=>Ge.id===Pe.brand_id);if(console.log(" Matched category:",ut),console.log(" Matched brand:",Te),d(ut?.title||""),f(Te?.title||""),Pe.details&&Pe.details.length>0){const Ge=Pe.details.map(jt=>jt.detail),pt=Math.max(5,Ge.length);z([...Ge,...Array(pt-Ge.length).fill("")]),console.log(" Loaded product details:",Ge)}if(H(et(Pe.featured_image_url||null)),Pe.images&&Pe.images.length>0){const Ge=Pe.images.map(pt=>et(pt.image)).filter(Boolean);P(Ge),console.log(" Existing images:",Ge)}else P([]);$(null),K([])}else At()},[s,Oe,He]);const Ae=Pe=>{const ut=Pe.target.files;if(ut){const Te=Array.from(ut).slice(0,6);K(Ge=>[...Ge,...Te].slice(0,6))}},ue=Pe=>{const ut=Pe.target.files?.[0];ut&&$(ut)},Dt=(Pe,ut)=>{const Te=[...B];Te[Pe]=ut,z(Te)},at=()=>z(Pe=>[...Pe,""]),gt=Pe=>{B.length>1&&z(ut=>ut.filter((Te,Ge)=>Ge!==Pe))},Je=Pe=>{K(ut=>ut.filter((Te,Ge)=>Ge!==Pe))},xt=os({mutationFn:Pe=>{if(s){const ut=s,Te=new FormData;Te.append("title",i??""),Te.append("category_id",String(Oe.find(Ge=>Ge.title===c)?.id??"")),Te.append("price",p??"0"),Te.append("brand_id",String(He.find(Ge=>Ge.title===h)?.id??"")),Te.append("discount_price",w||"0"),j&&Te.append("discount_end_date",j),Te.append("stock",E??"0"),Te.append("installation_price",C||"0"),Te.append("top_deal",G?"1":"0"),Te.append("installation_compulsory",ee?"1":"0"),U&&Te.append("featured_image",U),ne.length>0&&ne.forEach((Ge,pt)=>{Te.append(`images[${pt}]`,Ge)}),B.filter(Ge=>Ge.trim()!=="").forEach((Ge,pt)=>{Te.append(`product_details[${pt}]`,Ge)});for(const Ge of Te.entries())console.log(`[FormData] ${Ge[0]}:`,Ge[1]);return Te.append("_method","POST"),oL(ut.id,Te,q)}else return lL(Pe,q)},onSuccess:()=>{I.invalidateQueries({queryKey:["products"]}),At(),e(),ce(!1),alert(s?"Product updated successfully!":"Product added successfully!")},onError:Pe=>{console.error("Error with product operation:",Pe),ce(!1);const ut=Pe;if(ut?.response?.data?.message)alert(`Error: ${ut.response.data.message}`);else if(ut?.response?.data?.data){const Te=ut.response.data.data,Ge=Object.entries(Te).map(([pt,jt])=>`${pt}: ${Array.isArray(jt)?jt.join(", "):jt}`).join(`
`);alert(`Validation Error:
${Ge}`)}else alert(`An error occurred while ${s?"updating":"adding"} the product. Please try again.`)}}),rt=async()=>{if(!i||!c||!h||!p||!E){alert("Please fill in all required fields");return}if(!s&&!U){alert("Please select a featured image");return}ce(!0);const Pe=Oe.find(Ge=>Ge.title===c),ut=He.find(Ge=>Ge.title===h);if(!Pe||!ut){alert("Please select valid category and brand"),ce(!1);return}const Te={title:i,category_id:Pe.id,price:parseFloat(p)||0,brand_id:ut.id,discount_price:w?parseFloat(w):0,discount_end_date:j||void 0,stock:E,installation_price:C?parseFloat(C):0,top_deal:G,installation_compulsory:ee,featured_image:U||void 0,images:ne.length>0?ne:void 0,product_details:B.filter(Ge=>Ge.trim()!=="")};console.log("Product data being sent:",{...Te,featured_image:Te.featured_image?"File present":"No file",images:Te.images?`${Te.images.length} files`:"No files",isEdit:!!s}),xt.mutate(Te)},At=()=>{l(""),d(""),f(""),x(""),y(""),A(""),_(""),M(""),z(["","","","",""]),K([]),$(null),P([]),H(null),re(!1),ie(!1),ce(!1)};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[100vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Product":"Add Product"}),n.jsx("button",{onClick:e,children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main product image"}),n.jsx("div",{className:"w-full",children:U?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(U),alt:"Featured Product",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>$(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):O?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:O,alt:"Current Featured Product",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),n.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"hidden"}),"+"]})]}):n.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Images"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select up to 6 additional images"}),n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:6}).map((Pe,ut)=>n.jsx("div",{className:"relative",children:ne[ut]?n.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(ne[ut]),alt:`Product ${ut+1}`,className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>Je(ut),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):te[ut]?n.jsxs("div",{className:"w-20 h-16 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:te[ut],alt:`Current Product ${ut+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-0 left-0 bg-blue-500 text-white text-xs px-1 rounded",children:"Current"}),n.jsxs("label",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-xs flex items-center justify-center cursor-pointer hover:bg-blue-600",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Ae,className:"hidden"}),"+"]})]}):n.jsxs("label",{className:"w-20 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Ae,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})},ut))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),n.jsx("input",{type:"text",value:i,onChange:Pe=>l(Pe.target.value),placeholder:"Enter your product name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Category *"}),n.jsxs("select",{value:c,onChange:Pe=>{d(Pe.target.value),de(!1)},onFocus:()=>{!fe&&Oe.length===0&&de(!0)},onBlur:()=>{setTimeout(()=>de(!1),200)},className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),fe?n.jsx("option",{value:"",disabled:!0,children:"Loading categories..."}):Oe.length===0?n.jsx("option",{value:"",disabled:!0,children:"No categories available"}):Oe.map(Pe=>n.jsx("option",{value:Pe.title,children:Pe.title},Pe.id))]}),Y&&!fe&&Oe.length===0&&n.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No categories available. Please add a category first."}),n.jsx("button",{type:"button",onClick:()=>{e(),a("/settings?tab=product&subtab=categories")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Add Category "})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Brand *"}),n.jsxs("select",{value:h,onChange:Pe=>{f(Pe.target.value),F(!1)},onFocus:()=>{!Se&&He.length===0&&F(!0)},onBlur:()=>{setTimeout(()=>F(!1),200)},className:"w-full cursor-pointer px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Brand"}),Se?n.jsx("option",{value:"",disabled:!0,children:"Loading brands..."}):He.length===0?n.jsx("option",{value:"",disabled:!0,children:"No brands available"}):He.map(Pe=>n.jsx("option",{value:Pe.title,children:Pe.title},Pe.id))]}),T&&!Se&&He.length===0&&n.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No brands available. Please add a brand first."}),n.jsx("button",{type:"button",onClick:()=>{e(),a("/settings?tab=product&subtab=brand")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Add Brand "})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Price *"}),n.jsx("input",{type:"number",value:p,onChange:Pe=>x(Pe.target.value),placeholder:"Enter product price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Price"}),n.jsx("input",{type:"number",value:w,onChange:Pe=>y(Pe.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount End Date"}),n.jsx("input",{type:"date",value:j,onChange:Pe=>A(Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Installation Price"}),n.jsx("input",{type:"number",value:C,onChange:Pe=>_(Pe.target.value),placeholder:"Enter installation price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),n.jsx("input",{type:"number",value:E,onChange:Pe=>M(Pe.target.value),placeholder:"Enter stock quantity",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Details"}),n.jsx("div",{className:"space-y-2",children:B.map((Pe,ut)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:Pe,onChange:Te=>Dt(ut,Te.target.value),placeholder:`Enter product detail ${ut+1}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),B.length>1&&n.jsx("button",{type:"button",onClick:()=>gt(ut),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove this field",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ut))})]})]}),n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsxs("button",{type:"button",onClick:at,className:"text-blue-600 text-sm font-medium hover:text-blue-700 flex items-center cursor-pointer transition-colors hover:bg-blue-50 px-3 py-2 rounded-lg",children:["Add More",n.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:G,onChange:Pe=>re(Pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark as Top deal"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:ee,onChange:Pe=>ie(Pe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm cursor-pointer text-gray-700",children:"Mark Installation as complimentary"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:rt,disabled:le,className:`w-full py-3 px-4 text-white font-medium rounded-full transition-colors flex items-center justify-center ${le?"bg-gray-400 cursor-not-allowed":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:le?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s?"Updating Product...":"Adding Product..."]}):s?"Update Product":"Add Product"})})]})]})}):null},hL=({isOpen:t,onClose:e})=>{const[s,a]=L.useState(""),[i,l]=L.useState(""),c=()=>{const d={serviceName:s,serviceAmount:i,createdAt:new Date().toISOString()},f=[...JSON.parse(localStorage.getItem("customServices")||"[]"),{...d,id:Date.now().toString()}];localStorage.setItem("customServices",JSON.stringify(f)),a(""),l(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Add Custom Service"}),n.jsx("button",{onClick:e,children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name of Service"}),n.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),placeholder:"Enter name of service",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Amount"}),n.jsx("input",{type:"text",value:i,onChange:d=>l(d.target.value),placeholder:"Enter cost of service (Naira)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:c,className:"w-full py-3 px-4 bg-blue-900 hover:bg-blue-900 text-white font-medium rounded-full transition-colors",children:"Save"})})]})]})}):null},fL=async(t,e)=>{const s=new FormData;return t.title&&s.append("title",t.title),t.bundle_type&&s.append("bundle_type",t.bundle_type),t.total_price!==void 0&&s.append("total_price",t.total_price.toString()),t.discount_price!==void 0&&s.append("discount_price",t.discount_price.toString()),t.discount_end_date&&s.append("discount_end_date",t.discount_end_date),t.featured_image&&s.append("featured_image",t.featured_image),t.items&&t.items.length>0&&t.items.forEach((a,i)=>{s.append(`items[${i}]`,a.toString())}),t.custom_services&&t.custom_services.length>0&&t.custom_services.forEach((a,i)=>{s.append(`custom_services[${i}][title]`,a.title),s.append(`custom_services[${i}][service_amount]`,a.service_amount.toString())}),await lt(ot.ADMIN.BundleCreate,"POST",s,e)},mL=async(t,e,s)=>{const a=new FormData;return e.title&&a.append("title",e.title),e.bundle_type&&a.append("bundle_type",e.bundle_type),e.total_price!==void 0&&a.append("total_price",e.total_price.toString()),e.discount_price!==void 0&&a.append("discount_price",e.discount_price.toString()),e.discount_end_date&&a.append("discount_end_date",e.discount_end_date),e.featured_image&&a.append("featured_image",e.featured_image),e.items&&e.items.length>0&&e.items.forEach((i,l)=>{a.append(`items[${l}]`,i.toString())}),e.custom_services&&e.custom_services.length>0&&e.custom_services.forEach((i,l)=>{a.append(`custom_services[${l}][title]`,i.title),a.append(`custom_services[${l}][service_amount]`,i.service_amount.toString())}),await lt(ot.ADMIN.BundleUpdate(t),"POST",a,s)},hN=async(t,e)=>await lt(ot.ADMIN.DeleteBundle(t),"DELETE",void 0,e),fN=({isOpen:t,onClose:e,editingBundle:s})=>{const[a,i]=L.useState([]),[l,c]=L.useState(""),[d,h]=L.useState(""),[f,p]=L.useState(""),[x,w]=L.useState(""),[y,j]=L.useState(""),[A,C]=L.useState(null),[_,E]=L.useState([]),[M,B]=L.useState(!1),[z,ne]=L.useState(!1),K=ts.get("token")||"",U=il(),{data:$,isLoading:te}=Xt({queryKey:["products"],queryFn:()=>dN(K),enabled:!!K&&t}),P=L.useMemo(()=>$?.data||[],[$]),O=()=>nt.replace(/\/api$/,""),H=F=>F?F.startsWith("http")?F:`${O()}${F}`:"/assets/images/newman1.png",G=F=>{const q=a.find(I=>I.id===F.id);i(q?I=>I.filter(se=>se.id!==F.id):I=>[...I,F])},re=os({mutationFn:F=>fL(F,K),onSuccess:()=>{U.invalidateQueries({queryKey:["bundles"]}),le(),e()},onError:F=>{console.error("Error creating bundle:",F),ne(!1),alert("Error creating bundle. Please try again.")}}),ee=os({mutationFn:F=>mL(F.id,F.payload,K),onSuccess:()=>{U.invalidateQueries({queryKey:["bundles"]}),le(),e()},onError:F=>{ne(!1),alert("Error updating bundle. Please try again.")}});L.useEffect(()=>{if(s){if(c(s.title||""),h(s.bundle_type||""),p(s.total_price?String(s.total_price):""),w(s.discount_price?String(s.discount_price):""),j(s.discount_end_date||""),s.bundle_items&&Array.isArray(s.bundle_items)){const F=s.bundle_items.map(I=>I.product_id),q=P.filter(I=>F.includes(I.id));i(q)}E(s.custom_services||[])}else le()},[s,t,P]);const ie=()=>{if(!l||!d||!f||a.length===0){alert("Please fill in all required fields and select at least one product");return}if(!A&&!s){alert("Please select a featured image");return}ne(!0);const F={title:l,bundle_type:d,total_price:parseFloat(f),discount_price:x?parseFloat(x):void 0,discount_end_date:y||void 0,featured_image:A||void 0,items:a.map(q=>q.id),custom_services:_.length>0?_:void 0};s?ee.mutate({id:s.id,payload:F}):re.mutate(F)},le=()=>{i([]),c(""),h(""),p(""),w(""),j(""),C(null),E([]),ne(!1)},ce=F=>{const q=F.target.files?.[0];q&&C(q)},Y=F=>{F.preventDefault(),F.stopPropagation(),B(!0)},de=()=>{B(!1)},T=F=>`${F.toLocaleString()}`;return t?n.jsxs("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:[n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[100vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s?"Edit Bundle":"Product Builder"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full  cursor-pointer",children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"flex justify-end mb-4",children:n.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Add New +"})}),n.jsx("div",{className:"space-y-3 mb-6",children:te?Array.from({length:3}).map((F,q)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-20"})]}),n.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"})]},q)):P.length>0?P.map(F=>{const q=a.find(I=>I.id===F.id);return n.jsxs("div",{onClick:()=>G(F),className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-colors ${q?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:n.jsx("img",{src:H(F.featured_image_url),alt:F.title,className:"w-full h-full object-cover",onError:I=>{I.target.src="/assets/images/newman1.png"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:F.title}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:T(F.price)})]}),n.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${q?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:q&&n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},F.id)}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products available"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Name *"}),n.jsx("input",{type:"text",value:l,onChange:F=>c(F.target.value),placeholder:"Enter bundle name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bundle Type *"}),n.jsxs("select",{value:d,onChange:F=>h(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select bundle type"}),n.jsx("option",{value:"solar_package",children:"Solar Package"}),n.jsx("option",{value:"inverter_package",children:"Inverter Package"}),n.jsx("option",{value:"battery_package",children:"Battery Package"}),n.jsx("option",{value:"custom",children:"Custom Bundle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select the main bundle image"}),n.jsx("div",{className:"w-full",children:A?n.jsxs("div",{className:"w-32 h-24 border border-gray-300 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:URL.createObjectURL(A),alt:"Featured Bundle",className:"w-full h-full object-cover"}),n.jsx("button",{onClick:()=>C(null),className:"absolute top-0 -right-0 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:n.jsx("span",{className:"mb-1",children:""})})]}):n.jsxs("label",{className:"w-32 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"hidden"}),n.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price *"}),n.jsx("input",{type:"number",value:f,onChange:F=>p(F.target.value),placeholder:"Enter total price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price"}),n.jsx("input",{type:"text",value:x,onChange:F=>w(F.target.value),placeholder:"Enter discount price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount End Date"}),n.jsx("input",{type:"date",value:y,onChange:F=>j(F.target.value),placeholder:"dd/mm/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:Y,className:"w-full py-3 px-4 cursor-pointer border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium rounded-full transition-colors",children:"Add Custom Service"}),n.jsx("button",{type:"button",onClick:ie,disabled:z,className:`w-full py-3 px-4 font-medium rounded-full transition-colors flex items-center justify-center ${z?"bg-gray-400 cursor-not-allowed text-white ":s?"bg-[#E8A91D] cursor-pointer hover:bg-[#d89a1a]":"bg-blue-900 cursor-pointer hover:bg-blue-800"}`,children:z?n.jsxs("div",{className:"flex items-center justify-center text-white",children:[n.jsx("div",{className:"animate-spin text-white rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s?"Updating Bundle...":"Creating Bundle..."]}):n.jsx("span",{className:"text-white",children:s?"Update Bundle":"Create Bundle"})})]})]})]}),M&&n.jsx(hL,{isOpen:M,onClose:de})]}):null},pL=async t=>await lt(ot.ADMIN.BundleList,"GET",void 0,t),bv=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-32 cursor-pointer rounded-md border border-[#00000080] bg-white px-2 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-32 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-2 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},xL=()=>{const[t,e]=L.useState(!1),[s,a]=L.useState(""),[i,l]=L.useState(!1),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,y]=L.useState("Categories"),[j,A]=L.useState("Availability"),[C,_]=L.useState(""),E=L.useRef(null),[M,B]=L.useState({}),[z,ne]=L.useState({}),[K,U]=L.useState(!1),[$,te]=L.useState(null),[P,O]=L.useState(null),[H,G]=L.useState(!1),re=ts.get("token")||"",{data:ee,isLoading:ie,error:le}=Xt({queryKey:["products"],queryFn:()=>dN(re),enabled:!!re}),{data:ce,isLoading:Y,error:de}=Xt({queryKey:["bundles"],queryFn:()=>pL(re),enabled:!!re}),{data:T,isLoading:F}=Xt({queryKey:["categories"],queryFn:()=>Ym(re),enabled:!!re}),{data:q,isLoading:I}=Xt({queryKey:["brands"],queryFn:()=>rg(re),enabled:!!re}),se=L.useMemo(()=>ee?.data||[],[ee]),fe=L.useMemo(()=>ce?.data||[],[ce]),be=L.useMemo(()=>T?.data||[],[T]),Se=L.useMemo(()=>q?.data||[],[q]),Oe=ve=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(ve),He=(ve,Ke)=>ve<=0||Ke<=0||Ke>=ve?0:Math.round((ve-Ke)/ve*100),Be=()=>nt.replace(/\/api$/,""),et=ve=>ve?ve.startsWith("http")?ve:`${Be()}${ve}`:"/assets/images/newmanbadge.png",Ae=L.useMemo(()=>{let ve=se;if(C.trim()&&(ve=ve.filter(Ke=>Ke.title.toLowerCase().includes(C.toLowerCase()))),w!=="Categories"){const Ke=be.find(qt=>qt.title===w);Ke&&(ve=ve.filter(qt=>qt.category_id===Ke.id))}if(s){const Ke=Se.find(qt=>qt.id.toString()===s);Ke&&(ve=ve.filter(qt=>qt.brand_id===Ke.id))}return j==="Out of Stock"&&(ve=ve.filter(Ke=>parseInt(Ke.stock)===0)),ve},[se,C,w,s,j,be,Se]),ue=ve=>{B(Ke=>({...Ke,[ve]:!1}))},Dt=ve=>{B(Ke=>({...Ke,[ve]:!1}))},at=ve=>{ne(Ke=>({...Ke,[ve]:!1}))},gt=ve=>{ne(Ke=>({...Ke,[ve]:!1}))};L.useEffect(()=>{if(se.length>0){const ve={};se.forEach(Ke=>{ve[`product-${Ke.id}`]=!0}),B(ve)}},[se]),L.useEffect(()=>{if(fe.length>0){const ve={};fe.forEach(Ke=>{ve[`bundle-${Ke.id}`]=!0}),ne(ve)}},[fe]);const Je=L.useMemo(()=>I?[{value:"",label:"Loading...",icon:null}]:Se.map(ve=>({value:ve.id.toString(),label:ve.title,icon:et(ve.icon)})),[Se,I]),xt=ve=>{a(ve.value),e(!1)},rt=()=>{e(!t)},At=ve=>{d(ve),l(!0)},Pe=()=>{l(!1),d(null)},ut=ve=>{x(ve),f(!0),l(!1)},Te=()=>{f(!1),x(null)},Ge=os({mutationFn:async ve=>await hN(ve,re||""),onSuccess:()=>{U(!1),te(null),window.location.reload()},onError:ve=>{alert("Failed to delete bundle. Please try again."),U(!1),te(null)}}),pt=ve=>{te(ve),U(!0)},jt=()=>{O($),G(!0),U(!1)},ft=()=>{$&&Ge.mutate($.id)};return L.useEffect(()=>{const ve=Ke=>{E.current&&!E.current.contains(Ke.target)&&e(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bv,{options:["Categories",...F?["Loading..."]:be.map(ve=>ve.title)],selected:w,onSelect:y}),n.jsxs("div",{className:"relative",ref:E,children:[n.jsxs("button",{onClick:rt,className:"px-4 py-2 border border-[#00000080] rounded-lg text-sm font-medium bg-white hover:bg-gray-100 text-black focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer flex items-center justify-between w-[120px]",children:[n.jsx("span",{children:s?Je.find(ve=>ve.value===s)?.label:"Brand"}),n.jsx("svg",{className:"w-4 h-4 text-gray-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&n.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-300 rounded-2xl shadow-xl z-50 overflow-y-auto p-2",style:{width:"400px",height:"auto",maxHeight:"450px"},children:Je.map(ve=>n.jsxs("button",{onClick:()=>xt(ve),className:`w-full flex items-center px-4 py-4 rounded-2xl mb-2 transition-colors ${s===ve.value?"bg-blue-50 text-blue-600":"bg-[#f3f3f3] text-gray-800 hover:bg-gray-200"}`,children:[n.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#bebef1] rounded-full",children:n.jsx("img",{src:ve.icon||"",alt:ve.label,className:"w-12 h-12 object-contain",onError:Ke=>{const qt=Ke.currentTarget;qt.style.display="none"}})}),n.jsx("span",{className:"text-lg font-medium",children:ve.label})]},ve.value))})]}),n.jsx(bv,{options:["Availability","All","Out of Stock"],selected:j,onSelect:A})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search products...",value:C,onChange:ve=>_(ve.target.value),className:"pl-10 pr-4 py-2 bg-white border border-[#00000080] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-180"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"All Products"}),ie?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[...Array(8)].map((ve,Ke)=>n.jsxs("div",{className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm animate-pulse",children:[n.jsx("div",{className:"aspect-square bg-gray-200 rounded-t-2xl"}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD]",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsxs("div",{className:"flex justify-between items-center mt-5",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-full w-20"})]})]})]},Ke))}):le?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-red-500",children:"Error loading products. Using fallback data."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mt-4",children:rL.map(ve=>n.jsxs("div",{onClick:()=>At(ve),className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[n.jsx("div",{className:"aspect-square bg-white overflow-hidden p-2.5 relative",onClick:Ke=>{Ke.stopPropagation(),At(ve)},children:n.jsx("img",{src:ve.image||"/assets/images/newman1.png",alt:ve.name,className:"w-full h-full object-cover cursor-pointer",onClick:Ke=>{Ke.stopPropagation(),At(ve)},onError:Ke=>{const qt=Ke.target;qt.src="/assets/images/newmanbadge.png"}})}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:ve.name}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),n.jsxs("div",{className:"flex flex-row gap-1.5",children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),n.jsx("div",{children:n.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Ke=>n.jsx("svg",{className:`w-3 h-3 ${Ke<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ke))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-5",children:[n.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[ve.stock," Orders"]}),n.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),At(ve)},className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},ve.id))})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:Ae.length>0?Ae.map(ve=>{const Ke=He(ve.price,ve.discount_price),qt=ve.old_quantity?Math.round(parseInt(ve.stock)/parseInt(ve.old_quantity)*100):0,Rt={id:ve.id.toString(),name:ve.title,category:"Solar Equipment",price:Oe(ve.discount_price),stock:parseInt(ve.stock),status:"Active",image:et(ve.featured_image_url),description:ve.details.map(it=>it.detail).join(", ")||"No description available"};return n.jsxs("div",{onClick:()=>At(Rt),className:"bg-white rounded-2xl border border-[#CDCDCD] shadow-sm hover:shadow-lg transition-shadow relative overflow-hidden cursor-pointer",children:[n.jsxs("div",{className:"aspect-square bg-white overflow-hidden p-2.5 relative",onClick:it=>{it.stopPropagation(),At(Rt)},children:[M[`product-${ve.id}`]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"})}),n.jsx("img",{src:et(ve.featured_image_url),alt:ve.title,className:"w-full h-full object-cover cursor-pointer",onLoad:()=>ue(`product-${ve.id}`),onError:()=>{Dt(`product-${ve.id}`);const it=document.querySelector(`img[alt="${ve.title}"]`);it&&(it.src="/assets/images/newmanbadge.png")},style:{display:M[`product-${ve.id}`]?"none":"block"},onClick:it=>{it.stopPropagation(),At(Rt)}})]}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-black text-md leading-tight mb-2",children:ve.title}),n.jsxs("div",{className:"border-b border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(ve.discount_price)})}),n.jsx("div",{className:"flex flex-row gap-1.5",children:Ke>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(ve.price)})}),n.jsx("div",{children:n.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",Ke,"%"]})})]})})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[ve.stock,"/",ve.old_quantity]}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:`${qt}%`}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(it=>n.jsx("svg",{className:`w-3 h-3 ${it<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},it))})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-5",children:[n.jsxs("span",{className:"text-xs font-semibold text-black text-[15px]",children:[ve.stock," Stocks"]}),n.jsx("button",{onClick:it=>{it.stopPropagation(),At(Rt)},className:"bg-[#273E8E] hover:bg-[#1e3270] text-white py-3 px-6 rounded-full text-xs font-semibold transition-colors cursor-pointer",children:"View Details"})]})]})]},ve.id)}):n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx("p",{className:"text-gray-500",children:C||w!=="Categories"||s||j!=="Availability"?"No products found matching your filters":"No products available"}),(C||w!=="Categories"||s||j!=="Availability")&&n.jsx("button",{onClick:()=>{_(""),y("Categories"),a(""),A("Availability")},className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline",children:"Clear all filters"})]})})]}),n.jsxs("div",{className:"w-60 border-l border-[#00000080] pl-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Bundles"}),Y?n.jsx("div",{className:"space-y-4",children:[...Array(2)].map((ve,Ke)=>n.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm animate-pulse",children:[n.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-lg"}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD]",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})]},Ke))}):de?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-red-500 text-sm",children:"Error loading bundles"}),n.jsx("div",{className:"space-y-4 mt-4",children:n.jsxs("div",{className:"bg-white rounded-lg border border-[#800080] shadow-sm relative",children:[n.jsx("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5",children:n.jsx("img",{src:ht.minibundle,alt:"Newman Inverter Bundle",className:"w-full h-full object-contain"})}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:"2 Newman Inverters + 1 Solar panel + 4 LED bulbs"}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:"N2,500,000"})}),n.jsxs("div",{className:"flex flex-row gap-1.5",children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:"N5,500,000"})}),n.jsx("div",{children:n.jsx("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1",children:"-50%"})})]})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-black text-[10px]",children:"12/50"}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(ve=>n.jsx("svg",{className:`w-3 h-3 ${ve<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ve))})]})]})]})]})})]}):n.jsx("div",{className:"space-y-4",children:fe.length>0?fe.map(ve=>{if(!ve.title||ve.total_price===0)return null;const Ke=He(ve.total_price,ve.discount_price),qt=ve.bundle_type==="Mini"?"#800080":"#FF0000";return n.jsxs("div",{className:"bg-white rounded-lg border shadow-sm relative cursor-pointer",style:{borderColor:qt},onClick:()=>pt(ve),children:[n.jsxs("div",{className:"aspect-[4/3] bg-white rounded-lg overflow-hidden p-1.5 relative",children:[z[`bundle-${ve.id}`]&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsx("img",{src:et(ve.featured_image_url),alt:ve.title,className:"w-full h-full object-contain",onLoad:()=>at(`bundle-${ve.id}`),onError:()=>{gt(`bundle-${ve.id}`);const Rt=document.querySelector(`img[alt="${ve.title}"]`);Rt&&(Rt.src=ve.bundle_type==="Mini"?ht.minibundle:ht.maxibundle)},style:{display:z[`bundle-${ve.id}`]?"none":"block"}})]}),n.jsxs("div",{className:"p-2.5",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-md mb-2",children:ve.title}),n.jsxs("div",{className:"border-t pt-3 pb-3 border-[#CDCDCD] flex flex-row justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{children:n.jsx("span",{className:"text-[#273E8E] font-bold text-[20px]",children:Oe(ve.discount_price)})}),n.jsx("div",{className:"flex flex-row gap-1.5",children:Ke>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"line-through text-[#00000080] text-[13px]",children:Oe(ve.total_price)})}),n.jsx("div",{children:n.jsxs("span",{className:"text-[#FFA500] bg-[#FFA50033] rounded-full p-1 text-[10px]",children:["-",Ke,"%"]})})]})})]}),n.jsxs("div",{className:"flex flex-col mt-[-5px]",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium text-black text-[10px]",children:[ve.bundle_items.length," items"]}),n.jsx("div",{className:"w-16 bg-[#D9D9D9] rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-green-600 h-2 rounded-full",style:{width:"75%"}})})]}),n.jsx("div",{className:"flex flex-row mt-2",children:[1,2,3,4,5].map(Rt=>n.jsx("svg",{className:`w-3 h-3 ${Rt<=4?"text-[#273E8E]":"text-[#D9D9D9]"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Rt))})]})]})]})]},ve.id)}).filter(Boolean):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"No bundles available"})})})]})]}),n.jsx(uL,{isOpen:i,onClose:Pe,product:c,onEdit:ut}),n.jsx(uN,{isOpen:h,onClose:Te,editingProduct:p}),K&&$&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),n.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[n.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:jt,children:"Edit Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:ft,disabled:Ge.isPending,children:Ge.isPending?"Deleting...":"Delete Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>U(!1),children:"Cancel"})]})]})})}),n.jsx(fN,{isOpen:H,onClose:()=>{G(!1),O(null)},editingBundle:P})]})},yv=({options:t,selected:e,onSelect:s})=>{const[a,i]=L.useState(!1),l=c=>{s(c),i(!1)};return n.jsxs("div",{className:"relative inline-block text-left",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>i(!a),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-50 focus:outline-none",children:[e,n.jsx("img",{src:ht.arrow,alt:""})]})}),a&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:t.map((c,d)=>n.jsx("li",{onClick:()=>l(c),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:c},d))})})]})},gL=async(t,e,s)=>await lt(ot.ADMIN.UpdateOrderStatus(t),"POST",e,s),bL=()=>{const[t,e]=L.useState("Shop Orders"),[s,a]=L.useState([]),[i,l]=L.useState(!1),[c,d]=L.useState("Status"),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,y]=L.useState(!1),[j,A]=L.useState(!1),[C,_]=L.useState(!1),[E,M]=L.useState(null),[B,z]=L.useState(""),[ne,K]=L.useState("All"),[U,$]=L.useState("More Actions"),[te,P]=L.useState(""),[O,H]=L.useState(1),[G]=L.useState(10),[re,ee]=L.useState(!1),[ie,le]=L.useState(null),[ce,Y]=L.useState(null),de=ts.get("token"),{data:T,isLoading:F,isError:q}=Xt({queryKey:["all-orders"],queryFn:()=>BE(de||""),enabled:!!de});console.log("API Response:",T),console.log("Orders Data:",T?.orders);const I=os({mutationFn:async({orderId:Te,status:Ge})=>await gL(Te,{order_status:Ge},de||""),onSuccess:()=>{_(!1),M(null),z(""),console.log("Order status updated successfully")},onError:Te=>{console.error("Failed to update order status:",Te),alert("Failed to update order status. Please try again.")}}),se=os({mutationFn:async Te=>await hN(Te,de||""),onSuccess:()=>{ee(!1),le(null),window.location.reload()},onError:Te=>{alert("Failed to delete bundle. Please try again."),ee(!1),le(null)}}),fe=T?.orders?.map(Te=>{const pt=Te.items?.[0]?.item?.title||"Unknown Product",jt=Te.delivery_address?.title||"Unknown Customer",ft=new Date(Te.created_at),ve=ft.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}),Ke=ft.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return{id:Te.id.toString(),name:jt,productName:pt,amount:`${Number(Te.total_price).toLocaleString()}`,date:ve,time:Ke,status:Te.order_status==="pending"?"Pending":Te.order_status==="completed"?"Delivered":"Ordered"}})||[],be=T?.summary;console.log("Mapped Orders:",fe);const Se=()=>{console.log("Notification clicked")},Oe=Te=>{P(Te.target.value)},He=()=>{a(i?[]:fe.map(Te=>Te.id)),l(!i)},Be=Te=>{s.includes(Te)?a(s.filter(Ge=>Ge!==Te)):a([...s,Te])},et=Te=>{const Ge=T?.orders?.find(pt=>pt.id.toString()===Te.id);x(Ge||null),f(!0)},Ae=Te=>{const Ge=T?.orders?.find(pt=>pt.id.toString()===Te.id);M(Ge||null),z(Te.status),_(!0)},ue=()=>{_(!1),M(null),z("")},Dt=()=>{E&&B&&I.mutate({orderId:E.id.toString(),status:B})},at=()=>{f(!1),x(null)},gt=()=>{Y(ie),y(!0),ee(!1)},Je=()=>{ie&&se.mutate(ie.id)},xt=fe.filter(Te=>{const Ge=c==="Status"||Te.status===c,pt=te===""||Te.name.toLowerCase().includes(te.toLowerCase())||Te.productName.toLowerCase().includes(te.toLowerCase())||Te.id.toLowerCase().includes(te.toLowerCase())||Te.amount.toLowerCase().includes(te.toLowerCase());return Ge&&pt}),rt=Math.ceil(xt.length/G),At=(O-1)*G,Pe=At+G,ut=xt.slice(At,Pe);return _r.useEffect(()=>{H(1)},[te,c,ne]),console.log("Filtered Order Data:",xt),console.log("Status Filter:",c),console.log("Search Query:",te),n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:Se}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shop Management"})}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Shop Orders"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Shop Orders"),children:"Shop Orders"}),n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t==="Products"?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e("Products"),children:"Products"})]}),t==="Products"&&n.jsxs("div",{className:"flex items-center space-x-3 mt-[-25px]",children:[n.jsx("button",{onClick:()=>A(!0),className:"bg-[#273E8E]  hover:bg-[#273E8E] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Upload Product"}),n.jsx("button",{onClick:()=>y(!0),className:"bg-[#E8A91D] hover:bg-[#E8A91D] text-white px-8 py-3.5 rounded-full text-sm font-medium transition-colors shadow-sm cursor-pointer",children:"Create Bundle"})]})]})})}),t==="Shop Orders"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:F?n.jsx(kh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:be?.total_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:be?.pending_orders||0})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Completed Orders"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:be?.completed_orders||0})]})]})})]})}),t==="Shop Orders"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="Loans"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("Loans"),children:"Loans"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${ne==="Direct"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>K("Direct"),children:"Direct"})]}),n.jsx(yv,{options:["More Actions","Export Data","Bulk Action"],selected:U,onSelect:$}),n.jsx(yv,{options:["Status","Ordered","Pending","Delivered"],selected:c,onSelect:d})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search orders...",value:te,onChange:Oe,className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[F?n.jsx(zs,{message:"Loading orders..."}):q?n.jsx("div",{className:"p-8 text-center",children:n.jsx("div",{className:"text-red-500",children:"Failed to load orders. Please try again."})}):n.jsx("div",{children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:i,onChange:He})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Product name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:xt.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:fe.length===0?"No orders found":te?`No orders found matching "${te}"`:"No orders match the current filter"})}):ut.map((Te,Ge)=>n.jsxs("tr",{className:`${Ge%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:s.includes(Te.id),onChange:()=>Be(Te.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:Te.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:Te.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 text-center",children:Te.amount}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[Te.date,"/",Te.time]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:iL(Te.status),children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mr-1.5",style:{backgroundColor:Te.status.toLowerCase()==="delivered"?"#008000":Te.status.toLowerCase()==="pending"?"#FF8C00":Te.status.toLowerCase()==="ordered"?"#5A67D8":"#6B7280"}}),Te.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>et(Te),children:"View Details"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Ae(Te),children:"Update Status"})]})})]},Te.id))})]})}),rt>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",At+1," to ",Math.min(Pe,xt.length)," of ",xt.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>H(Te=>Math.max(Te-1,1)),disabled:O===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${O===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,rt)},(Te,Ge)=>{let pt;return rt<=5||O<=3?pt=Ge+1:O>=rt-2?pt=rt-4+Ge:pt=O-2+Ge,n.jsx("button",{onClick:()=>H(pt),className:`px-3 py-2 text-sm font-medium rounded-md border ${O===pt?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:pt},pt)})}),n.jsx("button",{onClick:()=>H(Te=>Math.min(Te+1,rt)),disabled:O===rt,className:`px-3 py-2 text-sm font-medium rounded-md border ${O===rt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),t==="Products"&&n.jsx(xL,{})]}),n.jsx(oN,{isOpen:h,order:p?{...p,include_user_info:p.include_user_info?{first_name:"",phone:""}:void 0}:null,onClose:at}),n.jsx(fN,{isOpen:w,onClose:()=>{y(!1),Y(null)},editingBundle:ce}),n.jsx(uN,{isOpen:j,onClose:()=>A(!1)}),C&&E&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Order Status"}),n.jsx("button",{onClick:ue,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Update status for order ",n.jsxs("strong",{children:["#",E.id]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:B,onChange:Te=>z(Te.target.value),children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:ue,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Dt,disabled:!B||I.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${B&&!I.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:I.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Update Status"})]})]})}),re&&ie&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm mx-4",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Bundle Actions"}),n.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[n.jsx("button",{className:"w-full py-3 px-4 bg-[#E8A91D] text-white rounded-full font-semibold text-base hover:bg-[#d89a1a] transition-colors",onClick:gt,children:"Edit Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-red-600 text-white rounded-full font-semibold text-base hover:bg-red-700 transition-colors",onClick:Je,disabled:se.isPending,children:se.isPending?"Deleting...":"Delete Bundle"}),n.jsx("button",{className:"w-full py-3 px-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-base hover:bg-gray-300 transition-colors",onClick:()=>ee(!1),children:"Cancel"})]})]})})})]})},vv=[{value:"default",label:"Sort By"},{value:"name",label:"Name"},{value:"referrals",label:"Referrals"},{value:"amount",label:"Amount"},{value:"date",label:"Date"}],yL=async t=>await lt(ot.ADMIN.ReferralSettings,"GET",void 0,t),vL=async(t,e)=>{let s=ot.ADMIN.ReferralList;if(e){const a=new URLSearchParams;e.search&&a.append("search",e.search),e.sort_by&&a.append("sort_by",e.sort_by),e.sort_order&&a.append("sort_order",e.sort_order),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},wL=async(t,e)=>await lt(ot.ADMIN.ReferralSettings,"PUT",t,e),NL=()=>{const[t,e]=L.useState([]),[s,a]=L.useState("default"),[i]=L.useState("desc"),[l,c]=L.useState(""),[d,h]=L.useState(!1),[f,p]=L.useState(""),[x,w]=L.useState(""),[y,j]=L.useState(!1),[A,C]=L.useState(1),[_]=L.useState(15),E=L.useRef(null),M=ts.get("token")||"",B=il(),{data:z,isLoading:ne}=Xt({queryKey:["referral-settings"],queryFn:()=>yL(M),enabled:!!M});L.useEffect(()=>{z?.data&&(p(z.data.commission_percentage?.toString()||""),w(z.data.minimum_withdrawal?.toString()||""))},[z]);const K=L.useMemo(()=>{const ce={per_page:_,page:A};return l&&(ce.search=l),s!=="default"&&(ce.sort_by=s,ce.sort_order=i),ce},[l,s,i,A,_]),{data:U,isLoading:$,isError:te}=Xt({queryKey:["referral-list",K],queryFn:()=>vL(M,K),enabled:!!M}),P=L.useMemo(()=>U?.data?.data||[],[U]),O=L.useMemo(()=>U?.data?.pagination||{current_page:1,last_page:1,per_page:15,total:0},[U]),H=os({mutationFn:ce=>wL(ce,M),onSuccess:()=>{B.invalidateQueries({queryKey:["referral-settings"]}),alert("Settings updated successfully!"),h(!1)},onError:ce=>{console.error("Error updating settings:",ce);const Y=ce?.message||ce?.data?.message||"Failed to update settings. Please try again.";alert(`Error: ${Y}`)}});L.useEffect(()=>{const ce=Y=>{E.current&&!E.current.contains(Y.target)&&j(!1)};return y&&document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},[y]);const G=ce=>{e(ce?P.map(Y=>Y.id.toString()):[])},re=ce=>{e(Y=>Y.includes(ce)?Y.filter(de=>de!==ce):[...Y,ce])},ee=ce=>{a(ce==="default"?"default":{name:"name",referrals:"referral_count",amount:"total_earned",date:"created_at"}[ce]||"created_at"),j(!1),C(1)},ie=()=>{if(!f.trim()||!x.trim()){alert("Please fill in both fields before saving.");return}const ce=parseFloat(f);if(isNaN(ce)||ce<0||ce>100){alert("Please enter a valid commission percentage between 0 and 100.");return}const Y=parseFloat(x.replace(/,/g,""));if(isNaN(Y)||Y<0){alert("Please enter a valid minimum withdrawal amount.");return}H.mutate({commission_percentage:ce,minimum_withdrawal:Y})},le=ce=>ce?`N${(typeof ce=="string"?parseFloat(ce.replace(/,/g,"")):ce).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N0";return L.useEffect(()=>{const ce=setTimeout(()=>{C(1)},500);return()=>clearTimeout(ce)},[l]),n.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[n.jsx(Qn,{}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Referral"}),n.jsx("button",{onClick:()=>h(!0),className:"bg-blue-900 hover:bg-blue-900 text-white cursor-pointer px-5 py-3 rounded-full text-sm font-medium transition-colors",children:"Referral Settings"})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"relative inline-block text-left",ref:E,children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>j(!y),className:"inline-flex justify-between w-48 cursor-pointer rounded-md border border-[#00000080] bg-white px-4 py-2 text-sm font-medium text-black shadow-sm focus:outline-none",children:[vv.find(ce=>{if(s==="default")return ce.value==="default";const Y={name:"name",referral_count:"referrals",total_earned:"amount",created_at:"date"};return ce.value===Y[s]})?.label||"Sort by",n.jsx("img",{src:ht.arrow,alt:""})]})}),y&&n.jsx("div",{className:"absolute mt-2 w-48 origin-top-right rounded-xl shadow-xl bg-white border border-gray-200 z-50",children:n.jsx("ul",{className:"py-2",children:vv.map(ce=>n.jsx("li",{onClick:()=>ee(ce.value),className:"px-4 py-2 text-black text-sm cursor-pointer hover:bg-gray-100",children:ce.label},ce.value))})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by name, email, or user code",value:l,onChange:ce=>c(ce.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:$?n.jsx(zs,{message:"Loading referral data..."}):te?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load referral data. Please try again."}):P.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No referrals found."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB] border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:t.length===P.length&&P.length>0,onChange:ce=>G(ce.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"No of referral"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Amount Earned"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date joined"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map((ce,Y)=>n.jsxs("tr",{className:`${Y%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:t.includes(ce.id.toString()),onChange:()=>re(ce.id.toString()),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:ce.name}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:ce.no_of_referral}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:le(ce.amount_earned)}),n.jsx("td",{className:"px-6 py-4 text-sm text-black text-center",children:ce.date_joined})]},ce.id))})]})}),O.last_page>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",(O.current_page-1)*O.per_page+1," to"," ",Math.min(O.current_page*O.per_page,O.total)," of"," ",O.total," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(ce=>Math.max(ce-1,1)),disabled:O.current_page===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${O.current_page===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,O.last_page)},(ce,Y)=>{let de;return O.last_page<=5||O.current_page<=3?de=Y+1:O.current_page>=O.last_page-2?de=O.last_page-4+Y:de=O.current_page-2+Y,n.jsx("button",{onClick:()=>C(de),className:`px-3 py-2 text-sm font-medium rounded-md border ${O.current_page===de?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:de},de)})}),n.jsx("button",{onClick:()=>C(ce=>Math.min(ce+1,O.last_page)),disabled:O.current_page===O.last_page,className:`px-3 py-2 text-sm font-medium rounded-md border ${O.current_page===O.last_page?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]}),d&&n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),n.jsx("button",{onClick:()=>h(!1),className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Set Commission Percentage"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Enter a number",value:f,onChange:ce=>p(ce.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm pr-10"}),n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl font-light",children:"%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Withdrawal amount"}),n.jsx("input",{type:"text",placeholder:"Enter amount",value:x,onChange:ce=>w(ce.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),n.jsx("button",{onClick:ie,disabled:H.isPending||ne,className:`w-full bg-blue-900 cursor-pointer hover:bg-blue-800 text-white py-3 px-4 rounded-full text-sm font-medium transition-colors mt-8 ${H.isPending||ne?"opacity-50 cursor-not-allowed":""}`,children:H.isPending||ne?"Saving...":"Save"})]})]})})]})},jL=[{value:"alltime",label:"All time"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],_L=async(t,e)=>{let s=ot.ADMIN.Analytics;return e?.period&&(s+=`?period=${e.period}`),await lt(s,"GET",void 0,t)},SL=()=>{const[t,e]=L.useState("alltime"),[s,a]=L.useState("all"),i=ts.get("token")||"",l=L.useMemo(()=>t==="alltime"?"all_time":t,[t]),{data:c,isLoading:d,isError:h,error:f}=Xt({queryKey:["analytics",l],queryFn:()=>_L(i,{period:l}),enabled:!!i}),p=L.useMemo(()=>{if(!c?.data)return null;const{general:w,financial:y,revenue:j}=c.data,A=_=>_?`N${(typeof _=="string"?parseFloat(_.replace(/,/g,"")):_).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N0",C=_=>_==null?"0%":`${(typeof _=="string"?parseFloat(_):_).toFixed(1)}%`;return{general:[{title:"Total Users",value:w?.total_users?.toLocaleString()||"0"},{title:"Active Users",value:w?.active_users?.toLocaleString()||"0"},{title:"Total Orders",value:w?.total_orders?.toLocaleString()||"0"},{title:"Bounce Rate",value:C(w?.bounce_rate||0)},{title:"Deleted Accounts",value:w?.deleted_accounts?.toLocaleString()||"0"},{title:"Total Revenue",value:A(w?.total_revenue||0)},{title:"Total Deposits",value:A(w?.total_deposits||0)},{title:"Total Withdrawals",value:A(w?.total_withdrawals||0)},{title:"Admin Earnings",value:A(w?.admin_earnings||0)},{title:"Top Selling Product",value:w?.top_selling_product||"N/A"}],financial:[{title:"Total Loans",value:y?.total_loans?.toLocaleString()||"0"},{title:"Approved Loans",value:y?.approved_loans?.toLocaleString()||"0"},{title:"Rejected Loans",value:y?.rejected_loans?.toLocaleString()||"0"},{title:"Pending Loans",value:y?.pending_loans?.toLocaleString()||"0"},{title:"Loan amount disbursed",value:A(y?.loan_amount_disbursed||0)},{title:"Top Partner",value:y?.top_partner||"N/A"},{title:"Overdue loans",value:y?.overdue_loans?.toLocaleString()||"0"},{title:"Overdue loan amount",value:A(y?.overdue_loan_amount||0)},{title:"Loan default rate",value:C(y?.loan_default_rate||0)},{title:"Repayment completion",value:C(y?.repayment_completion_rate||0)}],revenue:[{title:"Total Revenue",value:A(j?.total_revenue||0)},{title:"Revenue by product",value:j?.revenue_by_product?.length?.toString()||"0"},{title:"Delivery fees",value:A(j?.delivery_fees||0)},{title:"Installment fee",value:A(j?.installation_fees||0)},{title:"Revenue growth rate",value:C(j?.revenue_growth_rate||0)},{title:"Interests Earned",value:A(j?.interests_earned||0)}],revenueByProduct:j?.revenue_by_product||[]}},[c]),x=({title:w,value:y,className:j=""})=>n.jsxs("div",{className:`bg-white p-4 shadow-sm ${j}`,children:[n.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"#00000080",fontSize:"12px"},children:w}),n.jsx("p",{className:"font-semibold",style:{color:"#000000",fontSize:"20px"},children:y})]});return n.jsxs("div",{className:"min-h-screen bg-[#F5F7FF]",children:[n.jsx(Qn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Analytics"}),n.jsx("div",{className:"bg-white rounded-full p-2 inline-flex gap-1 mb-8 shadow-sm border border-gray-200",children:jL.map(w=>n.jsx("button",{onClick:()=>e(w.value),className:`px-6.5 py-2.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${t===w.value?"bg-blue-900 text-white shadow-sm":"text-[#000000B2] hover:text-black"}`,children:w.label},w.value))}),d&&n.jsx(zs,{message:"Loading analytics data..."}),h&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:n.jsxs("p",{className:"text-red-600",children:["Failed to load analytics data. ",f instanceof Error?f.message:"Please try again."]})}),!d&&!h&&p&&n.jsxs(n.Fragment,{children:[c?.data?.date_range&&n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Period:"})," ",new Date(c.data.date_range.start).toLocaleDateString()," -"," ",new Date(c.data.date_range.end).toLocaleDateString()]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:p.general.slice(0,6).map((w,y)=>n.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},y))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[p.general.slice(6,10).map((w,y)=>n.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},y)),n.jsx("div",{className:"xl:col-span-2"})," "]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:p.financial.slice(0,6).map((w,y)=>n.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},y))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[p.financial.slice(6,10).map((w,y)=>n.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg xl:col-span-1"},y)),n.jsx("div",{className:"xl:col-span-2"})," "]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:p.revenue.map((w,y)=>w.title==="Revenue by product"?n.jsxs("div",{className:"bg-white p-4 shadow-sm border border-[#989898] rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:w.title}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:j=>a(j.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full",children:[n.jsxs("option",{value:"all",children:["All Products (",w.value,")"]}),p.revenueByProduct.length>0?p.revenueByProduct.map((j,A)=>{const C=typeof j.revenue=="string"?parseFloat(j.revenue.replace(/,/g,"")):j.revenue;return n.jsxs("option",{value:j.product_id,children:[j.product_name," - N",C.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]},A)}):n.jsx("option",{value:"none",disabled:!0,children:"No products available"})]}),n.jsx("svg",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]},y):n.jsx(x,{title:w.title,value:w.value,className:"border border-[#989898] rounded-lg"},y))})]})]})]})]})},wr={firstName:"Faizah",surname:"Adewale",email:"Adewalefaizah@gmail.com",bvn:"0234682284",image:"/assets/layout/profile.png",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},mN=[{id:"1",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"2",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"}]},{id:"3",firstName:"Adam",surname:"Anta",email:"abcdefr@gmail.com",bvn:"544856665",password:"**********",image:"/assets/layout/profile.png",role:"Admin",dateJoined:"05-07-25/07:22AM",activity:[{id:"1",description:"User Created account",date:"05-07-25/07:22AM"},{id:"2",description:"User Created account",date:"05-07-25/07:22AM"},{id:"3",description:"User Created account",date:"05-07-25/07:22AM"}]}],pN=({isOpen:t,onClose:e,adminData:s})=>{const[a,i]=L.useState({firstName:s.firstName,surname:s.surname,email:s.email,bvn:s.bvn,password:s.password,role:"Admin"}),[l,c]=L.useState(null),[d,h]=L.useState(null),f=ts.get("token"),p=j=>{const{name:A,value:C}=j.target;i(_=>({..._,[A]:C}))},x=j=>{const A=j.target.files?.[0];if(A){c(A);const C=new FileReader;C.onload=_=>{h(_.target?.result)},C.readAsDataURL(A)}},w=os({mutationFn:async j=>await AC(j,f||""),onSuccess:()=>{console.log("Profile updated successfully"),e()},onError:j=>{console.error("Failed to update profile:",j),alert("Failed to update profile. Please try again.")}}),y=j=>{j.preventDefault();const A=new FormData;a.firstName&&A.append("first_name",a.firstName),a.surname&&A.append("sur_name",a.surname),a.email&&A.append("email",a.email),a.bvn&&A.append("bvn",a.bvn),a.password&&A.append("password",a.password),a.role&&A.append("role",a.role),l&&(console.log("Adding image to FormData:",l.name,l.type,l.size),A.append("profile_picture",l)),console.log("FormData contents:");for(const[C,_]of A.entries())console.log(C,_);w.mutate(A)};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg relative overflow-hidden",style:{width:"600px",height:"700px",maxHeight:"110vh"},children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center cursor-pointer justify-center rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("img",{src:ht.cross,className:"w-7 h-7",alt:""})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",style:{height:"calc(100% - 120px)"},children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:[d?n.jsx("img",{src:d,alt:"Profile preview",className:"w-full h-full object-cover"}):s.image?n.jsx("img",{src:s.image,alt:"Profile",className:"w-full h-full object-cover",onError:j=>{j.currentTarget.style.display="none",j.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-full h-full flex items-center justify-center ${d||s.image?"hidden":""}`,children:n.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[n.jsx("path",{d:"M16 16C19.3137 16 22 13.3137 22 10C22 6.68629 19.3137 4 16 4C12.6863 4 10 6.68629 10 10C10 13.3137 12.6863 16 16 16Z",fill:"#9CA3AF"}),n.jsx("path",{d:"M16 18C21.5228 18 26 22.4772 26 28H6C6 22.4772 10.4772 18 16 18Z",fill:"#9CA3AF"})]})})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),n.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:p,placeholder:"Enter your first name",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surname"}),n.jsx("input",{type:"text",name:"surname",value:a.surname,onChange:p,placeholder:"Enter your surname",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:p,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",value:a.bvn,onChange:p,placeholder:"BVN Number",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",value:a.password,onChange:p,placeholder:"Enter Password",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 cursor-pointer",children:"Role"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"role",value:a.role,onChange:p,className:"w-full px-4 py-3 cursor-pointer border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none bg-white",children:[n.jsx("option",{value:"Admin",children:"Admin"}),n.jsx("option",{value:"Super Admin",children:"Super Admin"}),n.jsx("option",{value:"Manager",children:"Manager"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsx("button",{type:"submit",disabled:w.isPending,className:`w-full bg-[#273E8E] cursor-pointer text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors flex items-center justify-center ${w.isPending?"opacity-50 cursor-not-allowed":""}`,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):"Save"})})]})]})]})}):null},AL=({adminId:t,adminData:e,onGoBack:s})=>{const[a,i]=L.useState(!1),l=e||mN.find(h=>h.id===t);if(!l)return n.jsx("div",{className:"w-full p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-500",children:"Admin not found"}),n.jsx("button",{onClick:s,className:"mt-4 bg-[#273E8E] text-white px-6 py-2 rounded-lg hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Go Back"})]})});const c=()=>{i(!0)},d=()=>{i(!1)};return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Admin ",l.surname]}),n.jsx("button",{onClick:s,className:"text-[#273E8E] text-sm hover:underline flex items-center space-x-1",children:n.jsx("span",{children:"Go back"})})]}),n.jsx("div",{className:"bg-gradient-to-r from-[#4e4376]  to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:n.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:n.jsx("img",{src:l.image||"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),n.jsxs("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:[l.surname," ",l.firstName]}),n.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:l.email}),n.jsx("button",{onClick:c,className:"bg-white text-gray-800 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),n.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[n.jsxs("div",{className:"text-white space-y-8 flex-1",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),n.jsx("p",{className:"text-lg font-medium",children:l.firstName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),n.jsx("p",{className:"text-lg font-medium",children:l.surname})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),n.jsx("p",{className:"text-lg font-medium",children:l.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone Number"}),n.jsx("p",{className:"text-lg font-medium",children:l.phone||"N/A"})]})]}),n.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"User Code"}),n.jsx("p",{className:"text-lg font-medium",children:l.userCode||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Referral Code"}),n.jsx("p",{className:"text-lg font-medium",children:l.referralCode||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Status"}),n.jsx("p",{className:"text-lg font-medium",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.isActive?"bg-green-500":"bg-red-500"}`,children:l.isActive?"Active":"Inactive"})})]})]}),n.jsx("button",{className:"bg-[#FFFFFF] text-black px-6 py-3 rounded-full font-semibold hover:bg-[#FFFFFF] transition-colors cursor-pointer",children:"Delete Admin"})]})]})]})}),n.jsxs("div",{className:"mt-12 px-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[n.jsx("button",{className:"px-5 py-2 text-md rounded-full font-medium transition-colors flex-1 bg-[#273E8E] text-white shadow-sm cursor-pointer",children:"Activity"}),n.jsx("button",{className:"px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 text-gray-600 hover:text-gray-800 cursor-pointer",children:"All Admins"})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm",children:[n.jsx("span",{children:"More Actions"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-medium text-black",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:"Activity"})]})}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-sm font-medium text-black",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.activity.map((h,f)=>n.jsxs("tr",{className:`${f%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-800",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:h.description})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 text-right",children:h.date})]},h.id))})]})})]}),n.jsx(pN,{isOpen:a,onClose:d,adminData:l})]})},CL=({showAddModal:t,setShowAddModal:e,onUserAdded:s,newUser:a,handleInputChange:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(!1),f=ts.get("token"),p=os({mutationFn:y=>uw(y,f||""),onSuccess:()=>{c(""),h(!1),e(!1),i({target:{name:"name",value:""}}),i({target:{name:"email",value:""}}),i({target:{name:"phone",value:""}}),i({target:{name:"bvn",value:""}}),s&&s()},onError:y=>{console.log("Add User Error:",y);let j="Failed to add user. Please try again.";if(y&&typeof y=="object"&&"message"in y){const A=y;j=A.message||j,A.data&&typeof A.data=="object"&&(A.data.message?j=A.data.message:A.data.error?j=A.data.error:A.data.errors&&Array.isArray(A.data.errors)&&(j=A.data.errors.join(", ")))}console.log("Final error message:",j),c(j),h(!0)}}),x=y=>{if(y.preventDefault(),c(""),h(!1),!a.name||!a.email||!a.phone||!a.bvn||!a.password){c("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){c("Please enter a valid email address");return}p.mutate({first_name:a.name,email:a.email,phone:a.phone,bvn:a.bvn,password:a.password,role:"Admin"})},w=a.name&&a.email&&a.phone&&a.bvn&&a.password;return t?n.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end h-[100vh] ",children:[n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-black/30",onClick:()=>{c(""),h(!1),e(!1)}}),n.jsxs("div",{className:"relative bg-white w-[500px] rounded-xl shadow-lg z-10 p-8 h-[750px] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Admin"}),n.jsx("button",{className:"cursor-pointer transition-colors",onClick:()=>{c(""),h(!1),e(!1)},children:n.jsx("img",{src:ht.cross,alt:"",className:"w-8 h-8"})})]}),l&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-md border border-red-100",children:n.jsx("p",{className:"font-medium",children:l})}),n.jsxs("form",{onSubmit:x,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter user's full name",value:a.name,onChange:i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),n.jsx("input",{type:"email",name:"email",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter email address",value:a.email,onChange:i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),n.jsx("input",{type:"password",name:"password",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter password",value:a.password,onChange:i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"text",name:"phone",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter phone number",value:a.phone,onChange:i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"BVN"}),n.jsx("input",{type:"text",name:"bvn",className:"w-full border border-gray-300 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter BVN number",value:a.bvn,onChange:i})]}),n.jsx("button",{type:"submit",disabled:!w||p.isPending,className:`w-full py-3 rounded-full font-semibold text-base transition-colors mt-8 ${w&&!p.isPending?"bg-[#2946A9] cursor-pointer text-white hover:bg-blue-800":"bg-gray-300 cursor-not-allowed text-gray-500"}`,children:p.isPending?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding User..."]}):"Add User"})]})]})]}):null},kL=()=>{const[t,e]=L.useState("activity"),[s,a]=L.useState(!1),[i,l]=L.useState(""),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),w=()=>{a(!0)},y=()=>{a(!1)},j=H=>{d(H)},A=()=>{d(null)},C=()=>{f(!0)},_=H=>{const{name:G,value:re}=H.target;x(ee=>({...ee,[G]:re}))},E=()=>{K()},M=ts.get("token"),{data:B,isLoading:z,isError:ne,refetch:K}=Xt({queryKey:["all-users"],queryFn:()=>hw(M||""),enabled:!!M}),{data:U,isLoading:$}=Xt({queryKey:["current-user"],queryFn:()=>fw(1,M||""),enabled:!!M}),te=B?.data?.["all users data"]?B.data["all users data"].filter(H=>H.role==="Admin").map(H=>({id:String(H.id),firstName:H.first_name,surname:H.sur_name,email:H.email,phone:H.phone||"",bvn:H.bvn||"",password:"**********",image:H.profile_picture||"/assets/layout/profile.png",role:H.role,userCode:H.user_code||"",referralCode:H.refferal_code||"",isActive:H.is_active===1,isVerified:H.is_verified===1,dateJoined:H.created_at?new Date(H.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",activity:[]})):[],P=te.length>0?te:mN;if(c){const H=P.find(G=>G.id===c);return n.jsx(AL,{adminId:c,adminData:H,onGoBack:A})}if($)return n.jsx("div",{className:"w-full bg-[#F5F7FF]",children:n.jsx(zs,{message:"Loading admin profile...",size:"lg"})});const O=U?.data;return n.jsxs("div",{className:"w-full bg-[#F5F7FF]",children:[n.jsx("div",{className:"bg-gradient-to-r from-[#4e4376] to-[#f9d423] rounded-lg mb-6 relative",style:{width:"100%",maxWidth:"1209px",height:"491px",margin:"0 auto"},children:n.jsxs("div",{className:"absolute inset-0 p-12 flex",children:[n.jsxs("div",{className:"bg-gradient-to-br from-[#5D72C2] to-[#FFA50080] bg-opacity-20 border border-[#FFA126] border-opacity-30 rounded-lg p-8 flex flex-col items-center justify-center",style:{width:"310px",height:"100%"},children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white mb-6",children:O?.profile_picture?n.jsx("img",{src:`https://troosolar.hmstech.org/users/${O.profile_picture}`,alt:"Admin Profile",className:"w-full h-full object-cover",onError:H=>{H.currentTarget.src="/assets/images/profile.png"}}):n.jsx("img",{src:"/assets/images/profile.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),n.jsx("h2",{className:"text-[#FFFFFF] text-2xl font-medium mb-2 text-center",children:O?`${O.sur_name} ${O.first_name}`:`${wr.surname} ${wr.firstName}`}),n.jsx("p",{className:"text-[#FFFFFF] text-xs opacity-90 mb-20 text-center",children:O?.email||wr.email}),n.jsx("button",{onClick:w,className:"bg-white text-gray-900 px-8 py-3 rounded-full font-semibold transition-colors w-full max-w-2xl cursor-pointer",children:"Edit Profile"})]}),n.jsxs("div",{className:"flex-1 ml-12 flex justify-between",children:[n.jsxs("div",{className:"text-white space-y-8 flex-1",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"First Name"}),n.jsx("p",{className:"text-lg font-medium",children:O?.first_name||wr.firstName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Surname"}),n.jsx("p",{className:"text-lg font-medium",children:O?.sur_name||wr.surname})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Email Address"}),n.jsx("p",{className:"text-lg font-medium",children:O?.email||wr.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"Phone"}),n.jsx("p",{className:"text-lg font-medium",children:O?.phone||"N/A"})]})]}),n.jsxs("div",{className:"text-white text-right flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-75 mb-1",children:"BVN"}),n.jsx("p",{className:"text-lg font-medium",children:O?.bvn||wr.bvn})]}),n.jsx("button",{onClick:C,className:"bg-white text-[#000000] px-6 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors cursor-pointer",children:"Add new Admin"})]})]})]})}),n.jsxs("div",{className:"mt-12 px-2",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"bg-white rounded-full p-2 shadow-sm border border-[#CDCDCD] flex",style:{width:"235px",height:"60px"},children:[n.jsx("button",{onClick:()=>e("activity"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="activity"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Activity"}),n.jsx("button",{onClick:()=>e("allAdmins"),className:`px-5 py-2 text-sm rounded-full font-medium transition-colors flex-1 cursor-pointer ${t==="allAdmins"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"All Admins"})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsxs("button",{className:"bg-white text-gray-600 px-6 py-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors flex items-center space-x-2 shadow-sm cursor-pointer",children:[n.jsx("span",{children:"More Actions"}),n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:n.jsx("path",{d:"M2 4l4 4 4-4"})})]}),t==="allAdmins"&&n.jsxs("div",{className:"relative w-80",children:[n.jsx("input",{type:"text",placeholder:"Search",value:i,onChange:H=>l(H.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"text-gray-400",children:n.jsx("path",{d:"M7.333 12.667A5.333 5.333 0 1 0 7.333 2a5.333 5.333 0 0 0 0 10.667ZM14 14l-2.9-2.9",stroke:"currentColor",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]}),t==="activity"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-[#EBEBEB] px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("div",{className:"font-medium text-gray-700 text-sm",children:"Activity"})]}),n.jsx("div",{className:"font-medium text-gray-700 text-sm text-center",children:"Date"})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:wr.activity.map((H,G)=>n.jsx("div",{className:`px-6 py-4 ${G%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 hover:bg-gray-50`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-gray-800 text-sm",children:H.description})]}),n.jsx("div",{className:"text-gray-600 text-sm text-center",children:H.date})]})},H.id))})]}),t==="allAdmins"&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:z?n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading admins..."}):ne?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load admins."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{children:"Name"})]})}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Role"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"BVN"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date Joined"}),n.jsx("th",{scope:"col",className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((H,G)=>n.jsxs("tr",{className:`${G%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-medium",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsxs("span",{children:[H.firstName," ",H.surname]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:H.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:H.role}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:H.bvn}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:H.dateJoined}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>j(H.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"View Details"})})]},H.id))})]})})]}),n.jsx(pN,{isOpen:s,onClose:y,adminData:{firstName:O?.first_name||wr.firstName,surname:O?.sur_name||wr.surname,email:O?.email||wr.email,bvn:O?.bvn||wr.bvn,password:"**********",image:O?.profile_picture?`https://troosolar.hmstech.org/users/${O.profile_picture}`:wr.image}}),n.jsx(CL,{showAddModal:h,setShowAddModal:f,onUserAdded:E,newUser:p,handleInputChange:_})]})},EL=async(t,e)=>await lt(ot.ADMIN.AddFinancingPartner,"POST",t,e),LL=async(t,e)=>await lt(ot.ADMIN.DeleteFinancingPartner(t),"GET",void 0,e),DL=async(t,e,s)=>await lt(ot.ADMIN.UpdateFinancingPartner(t),"POST",e,s),ML=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:i})=>{const[l,c]=L.useState({partnerName:"",partnerEmail:"",status:""}),[d,h]=L.useState("");L.useEffect(()=>{c(a&&i?{partnerName:i.name||"",partnerEmail:i.partnerEmail||"",status:i.status||""}:{partnerName:"",partnerEmail:"",status:""})},[a,i,t]);const f=ts.get("token"),p=os({mutationFn:A=>EL({name:A.partnerName,email:A.partnerEmail,status:A.status},f||""),onSuccess:()=>{s(l),c({partnerName:"",partnerEmail:"",status:""}),e()}}),x=os({mutationFn:A=>DL(i?.id,{name:A.partnerName,email:A.partnerEmail,status:A.status},f||""),onSuccess:()=>{s(l),c({partnerName:"",partnerEmail:"",status:""}),e()}}),w=A=>{const{name:C,value:_}=A.target;c(E=>({...E,[C]:_})),C==="partnerEmail"&&h(_&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)?"Please enter a valid email address.":"")},y=()=>{a?x.mutate(l):p.mutate(l)},j=l.partnerName&&l.partnerEmail&&l.status&&!d;return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[550px] max-w-[90vw] max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:a?"Edit Partner":"Add Partner"}),n.jsx("button",{onClick:e,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Name"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",name:"partnerName",value:l.partnerName,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700",placeholder:"Enter partner name"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Partner Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",required:!0,name:"partnerEmail",value:l.partnerEmail,onChange:w,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] bg-white text-gray-700 ${d?"border-red-500":""}`,placeholder:"Enter partner email"}),d&&n.jsx("span",{className:"text-xs text-red-600 mt-1 absolute left-0 top-full",children:d})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"status",value:l.status,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("button",{onClick:y,className:`w-full bg-[#273E8E] text-white py-3 px-6 rounded-full font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer ${j?"":"opacity-50 cursor-not-allowed"}`,disabled:p.isPending||x.isPending||!j,children:p.isPending||x.isPending?"Saving...":"Save"})})]})}):null},Mm=({isOpen:t,onClose:e,onConfirm:s,message:a="Are you sure you want to delete?"})=>t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})}),n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),n.jsx("p",{className:"mb-8 text-gray-700",children:a}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),n.jsx("button",{onClick:s,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})}):null,FL=()=>{const[t,e]=L.useState([]),[s,a]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(null),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,y]=L.useState(""),[j,A]=L.useState(1),[C]=L.useState(10),_=ts.get("token"),{data:E,isLoading:M,isError:B,refetch:z}=Xt({queryKey:["all-finance-partners"],queryFn:()=>cN(_||""),enabled:!!_});L.useEffect(()=>{E?.status==="success"&&Array.isArray(E.data)?(e(E.data.map(le=>({id:String(le.id),name:le["Partner name"]||"",partnerEmail:le.Email||"",numberOfLoans:le["No of Loans"]??0,amount:`N${le.Amount??0}`,dateCreated:le["Date Created"]?new Date(le["Date Created"]).toLocaleString():"",status:le.Status==="active"||le.Status==="Active"?"Active":"Inactive"}))),y(E.message||"")):E?.message&&y(E.message)},[E]);const ne=()=>{l(!1),d(null),a(!0)},K=le=>{const ce=t.find(Y=>Y.id===le);ce&&(l(!0),d(ce),a(!0))},U=()=>{a(!1),l(!1),d(null)},$=le=>{if(i&&c)e(t.map(ce=>ce.id===c.id?{...ce,name:le.partnerName,status:le.status}:ce));else{const ce={id:(t.length+1).toString(),name:le.partnerName,numberOfLoans:0,amount:"N0",dateCreated:new Date().toLocaleDateString(),status:le.status};e([...t,ce])}},te=os({mutationFn:le=>LL(le,_||""),onSuccess:()=>{z()}}),P=le=>{const ce=t.find(Y=>Y.id===le);ce&&(x(ce),f(!0))},O=()=>{p&&(te.mutate(p.id),f(!1),x(null))},H=()=>{f(!1),x(null)},G=Math.ceil(t.length/C),re=(j-1)*C,ee=re+C,ie=t.slice(re,ee);return n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"flex justify-end mb-6",children:n.jsx("button",{onClick:ne,className:"bg-[#273E8E] text-white px-6 py-3 rounded-full font-medium hover:bg-[#273E8E] transition-colors cursor-pointer",children:"Add New Partner"})}),w&&n.jsx("div",{className:"mb-4 px-4 py-3 rounded bg-blue-50 text-blue-700 border border-blue-100",children:w}),n.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:[M?n.jsx(zs,{message:"Loading partners..."}):B?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load partners."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 ",children:n.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"font-medium text-black text-sm",children:"Partner Name"})]})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"No of loans"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Amount"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"font-medium text-black text-sm",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map((le,ce)=>n.jsxs("tr",{className:`${ce%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-8 py-4 text-center",children:n.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[#273E8E] border-gray-300 rounded focus:ring-[#273E8E]"}),n.jsx("span",{className:"text-gray-800 text-sm font-medium",children:le.name})]})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:le.numberOfLoans})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:le.amount})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-gray-600 text-sm",children:le.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${le.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:le.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[n.jsx("button",{onClick:()=>K(le.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-xs hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),n.jsx("button",{onClick:()=>P(le.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-xs hover:bg-[#FF0000] transition-colors cursor-pointer",children:"Delete"})]})})]},le.id))})]}),G>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",re+1," to ",Math.min(ee,t.length)," of ",t.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>A(le=>Math.max(le-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,G)},(le,ce)=>{let Y;return G<=5||j<=3?Y=ce+1:j>=G-2?Y=G-4+ce:Y=j-2+ce,n.jsx("button",{onClick:()=>A(Y),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===Y?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Y},Y)})}),n.jsx("button",{onClick:()=>A(le=>Math.min(le+1,G)),disabled:j===G,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===G?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]}),n.jsx(ML,{isOpen:s,onClose:U,onSave:$,editMode:i,editData:c}),n.jsx(Mm,{isOpen:h,onClose:H,onConfirm:O,message:"Are you sure you want to delete this partner?"})]})},OL=[{id:"inverter",name:"Inverter Load Calculator",isActive:!0},{id:"solar",name:"Solar Panel Calculator",isActive:!1},{id:"battery",name:"Battery Estimator",isActive:!1},{id:"savings",name:"Solar Savings Estimator",isActive:!1}],Gp=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],TL=()=>{const[t,e]=L.useState("1bedroom"),[s,a]=L.useState(Gp.find(h=>h.id==="1bedroom")?.appliances||[]),i=s.reduce((h,f)=>h+f.totalWattage,0),l=h=>{e(h);const f=Gp.find(p=>p.id===h);f&&a([...f.appliances])},c=(h,f)=>{a(p=>p.map(x=>{if(x.id===h){const w=Math.max(0,x.quantity+f);return{...x,quantity:w,totalWattage:x.wattage*w}}return x}))},d=(h,f)=>{a(p=>p.map(x=>x.id===h?{...x,wattage:f,totalWattage:f*x.quantity}:x))};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Inverter Load Calculator"}),n.jsxs("div",{className:"flex gap-8",children:[n.jsx("div",{className:"w-32 space-y-4",children:Gp.map(h=>n.jsxs("button",{onClick:()=>l(h.id),className:`w-full p-5 rounded-2xl bg-white cursor-pointer transition-all ${t===h.id?"border border-[#273E8E]":"border-0"}`,style:{boxShadow:"0 2px 4px rgba(109, 108, 108, 0.25)"},children:[n.jsx("div",{className:"w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:n.jsx("img",{src:h.icon,alt:h.name,className:"w-full h-full object-contain"})}),n.jsx("div",{className:"text-xs font-medium text-gray-700 text-center",children:h.name})]},h.id))}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:s.map(h=>n.jsx("div",{className:"px-6 py-3",children:n.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[n.jsx("div",{className:"text-black text-md font-medium",children:h.name}),n.jsxs("div",{className:"text-center",children:[n.jsx("input",{type:"number",value:h.wattage,onChange:f=>d(h.id,parseInt(f.target.value)||0),className:"w-16 px-2 py-1 text-center border border-gray-300 rounded text-sm"}),n.jsx("span",{className:"text-[#000000] text-md font-semibold ml-1",children:"w"})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>c(h.id,-1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:n.jsx("img",{src:ht.minus,alt:""})}),n.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:h.quantity}),n.jsx("button",{onClick:()=>c(h.id,1),className:"w-10 h-10 flex items-center justify-center transition-colors cursor-pointer",children:n.jsx("img",{src:ht.plus,alt:""})})]}),n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"text-[#000000] text-md font-semibold",children:[h.totalWattage,"w"]})})]})},h.id))})})}),n.jsx("div",{className:"w-96",children:n.jsxs("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 flex items-center gap-4 shadow-lg",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Total Output"}),n.jsxs("div",{className:"bg-white rounded-xl px-12 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner ml-auto",children:[n.jsx("span",{className:"text-2xl font-bold",children:i.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium",children:"Watts"})]})]})})]})]})},PL=[{id:"1bedroom",name:"1 Bedroom",icon:"/assets/images/bedroom1.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"2bedroom",name:"2 Bedroom",icon:"/assets/images/bedroom2.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"3bedroom",name:"3 Bedroom",icon:"/assets/images/bedroom3.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]},{id:"custom",name:"Custom",icon:"/assets/images/custom.png",appliances:[{id:"1",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"2",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"3",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"4",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"5",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"6",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140},{id:"7",name:"Ceiling Fan",wattage:70,quantity:2,totalWattage:140}]}],RL=()=>{const[t,e]=L.useState(PL.find(l=>l.id==="1bedroom")?.appliances||[]),s=t.reduce((l,c)=>l+c.totalWattage,0),a=Math.round(s*1.2),i=(l,c)=>{e(d=>d.map(h=>{if(h.id===l){const f=Math.max(0,h.quantity+c);return{...h,quantity:f,totalWattage:h.wattage*f}}return h}))};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Panel Calculator"}),n.jsxs("div",{className:"flex gap-5",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white rounded-2xl border border-[#00000080] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[#CDCDCD]",children:t.map(l=>n.jsx("div",{className:"px-6 py-3",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[n.jsx("div",{className:"text-white bg-[#273E8E] px-2 py-2 rounded-full w-21.5 text-sm font-medium",children:l.name}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>i(l.id,-1),className:"w-8 h-8 flex items-center justify-center transition-colors",children:n.jsx("img",{src:ht.minus,alt:""})}),n.jsx("span",{className:"w-8 text-center font-medium text-gray-800",children:l.quantity}),n.jsx("button",{onClick:()=>i(l.id,1),className:"w-8 h-8 flex items-center justify-center  transition-colors",children:n.jsx("img",{src:ht.plus,alt:""})})]}),n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"text-black text-md font-semibold",children:[l.totalWattage,"w"]})})]})},l.id))})})}),n.jsx("div",{className:"w-1/3",children:n.jsx("div",{className:"bg-[#273E8E] text-white rounded-2xl px-6 py-4 shadow-lg",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Total Load"}),n.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[n.jsx("span",{className:"text-2xl font-bold",children:s.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium mt-3",children:"Watts"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Inverter Rating"}),n.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 flex items-center gap-2 text-[#273E8E] shadow-inner",children:[n.jsx("span",{className:"text-2xl font-bold",children:a.toLocaleString()}),n.jsx("span",{className:"text-sm font-medium mt-3",children:"VA"})]})]})]})})})]})]})},BL=()=>{const[t,e]=L.useState("inverter");return n.jsxs("div",{className:"w-full ",children:[n.jsx("div",{className:"inline-flex bg-white rounded-full p-2 mb-8 border border-[#CDCDCD]",children:OL.map(s=>n.jsx("button",{onClick:()=>e(s.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===s.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:s.name},s.id))}),t==="inverter"&&n.jsx(TL,{}),t==="solar"&&n.jsx(RL,{}),t==="battery"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Battery Estimator"}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Battery Estimator - Coming Soon"})})]}),t==="savings"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"Solar Savings Estimator"}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Solar Savings Estimator - Coming Soon"})})]})]})},UL=[{id:"notification",label:"Notification"},{id:"banner",label:"Banner"}],IL=({isOpen:t,onClose:e,onSave:s})=>{const[a,i]=L.useState(null),[l,c]=L.useState(""),d=p=>{const x=p.target.files?.[0];x&&i(x)},h=()=>{a&&l.trim()&&(s(a,l),i(null),c(""),e())},f=()=>{i(null),c(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-110 max-w-md mx-4 relative",children:[n.jsx("button",{onClick:f,className:"absolute top-4 right-4 cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Upload Banner"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",id:"banner-upload"}),n.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-12 h-12 mb-3 text-gray-400",children:n.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),n.jsx("p",{className:"text-sm text-gray-500",children:a?a.name:"Upload banner image"}),!a&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click to select an image file"})]})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Link"}),n.jsx("input",{type:"url",value:l,onChange:p=>c(p.target.value),placeholder:"Enter URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),n.jsx("button",{onClick:h,disabled:!a||!l.trim(),className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed cursor-pointer",children:"Save"})]})}):null},qL=async t=>await lt(ot.ADMIN.BannersList,"GET",void 0,t),zL=async(t,e)=>await lt(ot.ADMIN.AddBanner,"POST",t,e),HL=async(t,e)=>await lt(ot.ADMIN.DeleteBanner(t),"DELETE",void 0,e),$L=async(t,e,s)=>await lt(ot.ADMIN.UpdateBanner(t),"PUT",e,s),VL="https://troosolar.hmstech.org",WL=`${VL}/storage`,GL=t=>String(t||"").replace(/^\/+/,""),YL=t=>t?`${WL}/${GL(t)}`:"/assets/images/banner.png",KL=({isModalOpen:t=!1,setIsModalOpen:e}={})=>{const[s,a]=L.useState([]),[i,l]=L.useState(null),[c,d]=L.useState(!1),[h,f]=L.useState(null),p=ts.get("token"),{data:x,isLoading:w,isError:y,refetch:j}=Xt({queryKey:["all-banners"],queryFn:()=>qL(p||""),enabled:!!p});console.log("getAllBanners response:",x),L.useEffect(()=>{x?.data&&a(x.data.map(P=>{const O=String(P.image||""),H=YL(O),G=P.created_at?new Date(P.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"";return{id:String(P.id),image:H,rawPath:O,dateCreated:G,isSelected:!1}}))},[x?.data]);const A=os({mutationFn:async P=>{const O=await zL(P,p||"");return console.log("addBanner response:",O),O},onSuccess:()=>{j(),e&&e(!1)},onError:P=>{console.log("addBanner error:",P),alert("Failed to add banner.")}}),C=os({mutationFn:async P=>{const O=await HL(P,p||"");return console.log("deleteBanner response:",O),O},onSuccess:()=>{j(),d(!1),f(null)},onError:P=>{console.log("deleteBanner error:",P),alert("Failed to delete banner.")}}),_=os({mutationFn:async({id:P,formData:O})=>{const H=await $L(P,O,p||"");return console.log("updateBanner response:",H),H},onSuccess:()=>{j(),l(null),e&&e(!1)},onError:P=>{console.log("updateBanner error:",P),alert("Failed to update banner.")}}),E=P=>{a(O=>O.map(H=>H.id===P?{...H,isSelected:!H.isSelected}:H))},M=P=>{a(O=>O.map(H=>({...H,isSelected:P})))},B=P=>{const O=s.find(H=>H.id===P);O&&(l(O),e&&e(!0))},z=(P,O)=>{if(i)if(P){const H=new FormData;H.append("image",P),_.mutate({id:i.id,formData:H})}else l(null),e&&e(!1);else if(P){const H=new FormData;H.append("image",P),A.mutate(H)}},ne=P=>{const O=s.find(H=>H.id===P);O&&(f(O),d(!0))},K=()=>{d(!1),f(null)},U=()=>{h&&C.mutate(h.id)},$=s.length>0&&s.every(P=>P.isSelected),te=s.some(P=>P.isSelected);return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[w?n.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:"Loading banners..."}):y?n.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load banners."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:$,ref:P=>{P&&(P.indeterminate=te&&!$)},onChange:P=>M(P.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Banner Image"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(P=>n.jsxs("tr",{className:"bg-[#F8F8F8] transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:P.isSelected||!1,onChange:()=>E(P.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center align-middle",children:n.jsx("div",{className:"flex justify-center items-center w-48 h-20 rounded-lg overflow-hidden border border-gray-200 mx-auto",children:n.jsx("img",{src:P.image,alt:`Banner ${P.id}`,className:"w-full h-full object-cover",onError:O=>{const H=O.target;H.src="/assets/images/banner.png"}})})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:P.dateCreated})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-row space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>B(P.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Banner"}),n.jsx("button",{onClick:()=>ne(P.id),className:"bg-red-500 text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},P.id))})]}),!w&&!y&&s.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No banners found."})})]}),n.jsx(IL,{isOpen:t||!!i,onClose:()=>{e&&e(!1),l(null)},onSave:z,...i?{image:i.image,modalTitle:"Edit Banner"}:{modalTitle:"New Banner"}}),c&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-sm w-full shadow-lg relative",children:[n.jsx("button",{onClick:K,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:"/assets/images/cross.png",alt:""})}),n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Confirm Delete"}),n.jsx("p",{className:"mb-8 text-gray-700",children:"Are you sure you want to delete this banner?"}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:K,className:"px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition-colors",children:"No"}),n.jsx("button",{onClick:U,className:"px-6 py-2 rounded-full bg-[#FF0000] text-white font-medium hover:bg-red-600 transition-colors",children:"Yes"})]})]})})]})},QL=({isOpen:t,onClose:e,onSave:s,subject:a="",message:i="",modalTitle:l="New Notification"})=>{const[c,d]=L.useState(a),[h,f]=L.useState(i);L.useEffect(()=>{d(a)},[a,t]),L.useEffect(()=>{f(i)},[i,t]);const p=()=>{(l==="Edit Notification"||c.trim())&&h.trim()&&(s(c,h),d(""),f(""),e())},x=()=>{d(""),f(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 w-150 max-w-2xl mx-4 relative",children:[n.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-xl cursor-pointer",children:n.jsx("img",{src:ht.cross,alt:""})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:l}),l!=="Edit Notification"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"Type subject",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:h,onChange:w=>f(w.target.value),placeholder:"Type Message",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none text-sm resize-none"})]}),n.jsx("button",{onClick:p,className:"w-full bg-[#273E8E] text-white py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Save"})]})}):null},XL=async t=>await lt(ot.ADMIN.NotificationsList,"GET",void 0,t),ZL=async(t,e)=>await lt(ot.ADMIN.AddNotification,"POST",t,e),JL=async(t,e)=>await lt(ot.ADMIN.DeleteNotification(t),"DELETE",void 0,e),eD=async(t,e,s)=>await lt(ot.ADMIN.UpdateNotification(t),"PUT",e,s),tD=()=>{const[t,e]=L.useState("notification"),[s,a]=L.useState([]),[i,l]=L.useState(!1),[c,d]=L.useState(!1),[h,f]=L.useState(null),[p,x]=L.useState(!1),[w,y]=L.useState(null),[j,A]=L.useState(1),[C]=L.useState(10),_=ts.get("token"),{data:E,isLoading:M,isError:B,refetch:z}=Xt({queryKey:["all-notifications"],queryFn:()=>XL(_||""),enabled:!!_});L.useEffect(()=>{E?.data&&a(E.data.map(T=>({id:String(T.id),message:T.message,dateCreated:T.created_at?new Date(T.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",isSelected:!1})))},[E?.data]);const ne=os({mutationFn:async({subject:T,message:F})=>await ZL({subject:T,message:F},_||""),onSuccess:()=>{z(),l(!1)},onError:()=>{alert("Failed to add notification.")}}),K=os({mutationFn:async T=>await JL(T,_||""),onSuccess:()=>{z()},onError:()=>{alert("Failed to delete notification.")}}),U=os({mutationFn:async({id:T,message:F})=>await eD(T,{title:"",message:F,type:""},_||""),onSuccess:()=>{z(),f(null),l(!1)},onError:()=>{alert("Failed to update notification.")}}),$=T=>{a(F=>F.map(q=>q.id===T?{...q,isSelected:!q.isSelected}:q))},te=T=>{a(F=>F.map(q=>({...q,isSelected:T})))},P=T=>{const F=s.find(q=>q.id===T);F&&(f(F),l(!0))},O=T=>{const F=s.find(q=>q.id===T);F&&(y(F),x(!0))},H=()=>{w&&(K.mutate(w.id),x(!1),y(null))},G=()=>{x(!1),y(null)},re=(T,F)=>{h?U.mutate({id:h.id,message:F}):ne.mutate({subject:T,message:F})},ee=s.length>0&&s.every(T=>T.isSelected),ie=s.some(T=>T.isSelected),le=Math.ceil(s.length/C),ce=(j-1)*C,Y=ce+C,de=s.slice(ce,Y);return L.useEffect(()=>{A(1)},[t]),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"inline-flex bg-white rounded-full p-2 border border-[#CDCDCD]",children:UL.map(T=>n.jsx("button",{onClick:()=>e(T.id),className:`px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer ${t===T.id?"bg-[#273E8E] text-white shadow-xs":"text-[#000000B2] hover:text-black"}`,children:T.label},T.id))}),n.jsx("button",{onClick:()=>{f(null),t==="notification"?l(!0):d(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:t==="banner"?"New Banner":"New Notification"})]}),t==="notification"?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[M?n.jsx(zs,{message:"Loading notifications..."}):B?n.jsx("div",{className:"px-6 py-8 text-center text-red-500",children:"Failed to load notifications."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:ee,ref:T=>{T&&(T.indeterminate=ie&&!ee)},onChange:T=>te(T.target.checked),className:"w-4 h-4 text-[#273E8E] bg-[#F8F8F8] border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Notification"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:de.map((T,F)=>n.jsxs("tr",{className:`${F%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:T.isSelected||!1,onChange:()=>$(T.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-800",children:T.message})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:T.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>P(T.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Notification"}),n.jsx("button",{onClick:()=>O(T.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},T.id))})]}),le>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ce+1," to ",Math.min(Y,s.length)," of ",s.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>A(T=>Math.max(T-1,1)),disabled:j===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,le)},(T,F)=>{let q;return le<=5||j<=3?q=F+1:j>=le-2?q=le-4+F:q=j-2+F,n.jsx("button",{onClick:()=>A(q),className:`px-3 py-2 text-sm font-medium rounded-md border ${j===q?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:q},q)})}),n.jsx("button",{onClick:()=>A(T=>Math.min(T+1,le)),disabled:j===le,className:`px-3 py-2 text-sm font-medium rounded-md border ${j===le?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),!M&&!B&&s.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No notifications found."})})]}):n.jsx(KL,{isModalOpen:c,setIsModalOpen:d}),n.jsx(QL,{isOpen:i,onClose:()=>{l(!1),f(null)},onSave:re,...h?{subject:"",message:h.message,modalTitle:"Edit Notification"}:{modalTitle:"New Notification"}}),n.jsx(Mm,{isOpen:p,onClose:G,onConfirm:H,message:"Are you sure you want to delete this notification?"})]})},sD=[{id:"1",categoryName:"Solar Panel",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",categoryName:"Inverter",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1},{id:"3",categoryName:"Batteries",image:"/assets/images/category.png",dateCreated:"05-07-25/07:22AM",status:"Pending",isSelected:!1}],nD=[{id:"1",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"2",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1},{id:"3",brandName:"NewMann",category:"Inverter",dateCreated:"05-07-25/07:22AM",status:"Active",isSelected:!1}],aD=t=>{const e=new FormData;return e.append("title",t.title),e.append("icon",t.icon),e},rD=async(t,e)=>{const s=aD(t);return await lt(ot.ADMIN.AddCategory,"POST",s,e)},iD=async(t,e)=>await lt(ot.ADMIN.DeleteCategory(t),"DELETE",void 0,e),lD="https://troosolar.hmstech.org/api",wv=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(null),[f,p]=L.useState(""),[x,w]=L.useState(null),[y,j]=L.useState(!1),A=ts.get("token");L.useEffect(()=>{a&&i?(c(i.categoryName||""),p(i.status||""),w(i.image||null),h(null),console.log(" Modal opened in edit mode:",{editData:i,categoryName:i.categoryName,status:i.status,imagePreview:i.image})):(c(""),h(null),p(""),w(null),console.log(" Modal opened in add mode  state reset"))},[a,i,t]);const C=z=>{const ne=z.target.files?.[0];if(ne){if(!ne.type.startsWith("image/")){alert("Please select a valid image file");return}if(ne.size>5*1024*1024){alert("Please select an image smaller than 5MB");return}h(ne);const K=URL.createObjectURL(ne);w(K),console.log(" New image selected:",ne)}},_=z=>{z.preventDefault()},E=z=>{z.preventDefault();const ne=z.dataTransfer.files;if(ne.length>0){const K=ne[0];if(K.type.startsWith("image/")){h(K);const U=URL.createObjectURL(K);w(U),console.log(" Image dropped:",K)}else alert("Please drop a valid image file")}},M=async()=>{j(!0);try{if(!a)l&&d&&f&&(console.log(" Adding category:",{title:l,status:f,icon:d.name}),await rD({title:l,icon:d},A||""));else if(i&&l&&f){const z=new FormData;z.append("title",l),z.append("status",f),d&&z.append("icon",d),console.log(" Updating category FormData:",Array.from(z.entries())),await Qs.post(`${lD}/categories/${i.id}/update`,z,{headers:{Authorization:`Bearer ${A}`,Accept:"application/json","Content-Type":"multipart/form-data"}})}await s(l,d,f),c(""),h(null),p(""),w(null),e()}catch(z){console.error("Save error:",z)}finally{j(!1)}},B=()=>{c(""),h(null),p(""),w(null),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Category":"Add Category"}),n.jsx("button",{onClick:B,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"px-6 py-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),n.jsx("input",{type:"text",value:l,onChange:z=>c(z.target.value),placeholder:"Type category name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:_,onDrop:E,onClick:()=>document.getElementById("imageUpload")?.click(),children:[x?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:x,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg mx-auto border-2 border-gray-200"}),n.jsx("button",{onClick:z=>{z.stopPropagation(),h(null),w(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:d?.name}),n.jsx("button",{onClick:z=>{z.stopPropagation(),document.getElementById("imageUpload")?.click()},className:"text-[#273E8E] text-sm font-medium hover:underline",children:"Change Photo"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-700 font-medium",children:"Upload category photo"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Drag and drop your photo here, or click to browse"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Supports: JPG, PNG, GIF (Max: 5MB)"})]})]}),n.jsx("input",{id:"imageUpload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:C,className:"hidden"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:f,onChange:z=>p(z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Update Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Pending",children:"Pending"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"px-6 py-4",children:n.jsx("button",{onClick:M,disabled:!l.trim()||!f||y,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?"Saving...":"Save"})})]})}):null},oD=t=>{const e=new FormData;return e.append("title",t.title),e.append("category_id",t.category_id.toString()),e},cD=async(t,e)=>{const s=oD(t);return await lt(ot.ADMIN.AddBrand,"POST",s,e)},dD=async(t,e,s)=>(console.log("updateBrand called with:",{id:t,payload:e,token:s?"present":"missing"}),await lt(ot.ADMIN.UpdateBrand(t),"PUT",e,s)),uD=async(t,e)=>await lt(ot.ADMIN.DeleteBrand(t),"DELETE",void 0,e),Nv=({isOpen:t,onClose:e,onSave:s,editMode:a=!1,editData:i})=>{const[l,c]=L.useState(""),[d,h]=L.useState(""),[f,p]=L.useState(""),x=ts.get("token"),{data:w,isLoading:y}=Xt({queryKey:["categories"],queryFn:()=>Ym(x||""),enabled:!!x&&t}),j=L.useMemo(()=>w?.data||[],[w]);L.useEffect(()=>{a&&i?(c(i.category||""),h(i.brandName||""),p(i.status||"")):(c(""),h(""),p(""))},[a,i,t]);const A=os({mutationFn:M=>cD({title:M.title,category_id:M.category_id},x||""),onSuccess:()=>{s(l,d,f),c(""),h(""),p(""),e()}}),C=os({mutationFn:M=>dD(M.id,{title:M.title,category_id:M.category_id},x||""),onSuccess:()=>{s(l,d,f),c(""),h(""),p(""),e()}}),_=()=>{if(l.trim()&&d.trim()&&f)if(a&&i){const M={id:i.id,title:d,category_id:l};console.log("Update Brand Payload:",M),console.log("Category Name (ID):",l),console.log("Brand Name:",d),C.mutate(M)}else{const M={title:d,category_id:l};console.log("Add Brand Payload:",M),A.mutate(M)}},E=()=>{c(""),h(""),p(""),e()};return t?n.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-start justify-end z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 relative",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"Edit Brand":"Add Brand"}),n.jsx("button",{onClick:E,className:"w-8 h-8 flex items-center justify-center rounded-full cursor-pointer transition-colors",children:n.jsx("img",{src:ht.cross,alt:""})})]}),n.jsxs("div",{className:"px-6 py-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:l,onChange:M=>c(M.target.value),disabled:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:y?"Loading categories...":"Select category"}),j.map(M=>n.jsx("option",{value:M.id.toString(),children:M.title},M.id))]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:y?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}):n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Name"}),n.jsx("input",{type:"text",value:d,onChange:M=>h(M.target.value),placeholder:"Enter brand name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:f,onChange:M=>p(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E] outline-none appearance-none bg-white text-gray-500",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Pending",children:"Pending"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),n.jsx("div",{className:"px-6 py-4",children:n.jsx("button",{onClick:_,disabled:!l.trim()||!d.trim()||!f,className:"w-full bg-[#273E8E] text-white py-3 rounded-full font-medium hover:bg-[#1f2f7a] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors cursor-pointer",children:A.isPending||C.isPending?"Saving...":"Save"})})]})}):null},hD="https://troosolar.hmstech.org",fD=()=>{const[t,e]=Uv(),s=t.get("subtab"),[a,i]=L.useState(sD),[l,c]=L.useState(nD),[d,h]=L.useState(s&&["categories","brand"].includes(s)?s:"categories");L.useEffect(()=>{if(d&&d!==s){const Qe=t.get("tab")||"product";e({tab:Qe,subtab:d})}},[d,e,t,s]),L.useEffect(()=>{s&&["categories","brand"].includes(s)&&s!==d&&h(s)},[s,d]);const[f,p]=L.useState(!1),[x,w]=L.useState(!1),[y,j]=L.useState(!1),[A,C]=L.useState(null),[_,E]=L.useState(!1),[M,B]=L.useState(null),[z,ne]=L.useState(!1),[K,U]=L.useState(null),[$,te]=L.useState(!1),[P,O]=L.useState(null),[H,G]=L.useState(1),[re]=L.useState(10),[ee,ie]=L.useState(!1),[le,ce]=L.useState(""),Y=L.useRef(null),de=[{value:"",label:"Categories",icon:null},{value:"solar-panels",label:"Solar Panels",icon:"/assets/images/solarpanel.png"},{value:"batteries",label:"Batteries",icon:"/assets/images/batteries.png"},{value:"inverters",label:"Inverters",icon:"/assets/images/inverters.png"},{value:"mttp-chargers",label:"MTTP Chargers",icon:"/assets/images/mttpcharger.png"},{value:"led-bulbs",label:"LED Bulbs",icon:"/assets/images/bulb.png"},{value:"solar-fans",label:"Solar Fans",icon:"/assets/images/solarfans.png"}],T=Qe=>{ce(Qe.value),ie(!1)},F=()=>{ie(!ee)},q=()=>de.find(Qe=>Qe.value===le)||de[0];L.useEffect(()=>{const Qe=ct=>{Y.current&&!Y.current.contains(ct.target)&&ie(!1)};return document.addEventListener("mousedown",Qe),()=>{document.removeEventListener("mousedown",Qe)}},[]);const I=Qe=>{i(ct=>ct.map(We=>We.id===Qe?{...We,isSelected:!We.isSelected}:We))},se=Qe=>{i(ct=>ct.map(We=>({...We,isSelected:Qe})))},fe=ts.get("token"),{data:be,isLoading:Se,isError:Oe,refetch:He}=Xt({queryKey:["all-categories"],queryFn:()=>Ym(fe||""),enabled:!!fe});L.useEffect(()=>{be&&be?.status==="success"&&Array.isArray(be.data)&&i(be.data.map(Qe=>({id:String(Qe.id),categoryName:Qe.title,image:Qe.icon?`${hD}${Qe.icon}`:"/assets/images/category.png",dateCreated:Qe.created_at?new Date(Qe.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[be]);const Be=Qe=>{const ct=a.find(We=>We.id===Qe);ct&&(C(ct),j(!0))},et=async(Qe,ct,We)=>{if(ct){const as=URL.createObjectURL(ct),Xn={id:(a.length+1).toString(),categoryName:Qe,image:as,dateCreated:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"),status:We,isSelected:!1};i(Xs=>[...Xs,Xn])}},Ae=async(Qe,ct,We)=>{j(!1),C(null),He()},ue=Qe=>{c(ct=>ct.map(We=>We.id===Qe?{...We,isSelected:!We.isSelected}:We))},Dt=Qe=>{c(ct=>ct.map(We=>({...We,isSelected:Qe})))},{data:at,isLoading:gt,isError:Je,refetch:xt}=Xt({queryKey:["all-brands"],queryFn:()=>rg(fe||""),enabled:!!fe});L.useEffect(()=>{at&&at?.status==="success"&&Array.isArray(at.data)&&c(at.data.map(Qe=>({id:String(Qe.id),brandName:Qe.title,category:Qe.category_id?String(Qe.category_id):"",dateCreated:Qe.created_at?new Date(Qe.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"-").replace(",","/"):"",status:"Active",isSelected:!1})))},[at]);const rt=os({mutationFn:Qe=>iD(Qe,fe||""),onSuccess:()=>{He()}}),At=Qe=>{const ct=a.find(We=>We.id===Qe);ct&&(B(ct),E(!0))},Pe=()=>{M&&(rt.mutate(M.id),E(!1),B(null))},ut=()=>{E(!1),B(null)},Te=os({mutationFn:Qe=>uD(Qe,fe||""),onSuccess:()=>{xt()}}),Ge=Qe=>{const ct=l.find(We=>We.id===Qe);ct&&(U(ct),ne(!0))},pt=()=>{K&&(Te.mutate(K.id),ne(!1),U(null))},jt=()=>{ne(!1),U(null)},ft=Qe=>{const ct=l.find(We=>We.id===Qe);ct&&(O(ct),te(!0))},ve=async(Qe,ct,We)=>{w(!1),xt()},Ke=async(Qe,ct,We)=>{te(!1),O(null),xt()},qt=a.every(Qe=>Qe.isSelected),Rt=a.some(Qe=>Qe.isSelected),it=l.every(Qe=>Qe.isSelected),Ot=l.some(Qe=>Qe.isSelected),ls=d==="categories"?a:l,mt=Math.ceil(ls.length/re),Gt=(H-1)*re,Tt=Gt+re,As=ls.slice(Gt,Tt);return L.useEffect(()=>{G(1)},[d]),n.jsxs("div",{className:"w-full ",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"bg-[#FFFFFF] rounded-full p-2 flex border border-gray-200 cursor-pointer",children:[n.jsx("button",{onClick:()=>h("categories"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${d==="categories"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Categories"}),n.jsx("button",{onClick:()=>h("brand"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer ${d==="brand"?"bg-[#273E8E] text-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Brand"})]}),n.jsxs("div",{className:"relative",ref:Y,children:[n.jsxs("button",{onClick:F,className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 flex items-center justify-between min-w-[140px] focus:ring-2 focus:ring-[#273E8E] focus:border-[#273E8E]",children:[n.jsxs("div",{className:"flex items-center",children:[q().icon&&n.jsx("img",{src:q().icon||"",alt:q().label,className:"w-4 h-4 mr-2 object-contain",onError:Qe=>{const ct=Qe.target;ct.style.display="none"}}),n.jsx("span",{children:q().label})]}),n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ee&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-y-auto",style:{width:"397px",height:"400px"},children:n.jsx("div",{className:"p-3",children:de.slice(1).map(Qe=>n.jsxs("button",{onClick:()=>T(Qe),className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 flex items-center transition-colors rounded-lg mb-2 last:mb-0 ${le===Qe.value?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-transparent"}`,children:[Qe.icon&&n.jsx("div",{className:"w-14 h-14 mr-4 flex items-center justify-center bg-[#BEBEF1] rounded-full ",children:n.jsx("img",{src:Qe.icon||"",alt:Qe.label,className:"w-12 h-12 object-contain",onError:ct=>{const We=ct.target;We.style.display="none"}})}),n.jsx("span",{className:"font-medium text-gray-800",children:Qe.label})]},Qe.value))})})]})]}),n.jsx("button",{onClick:()=>{d==="categories"?p(!0):w(!0)},className:"bg-[#273E8E] text-white px-6 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:d==="categories"?"Add New Category":"Add New Brand"})]}),d==="categories"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[Se?n.jsx(zs,{message:"Loading categories..."}):Oe?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load categories."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:qt,ref:Qe=>{Qe&&(Qe.indeterminate=Rt&&!qt)},onChange:Qe=>se(Qe.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Category Name"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Image"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:As.map((Qe,ct)=>{const We=Qe;return n.jsxs("tr",{className:`${ct%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:We.isSelected||!1,onChange:()=>I(We.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:We.categoryName})}),n.jsx("td",{className:"px-6 py-4 flex justify-center items-center",children:n.jsx("div",{className:"w-12 h-12  overflow-hidden ",children:n.jsx("img",{src:We.image,alt:`${We.categoryName} category`,className:"w-full h-full object-cover",onError:as=>{const Xn=as.target;Xn.src="/assets/images/category.png"}})})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:We.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${We.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:We.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("button",{onClick:()=>Be(We.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Category"}),n.jsx("button",{onClick:()=>At(We.id),className:"bg-[#FF0000] text-white px-10 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},We.id)})})]}),mt>1&&d==="categories"&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",Gt+1," to ",Math.min(Tt,a.length)," of ",a.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>G(Qe=>Math.max(Qe-1,1)),disabled:H===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${H===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,mt)},(Qe,ct)=>{let We;return mt<=5||H<=3?We=ct+1:H>=mt-2?We=mt-4+ct:We=H-2+ct,n.jsx("button",{onClick:()=>G(We),className:`px-3 py-2 text-sm font-medium rounded-md border ${H===We?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:We},We)})}),n.jsx("button",{onClick:()=>G(Qe=>Math.min(Qe+1,mt)),disabled:H===mt,className:`px-3 py-2 text-sm font-medium rounded-md border ${H===mt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),a.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No categories found."})}),n.jsx(Mm,{isOpen:_,onClose:ut,onConfirm:Pe,message:"Are you sure you want to delete this category?"})]}),d==="brand"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[gt?n.jsx(zs,{message:"Loading brands..."}):Je?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load brands."}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:it,ref:Qe=>{Qe&&(Qe.indeterminate=Ot&&!it)},onChange:Qe=>Dt(Qe.target.checked),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Brand Name"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Category"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Date Created"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Status"})}),n.jsx("th",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-black",children:"Action"})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:As.map((Qe,ct)=>{const We=Qe;return n.jsxs("tr",{className:`${ct%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 px-6 py-4 `,children:[n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("input",{type:"checkbox",checked:We.isSelected||!1,onChange:()=>ue(We.id),className:"w-4 h-4 text-[#273E8E] bg-gray-100 border-gray-300 rounded focus:ring-[#273E8E] focus:ring-2"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:We.brandName})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:We.category})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:"text-sm text-gray-600",children:We.dateCreated})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${We.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:We.status})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[n.jsx("button",{onClick:()=>ft(We.id),className:"bg-[#273E8E] text-white px-5 py-3 rounded-full text-sm font-medium hover:bg-[#1f2f7a] transition-colors cursor-pointer",children:"Edit Brand"}),n.jsx("button",{onClick:()=>Ge(We.id),className:"bg-[#FF0000] text-white px-8 py-3 rounded-full text-sm font-medium hover:bg-red-600 transition-colors cursor-pointer",children:"Delete"})]})})]},We.id)})})]}),mt>1&&d==="brand"&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",Gt+1," to ",Math.min(Tt,l.length)," of ",l.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>G(Qe=>Math.max(Qe-1,1)),disabled:H===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${H===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,mt)},(Qe,ct)=>{let We;return mt<=5||H<=3?We=ct+1:H>=mt-2?We=mt-4+ct:We=H-2+ct,n.jsx("button",{onClick:()=>G(We),className:`px-3 py-2 text-sm font-medium rounded-md border ${H===We?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:We},We)})}),n.jsx("button",{onClick:()=>G(Qe=>Math.min(Qe+1,mt)),disabled:H===mt,className:`px-3 py-2 text-sm font-medium rounded-md border ${H===mt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]}),l.length===0&&n.jsx("div",{className:"px-6 py-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"No brands found."})}),n.jsx(Mm,{isOpen:z,onClose:jt,onConfirm:pt,message:"Are you sure you want to delete this brand?"})]}),n.jsx(wv,{isOpen:f,onClose:()=>p(!1),onSave:et}),n.jsx(wv,{isOpen:y,onClose:()=>{j(!1),C(null)},onSave:Ae,editMode:!0,editData:A}),n.jsx(Nv,{isOpen:x,onClose:()=>w(!1),onSave:ve}),n.jsx(Nv,{isOpen:$,onClose:()=>{te(!1),O(null)},onSave:Ke,editMode:!0,editData:P||void 0})]})},mD=()=>{const[t,e]=Uv(),s=t.get("tab"),a=L.useRef(!1),[i,l]=L.useState(()=>s&&["admins","tools","product","financing","notifications"].includes(s)?s:"admins");L.useEffect(()=>{const d=t.get("tab");i&&d!==i&&(a.current=!0,e({tab:i},{replace:!0}))},[i,e,t]),L.useEffect(()=>{if(a.current){a.current=!1;return}s&&["admins","tools","product","financing","notifications"].includes(s)&&s!==i&&l(s)},[s,i]);const c=[{id:"admins",label:"Admins"},{id:"tools",label:"Tools"},{id:"product",label:"Product"},{id:"financing",label:"Financing Partner"},{id:"notifications",label:"Notifications"}];return n.jsxs("div",{className:"min-[#F5F7FF]  bg-[#F5F7FF]",children:[n.jsx(Qn,{}),n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-3xl font-semibold mb-8",children:"Settings"}),n.jsx("div",{className:"flex gap-8 border-b border-gray-200 text-md mb-6",children:c.map(d=>n.jsxs("button",{onClick:()=>l(d.id),className:`pb-2 cursor-pointer relative ${i===d.id?"text-black font-semibold":"text-[#00000080]"}`,children:[d.label,i===d.id&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#273E8E] rounded-full"})]},d.id))}),n.jsxs("div",{className:i==="admins"?"":"px-6",children:[i==="admins"&&n.jsx(kL,{}),i==="tools"&&n.jsx(BL,{}),i==="product"&&n.jsx(fD,{}),i==="financing"&&n.jsx(FL,{}),i==="notifications"&&n.jsx(tD,{})]})]})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),jv=t=>{const e=xD(t);return e.charAt(0).toUpperCase()+e.slice(1)},xN=(...t)=>t.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),gD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},h)=>L.createElement("svg",{ref:h,...bD,width:e,height:e,stroke:t,strokeWidth:a?Number(s)*24/Number(e):s,className:xN("lucide",i),...!l&&!gD(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>L.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=(t,e)=>{const s=L.forwardRef(({className:a,...i},l)=>L.createElement(yD,{ref:l,iconNode:e,className:xN(`lucide-${pD(jv(t))}`,`lucide-${t}`,a),...i}));return s.displayName=jv(t),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wD=gN("eye-off",vD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jD=gN("eye",ND),Za=({type:t="text",id:e,label:s,placeholder:a,value:i,onChange:l,isPassword:c=!1,hidePassword:d=!1,setHidePassword:h,isMobile:f=!1,icon:p})=>n.jsxs("div",{className:f?"":"mb-4",children:[n.jsx("label",{htmlFor:e,className:"block mb-3  text-[16px] text-gray-600",children:s}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?d?"password":"text":t,id:e,placeholder:a,className:"w-full border border-gray-300 bg-white rounded-lg p-3 pr-12  focus:outline-none focus:ring-2 text-[16px] focus:ring-blue-500",value:i,onChange:l}),!c&&p&&(typeof p=="string"?n.jsx("img",{src:p,alt:"",className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5"}):n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:p})),c&&h&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",onClick:()=>h(!d),children:d?n.jsx(wD,{size:20}):n.jsx(jD,{size:20})})]})]}),_D=()=>{const t=ar(),e=ya(),s=t.pathname==="/login",[a,i]=L.useState({firstName:"",surname:"",email:"",phone:"",bvn:"",password:"",code:""}),[l,c]=L.useState(!0),[d,h]=L.useState(null),{mutate:f,isPending:p}=os({mutationFn:b6,onSuccess:y=>{y?.token&&ts.set("token",y.token,{expires:7}),h(null),e("/dashboard")},onError:y=>{h(y?.message||"Login failed")}}),x=y=>{const{id:j,value:A}=y.target;i(C=>({...C,[j]:A}))},w=y=>{y.preventDefault(),h(null),a.email&&a.password&&f({email:a.email,password:a.password})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"w-full h-screen sm:flex hidden overflow-clip",children:[n.jsxs("div",{className:"relative w-1/2 overflow-hidden",children:[n.jsx("img",{src:ht.loginImage,alt:"Login Visual",className:"w-full h-full object-cover",loading:"lazy"}),n.jsx("div",{className:"absolute bottom-24 left-12 text-white w-[80%]",children:n.jsxs("p",{className:"text-lg  leading-relaxed",children:["Providing affordable, sustainable and reliable ",n.jsx("br",{}),"solar energy solutions for millions ",n.jsx("br",{}),"of Nigerians"]})}),n.jsxs("div",{className:"absolute bottom-6 left-12 flex gap-4",children:[n.jsx("img",{src:ht.insta,alt:"Instagram",className:"h-10 w-10"}),n.jsx("img",{src:ht.whatsApp,alt:"WhatsApp",className:"h-10 w-10"}),n.jsx("img",{src:ht.twitter,alt:"Twitter",className:"h-10 w-10"}),n.jsx("img",{src:ht.yt,alt:"YouTube",className:"h-10 w-10"})]})]}),n.jsx("div",{className:"w-1/2 bg-[#f5f7ff] flex justify-center items-center",children:n.jsx("div",{className:"w-[90%] max-w-[600px] p-6 bg-white rounded-2xl shadow-lg",children:n.jsxs("form",{className:"space-y-6",onSubmit:w,children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:ht.logo1,alt:"Logo",className:"w-[200px] mx-auto mb-6",loading:"lazy"}),n.jsx("h2",{className:"text-3xl font-semibold",children:s?"Login":"Create an Account"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s?"Login to access your account":"Provide your personal information to help us know you better"})]}),n.jsxs("div",{className:"space-y-4",children:[!s&&n.jsxs(n.Fragment,{children:[n.jsx(Za,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x}),n.jsx(Za,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x})]}),n.jsx(Za,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x}),n.jsx("div",{className:"sm:hidden block",children:!s&&n.jsxs(n.Fragment,{children:[n.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x}),n.jsx(Za,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x}),n.jsx(Za,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x})]})}),n.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x})]}),d&&n.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),n.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-lg transition duration-200 flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?n.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:s?"Login":"Create Account"]})]})})})]}),n.jsxs("div",{className:"w-full min-h-screen sm:hidden block relative",children:[n.jsx("img",{src:ht.loginImageForSm,className:"w-full h-[40vh] object-cover",alt:"Mobile Background"}),n.jsxs("div",{className:"bg-[#273e8e] absolute top-[31vh] w-full rounded-t-4xl shadow-md p-6 text-center mb-6",children:[n.jsx("img",{src:ht.smLogo,alt:"Logo",className:"mx-auto mb-2 w-28"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Login":"Create an account"}),n.jsx("p",{className:"text-xs text-white",children:s?"Login to access your account":"Provide your personal information to help us know you better"})]}),n.jsxs("form",{className:"space-y-4 p-4 mt-24",onSubmit:w,children:[!s&&n.jsxs(n.Fragment,{children:[n.jsx(Za,{id:"firstName",label:"First Name",placeholder:"First Name",value:a.firstName,onChange:x,isMobile:!0}),n.jsx(Za,{id:"surname",label:"Surname",placeholder:"Surname",value:a.surname,onChange:x,isMobile:!0})]}),n.jsx(Za,{id:"email",label:"Email",placeholder:"Email",type:"email",value:a.email,onChange:x,isMobile:!0}),!s&&n.jsxs(n.Fragment,{children:[n.jsx(Za,{id:"phone",label:"Phone Number",placeholder:"Phone Number",type:"tel",value:a.phone,onChange:x,isMobile:!0}),n.jsx(Za,{id:"bvn",label:"BVN Number",placeholder:"BVN Number",type:"number",value:a.bvn,onChange:x,isMobile:!0})]}),n.jsx(Za,{id:"password",label:"Password",placeholder:"Password",isPassword:!0,hidePassword:l,setHidePassword:c,value:a.password,onChange:x,isMobile:!0}),!s&&n.jsx(Za,{id:"code",label:"Referral Code (Optional)",placeholder:"Referral Code",type:"number",value:a.code,onChange:x,isMobile:!0}),d&&n.jsx("div",{className:"text-red-600 text-sm text-center",children:d}),n.jsxs("button",{type:"submit",className:`w-full bg-[#273e8e] text-white py-3 rounded-full flex items-center justify-center ${!a.email||!a.password||p?"opacity-60 cursor-not-allowed":""}`,disabled:!a.email||!a.password||p,children:[p?n.jsx("span",{className:"mr-2",children:"Logging in..."}):null,p?null:s?"Login":"Create Account"]})]})]})]})},SD=async t=>await lt(ot.ADMIN.AllTickets,"GET",void 0,t),AD=async(t,e)=>await lt(ot.ADMIN.TicketShow(t),"GET",void 0,e),CD=async(t,e,s)=>await lt(ot.ADMIN.ReplyTicket(t),"POST",e,s),kD=async(t,e,s)=>await lt(ot.ADMIN.TicketStatusUpdate(t),"POST",e,s),ED=({isOpen:t,onClose:e,ticket:s,onStatusUpdate:a})=>{const[i,l]=L.useState("Change Status"),[c,d]=L.useState(""),[h,f]=L.useState([]),p=L.useRef(null),x=ts.get("token"),w=s?.id,{data:y,isLoading:j,isError:A,refetch:C}=Xt({queryKey:["single-ticket-detail",w],queryFn:()=>AD(w||"",x||""),enabled:t&&!!w&&!!x});L.useEffect(()=>{if(!y?.data)return;const K=y.data.messages.map((U,$)=>({id:$,role:U.sender==="admin"?"admin":"user",text:U.message,at:U.date?U.date.replace(" "," / "):""}));f(K),l(y.data.status.charAt(0).toUpperCase()+y.data.status.slice(1))},[y?.data]),L.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[h.length]),L.useEffect(()=>{if(!t)return;const K=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[t,e]);const _=L.useMemo(()=>({id:y?.data?.ticket_id??s?.id??"",subject:y?.data?.subject??"Loan Issues",firstRepayment:"July 3, 2025",userName:y?.data?.user_name??s?.name??"Unknown",status:y?.data?.status??s?.status??"Pending",date:y?.data?.date??s?.date??""}),[y?.data,s]),E=os({mutationFn:async K=>await CD(_.id,{message:K},x||""),onSuccess:()=>{C(),d("")},onError:()=>{alert("Failed to send message.")}}),M=os({mutationFn:async K=>await kD(_.id,{status:K.toLowerCase()},x||""),onSuccess:()=>{C(),a?.(),console.log("Ticket status updated successfully")},onError:K=>{console.error("Failed to update ticket status:",K),alert("Failed to update ticket status.")}}),B=()=>{const K=c.trim();!K||!_.id||E.mutate(K)},z=K=>{K==="Change Status"||!_.id||(console.log("Updating ticket status to:",K),M.mutate(K))},ne=K=>{K.key==="Enter"&&(K.preventDefault(),B())};return!t||!s?null:n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-end bg-black/30 h-full",onMouseDown:K=>{K.target===K.currentTarget&&e()},children:n.jsxs("div",{className:"bg-[#F7F7F8] rounded-2xl w-full max-w-[480px] shadow-xl relative overflow-hidden h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 bg-white",children:[n.jsx("div",{children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Message"})}),n.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[n.jsx("div",{className:"flex justify-end px-5 pt-3 pb-0",children:n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white disabled:opacity-50 disabled:cursor-not-allowed pr-8",value:i,onChange:K=>{const U=K.target.value;l(U),z(U)},disabled:M.isPending,children:[n.jsx("option",{children:"Change Status"}),n.jsx("option",{children:"Pending"}),n.jsx("option",{children:"Answered"}),n.jsx("option",{children:"Closed"})]}),M.isPending&&n.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})}),n.jsx("button",{onClick:e,className:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-gray-100","aria-label":"Close",children:n.jsx("img",{src:ht.cross,alt:"",className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"px-5 pt-3 pb-3",children:n.jsx("div",{className:"rounded-xl bg-white border border-gray-200 p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-y-3 text-sm",children:[n.jsx("div",{className:"text-gray-600",children:"Ticket ID"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.id}),n.jsx("div",{className:"text-gray-600",children:"Subject"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.subject}),n.jsx("div",{className:"text-gray-600",children:"First Repayment"}),n.jsx("div",{className:"text-right font-semibold text-gray-900",children:_.firstRepayment})]})})}),n.jsx("div",{className:"px-5 pb-3 flex-1 overflow-y-auto",children:j?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading messages..."}):A?n.jsx("div",{className:"text-center text-red-500 py-8",children:"Failed to load messages."}):n.jsx("div",{ref:p,className:"flex flex-col gap-3 mt-1 max-h-full pr-1",children:h.map(K=>n.jsx("div",{className:`flex ${K.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:"flex flex-col max-w-[78%]",children:[n.jsx("div",{className:K.role==="user"?"self-end bg-[#273E8E] text-white px-4 py-2 rounded-2xl rounded-tr-md shadow-sm text-sm":"self-start bg-[#F3F3F3] text-gray-900 px-4 py-2 rounded-2xl rounded-tl-md shadow-sm text-sm",children:K.text}),n.jsx("span",{className:`mt-1 text-[11px] ${K.role==="user"?"self-end text-gray-400":"self-start text-gray-400"}`,children:K.at})]})},K.id))})}),n.jsx("div",{className:"px-5 pb-5 pt-2 bg-white border-t border-gray-200",style:{position:"sticky",bottom:0,zIndex:2},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 border border-[#CDCDCD] rounded-full px-4 py-3 text-sm focus:outline-none",value:c,onChange:K=>d(K.target.value),onKeyDown:ne,disabled:E.isPending}),n.jsx("button",{onClick:B,disabled:!c.trim()||E.isPending,className:"p-2 rounded-full bg-[#273E8E] disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#1e3270] transition","aria-label":"Send message",children:n.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:"white",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})]})})]})})]})})},LD=()=>{const[t,e]=L.useState("All"),[s,a]=L.useState(""),[i,l]=L.useState([]),[c,d]=L.useState(!1),[h,f]=L.useState(!1),[p,x]=L.useState(null),[w,y]=L.useState(1),[j]=L.useState(10),A=ts.get("token"),C=il(),{data:_,isLoading:E,isError:M}=Xt({queryKey:["all-tickets"],queryFn:()=>SD(A||""),enabled:!!A}),B=()=>{console.log("Invalidating tickets query to refresh data..."),C.invalidateQueries({queryKey:["all-tickets"]})},z=_?.data?.summary||{total_tickets:0,pending_tickets:0,answered_tickets:0},ne=_?.data?.tickets?.map(re=>({id:String(re.ticket_id),name:re.user_name,productName:re.subject,amount:"",date:re.date?.split(" ")[0]||"",time:re.date?.split(" ")[1]||"",status:re.status.charAt(0).toUpperCase()+re.status.slice(1)}))||[],K=ne.filter(re=>{const ee=t==="All"||re.status.toLowerCase()===t.toLowerCase(),ie=!s||re.name.toLowerCase().includes(s.toLowerCase())||re.productName.toLowerCase().includes(s.toLowerCase())||re.amount.toLowerCase().includes(s.toLowerCase())||re.date.toLowerCase().includes(s.toLowerCase())||re.status.toLowerCase().includes(s.toLowerCase());return ee&&ie}),U=Math.ceil(K.length/j),$=(w-1)*j,te=$+j,P=K.slice($,te);_r.useEffect(()=>{y(1)},[s,t]);const O=()=>{console.log("Notification clicked")},H=()=>{l(c?[]:ne.map(re=>re.id)),d(!c)},G=re=>{i.includes(re)?l(i.filter(ee=>ee!==re)):l([...i,re])};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:O}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tickets"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:E?n.jsx(kh,{count:3}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Tickets"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z.total_tickets})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z.pending_tickets})]})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Answered"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z.answered_tickets})]})]})})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tickets Summary"}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex bg-white rounded-full border border-[#CDCDCD] p-2 shadow-sm",children:[n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="All"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("All"),children:"All"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Pending"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Pending"),children:"Pending"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Answered"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Answered"),children:"Answered"}),n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium cursor-pointer ${t==="Closed"?"bg-[#273E8E] text-white":"text-[#000000B2]"}`,onClick:()=>e("Closed"),children:"Closed"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search",value:s,onChange:re=>a(re.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{children:E?n.jsx(zs,{message:"Loading tickets..."}):M?n.jsx("div",{className:"py-16 text-center text-red-500 text-lg",children:"Failed to load tickets."}):K.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No tickets found."}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:c,onChange:H})}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Ticket Id"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-black",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white",children:P.map((re,ee)=>n.jsxs("tr",{className:`${ee%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",className:"rounded",checked:i.includes(re.id),onChange:()=>G(re.id)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:re.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:re.id}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:re.productName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center",children:[re.date,re.time?`/${re.time}`:""]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full min-w-[90px] border",style:{backgroundColor:re.status.toLowerCase()==="answered"?"#E6F7FF":re.status.toLowerCase()==="pending"?"#FFF4E6":re.status.toLowerCase()==="closed"?"#FFE6E6":"#F5F5F5",color:re.status.toLowerCase()==="answered"?"#008000":re.status.toLowerCase()==="pending"?"#FF8C00":re.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderColor:re.status.toLowerCase()==="answered"?"#008000":re.status.toLowerCase()==="pending"?"#FF8C00":re.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",borderWidth:"1px",borderStyle:"solid"},children:[n.jsx("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:re.status.toLowerCase()==="answered"?"#008000":re.status.toLowerCase()==="pending"?"#FF8C00":re.status.toLowerCase()==="closed"?"#FF0000":"#6B7280",display:"inline-block"}}),re.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>{let ie=re;if(_?.data?.tickets){const le=_.data.tickets.find(ce=>String(ce.ticket_id)===re.id);le&&(ie={...re,id:String(le.ticket_id),name:le.user_name,productName:le.subject,amount:"",date:le.date?.split(" ")[0]||"",time:le.date?.split(" ")[1]||"",status:le.status.charAt(0).toUpperCase()+le.status.slice(1),ticket_id:le.ticket_id})}x(ie),f(!0)},children:"View Details"})})]},re.id))})]})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",$+1," to ",Math.min(te,K.length)," of ",K.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y(re=>Math.max(re-1,1)),disabled:w===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,U)},(re,ee)=>{let ie;return U<=5||w<=3?ie=ee+1:w>=U-2?ie=U-4+ee:ie=w-2+ee,n.jsx("button",{onClick:()=>y(ie),className:`px-3 py-2 text-sm font-medium rounded-md border ${w===ie?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ie},ie)})}),n.jsx("button",{onClick:()=>y(re=>Math.min(re+1,U)),disabled:w===U,className:`px-3 py-2 text-sm font-medium rounded-md border ${w===U?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),n.jsx(ED,{isOpen:h,onClose:()=>f(!1),ticket:p,onStatusUpdate:B})]})},DD=({onNotificationClick:t})=>n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:t}),MD=({stats:t,isLoading:e=!1})=>n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e?Array.from({length:3}).map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#273E8E]"})}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 animate-pulse"})]})]},a)):t.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-5 border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"rounded-full w-16 h-16 flex items-center justify-center",style:{backgroundColor:"#0000FF33"},children:n.jsx("img",{src:s.icon,alt:s.label,className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#0000FF"},children:s.label}),n.jsx("p",{className:"text-2xl font-bold",style:{color:"#0000FF"},children:s.value})]})]},a))}),FD=({moreActionsRef:t,sortByRef:e,showMoreActionsDropdown:s,setShowMoreActionsDropdown:a,showSortByDropdown:i,setShowSortByDropdown:l,selectedMoreAction:c,setSelectedMoreAction:d,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:p,onSearch:x,onAction:w,searchTerm:y=""})=>{const[j,A]=L.useState(y);L.useEffect(()=>{A(y)},[y]);const C=E=>{A(E.target.value),x&&x(E.target.value),w&&w(c)},_=E=>{d(E),a(!1),w&&w(E)};return n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("div",{className:"relative",ref:t,children:[n.jsxs("button",{className:"border cursor-pointer border-[#00000080] rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{a(!s),l(!1)},children:[n.jsx("span",{children:c}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s&&n.jsx("div",{className:"absolute  top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1 ",children:[n.jsx("button",{className:"w-full px-4 cursor-pointer py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("More Actions"),children:"More Actions"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Active"),children:"Active"}),n.jsx("button",{className:"w-full px-4 py-2 cursor-pointer text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>_("Inactive"),children:"Inactive"})]})})]}),n.jsxs("div",{className:"relative",ref:e,children:[n.jsxs("button",{className:"border border-[#00000080] cursor-pointer rounded-[7px] px-4 py-2 text-sm bg-white flex items-center justify-between min-w-[140px] hover:bg-gray-50 transition-colors",onClick:()=>{l(!i),a(!1)},children:[n.jsx("span",{children:h}),n.jsx("svg",{width:"12",height:"6",viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-10",children:n.jsx("path",{d:"M1 1L6 5L11 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),i&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Sort By"),l(!1)},children:"Sort By"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Alphabetically"),l(!1)},children:"Alphabetically"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Date Registered"),l(!1)},children:"Date Registered"}),n.jsx("button",{className:"w-full cursor-pointer px-4 py-2 text-left text-sm hover:bg-gray-50 transition-colors",onClick:()=>{f("Active Users"),l(!1)},children:"Active Users"})]})})]})]}),n.jsx("div",{className:"flex gap-3 mb-3",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"user-search-input",type:"text",placeholder:"Search",value:j,onChange:C,className:"border border-[#00000080] rounded-[5px] pl-10 pr-4 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-w-[300px]"}),n.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 3.5a7.5 7.5 0 0013.65 13.65z"})})})]})})]})},OD=({users:t,dotsDropdownRefs:e,openDropdownIndex:s,setOpenDropdownIndex:a,navigate:i,onApproveLoan:l})=>n.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:t.length===0?n.jsx("div",{className:"py-16 text-center text-gray-500 text-lg",children:"No loan calculations found."}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#EBEBEB] text-black",children:[n.jsx("th",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Name"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Email"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Phone"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"BVN"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Date Registered"}),n.jsx("th",{className:"p-4 text-center font-medium",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((c,d)=>n.jsxs("tr",{className:`${d%2===0?"bg-[#F8F8F8]":"bg-white"} `,children:[n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"checkbox",className:"rounded"})}),n.jsx("td",{className:"p-4 text-center font-medium",children:c.name}),n.jsx("td",{className:"p-4 text-center text-black",children:c.email}),n.jsx("td",{className:"p-4 text-center text-black",children:c.phone}),n.jsx("td",{className:"p-4 text-center text-black",children:c.bvn}),n.jsx("td",{className:"p-4 text-center text-black",children:c.date}),n.jsxs("td",{className:"flex items-center justify-end p-4 gap-2",children:[n.jsx("button",{className:"bg-[#273E8E] text-white px-5 py-2 cursor-pointer rounded-full font-normal transition hover:bg-blue-800",onClick:()=>{l?.(c)},children:"Offer"}),n.jsxs("div",{className:"relative ml-2.5",ref:h=>{e.current[d]=h},children:[n.jsx("img",{className:"cursor-pointer",src:ht.dots,alt:"",onClick:()=>{a(s===d?null:d)}}),s===d&&n.jsx("div",{className:"absolute top-full right-1.5 mt-3 w-48 bg-white border border-gray-200 rounded-md z-10",style:{boxShadow:"0 4px 16px #6D6C6C40"},children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/loans`),a(null)},children:"View Loans"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/transactions`),a(null)},children:"View Transactions"}),n.jsx("button",{className:"w-full px-4 py-2 text-left text-md hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{i(`/user-activity/${c.id}/orders`),a(null)},children:"View Orders"})]})})]})]})]},d))})]})}),TD=()=>{const t=ya(),e=il(),[s,a]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(!1),[h,f]=L.useState("Sort By"),[p,x]=L.useState(null),w=L.useRef(null),y=L.useRef(null),j=L.useRef([]),[A,C]=L.useState({name:"",email:"",phone:"",bvn:"",password:""}),[_,E]=L.useState(!1),[M,B]=L.useState(null),[z,ne]=L.useState({amount:"",duration:""}),K=ts.get("token"),{data:U,isLoading:$,isError:te}=Xt({queryKey:["mono-loan-calculations"],queryFn:()=>LE(K||""),enabled:!!K});console.log("Mono Loan Calculations Data:",U);const P=os({mutationFn:async Be=>{if(!M?.id)throw new Error("No loan selected");return await OC(M.id,Be,K||"")},onSuccess:()=>{console.log("Loan approved successfully"),E(!1),B(null),ne({amount:"",duration:""}),e.invalidateQueries({queryKey:["mono-loan-calculations"]})},onError:Be=>{console.error("Failed to approve loan:",Be),alert("Failed to approve loan. Please try again.")}}),O=_r.useMemo(()=>U?.data?.loan_calculations?U.data.loan_calculations.map(Be=>({id:String(Be.id),name:`${Be.user_first_name} ${Be.user_sur_name}`,email:Be.user_email,phone:Be.user_phone,bvn:"",date:Be.created_at?new Date(Be.created_at).toLocaleDateString("en-GB"):"",is_active:Be.status==="pending"?1:0,loanData:{id:Be.id,user_first_name:Be.user_first_name,user_sur_name:Be.user_sur_name,user_email:Be.user_email,user_phone:Be.user_phone,loan_amount:Be.loan_amount,repayment_duration:Be.repayment_duration,monthly_payment:Be.monthly_payment,interest_percentage:Be.interest_percentage}})):[],[U]),H=U?.data?.summary?[{label:"Total Calculations",value:U.data.summary.total_calculations,icon:"/assets/images/Users.png"},{label:"Approved Calculations",value:U.data.summary.approved_calculations,icon:"/assets/images/Users.png"},{label:"Pending Calculations",value:U.data.summary.pending_calculations,icon:"/assets/images/Users.png"}]:dw,G=Be=>{Be.loanData&&(B(Be.loanData),ne({amount:Be.loanData.loan_amount.toString(),duration:Be.loanData.repayment_duration.toString()}),E(!0))},re=Be=>{if(Be.preventDefault(),!z.amount||!z.duration){alert("Please fill in all fields");return}P.mutate(z)},ee=()=>{E(!1),B(null),ne({amount:"",duration:""})},[ie,le]=L.useState(""),[ce,Y]=L.useState("More Actions"),[de,T]=L.useState(1),[F]=L.useState(10),q=_r.useMemo(()=>{let et=O;return ce==="Active"?et=et.filter(Ae=>Ae.is_active===1):ce==="Inactive"&&(et=et.filter(Ae=>Ae.is_active===0)),ie&&(et=et.filter(Ae=>Ae.name.toLowerCase().includes(ie.toLowerCase())||Ae.email.toLowerCase().includes(ie.toLowerCase())||Ae.phone.toLowerCase().includes(ie.toLowerCase()))),h!=="Sort By"&&(et=[...et].sort((Ae,ue)=>{switch(h){case"Alphabetically":return Ae.name.localeCompare(ue.name);case"Date Registered":try{const Dt=Ae.date?new Date(Ae.date.split("/").reverse().join("-")).getTime():0,at=ue.date?new Date(ue.date.split("/").reverse().join("-")).getTime():0;return isNaN(Dt)&&isNaN(at)?0:isNaN(Dt)?1:isNaN(at)?-1:at-Dt}catch{return 0}case"Active Users":return(ue.is_active||0)-(Ae.is_active||0);default:return 0}})),et},[O,ie,ce,h]),I=Math.ceil(q.length/F),se=(de-1)*F,fe=se+F,be=q.slice(se,fe);L.useEffect(()=>{T(1)},[ie,ce,h]);const Se=Be=>{le(Be)},Oe=Be=>{Y(Be)};L.useEffect(()=>{const Be=et=>{w.current&&!w.current.contains(et.target)&&l(!1),y.current&&!y.current.contains(et.target)&&d(!1),j.current.every(ue=>!ue||!ue.contains(et.target))&&x(null)};return document.addEventListener("mousedown",Be),()=>{document.removeEventListener("mousedown",Be)}},[]);const He=()=>{console.log("Notification clicked in User Management")};return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(DD,{onNotificationClick:He}),n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Loan Approval"}),n.jsx(MD,{stats:H,isLoading:$}),n.jsx("div",{className:"mb-5",children:n.jsx("h1",{className:"font-bold text-2xl",children:"Loan Calculations"})}),n.jsx(FD,{moreActionsRef:w,sortByRef:y,showMoreActionsDropdown:i,setShowMoreActionsDropdown:l,showSortByDropdown:c,setShowSortByDropdown:d,selectedMoreAction:ce,setSelectedMoreAction:Y,selectedSortBy:h,setSelectedSortBy:f,setShowAddModal:a,onSearch:Se,onAction:Oe,searchTerm:ie}),$?n.jsx("div",{className:"py-8 text-center",children:n.jsxs("div",{className:"inline-flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#273E8E]"}),n.jsx("span",{className:"ml-3 text-gray-500",children:"Loading loan calculations..."})]})}):te?n.jsx("div",{className:"py-8 text-center text-red-500",children:"Failed to load loan calculations."}):n.jsxs(n.Fragment,{children:[n.jsx(OD,{users:be,dotsDropdownRefs:j,openDropdownIndex:p,setOpenDropdownIndex:x,navigate:t,onApproveLoan:G}),I>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white mt-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",se+1," to ",Math.min(fe,q.length)," of ",q.length," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T(Be=>Math.max(Be-1,1)),disabled:de===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${de===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,I)},(Be,et)=>{let Ae;return I<=5||de<=3?Ae=et+1:de>=I-2?Ae=I-4+et:Ae=de-2+et,n.jsx("button",{onClick:()=>T(Ae),className:`px-3 py-2 text-sm font-medium rounded-md border ${de===Ae?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:Ae},Ae)})}),n.jsx("button",{onClick:()=>T(Be=>Math.min(Be+1,I)),disabled:de===I,className:`px-3 py-2 text-sm font-medium rounded-md border ${de===I?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}),_&&M&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Offer Loan"}),n.jsx("button",{onClick:ee,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[M.user_first_name," ",M.user_sur_name]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:M.user_email}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Current Loan Details:"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{children:["Amount: ",M.loan_amount?.toLocaleString()]}),n.jsxs("p",{children:["Duration: ",M.repayment_duration," months"]}),n.jsxs("p",{children:["Monthly Payment: ",M.monthly_payment]}),n.jsxs("p",{children:["Interest Rate: ",M.interest_percentage,"%"]})]})]})]}),n.jsxs("form",{onSubmit:re,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Amount"}),n.jsx("input",{type:"number",value:z.amount,onChange:Be=>ne({...z,amount:Be.target.value}),placeholder:"Enter approved amount",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offer Duration (months)"}),n.jsx("input",{type:"number",value:z.duration,onChange:Be=>ne({...z,duration:Be.target.value}),placeholder:"Enter approved duration",className:"w-full px-4 py-3 border border-[#CDCDCD] rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:ee,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:P.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${P.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-[#273E8E] text-white hover:bg-[#1f2f7a] cursor-pointer"}`,children:P.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Offering..."]}):"Offer Loan"})]})]})]})})]})},PD=async(t,e)=>{let s=ot.ADMIN.BNPLApplicationsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.customer_type&&a.append("customer_type",e.customer_type),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},RD=async(t,e)=>await lt(ot.ADMIN.BNPLApplicationShow(t),"GET",void 0,e),BD=async(t,e)=>{let s=ot.ADMIN.BNPLGuarantorsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},UD=async(t,e)=>{let s=ot.ADMIN.BuyNowOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},ID=async(t,e)=>await lt(ot.ADMIN.BuyNowOrderShow(t),"GET",void 0,e),qD=async(t,e)=>{let s=ot.ADMIN.BNPLOrdersList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},zD=async(t,e)=>await lt(ot.ADMIN.BNPLOrderShow(t),"GET",void 0,e),_v=async(t,e)=>await lt(ot.ADMIN.OrderSummary(t),"GET",void 0,e),HD=async(t,e)=>await lt(ot.ADMIN.OrderInvoiceDetails(t),"GET",void 0,e),$D=async(t,e)=>{let s=ot.ADMIN.GetCartProducts;if(e){const a=new URLSearchParams;e.category_id&&a.append("category_id",e.category_id.toString()),e.brand_id&&a.append("brand_id",e.brand_id.toString()),e.type&&a.append("type",e.type);const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},VD=async(t,e)=>await lt(ot.ADMIN.GetUserCart(t),"GET",void 0,e),WD=async(t,e)=>{let s=ot.ADMIN.AuditRequestsList;if(e){const a=new URLSearchParams;e.status&&a.append("status",e.status),e.audit_type&&a.append("audit_type",e.audit_type),e.search&&a.append("search",e.search),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},GD=async(t,e)=>await lt(ot.ADMIN.AuditRequestShow(t),"GET",void 0,e),YD=async(t,e)=>{let s=ot.ADMIN.AuditUsersWithRequests;if(e){const a=new URLSearchParams;e.search&&a.append("search",e.search),e.audit_type&&a.append("audit_type",e.audit_type),e.has_pending!==void 0&&a.append("has_pending",e.has_pending.toString()),e.sort_by&&a.append("sort_by",e.sort_by),e.sort_order&&a.append("sort_order",e.sort_order),e.per_page&&a.append("per_page",e.per_page.toString()),e.page&&a.append("page",e.page.toString());const i=a.toString();i&&(s+=`?${i}`)}return await lt(s,"GET",void 0,t)},KD=async(t,e,s)=>await lt(ot.ADMIN.BNPLApplicationUpdateStatus(t),"PUT",e,s),QD=async(t,e,s)=>await lt(ot.ADMIN.BNPLGuarantorUpdateStatus(t),"PUT",e,s),XD=async(t,e,s)=>await lt(ot.ADMIN.BuyNowOrderUpdateStatus(t),"PUT",e,s),ZD=async(t,e)=>await lt(ot.ADMIN.CreateCustomOrder,"POST",t,e),JD=async(t,e,s)=>await lt(ot.ADMIN.RemoveCartItem(t,e),"DELETE",void 0,s),eM=async(t,e)=>await lt(ot.ADMIN.ClearUserCart(t),"DELETE",void 0,e),tM=async(t,e,s)=>await lt(ot.ADMIN.ResendCartEmail(t),"POST",e,s),sM=async(t,e,s)=>await lt(ot.ADMIN.AuditRequestUpdateStatus(t),"PUT",e,s),nM=()=>{const[t,e]=L.useState("BNPL Applications"),[s,a]=L.useState("All"),[i,l]=L.useState("All"),[c,d]=L.useState(""),[h,f]=L.useState(1),[p]=L.useState(15),[x,w]=L.useState(null),[y,j]=L.useState(!1),[A,C]=L.useState(!1),[_,E]=L.useState("Details"),[M,B]=L.useState(null),[z,ne]=L.useState(null),[K,U]=L.useState(!1),[$,te]=L.useState(!1),[P,O]=L.useState(!1),[H,G]=L.useState({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),[re,ee]=L.useState(!1),[ie,le]=L.useState(!1),[ce,Y]=L.useState(!1),[de,T]=L.useState(null),[F,q]=L.useState(null),[I,se]=L.useState({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),[fe,be]=L.useState([]),[Se,Oe]=L.useState("all"),[He,Be]=L.useState([]),[et,Ae]=L.useState(!1),[ue,Dt]=L.useState({name:"",description:"",price:"",quantity:"1"}),at=ts.get("token")||"",gt=il(),Je=()=>{const X={per_page:p,page:h};return s!=="All"&&(X.status=s.toLowerCase()),t==="Audit Requests"&&i!=="All"&&(X.audit_type=i.toLowerCase()),c&&(X.search=c),X},{data:xt,isLoading:rt}=Xt({queryKey:["bnpl-applications",s,c,h],queryFn:()=>PD(at,Je()),enabled:t==="BNPL Applications"&&!!at}),{data:At,isLoading:Pe}=Xt({queryKey:["bnpl-guarantors",s,h],queryFn:()=>BD(at,Je()),enabled:t==="BNPL Guarantors"&&!!at}),{data:ut,isLoading:Te}=Xt({queryKey:["buy-now-orders",s,c,h],queryFn:()=>UD(at,Je()),enabled:t==="Buy Now Orders"&&!!at}),{data:Ge,isLoading:pt}=Xt({queryKey:["bnpl-orders",s,c,h],queryFn:()=>qD(at,Je()),enabled:t==="BNPL Orders"&&!!at}),{data:jt,isLoading:ft}=Xt({queryKey:["audit-requests",s,i,c,h],queryFn:()=>WD(at,Je()),enabled:t==="Audit Requests"&&!!at}),{data:ve,isLoading:Ke}=Xt({queryKey:["audit-users-with-requests",c,i,s,h],queryFn:()=>YD(at,{search:c||void 0,audit_type:i!=="All Types"?i.toLowerCase().replace(" ","-"):void 0,has_pending:s==="Has Pending"?!0:void 0,sort_by:"last_audit_request_date",sort_order:"desc",per_page:p,page:h}),enabled:t==="Custom Orders"&&!!at}),{data:qt,isLoading:Rt}=Xt({queryKey:["cart-products",Se],queryFn:()=>$D(at,{type:Se}),enabled:t==="Custom Orders"&&re&&!!at}),{data:it,isLoading:Ot,refetch:ls}=Xt({queryKey:["user-cart",de],queryFn:()=>VD(de,at),enabled:t==="Custom Orders"&&!!de&&!!at}),mt=os({mutationFn:async X=>await KD(x.id,X,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["bnpl-applications"]}),C(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),Gt=os({mutationFn:async X=>await QD(x.id,X,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["bnpl-guarantors"]}),C(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),Tt=os({mutationFn:async X=>await XD(x.id,X,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["buy-now-orders"]}),C(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})}}),As=os({mutationFn:async X=>await ZD(X,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["user-cart"]}),ee(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),Be([]),Ae(!1),Dt({name:"",description:"",price:"",quantity:"1"}),gt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Custom order created successfully!")},onError:X=>{alert(X?.message||"Failed to create custom order")}}),Qe=os({mutationFn:async({userId:X,itemId:Ie})=>await JD(X,Ie,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["user-cart"]}),ls(),gt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Item removed from cart successfully")}}),ct=os({mutationFn:async X=>await eM(X,at),onSuccess:()=>{gt.invalidateQueries({queryKey:["user-cart"]}),ls(),gt.invalidateQueries({queryKey:["audit-users-with-requests"]}),alert("Cart cleared successfully")}}),We=os({mutationFn:async({userId:X,payload:Ie})=>await tM(X,Ie,at),onSuccess:()=>{alert("Cart link email sent successfully")}}),as=os({mutationFn:async X=>await sM(X.id,{status:X.status,admin_notes:X.admin_notes},at),onSuccess:()=>{gt.invalidateQueries({queryKey:["audit-requests"]}),C(!1),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),alert("Audit request status updated successfully!")},onError:X=>{alert(X?.message||"Failed to update audit request status")}}),Xn=async X=>{w(X),E("Details"),B(null),ne(null),O(!1);try{let Ie;if(t==="BNPL Applications")Ie=await RD(X.id,at);else if(t==="Buy Now Orders"){if(Ie=await ID(X.id,at),Ie.data?.id)try{U(!0);const yt=await _v(Ie.data.id,at);B(yt.data)}catch(yt){console.error("Failed to fetch order summary:",yt)}finally{U(!1)}}else if(t==="BNPL Orders"){if(Ie=await zD(X.id,at),Ie.data?.id)try{U(!0);const yt=await _v(Ie.data.id,at);B(yt.data)}catch(yt){console.error("Failed to fetch order summary:",yt)}finally{U(!1)}}else t==="Audit Requests"?Ie=await GD(X.id,at):Ie={data:X};w(Ie.data),j(!0)}catch(Ie){console.error("Failed to fetch details:",Ie),alert("Failed to load details. Please try again.")}},Xs=async()=>{if(!(!x?.id||$))try{te(!0),O(!1);const X=await HD(x.id,at);ne(X.data)}catch(X){console.error("Failed to fetch invoice:",X),X?.response?.status===404||X?.status===404?(O(!0),ne(null)):alert("Failed to load invoice details.")}finally{te(!1)}},Zn=X=>{w(X),G({status:X.status||X.order_status||"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""}),C(!0)},ka=()=>{if(!H.status){alert("Please select a status");return}const X={status:H.status};H.admin_notes&&(X.admin_notes=H.admin_notes),H.status==="counter_offer"&&(H.counter_offer_min_deposit&&(X.counter_offer_min_deposit=Number(H.counter_offer_min_deposit)),H.counter_offer_min_tenor&&(X.counter_offer_min_tenor=Number(H.counter_offer_min_tenor))),t==="BNPL Applications"?mt.mutate(X):t==="BNPL Guarantors"?Gt.mutate(X):t==="Buy Now Orders"?Tt.mutate({order_status:H.status,admin_notes:H.admin_notes}):t==="Audit Requests"&&as.mutate({id:x.id,status:H.status,admin_notes:H.admin_notes})},Pt=()=>{switch(t){case"BNPL Applications":return xt?.data;case"BNPL Guarantors":return At?.data;case"Buy Now Orders":return ut?.data;case"BNPL Orders":return Ge?.data;case"Audit Requests":return jt?.data;case"Custom Orders":return null;default:return null}},Sn=()=>{switch(t){case"BNPL Applications":return rt;case"BNPL Guarantors":return Pe;case"Buy Now Orders":return Te;case"BNPL Orders":return pt;case"Audit Requests":return ft;case"Custom Orders":return Ke;default:return!1}},xs=X=>{const Ie=X.toLowerCase();return Ie==="approved"||Ie==="delivered"||Ie==="completed"?{backgroundColor:"#10B981",color:"white"}:Ie==="pending"||Ie==="processing"?{backgroundColor:"#F59E0B",color:"white"}:Ie==="rejected"||Ie==="cancelled"?{backgroundColor:"#EF4444",color:"white"}:Ie==="counter_offer"||Ie==="shipped"?{backgroundColor:"#3B82F6",color:"white"}:{backgroundColor:"#6B7280",color:"white"}},bt=X=>`${Number(X).toLocaleString()}`,Ds=X=>new Date(X).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),Ms=Pt(),mn=t!=="Custom Orders"?Ms?.data||[]:[],nn=t!=="Custom Orders"?Ms?.total||0:ve?.data?.pagination?.total||0,Hn=Math.ceil(nn/p);return L.useEffect(()=>{f(1)},[s,i,c,t]),n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BNPL & Buy Now Management"})}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:["BNPL Applications","BNPL Guarantors","Buy Now Orders","BNPL Orders","Audit Requests","Custom Orders"].map(X=>n.jsx("button",{className:`py-2 px-1 border-b-4 font-medium text-md cursor-pointer ${t===X?"border-[#273E8E] text-black":"border-transparent text-[#00000080]"}`,onClick:()=>e(X),children:X},X))})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Sn()?n.jsx(kh,{count:3}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 h-[120px]",style:{boxShadow:"5px 5px 10px 0px rgba(109, 108, 108, 0.25)"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-19 h-19 bg-[#0000FF33] rounded-full flex items-center justify-center",children:n.jsx("img",{src:ht.users,alt:"",className:"w-9 h-9 object-contain"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:nn})]})]})})})}),n.jsx("div",{className:"mb-6 bg-white rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:s,onChange:X=>a(X.target.value),children:[n.jsx("option",{value:"All",children:"All Status"}),t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t==="Audit Requests"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"completed",children:"Completed"})]})]}),(t==="Audit Requests"||t==="Custom Orders")&&n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:i,onChange:X=>l(X.target.value),children:[n.jsx("option",{value:"All Types",children:"All Types"}),n.jsx("option",{value:"home-office",children:"Home/Office"}),n.jsx("option",{value:"commercial",children:"Commercial"})]}),t==="Custom Orders"&&n.jsxs("select",{className:"border border-[#CDCDCD] rounded-lg px-4 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:s,onChange:X=>a(X.target.value),children:[n.jsx("option",{value:"All",children:"All Users"}),n.jsx("option",{value:"Has Pending",children:"Has Pending Requests"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:X=>d(X.target.value),className:"pl-12 pr-6 py-3.5 border border-[#00000080] rounded-lg text-[15px] w-[320px] focus:outline-none bg-white shadow-[0_2px_6px_rgba(0,0,0,0.05)] placeholder-gray-400"}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),t==="Custom Orders"?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Orders Management"}),ve?.data?.data?.length>0&&n.jsx("button",{onClick:()=>ee(!0),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-6 py-3 rounded-full text-sm font-medium transition-colors cursor-pointer",children:"Create Custom Order"})]})}),Ke?n.jsx(zs,{message:"Loading users with audit requests..."}):ve?.data?.data?.length===0?n.jsx("div",{className:"p-12 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No users found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"There are no users with audit requests at the moment. Users who request audit services will appear here."})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#EBEBEB] border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Phone"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Audit Requests"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status Summary"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Property Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:ve?.data?.data?.map((X,Ie)=>{const yt=X.audit_requests?.some(Bt=>Bt.has_property_details),ss=X.audit_requests?.some(Bt=>Bt.audit_type==="commercial"&&!Bt.has_property_details&&Bt.status==="pending");return n.jsxs("tr",{className:`${Ie%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0 hover:bg-gray-50 cursor-pointer`,onClick:async()=>{q(X),T(X.id),Y(!0),ls()},children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.phone}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-medium",children:[X.audit_request_count||0," total"]}),X.pending_count>0&&n.jsxs("span",{className:"text-xs text-orange-600",children:[X.pending_count," pending"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[X.approved_count>0&&n.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:[X.approved_count," Approved"]}),X.rejected_count>0&&n.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:[X.rejected_count," Rejected"]}),X.completed_count>0&&n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[X.completed_count," Completed"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:ss?n.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded",children:" Needs Details"}):yt?n.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:" Details Shared"}):n.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:"No Details"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:async Bt=>{Bt.stopPropagation(),q(X),T(X.id),Y(!0),ls()},children:"View Details"})})]},X.id)})})]})}),ve?.data?.pagination&&ve.data.pagination.last_page>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",ve.data.pagination.from," to"," ",ve.data.pagination.to," of ",ve.data.pagination.total," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(X=>Math.max(X-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:ve.data.pagination.last_page},(X,Ie)=>Ie+1).slice(Math.max(0,h-2),Math.min(ve.data.pagination.last_page,h+3)).map(X=>n.jsx("button",{onClick:()=>f(X),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===X?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:X},X))}),n.jsx("button",{onClick:()=>f(X=>Math.min(X+1,ve.data.pagination.last_page)),disabled:h===ve.data.pagination.last_page,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===ve.data.pagination.last_page?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})]}):n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:Sn()?n.jsx(zs,{message:"Loading..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 bg-[#EBEBEB]",children:[t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Loan Amount"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Duration"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Phone"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Email"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Total Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]}),t==="Audit Requests"&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Property Address"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-black",children:"Actions"})]})]})}),n.jsx("tbody",{className:"bg-white",children:mn.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No data found"})}):mn.map((X,Ie)=>n.jsxs("tr",{className:`${Ie%2===0?"bg-[#F8F8F8]":"bg-white"} transition-colors border-b border-gray-100 last:border-b-0`,children:[t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:bt(X.loan_amount)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[X.repayment_duration," months"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ds(X.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.full_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.phone}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:X.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ds(X.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:bt(X.total_price)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.order_status),children:X.order_status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ds(X.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]}),t==="Audit Requests"&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.id}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[X.user?`${X.user.first_name} ${X.user.sur_name}`:"N/A",n.jsx("br",{}),n.jsx("span",{className:"text-xs text-gray-500",children:X.user?.email||""})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[n.jsx("span",{className:"capitalize",children:X.audit_type?.replace("-","/")||"N/A"}),X.audit_type==="commercial"&&!X.property_address&&n.jsx("span",{className:"ml-2 text-xs text-orange-600 font-semibold",children:"(Needs Details)"})]}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[X.property_address||n.jsx("span",{className:"text-gray-400 italic",children:"Not provided"}),X.property_state&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",X.property_state,")"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(X.status),children:X.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ds(X.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Xn(X),children:"View"}),n.jsx("button",{className:"bg-[#10B981] hover:bg-[#059669] text-white px-4 py-2 rounded-full text-sm font-medium transition-colors cursor-pointer",onClick:()=>Zn(X),children:"Update"})]})})]})]},X.id))})]})}),Hn>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[n.jsx("div",{className:"flex items-center text-sm text-gray-700",children:n.jsxs("span",{children:["Showing ",(h-1)*p+1," to"," ",Math.min(h*p,nn)," of ",nn," results"]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(X=>Math.max(X-1,1)),disabled:h===1,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===1?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Hn)},(X,Ie)=>{let yt;return Hn<=5||h<=3?yt=Ie+1:h>=Hn-2?yt=Hn-4+Ie:yt=h-2+Ie,n.jsx("button",{onClick:()=>f(yt),className:`px-3 py-2 text-sm font-medium rounded-md border ${h===yt?"bg-[#273E8E] text-white border-[#273E8E]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:yt},yt)})}),n.jsx("button",{onClick:()=>f(X=>Math.min(X+1,Hn)),disabled:h===Hn,className:`px-3 py-2 text-sm font-medium rounded-md border ${h===Hn?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 cursor-pointer"}`,children:"Next"})]})]})]})})]}),y&&x&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t==="BNPL Applications"?"BNPL Application Details":t==="BNPL Guarantors"?"Guarantor Details":t==="Audit Requests"?"Audit Request Details":"Order Details"}),n.jsx("button",{onClick:()=>{j(!1),w(null),B(null),ne(null),O(!1),E("Details")},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsx("div",{className:"border-b border-gray-200 mb-4",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:["Details","Summary","Invoice"].map(X=>n.jsx("button",{onClick:()=>{E(X),X==="Invoice"&&!z&&!P&&Xs(),X!=="Invoice"&&O(!1)},className:`py-2 px-1 border-b-2 font-medium text-sm ${_===X?"border-[#273E8E] text-[#273E8E]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:X},X))})}),_==="Details"&&n.jsx("div",{className:"space-y-6",children:t==="Buy Now Orders"||t==="BNPL Orders"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border border-green-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Order Overview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[x.payment_status&&n.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(x.payment_status),children:["Payment: ",x.payment_status]}),x.order_status&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full",style:xs(x.order_status),children:x.order_status})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order ID"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Price"}),n.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:bt(x.total_price)})]}),x.payment_method&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.payment_method})]}),x.created_at&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ds(x.created_at)})]})]})]}),x.user&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Order Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.total_price&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Price"}),n.jsx("p",{className:"text-lg font-bold text-[#273E8E]",children:bt(x.total_price)})]}),x.payment_method&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.payment_method})]}),x.payment_status&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Status"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.payment_status})]}),x.order_status&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Status"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:x.order_status})]})]})]}),x.items&&Array.isArray(x.items)&&x.items.length>0&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Order Items (",x.items.length,")"]}),n.jsx("div",{className:"space-y-3",children:x.items.map((X,Ie)=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:X.name||X.title||`Item ${Ie+1}`}),X.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.description}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[X.quantity&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Quantity: ",n.jsx("span",{className:"font-medium text-gray-900",children:X.quantity})]}),X.type&&n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:X.type})]})]}),(X.price||X.unit_price)&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:bt(X.price||X.unit_price)}),X.quantity&&(X.price||X.unit_price)&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Subtotal: ",bt((X.price||X.unit_price)*X.quantity)]})]})]})},Ie))})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,Ie])=>["id","user","items","total_price","payment_method","payment_status","order_status","created_at","updated_at","user_id"].includes(X)||!Ie||Ie===null||Ie==="null"||typeof Ie=="object"||Array.isArray(Ie)?null:n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),n.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?bt(Ie):X.includes("date")||X.includes("_at")?Ds(Ie):String(Ie)})]},X))})]})]}):t==="BNPL Applications"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Application Overview"}),n.jsx("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-full",style:xs(x.status),children:x.status||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Application ID"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.loan_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Loan Amount"}),n.jsx("p",{className:"text-sm font-semibold text-[#273E8E]",children:bt(x.loan_amount)})]}),x.repayment_duration&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Repayment Duration"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[x.repayment_duration," months"]})]}),x.created_at&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Application Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ds(x.created_at)})]})]})]}),x.user&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Loan Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.loan_amount&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Loan Amount"}),n.jsx("p",{className:"text-lg font-bold text-[#273E8E]",children:bt(x.loan_amount)})]}),x.repayment_duration&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Repayment Duration"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.repayment_duration," months"]})]}),x.monthly_payment&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Payment"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(x.monthly_payment)})]}),x.interest_rate&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Interest Rate"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[x.interest_rate,"%"]})]})]})]}),(x.beneficiary_name||x.beneficiary_email||x.beneficiary_phone||x.beneficiary_relationship)&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Beneficiary Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.beneficiary_name&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Name"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_name})]}),x.beneficiary_email&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Email"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_email})]}),x.beneficiary_phone&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Beneficiary Phone"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_phone})]}),x.beneficiary_relationship&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Relationship"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.beneficiary_relationship})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.title_document&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Title Document"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.title_document})]}),x.upload_document&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Uploaded Document"}),typeof x.upload_document=="string"&&(x.upload_document.startsWith("http")?n.jsxs("a",{href:x.upload_document,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-[#273E8E] hover:underline flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Document"]}):n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.upload_document}))]}),!x.title_document&&!x.upload_document&&n.jsx("p",{className:"text-sm text-gray-500 italic",children:"No documents uploaded"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,Ie])=>["id","status","loan_amount","repayment_duration","monthly_payment","interest_rate","user","beneficiary_name","beneficiary_email","beneficiary_phone","beneficiary_relationship","title_document","upload_document","created_at","updated_at","guarantors","loan_configuration"].includes(X)||!Ie||Ie===null||Ie==="null"||typeof Ie=="object"||Array.isArray(Ie)?null:n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),n.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?bt(Ie):String(Ie)})]},X))})]})]}):t==="Audit Requests"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Audit Request Overview"}),n.jsx("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-full",style:xs(x.status),children:x.status||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Request ID"}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["#",x.id||"N/A"]})]}),x.audit_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Audit Type"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.audit_type.replace("-","/")})]}),x.customer_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer Type"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:x.customer_type})]}),x.created_at&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Request Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ds(x.created_at)})]})]})]}),x.user&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.user.first_name," ",x.user.sur_name]})]}),x.user.email&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.email})]}),x.user.phone&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.user.phone})]}),x.user.id&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"User ID"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.user.id]})]})]})]}),(x.property_address||x.property_state||x.property_floors||x.property_rooms!==void 0||x.is_gated_estate!==void 0)&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Property Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.property_address&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property Address"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_address})]}),x.property_state&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"State"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_state})]}),x.property_floors!==void 0&&x.property_floors!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Floors"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_floors})]}),x.property_rooms!==void 0&&x.property_rooms!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Rooms"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.property_rooms})]}),x.is_gated_estate!==void 0&&x.is_gated_estate!==null&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Gated Estate"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.is_gated_estate?"Yes":"No"})]}),x.has_property_details!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property Details Status"}),n.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded-full ${x.has_property_details?"bg-green-100 text-green-800 border border-green-300":"bg-yellow-100 text-yellow-800 border border-yellow-300"}`,children:x.has_property_details?" Details Shared":" Needs Details"})]})]})]}),x.order_id&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Linked Order"]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order ID"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",x.order_id]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([X,Ie])=>["id","status","audit_type","customer_type","user","property_address","property_state","property_floors","property_rooms","is_gated_estate","has_property_details","order_id","created_at","updated_at"].includes(X)||!Ie||Ie===null||Ie==="null"||typeof Ie=="object"||Array.isArray(Ie)?null:n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),n.jsx("span",{className:"text-sm text-gray-900",children:String(Ie)})]},X))})]})]}):n.jsx("div",{className:"space-y-4",children:Object.entries(x).map(([X,Ie])=>typeof Ie=="object"&&Ie!==null&&!Array.isArray(Ie)?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-700 capitalize mb-3",children:X.replace(/_/g," ")}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Ie).map(([yt,ss])=>n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1 capitalize",children:yt.replace(/_/g," ")}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof ss=="object"&&ss!==null?JSON.stringify(ss):ss===null||ss==="null"?"N/A":String(ss)})]},yt))})]},X):Array.isArray(Ie)?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-700 capitalize mb-3",children:[X.replace(/_/g," ")," (",Ie.length,")"]}),n.jsx("div",{className:"space-y-2",children:Ie.map((yt,ss)=>n.jsx("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:typeof yt=="object"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(yt).map(([Bt,Hs])=>n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1 capitalize",children:Bt.replace(/_/g," ")}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof Hs=="object"?JSON.stringify(Hs):Hs===null||Hs==="null"?"N/A":String(Hs)})]},Bt))}):n.jsx("p",{className:"text-sm text-gray-900",children:String(yt)})},ss))})]},X):Ie===null||Ie==="null"||Ie===""?null:n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[X.replace(/_/g," "),":"]}),n.jsx("span",{className:"text-sm text-gray-900",children:X.includes("amount")||X.includes("price")||X.includes("fee")?bt(Ie):String(Ie)})]})},X))})}),_==="Summary"&&n.jsx("div",{className:"space-y-4",children:K?n.jsx(zs,{message:"Loading order summary..."}):M?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsx("span",{className:"ml-2 font-medium",children:M.order_number||x.id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total Price:"}),n.jsx("span",{className:"ml-2 font-medium text-[#273E8E]",children:bt(M.total_price||x.total_price)})]})]})]}),M.items&&M.items.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),n.jsx("div",{className:"space-y-3",children:M.items.map((X,Ie)=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:X.name}),X.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-semibold text-[#273E8E]",children:bt(X.price)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",X.quantity]})]})]})},Ie))})]}),M.appliances&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Appliances"}),n.jsx("p",{className:"text-gray-600",children:M.appliances})]}),M.backup_time&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Backup Time"}),n.jsx("p",{className:"text-gray-600",children:M.backup_time})]})]}):n.jsx("div",{className:"text-center text-gray-500 py-8",children:"No summary data available"})}),_==="Invoice"&&n.jsx("div",{className:"space-y-4",children:$?n.jsx(zs,{message:"Loading invoice details..."}):z?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Invoice Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsx("span",{className:"ml-2 font-medium",children:z.order_number||x.id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsx("span",{className:"ml-2 font-medium text-[#273E8E]",children:bt(z.invoice?.total||z.total||x.total_price)})]})]})]}),z.invoice&&n.jsxs("div",{className:"space-y-4",children:[(z.invoice.solar_inverter||z.invoice.solar_panels||z.invoice.batteries)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Product Breakdown"}),n.jsxs("div",{className:"space-y-3",children:[z.invoice.solar_inverter&&n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:z.invoice.solar_inverter.description||"Solar Inverter"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",z.invoice.solar_inverter.quantity]})]}),n.jsx("div",{className:"font-semibold text-[#273E8E]",children:bt(z.invoice.solar_inverter.price)})]})}),z.invoice.solar_panels&&n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:z.invoice.solar_panels.description||"Solar Panels"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",z.invoice.solar_panels.quantity]})]}),n.jsx("div",{className:"font-semibold text-[#273E8E]",children:bt(z.invoice.solar_panels.price)})]})}),z.invoice.batteries&&n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:z.invoice.batteries.description||"Batteries"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity: ",z.invoice.batteries.quantity]})]}),n.jsx("div",{className:"font-semibold text-[#273E8E]",children:bt(z.invoice.batteries.price)})]})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fees Breakdown"}),n.jsxs("div",{className:"space-y-2 border border-gray-200 rounded-lg p-4",children:[z.invoice.material_cost&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),n.jsx("span",{className:"font-medium",children:bt(z.invoice.material_cost)})]}),z.invoice.installation_fee&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Installation Fee:"}),n.jsx("span",{className:"font-medium",children:bt(z.invoice.installation_fee)})]}),z.invoice.delivery_fee&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),n.jsx("span",{className:"font-medium",children:bt(z.invoice.delivery_fee)})]}),z.invoice.inspection_fee&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Inspection Fee:"}),n.jsx("span",{className:"font-medium",children:bt(z.invoice.inspection_fee)})]}),z.invoice.insurance_fee&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Insurance Fee:"}),n.jsx("span",{className:"font-medium",children:bt(z.invoice.insurance_fee)})]}),z.invoice.subtotal&&n.jsxs("div",{className:"flex justify-between text-sm border-t border-gray-200 pt-2 mt-2",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal:"}),n.jsx("span",{className:"font-semibold",children:bt(z.invoice.subtotal)})]}),z.invoice.total&&n.jsxs("div",{className:"flex justify-between text-sm border-t-2 border-[#273E8E] pt-2 mt-2",children:[n.jsx("span",{className:"text-gray-900 font-bold",children:"Total:"}),n.jsx("span",{className:"font-bold text-[#273E8E] text-lg",children:bt(z.invoice.total)})]})]})]})]})]}):P?n.jsxs("div",{className:"text-center text-gray-500 py-8",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Invoice does not exist"}),n.jsx("p",{className:"text-sm text-gray-500",children:"This order does not have an invoice available."})]}):n.jsxs("div",{className:"text-center text-gray-500 py-8",children:[n.jsx("p",{className:"mb-4",children:"Invoice details not loaded"}),n.jsx("button",{onClick:Xs,className:"bg-[#273E8E] text-white px-4 py-2 rounded-lg hover:bg-[#1e3270] transition-colors",children:"Load Invoice"})]})})]})}),A&&x&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Update Status"}),n.jsx("button",{onClick:()=>{C(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:H.status,onChange:X=>G({...H,status:X.target.value}),children:[n.jsx("option",{value:"",children:"Select Status"}),t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"counter_offer",children:"Counter Offer"})]}),t==="BNPL Guarantors"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),(t==="Buy Now Orders"||t==="BNPL Orders")&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t==="Audit Requests"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"completed",children:"Completed"})]})]})]}),H.status==="counter_offer"&&t==="BNPL Applications"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Deposit"}),n.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:H.counter_offer_min_deposit,onChange:X=>G({...H,counter_offer_min_deposit:X.target.value}),placeholder:"Enter minimum deposit"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counter Offer Min Tenor"}),n.jsx("input",{type:"number",className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:H.counter_offer_min_tenor,onChange:X=>G({...H,counter_offer_min_tenor:X.target.value}),placeholder:"Enter minimum tenor (months)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes (Optional)"}),n.jsx("textarea",{className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",rows:3,value:H.admin_notes,onChange:X=>G({...H,admin_notes:X.target.value}),placeholder:"Enter admin notes..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{C(!1),w(null),G({status:"",admin_notes:"",counter_offer_min_deposit:"",counter_offer_min_tenor:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:ka,disabled:!H.status||mt.isPending||Gt.isPending||Tt.isPending||as.isPending,className:`px-6 py-2 rounded-full font-medium transition-colors flex items-center ${H.status&&!mt.isPending&&!Gt.isPending&&!Tt.isPending&&!as.isPending?"bg-[#273E8E] text-white hover:bg-[#1f2f7a]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[(mt.isPending||Gt.isPending||Tt.isPending||as.isPending)&&n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Update Status"]})]})]})}),re&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Custom Order"}),n.jsx("button",{onClick:()=>{ee(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),Be([]),Ae(!1),Dt({name:"",description:"",price:"",quantity:"1"})},className:"text-gray-400 hover:text-gray-600",children:n.jsx("img",{src:ht.cross,className:"w-6 h-6",alt:"Close"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select User *"}),n.jsxs("select",{value:I.user_id,onChange:X=>se({...I,user_id:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",required:!0,children:[n.jsx("option",{value:"",children:"Select a user"}),ve?.data?.data?.filter(X=>X.audit_requests?.some(Ie=>Ie.has_property_details))?.map(X=>n.jsxs("option",{value:X.id,children:[X.name," - ",X.email]},X.id)),(!ve?.data?.data||ve.data.data.filter(X=>X.audit_requests?.some(Ie=>Ie.has_property_details)).length===0)&&n.jsx("option",{value:"",disabled:!0,children:"No users with shared property details available"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),n.jsxs("select",{value:I.order_type,onChange:X=>se({...I,order_type:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",required:!0,children:[n.jsx("option",{value:"buy_now",children:"Buy Now"}),n.jsx("option",{value:"bnpl",children:"BNPL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Products/Bundles"}),n.jsx("div",{className:"flex space-x-2",children:["all","products","bundles"].map(X=>n.jsx("button",{onClick:()=>Oe(X),className:`px-4 py-2 rounded-lg text-sm font-medium ${Se===X?"bg-[#273E8E] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Custom Products/Services"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These will be automatically included in the email message sent to the user"})]}),n.jsxs("button",{type:"button",onClick:()=>Ae(!0),className:"text-sm text-[#273E8E] hover:text-[#1e3270] font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Custom Product/Service"]})]}),et&&n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4 bg-gray-50",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Custom Product/Service"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:ue.name,onChange:X=>Dt({...ue,name:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"Enter product/service name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),n.jsx("textarea",{value:ue.description,onChange:X=>Dt({...ue,description:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",rows:2,placeholder:"Enter description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price () *"}),n.jsx("input",{type:"number",value:ue.price,onChange:X=>Dt({...ue,price:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"0.00",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),n.jsx("input",{type:"number",value:ue.quantity,onChange:X=>Dt({...ue,quantity:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-3 py-2 text-sm bg-white",placeholder:"1",min:"1"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>{Ae(!1),Dt({name:"",description:"",price:"",quantity:"1"})},className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>{if(!ue.name.trim()){alert("Please enter a name");return}if(!ue.description.trim()){alert("Please enter a description");return}if(!ue.price||parseFloat(ue.price)<=0){alert("Please enter a valid price");return}if(!ue.quantity||parseInt(ue.quantity)<1){alert("Please enter a valid quantity");return}const X={name:ue.name.trim(),description:ue.description.trim(),price:parseFloat(ue.price),quantity:parseInt(ue.quantity)};Be([...He,X]);const Ie=X.price*X.quantity,yt=`

--- Custom Product/Service ---
${X.name}
Description: ${X.description}
Price: ${bt(X.price)} x ${X.quantity} = ${bt(Ie)}`,ss=I.email_message||"";se({...I,email_message:ss+yt}),Dt({name:"",description:"",price:"",quantity:"1"}),Ae(!1)},className:"px-4 py-2 text-sm bg-[#273E8E] text-white rounded-lg hover:bg-[#1e3270]",children:"Add"})]})]})]}),He.length>0&&n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4 bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Custom Products/Services (Will be included in email):"}),n.jsxs("span",{className:"text-xs text-gray-500 bg-blue-50 px-2 py-1 rounded",children:[He.length," item",He.length>1?"s":""]})]}),n.jsx("div",{className:"space-y-2",children:He.map((X,Ie)=>n.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:X.name}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:X.description}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx("span",{className:"text-sm font-semibold text-[#273E8E]",children:bt(X.price)}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Qty: ",X.quantity]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",bt(X.price*X.quantity)]})]})]}),n.jsx("button",{type:"button",onClick:()=>{const yt=He.filter((va,ir)=>ir!==Ie);Be(yt);let ss=I.email_message||"";const Bt=He[Ie],Hs=Bt.price*Bt.quantity,Bs=`

--- Custom Product/Service ---
${Bt.name}
Description: ${Bt.description}
Price: ${bt(Bt.price)} x ${Bt.quantity} = ${bt(Hs)}`;if(ss=ss.replace(Bs,""),yt.length>0){const va=yt.map(An=>{const Ea=An.price*An.quantity;return`

--- Custom Product/Service ---
${An.name}
Description: ${An.description}
Price: ${bt(An.price)} x ${An.quantity} = ${bt(Ea)}`}).join("");ss=ss.split("--- Custom Product/Service ---")[0].trim()+va}else ss=ss.split("--- Custom Product/Service ---")[0].trim();se({...I,email_message:ss})},className:"ml-3 text-red-500 hover:text-red-700",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Ie))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Products/Bundles"}),Rt?n.jsx(zs,{message:"Loading products..."}):n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:n.jsxs("div",{className:"space-y-2",children:[qt?.data?.products?.map(X=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:X.title}),n.jsx("p",{className:"text-sm text-gray-600",children:bt(X.discount_price||X.price)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"w-16 px-2 py-1 border rounded text-sm",onChange:Ie=>{const yt=parseInt(Ie.target.value)||1,ss=fe.find(Bt=>Bt.id===X.id&&Bt.type==="product");be(ss?fe.map(Bt=>Bt.id===X.id&&Bt.type==="product"?{...Bt,quantity:yt}:Bt):[...fe,{type:"product",id:X.id,quantity:yt}])}}),n.jsx("button",{onClick:()=>{const Ie=fe.find(yt=>yt.id===X.id&&yt.type==="product");be(Ie?fe.filter(yt=>!(yt.id===X.id&&yt.type==="product")):[...fe,{type:"product",id:X.id,quantity:1}])},className:`px-3 py-1 rounded text-sm ${fe.some(Ie=>Ie.id===X.id&&Ie.type==="product")?"bg-red-500 text-white":"bg-[#273E8E] text-white"}`,children:fe.some(Ie=>Ie.id===X.id&&Ie.type==="product")?"Remove":"Add"})]})]},`product-${X.id}`)),qt?.data?.bundles?.map(X=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:X.title}),n.jsx("p",{className:"text-sm text-gray-600",children:bt(X.discount_price||X.price)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"w-16 px-2 py-1 border rounded text-sm",onChange:Ie=>{const yt=parseInt(Ie.target.value)||1,ss=fe.find(Bt=>Bt.id===X.id&&Bt.type==="bundle");be(ss?fe.map(Bt=>Bt.id===X.id&&Bt.type==="bundle"?{...Bt,quantity:yt}:Bt):[...fe,{type:"bundle",id:X.id,quantity:yt}])}}),n.jsx("button",{onClick:()=>{const Ie=fe.find(yt=>yt.id===X.id&&yt.type==="bundle");be(Ie?fe.filter(yt=>!(yt.id===X.id&&yt.type==="bundle")):[...fe,{type:"bundle",id:X.id,quantity:1}])},className:`px-3 py-1 rounded text-sm ${fe.some(Ie=>Ie.id===X.id&&Ie.type==="bundle")?"bg-red-500 text-white":"bg-[#273E8E] text-white"}`,children:fe.some(Ie=>Ie.id===X.id&&Ie.type==="bundle")?"Remove":"Add"})]})]},`bundle-${X.id}`))]})})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[n.jsxs("label",{className:"flex items-center space-x-2 mb-4",children:[n.jsx("input",{type:"checkbox",checked:I.send_email,onChange:X=>se({...I,send_email:X.target.checked}),className:"rounded w-4 h-4 text-[#273E8E] focus:ring-[#273E8E] border-gray-300"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-[#273E8E]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send email link to user"})]})]}),I.send_email&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Email Message (Optional)"]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[I.email_message.length,"/1000"]})]}),n.jsx("textarea",{value:I.email_message,onChange:X=>se({...I,email_message:X.target.value}),className:"w-full border border-[#CDCDCD] rounded-lg px-4 py-3 text-sm bg-white focus:ring-2 focus:ring-[#273E8E] focus:border-transparent outline-none transition-all resize-none",rows:4,placeholder:"Enter a custom message to include in the email sent to the user. This message will be sent along with the order link...",maxLength:1e3}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This message will be included in the email notification sent to the user when the order is created."})]})]}),fe.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Selected Order Items:"}),n.jsx("ul",{className:"space-y-1",children:fe.map((X,Ie)=>n.jsxs("li",{className:"text-sm text-gray-600",children:[X.type==="product"?"Product":"Bundle"," ID ",X.id," - Qty: ",X.quantity]},Ie))})]}),He.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("h3",{className:"font-medium text-blue-600",children:"Custom Products/Services (Included in Email):"})]}),n.jsx("ul",{className:"space-y-1",children:He.map((X,Ie)=>n.jsxs("li",{className:"text-sm text-gray-600",children:[X.name," - ",bt(X.price)," x ",X.quantity," = ",bt(X.price*X.quantity)]},`custom-${Ie}`))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{onClick:()=>{ee(!1),se({user_id:"",order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),Be([]),Ae(!1),Dt({name:"",description:"",price:"",quantity:"1"})},className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>{if(!I.user_id){alert("Please select a user");return}if(fe.length===0&&He.length===0){alert("Please select at least one product, bundle, or add a custom product/service");return}As.mutate({...I,user_id:parseInt(I.user_id),items:fe})},disabled:As.isPending,className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270] disabled:opacity-50",children:As.isPending?"Creating...":"Create Order"})]})]})]})}),ce&&F&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-5xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Custom Order Request Details"}),n.jsx("button",{onClick:()=>{Y(!1),q(null),T(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx("img",{src:ht.cross,className:"w-6 h-6",alt:"Close"})})]}),Ot?n.jsx(zs,{message:"Loading request details..."}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"User Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Name:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.name||`${F.first_name} ${F.sur_name}`})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.email})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Phone:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.phone})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"User ID:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.id})]})]})]}),F.audit_requests&&F.audit_requests.length>0&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Audit Request Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total Requests:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.audit_request_count||0})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Pending:"}),n.jsx("span",{className:"ml-2 font-medium text-orange-600",children:F.pending_count||0})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Approved:"}),n.jsx("span",{className:"ml-2 font-medium text-green-600",children:F.approved_count||0})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Last Request:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:F.last_audit_request_date?Ds(F.last_audit_request_date):"N/A"})]})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-700 text-sm",children:"Audit Requests:"}),F.audit_requests.map(X=>n.jsxs("div",{className:"bg-white rounded p-3 border border-gray-200 text-xs",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:X.audit_type==="commercial"?"Commercial":"Home/Office"}),n.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${X.status==="approved"?"bg-green-100 text-green-800":X.status==="pending"?"bg-orange-100 text-orange-800":X.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:X.status})]}),X.has_property_details?n.jsx("span",{className:"text-green-600 font-medium",children:" Details Shared"}):n.jsx("span",{className:"text-yellow-600 font-medium",children:" Needs Details"})]}),X.has_property_details&&X.property_address&&n.jsxs("div",{className:"text-gray-600 mt-2 bg-green-50 p-2 rounded",children:[n.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Shared Property Details:"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",X.property_address]}),X.property_state&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"State:"})," ",X.property_state]}),X.property_floors&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Floors:"})," ",X.property_floors]}),X.property_rooms&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rooms:"})," ",X.property_rooms]}),X.is_gated_estate!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Gated Estate:"})," ",X.is_gated_estate?"Yes":"No"]})]})]},X.id))]})]}),it?.data?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Custom Order Request Details"}),it.data.cart_items?.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Item"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Subtotal"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:it.data.cart_items.map(X=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:X.itemable?.title||`Item ${X.id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:X.itemable_type?.includes("Product")?"Product":"Bundle"})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:X.quantity}),n.jsx("td",{className:"px-4 py-3 text-sm",children:bt(X.unit_price)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:bt(X.subtotal)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this item?")&&Qe.mutate({userId:de,itemId:X.id})},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})})]},X.id))})]})}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Total Amount:"}),n.jsx("span",{className:"text-lg font-bold text-[#273E8E]",children:bt(it.data.total_amount||0)})]}),n.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[F.audit_requests?.some(X=>X.has_property_details)&&n.jsx("button",{onClick:()=>{Y(!1),se({user_id:F.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),ee(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}),n.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear the entire cart?")&&ct.mutate(de)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600",children:"Clear Cart"}),n.jsx("button",{onClick:()=>{const X=prompt("Enter order type (buy_now or bnpl):","buy_now");X&&(X==="buy_now"||X==="bnpl")&&We.mutate({userId:de,payload:{order_type:X}})},className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600",children:"Resend Cart Link"})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500 border border-gray-200 rounded-lg",children:[n.jsx("p",{className:"mb-4",children:"This user's cart is currently empty."}),F.audit_requests?.some(X=>X.has_property_details)?n.jsx("button",{onClick:()=>{Y(!1),se({user_id:F.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),ee(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}):n.jsx("p",{className:"text-sm text-gray-600",children:"User needs to share property details before items can be added to cart."})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500 border border-gray-200 rounded-lg",children:[n.jsx("p",{className:"mb-4",children:"No cart data available for this user."}),F.audit_requests?.some(X=>X.has_property_details)?n.jsx("button",{onClick:()=>{Y(!1),se({user_id:F.id.toString(),order_type:"buy_now",items:[],send_email:!0,email_message:""}),be([]),ee(!0)},className:"px-6 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Add Items to Cart"}):n.jsx("p",{className:"text-sm text-gray-600",children:"User needs to share property details before items can be added to cart."})]})]})]})}),ie&&de&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"User Cart"}),n.jsx("button",{onClick:()=>{le(!1),T(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx("img",{src:ht.cross,className:"w-6 h-6",alt:"Close"})})]}),Ot?n.jsx(zs,{message:"Loading cart..."}):it?.data?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold",children:it.data.user?.name||"User"}),n.jsx("p",{className:"text-sm text-gray-600",children:it.data.user?.email})]}),it.data.cart_items?.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Item"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Subtotal"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:it.data.cart_items.map(X=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:X.itemable?.title||`Item ${X.id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:X.quantity}),n.jsx("td",{className:"px-4 py-3 text-sm",children:bt(X.unit_price)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:bt(X.subtotal)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>{confirm("Are you sure you want to remove this item?")&&Qe.mutate({userId:de,itemId:X.id})},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})})]},X.id))})]})}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),n.jsx("span",{className:"text-lg font-bold text-[#273E8E]",children:bt(it.data.total_amount||0)})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>{confirm("Are you sure you want to clear the entire cart?")&&ct.mutate(de)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-sm font-medium hover:bg-red-600",children:"Clear Cart"}),n.jsx("button",{onClick:()=>{const X=prompt("Enter order type (buy_now or bnpl):","buy_now");X&&(X==="buy_now"||X==="bnpl")&&We.mutate({userId:de,payload:{order_type:X}})},className:"px-4 py-2 bg-[#273E8E] text-white rounded-lg text-sm font-medium hover:bg-[#1e3270]",children:"Resend Cart Link"})]})]}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cart is empty"})]}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load cart"})]})})]})})},aM=()=>{const t=ya();return n.jsxs("div",{className:"bg-[#F5F7FF] min-h-screen",children:[n.jsx(Qn,{adminName:"Hi, Admin",adminImage:"/assets/layout/admin.png",onNotificationClick:()=>{}}),n.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] p-8",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-9xl font-bold text-[#273E8E] mb-4",children:"404"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go to Dashboard"}),n.jsx("button",{onClick:()=>t(-1),className:"bg-white hover:bg-gray-50 text-[#273E8E] border-2 border-[#273E8E] px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go Back"})]})]})})]})},rM=()=>{const t=ya();return n.jsx("div",{className:"bg-[#F5F7FF] min-h-screen flex items-center justify-center p-8",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-9xl font-bold text-[#273E8E] mb-4",children:"404"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"The page you're looking for doesn't exist or has been moved."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:()=>t("/login"),className:"bg-[#273E8E] hover:bg-[#1e3270] text-white px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go to Login"}),n.jsx("button",{onClick:()=>t(-1),className:"bg-white hover:bg-gray-50 text-[#273E8E] border-2 border-[#273E8E] px-8 py-3 rounded-full text-base font-medium transition-colors shadow-sm cursor-pointer w-full",children:"Go Back"})]})]})})};function iM({children:t}){const e=ts.get("token"),s=ar();return e?n.jsx(n.Fragment,{children:t}):n.jsx(N4,{to:"/login",replace:!0,state:{from:s}})}function lM(){return n.jsx(Q4,{basename:"/",children:n.jsxs(S4,{children:[n.jsx(hn,{path:"login",element:n.jsx(_D,{})}),n.jsxs(hn,{path:"/",element:n.jsx(iM,{children:n.jsx(w6,{})}),children:[n.jsx(hn,{index:!0,element:n.jsx(ey,{})}),n.jsx(hn,{path:"dashboard",element:n.jsx(ey,{})}),n.jsx(hn,{path:"user-mgt",element:n.jsx(kC,{})}),n.jsx(hn,{path:"credit-score",element:n.jsx(HE,{})}),n.jsx(hn,{path:"loans-mgt",element:n.jsx(VE,{})}),n.jsx(hn,{path:"loans-approval",element:n.jsx(TD,{})}),n.jsx(hn,{path:"loans-disbursement",element:n.jsx(XE,{})}),n.jsx(hn,{path:"transactions",element:n.jsx(JE,{})}),n.jsx(hn,{path:"balances",element:n.jsx(aL,{})}),n.jsx(hn,{path:"shop-mgt",element:n.jsx(bL,{})}),n.jsx(hn,{path:"bnpl-buynow",element:n.jsx(nM,{})}),n.jsx(hn,{path:"referral-mgt",element:n.jsx(NL,{})}),n.jsx(hn,{path:"tickets",element:n.jsx(LD,{})}),n.jsx(hn,{path:"analytics",element:n.jsx(SL,{})}),n.jsx(hn,{path:"settings",element:n.jsx(mD,{})}),n.jsx(hn,{path:"user-activity/:id",element:n.jsx(LC,{})}),n.jsx(hn,{path:"user-activity/:id/loans",element:n.jsx(FE,{})}),n.jsx(hn,{path:"user-activity/:id/transactions",element:n.jsx(RE,{})}),n.jsx(hn,{path:"user-activity/:id/orders",element:n.jsx(qE,{})}),n.jsx(hn,{path:"*",element:n.jsx(aM,{})})]}),n.jsx(hn,{path:"*",element:n.jsx(rM,{})})]})})}const oM=new _3({defaultOptions:{queries:{retry:(t,e)=>e?.statusCode===401?!1:t<3}}});Lj.createRoot(document.getElementById("root")).render(n.jsx(L.StrictMode,{children:n.jsx(E3,{client:oM,children:n.jsx(lM,{})})}));export{Rs as _,cM as c,vj as g};
